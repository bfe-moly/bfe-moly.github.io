!(function(){var Lw=Object.defineProperty,Ow=Object.defineProperties;var Bw=Object.getOwnPropertyDescriptors;var lv=Object.getOwnPropertySymbols;var Am=Object.prototype.hasOwnProperty,Em=Object.prototype.propertyIsEnumerable;var Tm=(sr,Ue,H)=>Ue in sr?Lw(sr,Ue,{enumerable:!0,configurable:!0,writable:!0,value:H}):sr[Ue]=H,Jl=(sr,Ue)=>{for(var H in Ue||(Ue={}))Am.call(Ue,H)&&Tm(sr,H,Ue[H]);if(lv)for(var H of lv(Ue))Em.call(Ue,H)&&Tm(sr,H,Ue[H]);return sr},E0=(sr,Ue)=>Ow(sr,Bw(Ue));var Js=(sr,Ue)=>{var H={};for(var Pt in sr)Am.call(sr,Pt)&&Ue.indexOf(Pt)<0&&(H[Pt]=sr[Pt]);if(sr!=null&&lv)for(var Pt of lv(sr))Ue.indexOf(Pt)<0&&Em.call(sr,Pt)&&(H[Pt]=sr[Pt]);return H};(self.webpackChunk_bfe_moly=self.webpackChunk_bfe_moly||[]).push([[2234],{64183:function(sr,Ue,H){"use strict";var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(ce,Pe){var de={};for(var Te in ce)Object.prototype.hasOwnProperty.call(ce,Te)&&Pe.indexOf(Te)<0&&(de[Te]=ce[Te]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,Te=Object.getOwnPropertySymbols(ce);I<Te.length;I++)Pe.indexOf(Te[I])<0&&Object.prototype.propertyIsEnumerable.call(ce,Te[I])&&(de[Te[I]]=ce[Te[I]]);return de},fe=(0,Pt.forwardRef)(function(ce,Pe){var de=ce.chartRef,Te=ce.style,I=Te===void 0?{height:"inherit"}:Te,m=ce.className,Bt=ce.loading,Et=ce.loadingTemplate,Vt=ce.errorTemplate,Rt=jt(ce,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Ct=(0,q.Z)(St.uN,Rt),lt=Ct.chart,J=Ct.container;return(0,Pt.useEffect)(function(){(0,j.J)(de,lt.current)},[lt.current]),(0,Pt.useImperativeHandle)(Pe,function(){return{getChart:function(){return lt.current}}}),Pt.createElement(re.Z,{errorTemplate:Vt},Bt&&Pt.createElement(le.Z,{loadingTemplate:Et,theme:ce.theme}),Pt.createElement("div",{className:m,style:I,ref:J}))});Ue.Z=fe},24770:function(sr,Ue,H){"use strict";var Pt=H(67294),St=function(){var j=function(re,le){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(jt,fe){jt.__proto__=fe}||function(jt,fe){for(var ce in fe)Object.prototype.hasOwnProperty.call(fe,ce)&&(jt[ce]=fe[ce])},j(re,le)};return function(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");j(re,le);function jt(){this.constructor=re}re.prototype=le===null?Object.create(le):(jt.prototype=le.prototype,new jt)}}(),q=function(j){St(re,j);function re(){var le=j!==null&&j.apply(this,arguments)||this;return le.state={hasError:!1},le.renderError=function(jt){var fe=le.props.errorTemplate;switch(jt){default:return typeof fe=="function"?fe(jt):fe||Pt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",jt.message)}},le}return re.getDerivedStateFromError=function(le){return{hasError:!0,error:le}},re.getDerivedStateFromProps=function(le,jt){return jt.children!==le.children?{children:le.children,hasError:!1,error:void 0}:null},re.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Pt.createElement(Pt.Fragment,null,this.props.children)},re}(Pt.Component);Ue.Z=q},11924:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Ae}});var Pt=H(67294),St=H(45098),q=H(73935),j=H.t(q,2),re=function(){return re=Object.assign||function(ye){for(var be,ut=1,Tt=arguments.length;ut<Tt;ut++){be=arguments[ut];for(var It in be)Object.prototype.hasOwnProperty.call(be,It)&&(ye[It]=be[It])}return ye},re.apply(this,arguments)},le=function(ye,be,ut,Tt){function It(ft){return ft instanceof ut?ft:new ut(function(Jt){Jt(ft)})}return new(ut||(ut=Promise))(function(ft,Jt){function ee(W){try{K(Tt.next(W))}catch(it){Jt(it)}}function at(W){try{K(Tt.throw(W))}catch(it){Jt(it)}}function K(W){W.done?ft(W.value):It(W.value).then(ee,at)}K((Tt=Tt.apply(ye,be||[])).next())})},jt=function(ye,be){var ut={label:0,sent:function(){if(ft[0]&1)throw ft[1];return ft[1]},trys:[],ops:[]},Tt,It,ft,Jt;return Jt={next:ee(0),throw:ee(1),return:ee(2)},typeof Symbol=="function"&&(Jt[Symbol.iterator]=function(){return this}),Jt;function ee(K){return function(W){return at([K,W])}}function at(K){if(Tt)throw new TypeError("Generator is already executing.");for(;Jt&&(Jt=0,K[0]&&(ut=0)),ut;)try{if(Tt=1,It&&(ft=K[0]&2?It.return:K[0]?It.throw||((ft=It.return)&&ft.call(It),0):It.next)&&!(ft=ft.call(It,K[1])).done)return ft;switch(It=0,ft&&(K=[K[0]&2,ft.value]),K[0]){case 0:case 1:ft=K;break;case 4:return ut.label++,{value:K[1],done:!1};case 5:ut.label++,It=K[1],K=[0];continue;case 7:K=ut.ops.pop(),ut.trys.pop();continue;default:if(ft=ut.trys,!(ft=ft.length>0&&ft[ft.length-1])&&(K[0]===6||K[0]===2)){ut=0;continue}if(K[0]===3&&(!ft||K[1]>ft[0]&&K[1]<ft[3])){ut.label=K[1];break}if(K[0]===6&&ut.label<ft[1]){ut.label=ft[1],ft=K;break}if(ft&&ut.label<ft[2]){ut.label=ft[2],ut.ops.push(K);break}ft[2]&&ut.ops.pop(),ut.trys.pop();continue}K=be.call(ye,ut)}catch(W){K=[6,W],It=0}finally{Tt=ft=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}},fe=re({},j),ce=fe.version,Pe=fe.render,de=fe.unmountComponentAtNode,Te;try{var I=Number((ce||"").split(".")[0]);I>=18&&(Te=fe.createRoot)}catch(ye){}function m(ye){var be=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;be&&typeof be=="object"&&(be.usingClientEntryPoint=ye)}var Bt="__rc_react_root__";function Et(ye,be){m(!0);var ut=be[Bt]||Te(be);m(!1),ut.render(ye),be[Bt]=ut}function Vt(ye,be){Pe(ye,be)}function Rt(ye,be){}function Ct(ye,be){if(Te){Et(ye,be);return}Vt(ye,be)}function lt(ye){return le(this,void 0,void 0,function(){return jt(this,function(be){return[2,Promise.resolve().then(function(){var ut;(ut=ye[Bt])===null||ut===void 0||ut.unmount(),delete ye[Bt]})]})})}function J(ye){de(ye)}function Z(ye){}function wt(ye){return le(this,void 0,void 0,function(){return jt(this,function(be){return Te!==void 0?[2,lt(ye)]:(J(ye),[2])})})}var ct=new Map,ue=function(ye,be,ut){var Tt=document.createElement("div");return be==="tooltip"&&(Tt.setAttribute("data-uuid",ut),ct.has(ut)?Tt=ct.get(ut):ct.set(ut,Tt),Tt.className="g2-tooltip"),Ct(ye,Tt),Tt},ve=ue,Ht=function(ye,be){var ut={}.toString;return ut.call(ye)==="[object ".concat(be,"]")},Qt=function(ye){if(!ye)return ye;var be={};for(var ut in ye)be[ut]=ye[ut];return be},ge=function(ye){return Object.prototype.toString.call(ye).slice(8,-1)},Ot=function(ye){if(!ye||typeof ye!="object")return ye;var be;return Array.isArray(ye)?be=ye.map(function(ut){return Ot(ut)}):(be={},Object.keys(ye).forEach(function(ut){return be[ut]=Ot(ye[ut])})),be},oe=function(ye,be){for(var ut=ye,Tt=0;Tt<be.length;Tt+=1)if(ut!=null&&ut[be[Tt]])ut=ut[be[Tt]];else{ut=void 0;break}return ut},ie=function(ye,be,ut){if(!ye)return ye;var Tt=ye;return be.forEach(function(It,ft){ft<be.length-1?Tt=Tt[It]:Tt[It]=ut}),ye},et=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ye){var be=Math.random()*16|0,ut=ye=="x"?be:be&3|8;return ut.toString(16)})},vt=function(){return vt=Object.assign||function(ye){for(var be,ut=1,Tt=arguments.length;ut<Tt;ut++){be=arguments[ut];for(var It in be)Object.prototype.hasOwnProperty.call(be,It)&&(ye[It]=be[It])}return ye},vt.apply(this,arguments)},me=function(ye,be){var ut={};for(var Tt in ye)Object.prototype.hasOwnProperty.call(ye,Tt)&&be.indexOf(Tt)<0&&(ut[Tt]=ye[Tt]);if(ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var It=0,Tt=Object.getOwnPropertySymbols(ye);It<Tt.length;It++)be.indexOf(Tt[It])<0&&Object.prototype.propertyIsEnumerable.call(ye,Tt[It])&&(ut[Tt[It]]=ye[Tt[It]]);return ut};function Ae(ye,be){var ut=(0,Pt.useRef)(),Tt=(0,Pt.useRef)(),It=(0,Pt.useRef)(null),ft=be.onReady,Jt=be.onEvent,ee=function(it,tt){var yt;return it===void 0&&(it="image/png"),(yt=ut.current)===null||yt===void 0?void 0:yt.chart.canvas.cfg.el.toDataURL(it,tt)},at=function(it,tt,yt){var gt;it===void 0&&(it="download"),tt===void 0&&(tt="image/png");var Wt=it;it.indexOf(".")===-1&&(Wt="".concat(it,".").concat(tt.split("/")[1]));var Kt=(gt=ut.current)===null||gt===void 0?void 0:gt.chart.canvas.cfg.el.toDataURL(tt,yt),Ce=document.createElement("a");return Ce.href=Kt,Ce.download=Wt,document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),Ce=null,Wt},K=function(it,tt,yt,gt){var Wt=oe(it,tt);ie(it,tt,function(){for(var Kt=[],Ce=0;Ce<arguments.length;Ce++)Kt[Ce]=arguments[Ce];var He=Ht(Wt,"Function")?Wt.apply(void 0,Kt):Wt;return Ht(He,"String")||Ht(He,"Number")||Ht(He,"HTMLDivElement")?He:ve(He,yt,gt)})},W=function(){var it=et();oe(be,["statistic","content","customHtml"])&&K(be,["statistic","content","customHtml"]),oe(be,["statistic","title","customHtml"])&&K(be,["statistic","title","customHtml"]),typeof be.tooltip=="object"&&(oe(be,["tooltip","container"])&&K(be,["tooltip","container"],"tooltip",it),oe(be,["tooltip","customContent"])&&K(be,["tooltip","customContent"],"tooltip",it))};return(0,Pt.useEffect)(function(){if(ut.current&&!(0,St.Xy)(Tt.current,be)){var it=!1;if(Tt.current){var tt=Tt.current,yt=tt.data,gt=tt.value,Wt=tt.percent,Kt=me(tt,["data","value","percent"]),Ce=be.data,He=be.value,We=be.percent,Je=me(be,["data","value","percent"]);it=(0,St.Xy)(Kt,Je)}if(Tt.current=Ot(be),it&&(0,St.U2)(be,"chartType")!=="Mix"){var ke="data",Fe=["percent"],At=Object.keys(be);Fe.forEach(function(Xt){At.includes(Xt)&&(ke=Xt)}),ut.current.changeData((be==null?void 0:be[ke])||[]),ut.current.render()}else W(),ut.current.update(be)}},[be]),(0,Pt.useEffect)(function(){if(!It.current)return function(){return null};Tt.current||(Tt.current=Ot(be)),W();var it=new ye(It.current,vt({},be));it.toDataURL=function(yt,gt){return ee(yt,gt)},it.downloadImage=function(yt,gt,Wt){return at(yt,gt,Wt)},it.render(),ut.current=Qt(it),ft&&ft(it);var tt=function(yt){Jt&&Jt(it,yt)};return it.on("*",tt),function(){ut.current&&(ut.current.destroy(),ut.current.off("*",tt),ut.current=void 0)}},[]),{chart:ut,container:It}}},79642:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return m}});var Pt=H(67294);var St=function(){return St=Object.assign||function(Et){for(var Vt,Rt=1,Ct=arguments.length;Rt<Ct;Rt++){Vt=arguments[Rt];for(var lt in Vt)Object.prototype.hasOwnProperty.call(Vt,lt)&&(Et[lt]=Vt[lt])}return Et},St.apply(this,arguments)};function q(Bt,Et){var Vt={};for(var Rt in Bt)Object.prototype.hasOwnProperty.call(Bt,Rt)&&Et.indexOf(Rt)<0&&(Vt[Rt]=Bt[Rt]);if(Bt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ct=0,Rt=Object.getOwnPropertySymbols(Bt);Ct<Rt.length;Ct++)Et.indexOf(Rt[Ct])<0&&Object.prototype.propertyIsEnumerable.call(Bt,Rt[Ct])&&(Vt[Rt[Ct]]=Bt[Rt[Ct]]);return Vt}var j=function(){return Math.random().toString(36).substring(6)},re=function(Bt){var Et=Bt.animate,Vt=Bt.backgroundColor,Rt=Bt.backgroundOpacity,Ct=Bt.baseUrl,lt=Bt.children,J=Bt.foregroundColor,Z=Bt.foregroundOpacity,wt=Bt.gradientRatio,ct=Bt.uniqueKey,ue=Bt.interval,ve=Bt.rtl,Ht=Bt.speed,Qt=Bt.style,ge=Bt.title,Ot=q(Bt,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),oe=ct||j(),ie=oe+"-diff",et=oe+"-animated-diff",vt=oe+"-aria",me=ve?{transform:"scaleX(-1)"}:null,Ae="0; "+ue+"; 1",ye=Ht+"s";return(0,Pt.createElement)("svg",St({"aria-labelledby":vt,role:"img",style:St(St({},Qt),me)},Ot),ge?(0,Pt.createElement)("title",{id:vt},ge):null,(0,Pt.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+Ct+"#"+ie+")",style:{fill:"url("+Ct+"#"+et+")"}}),(0,Pt.createElement)("defs",{role:"presentation"},(0,Pt.createElement)("clipPath",{id:ie},lt),(0,Pt.createElement)("linearGradient",{id:et},(0,Pt.createElement)("stop",{offset:"0%",stopColor:Vt,stopOpacity:Rt},Et&&(0,Pt.createElement)("animate",{attributeName:"offset",values:-wt+"; "+-wt+"; 1",keyTimes:Ae,dur:ye,repeatCount:"indefinite"})),(0,Pt.createElement)("stop",{offset:"50%",stopColor:J,stopOpacity:Z},Et&&(0,Pt.createElement)("animate",{attributeName:"offset",values:-wt/2+"; "+-wt/2+"; "+(1+wt/2),keyTimes:Ae,dur:ye,repeatCount:"indefinite"})),(0,Pt.createElement)("stop",{offset:"100%",stopColor:Vt,stopOpacity:Rt},Et&&(0,Pt.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+wt),keyTimes:Ae,dur:ye,repeatCount:"indefinite"})))))};re.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var le=function(Bt){return Bt.children?(0,Pt.createElement)(re,St({},Bt)):(0,Pt.createElement)(jt,St({},Bt))},jt=function(Bt){return(0,Pt.createElement)(le,St({viewBox:"0 0 476 124"},Bt),(0,Pt.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,Pt.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,Pt.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,Pt.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,Pt.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,Pt.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},fe=function(Bt){return createElement(le,St({viewBox:"0 0 400 460"},Bt),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},ce=function(Bt){return createElement(le,St({viewBox:"0 0 340 84"},Bt),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},Pe=function(Bt){return createElement(le,St({viewBox:"0 0 400 110"},Bt),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},de=function(Bt){return createElement(le,St({viewBox:"0 0 245 125"},Bt),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},Te=le,I=function(Bt){var Et=Bt.loadingTemplate,Vt=Bt.theme,Rt=Vt===void 0?"light":Vt,Ct=function(){return Et||Pt.createElement(Te,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:Rt==="dark"?"#262626":"#D9D9D9"},Pt.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),Pt.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),Pt.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),Pt.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),Pt.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),Pt.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),Pt.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),Pt.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),Pt.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),Pt.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return Pt.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:Rt==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},Ct())},m=I},79360:function(sr,Ue,H){"use strict";H.d(Ue,{J:function(){return St}});var Pt=H(45098),St=function(q,j){q&&((0,Pt.mf)(q)?q(j):q.current=j)}},55223:function(sr,Ue,H){"use strict";var Pt=H(45098),St=/rgba?\(([\s.,0-9]+)\)/,q=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,j=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,re=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,le=function(Vt){return/^[r,R,L,l]{1}[\s]*\(/.test(Vt)},jt=function(){var Vt=document.createElement("i");return Vt.title="Web Colour Picker",Vt.style.display="none",document.body.appendChild(Vt),Vt},fe=function(Vt,Rt,Ct,lt){return Vt[lt]+(Rt[lt]-Vt[lt])*Ct};function ce(Vt){return"#"+de(Vt[0])+de(Vt[1])+de(Vt[2])}var Pe=function(Vt){return[parseInt(Vt.substr(1,2),16),parseInt(Vt.substr(3,2),16),parseInt(Vt.substr(5,2),16)]},de=function(Vt){var Rt=Math.round(Vt).toString(16);return Rt.length===1?"0"+Rt:Rt},Te=function(Vt,Rt){var Ct=isNaN(Number(Rt))||Rt<0?0:Rt>1?1:Number(Rt),lt=Vt.length-1,J=Math.floor(lt*Ct),Z=lt*Ct-J,wt=Vt[J],ct=J===lt?wt:Vt[J+1];return ce([fe(wt,ct,Z,0),fe(wt,ct,Z,1),fe(wt,ct,Z,2)])},I,m=function(Vt){if(Vt[0]==="#"&&Vt.length===7)return Vt;I||(I=jt()),I.style.color=Vt;var Rt=document.defaultView.getComputedStyle(I,"").getPropertyValue("color"),Ct=St.exec(Rt),lt=Ct[1].split(/\s*,\s*/).map(function(J){return Number(J)});return Rt=ce(lt),Rt},Bt=function(Vt){var Rt=(0,Pt.HD)(Vt)?Vt.split("-"):Vt,Ct=(0,Pt.UI)(Rt,function(lt){return Pe(lt.indexOf("#")===-1?m(lt):lt)});return function(lt){return Te(Ct,lt)}},Et=function(Vt){if(le(Vt)){var Rt,Ct=void 0;if(Vt[0]==="l"){var lt=q.exec(Vt),J=+lt[1]+90;Ct=lt[2],Rt="linear-gradient("+J+"deg, "}else if(Vt[0]==="r"){Rt="radial-gradient(";var lt=j.exec(Vt);Ct=lt[4]}var Z=Ct.match(re);return(0,Pt.S6)(Z,function(wt,ct){var ue=wt.split(":");Rt+=ue[1]+" "+ue[0]*100+"%",ct!==Z.length-1&&(Rt+=", ")}),Rt+=")",Rt}return Vt};Ue.Z={rgb2arr:Pe,gradient:Bt,toRGB:(0,Pt.HP)(m),toCSSGradient:Et}},90494:function(sr,Ue){"use strict";var H="*",Pt=function(){function St(){this._events={}}return St.prototype.on=function(q,j,re){return this._events[q]||(this._events[q]=[]),this._events[q].push({callback:j,once:!!re}),this},St.prototype.once=function(q,j){return this.on(q,j,!0)},St.prototype.emit=function(q){for(var j=this,re=[],le=1;le<arguments.length;le++)re[le-1]=arguments[le];var jt=this._events[q]||[],fe=this._events[H]||[],ce=function(Pe){for(var de=Pe.length,Te=0;Te<de;Te++)if(Pe[Te]){var I=Pe[Te],m=I.callback,Bt=I.once;Bt&&(Pe.splice(Te,1),Pe.length===0&&delete j._events[q],de--,Te--),m.apply(j,re)}};ce(jt),ce(fe)},St.prototype.off=function(q,j){if(!q)this._events={};else if(!j)delete this._events[q];else{for(var re=this._events[q]||[],le=re.length,jt=0;jt<le;jt++)re[jt].callback===j&&(re.splice(jt,1),le--,jt--);re.length===0&&delete this._events[q]}return this},St.prototype.getEvents=function(){return this._events},St}();Ue.Z=Pt},2667:function(sr,Ue,H){"use strict";var Pt=H(97582),St=H(90494),q=H(77341),j=function(re){(0,Pt.ZT)(le,re);function le(jt){var fe=re.call(this)||this;fe.destroyed=!1;var ce=fe.getDefaultCfg();return fe.cfg=(0,q.CD)(ce,jt),fe}return le.prototype.getDefaultCfg=function(){return{}},le.prototype.get=function(jt){return this.cfg[jt]},le.prototype.set=function(jt,fe){this.cfg[jt]=fe},le.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},le}(St.Z);Ue.Z=j},54887:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return ki}});var Pt=H(97582),St=H(43631),q=H(37153),j=H(77341),re=H(45098),le=0,jt=0,fe=0,ce=1e3,Pe,de,Te=0,I=0,m=0,Bt=typeof performance=="object"&&performance.now?performance:Date,Et=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qt){setTimeout(qt,17)};function Vt(){return I||(Et(Rt),I=Bt.now()+m)}function Rt(){I=0}function Ct(){this._call=this._time=this._next=null}Ct.prototype=lt.prototype={constructor:Ct,restart:function(qt,mt,Zt){if(typeof qt!="function")throw new TypeError("callback is not a function");Zt=(Zt==null?Vt():+Zt)+(mt==null?0:+mt),!this._next&&de!==this&&(de?de._next=this:Pe=this,de=this),this._call=qt,this._time=Zt,ue()},stop:function(){this._call&&(this._call=null,this._time=1/0,ue())}};function lt(qt,mt,Zt){var xe=new Ct;return xe.restart(qt,mt,Zt),xe}function J(){Vt(),++le;for(var qt=Pe,mt;qt;)(mt=I-qt._time)>=0&&qt._call.call(null,mt),qt=qt._next;--le}function Z(){I=(Te=Bt.now())+m,le=jt=0;try{J()}finally{le=0,ct(),I=0}}function wt(){var qt=Bt.now(),mt=qt-Te;mt>ce&&(m-=mt,Te=qt)}function ct(){for(var qt,mt=Pe,Zt,xe=1/0;mt;)mt._call?(xe>mt._time&&(xe=mt._time),qt=mt,mt=mt._next):(Zt=mt._next,mt._next=null,mt=qt?qt._next=Zt:Pe=Zt);de=qt,ue(xe)}function ue(qt){if(!le){jt&&(jt=clearTimeout(jt));var mt=qt-I;mt>24?(qt<1/0&&(jt=setTimeout(Z,qt-Bt.now()-m)),fe&&(fe=clearInterval(fe))):(fe||(Te=Bt.now(),fe=setInterval(wt,ce)),le=1,Et(Z))}}var ve=H(52677);function Ht(qt,mt,Zt){qt.prototype=mt.prototype=Zt,Zt.constructor=qt}function Qt(qt,mt){var Zt=Object.create(qt.prototype);for(var xe in mt)Zt[xe]=mt[xe];return Zt}function ge(){}var Ot=.7,oe=1/Ot,ie="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",me=/^#([0-9a-f]{3,8})$/,Ae=new RegExp("^rgb\\(".concat(ie,",").concat(ie,",").concat(ie,"\\)$")),ye=new RegExp("^rgb\\(".concat(vt,",").concat(vt,",").concat(vt,"\\)$")),be=new RegExp("^rgba\\(".concat(ie,",").concat(ie,",").concat(ie,",").concat(et,"\\)$")),ut=new RegExp("^rgba\\(".concat(vt,",").concat(vt,",").concat(vt,",").concat(et,"\\)$")),Tt=new RegExp("^hsl\\(".concat(et,",").concat(vt,",").concat(vt,"\\)$")),It=new RegExp("^hsla\\(".concat(et,",").concat(vt,",").concat(vt,",").concat(et,"\\)$")),ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ht(ge,W,{copy:function(mt){return Object.assign(new this.constructor,this,mt)},displayable:function(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:ee,formatHsl:at,formatRgb:K,toString:K});function Jt(){return this.rgb().formatHex()}function ee(){return this.rgb().formatHex8()}function at(){return At(this).formatHsl()}function K(){return this.rgb().formatRgb()}function W(qt){var mt,Zt;return qt=(qt+"").trim().toLowerCase(),(mt=me.exec(qt))?(Zt=mt[1].length,mt=parseInt(mt[1],16),Zt===6?it(mt):Zt===3?new Wt(mt>>8&15|mt>>4&240,mt>>4&15|mt&240,(mt&15)<<4|mt&15,1):Zt===8?tt(mt>>24&255,mt>>16&255,mt>>8&255,(mt&255)/255):Zt===4?tt(mt>>12&15|mt>>8&240,mt>>8&15|mt>>4&240,mt>>4&15|mt&240,((mt&15)<<4|mt&15)/255):null):(mt=Ae.exec(qt))?new Wt(mt[1],mt[2],mt[3],1):(mt=ye.exec(qt))?new Wt(mt[1]*255/100,mt[2]*255/100,mt[3]*255/100,1):(mt=be.exec(qt))?tt(mt[1],mt[2],mt[3],mt[4]):(mt=ut.exec(qt))?tt(mt[1]*255/100,mt[2]*255/100,mt[3]*255/100,mt[4]):(mt=Tt.exec(qt))?Fe(mt[1],mt[2]/100,mt[3]/100,1):(mt=It.exec(qt))?Fe(mt[1],mt[2]/100,mt[3]/100,mt[4]):ft.hasOwnProperty(qt)?it(ft[qt]):qt==="transparent"?new Wt(NaN,NaN,NaN,0):null}function it(qt){return new Wt(qt>>16&255,qt>>8&255,qt&255,1)}function tt(qt,mt,Zt,xe){return xe<=0&&(qt=mt=Zt=NaN),new Wt(qt,mt,Zt,xe)}function yt(qt){return qt instanceof ge||(qt=W(qt)),qt?(qt=qt.rgb(),new Wt(qt.r,qt.g,qt.b,qt.opacity)):new Wt}function gt(qt,mt,Zt,xe){return arguments.length===1?yt(qt):new Wt(qt,mt,Zt,xe==null?1:xe)}function Wt(qt,mt,Zt,xe){this.r=+qt,this.g=+mt,this.b=+Zt,this.opacity=+xe}Ht(Wt,gt,Qt(ge,{brighter:function(mt){return mt=mt==null?oe:Math.pow(oe,mt),new Wt(this.r*mt,this.g*mt,this.b*mt,this.opacity)},darker:function(mt){return mt=mt==null?Ot:Math.pow(Ot,mt),new Wt(this.r*mt,this.g*mt,this.b*mt,this.opacity)},rgb:function(){return this},clamp:function(){return new Wt(Je(this.r),Je(this.g),Je(this.b),We(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kt,formatHex:Kt,formatHex8:Ce,formatRgb:He,toString:He}));function Kt(){return"#".concat(ke(this.r)).concat(ke(this.g)).concat(ke(this.b))}function Ce(){return"#".concat(ke(this.r)).concat(ke(this.g)).concat(ke(this.b)).concat(ke((isNaN(this.opacity)?1:this.opacity)*255))}function He(){var qt=We(this.opacity);return"".concat(qt===1?"rgb(":"rgba(").concat(Je(this.r),", ").concat(Je(this.g),", ").concat(Je(this.b)).concat(qt===1?")":", ".concat(qt,")"))}function We(qt){return isNaN(qt)?1:Math.max(0,Math.min(1,qt))}function Je(qt){return Math.max(0,Math.min(255,Math.round(qt)||0))}function ke(qt){return qt=Je(qt),(qt<16?"0":"")+qt.toString(16)}function Fe(qt,mt,Zt,xe){return xe<=0?qt=mt=Zt=NaN:Zt<=0||Zt>=1?qt=mt=NaN:mt<=0&&(qt=NaN),new $t(qt,mt,Zt,xe)}function At(qt){if(qt instanceof $t)return new $t(qt.h,qt.s,qt.l,qt.opacity);if(qt instanceof ge||(qt=W(qt)),!qt)return new $t;if(qt instanceof $t)return qt;qt=qt.rgb();var mt=qt.r/255,Zt=qt.g/255,xe=qt.b/255,Oe=Math.min(mt,Zt,xe),tr=Math.max(mt,Zt,xe),lr=NaN,ir=tr-Oe,Er=(tr+Oe)/2;return ir?(mt===tr?lr=(Zt-xe)/ir+(Zt<xe)*6:Zt===tr?lr=(xe-mt)/ir+2:lr=(mt-Zt)/ir+4,ir/=Er<.5?tr+Oe:2-tr-Oe,lr*=60):ir=Er>0&&Er<1?0:lr,new $t(lr,ir,Er,qt.opacity)}function Xt(qt,mt,Zt,xe){return arguments.length===1?At(qt):new $t(qt,mt,Zt,xe==null?1:xe)}function $t(qt,mt,Zt,xe){this.h=+qt,this.s=+mt,this.l=+Zt,this.opacity=+xe}Ht($t,Xt,Qt(ge,{brighter:function(mt){return mt=mt==null?oe:Math.pow(oe,mt),new $t(this.h,this.s,this.l*mt,this.opacity)},darker:function(mt){return mt=mt==null?Ot:Math.pow(Ot,mt),new $t(this.h,this.s,this.l*mt,this.opacity)},rgb:function(){var mt=this.h%360+(this.h<0)*360,Zt=isNaN(mt)||isNaN(this.s)?0:this.s,xe=this.l,Oe=xe+(xe<.5?xe:1-xe)*Zt,tr=2*xe-Oe;return new Wt(Ve(mt>=240?mt-240:mt+120,tr,Oe),Ve(mt,tr,Oe),Ve(mt<120?mt+240:mt-120,tr,Oe),this.opacity)},clamp:function(){return new $t(pe(this.h),_e(this.s),_e(this.l),We(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var mt=We(this.opacity);return"".concat(mt===1?"hsl(":"hsla(").concat(pe(this.h),", ").concat(_e(this.s)*100,"%, ").concat(_e(this.l)*100,"%").concat(mt===1?")":", ".concat(mt,")"))}}));function pe(qt){return qt=(qt||0)%360,qt<0?qt+360:qt}function _e(qt){return Math.max(0,Math.min(1,qt||0))}function Ve(qt,mt,Zt){return(qt<60?mt+(Zt-mt)*qt/60:qt<180?Zt:qt<240?mt+(Zt-mt)*(240-qt)/60:mt)*255}function Be(qt,mt,Zt,xe,Oe){var tr=qt*qt,lr=tr*qt;return((1-3*qt+3*tr-lr)*mt+(4-6*tr+3*lr)*Zt+(1+3*qt+3*tr-3*lr)*xe+lr*Oe)/6}function Le(qt){var mt=qt.length-1;return function(Zt){var xe=Zt<=0?Zt=0:Zt>=1?(Zt=1,mt-1):Math.floor(Zt*mt),Oe=qt[xe],tr=qt[xe+1],lr=xe>0?qt[xe-1]:2*Oe-tr,ir=xe<mt-1?qt[xe+2]:2*tr-Oe;return Be((Zt-xe/mt)*mt,lr,Oe,tr,ir)}}function Ie(qt){var mt=qt.length;return function(Zt){var xe=Math.floor(((Zt%=1)<0?++Zt:Zt)*mt),Oe=qt[(xe+mt-1)%mt],tr=qt[xe%mt],lr=qt[(xe+1)%mt],ir=qt[(xe+2)%mt];return Be((Zt-xe/mt)*mt,Oe,tr,lr,ir)}}var $e=function(qt){return function(){return qt}};function Ze(qt,mt){return function(Zt){return qt+Zt*mt}}function er(qt,mt,Zt){return qt=Math.pow(qt,Zt),mt=Math.pow(mt,Zt)-qt,Zt=1/Zt,function(xe){return Math.pow(qt+xe*mt,Zt)}}function or(qt,mt){var Zt=mt-qt;return Zt?Ze(qt,Zt>180||Zt<-180?Zt-360*Math.round(Zt/360):Zt):constant(isNaN(qt)?mt:qt)}function je(qt){return(qt=+qt)==1?qe:function(mt,Zt){return Zt-mt?er(mt,Zt,qt):$e(isNaN(mt)?Zt:mt)}}function qe(qt,mt){var Zt=mt-qt;return Zt?Ze(qt,Zt):$e(isNaN(qt)?mt:qt)}var hr=function qt(mt){var Zt=je(mt);function xe(Oe,tr){var lr=Zt((Oe=gt(Oe)).r,(tr=gt(tr)).r),ir=Zt(Oe.g,tr.g),Er=Zt(Oe.b,tr.b),nn=qe(Oe.opacity,tr.opacity);return function(An){return Oe.r=lr(An),Oe.g=ir(An),Oe.b=Er(An),Oe.opacity=nn(An),Oe+""}}return xe.gamma=qt,xe}(1);function dr(qt){return function(mt){var Zt=mt.length,xe=new Array(Zt),Oe=new Array(Zt),tr=new Array(Zt),lr,ir;for(lr=0;lr<Zt;++lr)ir=gt(mt[lr]),xe[lr]=ir.r||0,Oe[lr]=ir.g||0,tr[lr]=ir.b||0;return xe=qt(xe),Oe=qt(Oe),tr=qt(tr),ir.opacity=1,function(Er){return ir.r=xe(Er),ir.g=Oe(Er),ir.b=tr(Er),ir+""}}}var ur=dr(Le),fr=dr(Ie);function cr(qt,mt){mt||(mt=[]);var Zt=qt?Math.min(mt.length,qt.length):0,xe=mt.slice(),Oe;return function(tr){for(Oe=0;Oe<Zt;++Oe)xe[Oe]=qt[Oe]*(1-tr)+mt[Oe]*tr;return xe}}function gr(qt){return ArrayBuffer.isView(qt)&&!(qt instanceof DataView)}function Tr(qt,mt){return(gr(mt)?cr:Or)(qt,mt)}function Or(qt,mt){var Zt=mt?mt.length:0,xe=qt?Math.min(Zt,qt.length):0,Oe=new Array(xe),tr=new Array(Zt),lr;for(lr=0;lr<xe;++lr)Oe[lr]=pn(qt[lr],mt[lr]);for(;lr<Zt;++lr)tr[lr]=mt[lr];return function(ir){for(lr=0;lr<xe;++lr)tr[lr]=Oe[lr](ir);return tr}}function Nr(qt,mt){var Zt=new Date;return qt=+qt,mt=+mt,function(xe){return Zt.setTime(qt*(1-xe)+mt*xe),Zt}}function cn(qt,mt){return qt=+qt,mt=+mt,function(Zt){return qt*(1-Zt)+mt*Zt}}function On(qt,mt){var Zt={},xe={},Oe;(qt===null||ve(qt)!=="object")&&(qt={}),(mt===null||ve(mt)!=="object")&&(mt={});for(Oe in mt)Oe in qt?Zt[Oe]=pn(qt[Oe],mt[Oe]):xe[Oe]=mt[Oe];return function(tr){for(Oe in Zt)xe[Oe]=Zt[Oe](tr);return xe}}var Cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(Cn.source,"g");function Wn(qt){return function(){return qt}}function Sn(qt){return function(mt){return qt(mt)+""}}function dn(qt,mt){var Zt=Cn.lastIndex=Tn.lastIndex=0,xe,Oe,tr,lr=-1,ir=[],Er=[];for(qt=qt+"",mt=mt+"";(xe=Cn.exec(qt))&&(Oe=Tn.exec(mt));)(tr=Oe.index)>Zt&&(tr=mt.slice(Zt,tr),ir[lr]?ir[lr]+=tr:ir[++lr]=tr),(xe=xe[0])===(Oe=Oe[0])?ir[lr]?ir[lr]+=Oe:ir[++lr]=Oe:(ir[++lr]=null,Er.push({i:lr,x:cn(xe,Oe)})),Zt=Tn.lastIndex;return Zt<mt.length&&(tr=mt.slice(Zt),ir[lr]?ir[lr]+=tr:ir[++lr]=tr),ir.length<2?Er[0]?Sn(Er[0].x):Wn(mt):(mt=Er.length,function(nn){for(var An=0,on;An<mt;++An)ir[(on=Er[An]).i]=on.x(nn);return ir.join("")})}function pn(qt,mt){var Zt=ve(mt),xe;return mt==null||Zt==="boolean"?$e(mt):(Zt==="number"?cn:Zt==="string"?(xe=W(mt))?(mt=xe,hr):dn:mt instanceof W?hr:mt instanceof Date?Nr:gr(mt)?cr:Array.isArray(mt)?Or:typeof mt.valueOf!="function"&&typeof mt.toString!="function"||isNaN(mt)?On:cn)(qt,mt)}var Xr=H(93924),hn=H(47575),ri=function(qt){return["fill","stroke","fillStyle","strokeStyle"].includes(qt)},Ii=function(qt){return/^[r,R,L,l]{1}[\s]*\(/.test(qt)},Yr=[1,0,0,0,1,0,0,0,1];function $n(qt,mt,Zt){var xe={},Oe=mt.fromAttrs,tr=mt.toAttrs;if(!qt.destroyed){var lr;for(var ir in tr)if(!(0,re.Xy)(Oe[ir],tr[ir]))if(ir==="path"){var Er=tr[ir],nn=Oe[ir];Er.length>nn.length?(Er=hn.parsePathString(tr[ir]),nn=hn.parsePathString(Oe[ir]),nn=hn.fillPathByDiff(nn,Er),nn=hn.formatPath(nn,Er),mt.fromAttrs.path=nn,mt.toAttrs.path=Er):mt.pathFormatted||(Er=hn.parsePathString(tr[ir]),nn=hn.parsePathString(Oe[ir]),nn=hn.formatPath(nn,Er),mt.fromAttrs.path=nn,mt.toAttrs.path=Er,mt.pathFormatted=!0),xe[ir]=[];for(var An=0;An<Er.length;An++){for(var on=Er[An],fn=nn[An],an=[],Dn=0;Dn<on.length;Dn++)(0,re.hj)(on[Dn])&&fn&&(0,re.hj)(fn[Dn])?(lr=pn(fn[Dn],on[Dn]),an.push(lr(Zt))):an.push(on[Dn]);xe[ir].push(an)}}else if(ir==="matrix"){var wi=Tr(Oe[ir]||Yr,tr[ir]||Yr),Xn=wi(Zt);xe[ir]=Xn}else ri(ir)&&Ii(tr[ir])?xe[ir]=tr[ir]:(0,re.mf)(tr[ir])||(lr=pn(Oe[ir],tr[ir]),xe[ir]=lr(Zt));qt.attr(xe)}}function jr(qt,mt,Zt){var xe=mt.startTime,Oe=mt.delay;if(Zt<xe+Oe||mt._paused)return!1;var tr,lr=mt.duration,ir=mt.easing,Er=(0,Xr._)(ir);if(Zt=Zt-xe-mt.delay,mt.repeat)tr=Zt%lr/lr,tr=Er(tr);else if(tr=Zt/lr,tr<1)tr=Er(tr);else return mt.onFrame?qt.attr(mt.onFrame(1)):qt.attr(mt.toAttrs),!0;if(mt.onFrame){var nn=mt.onFrame(tr);qt.attr(nn)}else $n(qt,mt,tr);return!1}var gi=function(){function qt(mt){this.animators=[],this.current=0,this.timer=null,this.canvas=mt}return qt.prototype.initTimer=function(){var mt=this,Zt=!1,xe,Oe,tr;this.timer=lt(function(lr){if(mt.current=lr,mt.animators.length>0){for(var ir=mt.animators.length-1;ir>=0;ir--){if(xe=mt.animators[ir],xe.destroyed){mt.removeAnimator(ir);continue}if(!xe.isAnimatePaused()){Oe=xe.get("animations");for(var Er=Oe.length-1;Er>=0;Er--)tr=Oe[Er],Zt=jr(xe,tr,lr),Zt&&(Oe.splice(Er,1),Zt=!1,tr.callback&&tr.callback())}Oe.length===0&&mt.removeAnimator(ir)}var nn=mt.canvas.get("autoDraw");nn||mt.canvas.draw()}})},qt.prototype.addAnimator=function(mt){this.animators.push(mt)},qt.prototype.removeAnimator=function(mt){this.animators.splice(mt,1)},qt.prototype.isAnimating=function(){return!!this.animators.length},qt.prototype.stop=function(){this.timer&&this.timer.stop()},qt.prototype.stopAllAnimations=function(mt){mt===void 0&&(mt=!0),this.animators.forEach(function(Zt){Zt.stopAnimate(mt)}),this.animators=[],this.canvas.draw()},qt.prototype.getTime=function(){return this.current},qt}(),Fi=gi,da=H(89473),Xi=40,ea=0,ra=":",Zi=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function wr(qt,mt){for(var Zt in qt)if(qt.hasOwnProperty(Zt)&&Zt.indexOf(ra+mt)>=0)return!0;return!1}function ni(qt,mt,Zt){Zt.name=mt,Zt.target=qt,Zt.currentTarget=qt,Zt.delegateTarget=qt,qt.emit(mt,Zt)}function yi(qt,mt,Zt){if(Zt.bubbles){var xe=void 0,Oe=!1;if(mt==="mouseenter"?(xe=Zt.fromShape,Oe=!0):mt==="mouseleave"&&(Oe=!0,xe=Zt.toShape),qt.isCanvas()&&Oe)return;if(xe&&(0,j.UY)(qt,xe)){Zt.bubbles=!1;return}Zt.name=mt,Zt.currentTarget=qt,Zt.delegateTarget=qt,qt.emit(mt,Zt)}}var mi=function(){function qt(mt){var Zt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(xe){var Oe=xe.type;Zt._triggerEvent(Oe,xe)},this._onDocumentMove=function(xe){var Oe=Zt.canvas,tr=Oe.get("el");if(tr!==xe.target&&(Zt.dragging||Zt.currentShape)){var lr=Zt._getPointInfo(xe);Zt.dragging&&Zt._emitEvent("drag",xe,lr,Zt.draggingShape)}},this._onDocumentMouseUp=function(xe){var Oe=Zt.canvas,tr=Oe.get("el");if(tr!==xe.target&&Zt.dragging){var lr=Zt._getPointInfo(xe);Zt.draggingShape&&Zt._emitEvent("drop",xe,lr,null),Zt._emitEvent("dragend",xe,lr,Zt.draggingShape),Zt._afterDrag(Zt.draggingShape,lr,xe)}},this.canvas=mt.canvas}return qt.prototype.init=function(){this._bindEvents()},qt.prototype._bindEvents=function(){var mt=this,Zt=this.canvas.get("el");(0,j.S6)(Zi,function(xe){Zt.addEventListener(xe,mt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},qt.prototype._clearEvents=function(){var mt=this,Zt=this.canvas.get("el");(0,j.S6)(Zi,function(xe){Zt.removeEventListener(xe,mt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},qt.prototype._getEventObj=function(mt,Zt,xe,Oe,tr,lr){var ir=new da.Z(mt,Zt);return ir.fromShape=tr,ir.toShape=lr,ir.x=xe.x,ir.y=xe.y,ir.clientX=xe.clientX,ir.clientY=xe.clientY,ir.propagationPath.push(Oe),ir},qt.prototype._getShape=function(mt,Zt){return this.canvas.getShape(mt.x,mt.y,Zt)},qt.prototype._getPointInfo=function(mt){var Zt=this.canvas,xe=Zt.getClientByEvent(mt),Oe=Zt.getPointByEvent(mt);return{x:Oe.x,y:Oe.y,clientX:xe.x,clientY:xe.y}},qt.prototype._triggerEvent=function(mt,Zt){var xe=this._getPointInfo(Zt),Oe=this._getShape(xe,Zt),tr=this["_on"+mt],lr=!1;if(tr)tr.call(this,xe,Oe,Zt);else{var ir=this.currentShape;mt==="mouseenter"||mt==="dragenter"||mt==="mouseover"?(this._emitEvent(mt,Zt,xe,null,null,Oe),Oe&&this._emitEvent(mt,Zt,xe,Oe,null,Oe),mt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Zt,xe,null)):mt==="mouseleave"||mt==="dragleave"||mt==="mouseout"?(lr=!0,ir&&this._emitEvent(mt,Zt,xe,ir,ir,null),this._emitEvent(mt,Zt,xe,null,ir,null),mt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Zt,xe,null)):this._emitEvent(mt,Zt,xe,Oe,null,null)}if(lr||(this.currentShape=Oe),Oe&&!Oe.get("destroyed")){var Er=this.canvas,nn=Er.get("el");nn.style.cursor=Oe.attr("cursor")||Er.get("cursor")}},qt.prototype._onmousedown=function(mt,Zt,xe){xe.button===ea&&(this.mousedownShape=Zt,this.mousedownPoint=mt,this.mousedownTimeStamp=xe.timeStamp),this._emitEvent("mousedown",xe,mt,Zt,null,null)},qt.prototype._emitMouseoverEvents=function(mt,Zt,xe,Oe){var tr=this.canvas.get("el");xe!==Oe&&(xe&&(this._emitEvent("mouseout",mt,Zt,xe,xe,Oe),this._emitEvent("mouseleave",mt,Zt,xe,xe,Oe),(!Oe||Oe.get("destroyed"))&&(tr.style.cursor=this.canvas.get("cursor"))),Oe&&(this._emitEvent("mouseover",mt,Zt,Oe,xe,Oe),this._emitEvent("mouseenter",mt,Zt,Oe,xe,Oe)))},qt.prototype._emitDragoverEvents=function(mt,Zt,xe,Oe,tr){Oe?(Oe!==xe&&(xe&&this._emitEvent("dragleave",mt,Zt,xe,xe,Oe),this._emitEvent("dragenter",mt,Zt,Oe,xe,Oe)),tr||this._emitEvent("dragover",mt,Zt,Oe)):xe&&this._emitEvent("dragleave",mt,Zt,xe,xe,Oe),tr&&this._emitEvent("dragover",mt,Zt,Oe)},qt.prototype._afterDrag=function(mt,Zt,xe){mt&&(mt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Oe=this._getShape(Zt,xe);Oe!==mt&&this._emitMouseoverEvents(xe,Zt,mt,Oe),this.currentShape=Oe},qt.prototype._onmouseup=function(mt,Zt,xe){if(xe.button===ea){var Oe=this.draggingShape;this.dragging?(Oe&&this._emitEvent("drop",xe,mt,Zt),this._emitEvent("dragend",xe,mt,Oe),this._afterDrag(Oe,mt,xe)):(this._emitEvent("mouseup",xe,mt,Zt),Zt===this.mousedownShape&&this._emitEvent("click",xe,mt,Zt),this.mousedownShape=null,this.mousedownPoint=null)}},qt.prototype._ondragover=function(mt,Zt,xe){xe.preventDefault();var Oe=this.currentShape;this._emitDragoverEvents(xe,mt,Oe,Zt,!0)},qt.prototype._onmousemove=function(mt,Zt,xe){var Oe=this.canvas,tr=this.currentShape,lr=this.draggingShape;if(this.dragging)lr&&this._emitDragoverEvents(xe,mt,tr,Zt,!1),this._emitEvent("drag",xe,mt,lr);else{var ir=this.mousedownPoint;if(ir){var Er=this.mousedownShape,nn=xe.timeStamp,An=nn-this.mousedownTimeStamp,on=ir.clientX-mt.clientX,fn=ir.clientY-mt.clientY,an=on*on+fn*fn;An>120||an>Xi?Er&&Er.get("draggable")?(lr=this.mousedownShape,lr.set("capture",!1),this.draggingShape=lr,this.dragging=!0,this._emitEvent("dragstart",xe,mt,lr),this.mousedownShape=null,this.mousedownPoint=null):!Er&&Oe.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",xe,mt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(xe,mt,tr,Zt),this._emitEvent("mousemove",xe,mt,Zt)):(this._emitMouseoverEvents(xe,mt,tr,Zt),this._emitEvent("mousemove",xe,mt,Zt))}else this._emitMouseoverEvents(xe,mt,tr,Zt),this._emitEvent("mousemove",xe,mt,Zt)}},qt.prototype._emitEvent=function(mt,Zt,xe,Oe,tr,lr){var ir=this._getEventObj(mt,Zt,xe,Oe,tr,lr);if(Oe){ir.shape=Oe,ni(Oe,mt,ir);for(var Er=Oe.getParent();Er;)Er.emitDelegation(mt,ir),ir.propagationStopped||yi(Er,mt,ir),ir.propagationPath.push(Er),Er=Er.getParent()}else{var nn=this.canvas;ni(nn,mt,ir)}},qt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},qt}(),xi=mi,bi="px",Gn=(0,St.qY)(),Bn=Gn&&Gn.name==="firefox",Fa=function(qt){(0,Pt.ZT)(mt,qt);function mt(Zt){var xe=qt.call(this,Zt)||this;return xe.initContainer(),xe.initDom(),xe.initEvents(),xe.initTimeline(),xe}return mt.prototype.getDefaultCfg=function(){var Zt=qt.prototype.getDefaultCfg.call(this);return Zt.cursor="default",Zt.supportCSSTransform=!1,Zt},mt.prototype.initContainer=function(){var Zt=this.get("container");(0,j.HD)(Zt)&&(Zt=document.getElementById(Zt),this.set("container",Zt))},mt.prototype.initDom=function(){var Zt=this.createDom();this.set("el",Zt);var xe=this.get("container");xe.appendChild(Zt),this.setDOMSize(this.get("width"),this.get("height"))},mt.prototype.initEvents=function(){var Zt=new xi({canvas:this});Zt.init(),this.set("eventController",Zt)},mt.prototype.initTimeline=function(){var Zt=new Fi(this);this.set("timeline",Zt)},mt.prototype.setDOMSize=function(Zt,xe){var Oe=this.get("el");j.jU&&(Oe.style.width=Zt+bi,Oe.style.height=xe+bi)},mt.prototype.changeSize=function(Zt,xe){this.setDOMSize(Zt,xe),this.set("width",Zt),this.set("height",xe),this.onCanvasChange("changeSize")},mt.prototype.getRenderer=function(){return this.get("renderer")},mt.prototype.getCursor=function(){return this.get("cursor")},mt.prototype.setCursor=function(Zt){this.set("cursor",Zt);var xe=this.get("el");j.jU&&xe&&(xe.style.cursor=Zt)},mt.prototype.getPointByEvent=function(Zt){var xe=this.get("supportCSSTransform");if(xe){if(Bn&&!(0,j.kK)(Zt.layerX)&&Zt.layerX!==Zt.offsetX)return{x:Zt.layerX,y:Zt.layerY};if(!(0,j.kK)(Zt.offsetX))return{x:Zt.offsetX,y:Zt.offsetY}}var Oe=this.getClientByEvent(Zt),tr=Oe.x,lr=Oe.y;return this.getPointByClient(tr,lr)},mt.prototype.getClientByEvent=function(Zt){var xe=Zt;return Zt.touches&&(Zt.type==="touchend"?xe=Zt.changedTouches[0]:xe=Zt.touches[0]),{x:xe.clientX,y:xe.clientY}},mt.prototype.getPointByClient=function(Zt,xe){var Oe=this.get("el"),tr=Oe.getBoundingClientRect();return{x:Zt-tr.left,y:xe-tr.top}},mt.prototype.getClientByPoint=function(Zt,xe){var Oe=this.get("el"),tr=Oe.getBoundingClientRect();return{x:Zt+tr.left,y:xe+tr.top}},mt.prototype.draw=function(){},mt.prototype.removeDom=function(){var Zt=this.get("el");Zt.parentNode.removeChild(Zt)},mt.prototype.clearEvents=function(){var Zt=this.get("eventController");Zt.destroy()},mt.prototype.isCanvas=function(){return!0},mt.prototype.getParent=function(){return null},mt.prototype.destroy=function(){var Zt=this.get("timeline");this.get("destroyed")||(this.clear(),Zt&&Zt.stop(),this.clearEvents(),this.removeDom(),qt.prototype.destroy.call(this))},mt}(q.Z),ki=Fa},37153:function(sr,Ue,H){"use strict";var Pt=H(97582),St=H(29881),q=H(77341),j={},re="_INDEX";function le(Te,I){if(Te.set("canvas",I),Te.isGroup()){var m=Te.get("children");m.length&&m.forEach(function(Bt){le(Bt,I)})}}function jt(Te,I){if(Te.set("timeline",I),Te.isGroup()){var m=Te.get("children");m.length&&m.forEach(function(Bt){jt(Bt,I)})}}function fe(Te,I){var m=Te.getChildren();return m.indexOf(I)>=0}function ce(Te,I,m){m===void 0&&(m=!0),m?I.destroy():(I.set("parent",null),I.set("canvas",null)),(0,q.As)(Te.getChildren(),I)}function Pe(Te){return function(I,m){var Bt=Te(I,m);return Bt===0?I[re]-m[re]:Bt}}var de=function(Te){(0,Pt.ZT)(I,Te);function I(){return Te!==null&&Te.apply(this,arguments)||this}return I.prototype.isCanvas=function(){return!1},I.prototype.getBBox=function(){var m=1/0,Bt=-1/0,Et=1/0,Vt=-1/0,Rt=this.getChildren().filter(function(lt){return lt.get("visible")&&(!lt.isGroup()||lt.isGroup()&&lt.getChildren().length>0)});Rt.length>0?(0,q.S6)(Rt,function(lt){var J=lt.getBBox(),Z=J.minX,wt=J.maxX,ct=J.minY,ue=J.maxY;Z<m&&(m=Z),wt>Bt&&(Bt=wt),ct<Et&&(Et=ct),ue>Vt&&(Vt=ue)}):(m=0,Bt=0,Et=0,Vt=0);var Ct={x:m,y:Et,minX:m,minY:Et,maxX:Bt,maxY:Vt,width:Bt-m,height:Vt-Et};return Ct},I.prototype.getCanvasBBox=function(){var m=1/0,Bt=-1/0,Et=1/0,Vt=-1/0,Rt=this.getChildren().filter(function(lt){return lt.get("visible")&&(!lt.isGroup()||lt.isGroup()&&lt.getChildren().length>0)});Rt.length>0?(0,q.S6)(Rt,function(lt){var J=lt.getCanvasBBox(),Z=J.minX,wt=J.maxX,ct=J.minY,ue=J.maxY;Z<m&&(m=Z),wt>Bt&&(Bt=wt),ct<Et&&(Et=ct),ue>Vt&&(Vt=ue)}):(m=0,Bt=0,Et=0,Vt=0);var Ct={x:m,y:Et,minX:m,minY:Et,maxX:Bt,maxY:Vt,width:Bt-m,height:Vt-Et};return Ct},I.prototype.getDefaultCfg=function(){var m=Te.prototype.getDefaultCfg.call(this);return m.children=[],m},I.prototype.onAttrChange=function(m,Bt,Et){if(Te.prototype.onAttrChange.call(this,m,Bt,Et),m==="matrix"){var Vt=this.getTotalMatrix();this._applyChildrenMarix(Vt)}},I.prototype.applyMatrix=function(m){var Bt=this.getTotalMatrix();Te.prototype.applyMatrix.call(this,m);var Et=this.getTotalMatrix();Et!==Bt&&this._applyChildrenMarix(Et)},I.prototype._applyChildrenMarix=function(m){var Bt=this.getChildren();(0,q.S6)(Bt,function(Et){Et.applyMatrix(m)})},I.prototype.addShape=function(){for(var m=[],Bt=0;Bt<arguments.length;Bt++)m[Bt]=arguments[Bt];var Et=m[0],Vt=m[1];(0,q.Kn)(Et)?Vt=Et:Vt.type=Et;var Rt=j[Vt.type];Rt||(Rt=(0,q.jC)(Vt.type),j[Vt.type]=Rt);var Ct=this.getShapeBase(),lt=new Ct[Rt](Vt);return this.add(lt),lt},I.prototype.addGroup=function(){for(var m=[],Bt=0;Bt<arguments.length;Bt++)m[Bt]=arguments[Bt];var Et=m[0],Vt=m[1],Rt;if((0,q.mf)(Et))Vt?Rt=new Et(Vt):Rt=new Et({parent:this});else{var Ct=Et||{},lt=this.getGroupBase();Rt=new lt(Ct)}return this.add(Rt),Rt},I.prototype.getCanvas=function(){var m;return this.isCanvas()?m=this:m=this.get("canvas"),m},I.prototype.getShape=function(m,Bt,Et){if(!(0,q.pP)(this))return null;var Vt=this.getChildren(),Rt;if(this.isCanvas())Rt=this._findShape(Vt,m,Bt,Et);else{var Ct=[m,Bt,1];Ct=this.invertFromMatrix(Ct),this.isClipped(Ct[0],Ct[1])||(Rt=this._findShape(Vt,Ct[0],Ct[1],Et))}return Rt},I.prototype._findShape=function(m,Bt,Et,Vt){for(var Rt=null,Ct=m.length-1;Ct>=0;Ct--){var lt=m[Ct];if((0,q.pP)(lt)&&(lt.isGroup()?Rt=lt.getShape(Bt,Et,Vt):lt.isHit(Bt,Et)&&(Rt=lt)),Rt)break}return Rt},I.prototype.add=function(m){var Bt=this.getCanvas(),Et=this.getChildren(),Vt=this.get("timeline"),Rt=m.getParent();Rt&&ce(Rt,m,!1),m.set("parent",this),Bt&&le(m,Bt),Vt&&jt(m,Vt),Et.push(m),m.onCanvasChange("add"),this._applyElementMatrix(m)},I.prototype._applyElementMatrix=function(m){var Bt=this.getTotalMatrix();Bt&&m.applyMatrix(Bt)},I.prototype.getChildren=function(){return this.get("children")},I.prototype.sort=function(){var m=this.getChildren();(0,q.S6)(m,function(Bt,Et){return Bt[re]=Et,Bt}),m.sort(Pe(function(Bt,Et){return Bt.get("zIndex")-Et.get("zIndex")})),this.onCanvasChange("sort")},I.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var m=this.getChildren(),Bt=m.length-1;Bt>=0;Bt--)m[Bt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},I.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Te.prototype.destroy.call(this))},I.prototype.getFirst=function(){return this.getChildByIndex(0)},I.prototype.getLast=function(){var m=this.getChildren();return this.getChildByIndex(m.length-1)},I.prototype.getChildByIndex=function(m){var Bt=this.getChildren();return Bt[m]},I.prototype.getCount=function(){var m=this.getChildren();return m.length},I.prototype.contain=function(m){var Bt=this.getChildren();return Bt.indexOf(m)>-1},I.prototype.removeChild=function(m,Bt){Bt===void 0&&(Bt=!0),this.contain(m)&&m.remove(Bt)},I.prototype.findAll=function(m){var Bt=[],Et=this.getChildren();return(0,q.S6)(Et,function(Vt){m(Vt)&&Bt.push(Vt),Vt.isGroup()&&(Bt=Bt.concat(Vt.findAll(m)))}),Bt},I.prototype.find=function(m){var Bt=null,Et=this.getChildren();return(0,q.S6)(Et,function(Vt){if(m(Vt)?Bt=Vt:Vt.isGroup()&&(Bt=Vt.find(m)),Bt)return!1}),Bt},I.prototype.findById=function(m){return this.find(function(Bt){return Bt.get("id")===m})},I.prototype.findByClassName=function(m){return this.find(function(Bt){return Bt.get("className")===m})},I.prototype.findAllByName=function(m){return this.findAll(function(Bt){return Bt.get("name")===m})},I}(St.Z);Ue.Z=de},29881:function(sr,Ue,H){"use strict";var Pt=H(97582),St=H(45098),q=H(31506),j=H(77341),re=H(41482),le=H(2667),jt=q.vs,fe="matrix",ce=["zIndex","capture","visible","type"],Pe=["repeat"],de=":",Te="*";function I(Rt){for(var Ct=[],lt=0;lt<Rt.length;lt++)(0,St.kJ)(Rt[lt])?Ct.push([].concat(Rt[lt])):Ct.push(Rt[lt]);return Ct}function m(Rt,Ct){var lt={},J=Ct.attrs;for(var Z in Rt)lt[Z]=J[Z];return lt}function Bt(Rt,Ct){var lt={},J=Ct.attr();return(0,St.S6)(Rt,function(Z,wt){Pe.indexOf(wt)===-1&&!(0,St.Xy)(J[wt],Z)&&(lt[wt]=Z)}),lt}function Et(Rt,Ct){if(Ct.onFrame)return Rt;var lt=Ct.startTime,J=Ct.delay,Z=Ct.duration,wt=Object.prototype.hasOwnProperty;return(0,St.S6)(Rt,function(ct){lt+J<ct.startTime+ct.delay+ct.duration&&Z>ct.delay&&(0,St.S6)(Ct.toAttrs,function(ue,ve){wt.call(ct.toAttrs,ve)&&(delete ct.toAttrs[ve],delete ct.fromAttrs[ve])})}),Rt}var Vt=function(Rt){(0,Pt.ZT)(Ct,Rt);function Ct(lt){var J=Rt.call(this,lt)||this;J.attrs={};var Z=J.getDefaultAttrs();return(0,St.CD)(Z,lt.attrs),J.attrs=Z,J.initAttrs(Z),J.initAnimate(),J}return Ct.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Ct.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Ct.prototype.onCanvasChange=function(lt){},Ct.prototype.initAttrs=function(lt){},Ct.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Ct.prototype.isGroup=function(){return!1},Ct.prototype.getParent=function(){return this.get("parent")},Ct.prototype.getCanvas=function(){return this.get("canvas")},Ct.prototype.attr=function(){for(var lt,J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];var wt=J[0],ct=J[1];if(!wt)return this.attrs;if((0,St.Kn)(wt)){for(var ue in wt)this.setAttr(ue,wt[ue]);return this.afterAttrsChange(wt),this}return J.length===2?(this.setAttr(wt,ct),this.afterAttrsChange((lt={},lt[wt]=ct,lt)),this):this.attrs[wt]},Ct.prototype.isClipped=function(lt,J){var Z=this.getClip();return Z&&!Z.isHit(lt,J)},Ct.prototype.setAttr=function(lt,J){var Z=this.attrs[lt];Z!==J&&(this.attrs[lt]=J,this.onAttrChange(lt,J,Z))},Ct.prototype.onAttrChange=function(lt,J,Z){lt==="matrix"&&this.set("totalMatrix",null)},Ct.prototype.afterAttrsChange=function(lt){if(this.cfg.isClipShape){var J=this.cfg.applyTo;J&&J.onCanvasChange("clip")}else this.onCanvasChange("attr")},Ct.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Ct.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Ct.prototype.setZIndex=function(lt){this.set("zIndex",lt);var J=this.getParent();return J&&J.sort(),this},Ct.prototype.toFront=function(){var lt=this.getParent();if(lt){var J=lt.getChildren(),Z=this.get("el"),wt=J.indexOf(this);J.splice(wt,1),J.push(this),this.onCanvasChange("zIndex")}},Ct.prototype.toBack=function(){var lt=this.getParent();if(lt){var J=lt.getChildren(),Z=this.get("el"),wt=J.indexOf(this);J.splice(wt,1),J.unshift(this),this.onCanvasChange("zIndex")}},Ct.prototype.remove=function(lt){lt===void 0&&(lt=!0);var J=this.getParent();J?((0,j.As)(J.getChildren(),this),J.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),lt&&this.destroy()},Ct.prototype.resetMatrix=function(){this.attr(fe,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Ct.prototype.getMatrix=function(){return this.attr(fe)},Ct.prototype.setMatrix=function(lt){this.attr(fe,lt),this.onCanvasChange("matrix")},Ct.prototype.getTotalMatrix=function(){var lt=this.cfg.totalMatrix;if(!lt){var J=this.attr("matrix"),Z=this.cfg.parentMatrix;Z&&J?lt=(0,re.xq)(Z,J):lt=J||Z,this.set("totalMatrix",lt)}return lt},Ct.prototype.applyMatrix=function(lt){var J=this.attr("matrix"),Z=null;lt&&J?Z=(0,re.xq)(lt,J):Z=J||lt,this.set("totalMatrix",Z),this.set("parentMatrix",lt)},Ct.prototype.getDefaultMatrix=function(){return null},Ct.prototype.applyToMatrix=function(lt){var J=this.attr("matrix");return J?(0,re.rG)(J,lt):lt},Ct.prototype.invertFromMatrix=function(lt){var J=this.attr("matrix");if(J){var Z=(0,re.U_)(J);if(Z)return(0,re.rG)(Z,lt)}return lt},Ct.prototype.setClip=function(lt){var J=this.getCanvas(),Z=null;if(lt){var wt=this.getShapeBase(),ct=(0,St.jC)(lt.type),ue=wt[ct];ue&&(Z=new ue({type:lt.type,isClipShape:!0,applyTo:this,attrs:lt.attrs,canvas:J}))}return this.set("clipShape",Z),this.onCanvasChange("clip"),Z},Ct.prototype.getClip=function(){var lt=this.cfg.clipShape;return lt||null},Ct.prototype.clone=function(){var lt=this,J=this.attrs,Z={};(0,St.S6)(J,function(ue,ve){(0,St.kJ)(J[ve])?Z[ve]=I(J[ve]):Z[ve]=J[ve]});var wt=this.constructor,ct=new wt({attrs:Z});return(0,St.S6)(ce,function(ue){ct.set(ue,lt.get(ue))}),ct},Ct.prototype.destroy=function(){var lt=this.destroyed;lt||(this.attrs={},Rt.prototype.destroy.call(this))},Ct.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Ct.prototype.animate=function(){for(var lt=[],J=0;J<arguments.length;J++)lt[J]=arguments[J];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Z=this.get("timeline");Z||(Z=this.get("canvas").get("timeline"),this.set("timeline",Z));var wt=this.get("animations")||[];Z.timer||Z.initTimer();var ct=lt[0],ue=lt[1],ve=lt[2],Ht=ve===void 0?"easeLinear":ve,Qt=lt[3],ge=Qt===void 0?St.ZT:Qt,Ot=lt[4],oe=Ot===void 0?0:Ot,ie,et,vt,me,Ae;(0,St.mf)(ct)?(ie=ct,ct={}):(0,St.Kn)(ct)&&ct.onFrame&&(ie=ct.onFrame,et=ct.repeat),(0,St.Kn)(ue)?(Ae=ue,ue=Ae.duration,Ht=Ae.easing||"easeLinear",oe=Ae.delay||0,et=Ae.repeat||et||!1,ge=Ae.callback||St.ZT,vt=Ae.pauseCallback||St.ZT,me=Ae.resumeCallback||St.ZT):((0,St.hj)(ge)&&(oe=ge,ge=null),(0,St.mf)(Ht)?(ge=Ht,Ht="easeLinear"):Ht=Ht||"easeLinear");var ye=Bt(ct,this),be={fromAttrs:m(ye,this),toAttrs:ye,duration:ue,easing:Ht,repeat:et,callback:ge,pauseCallback:vt,resumeCallback:me,delay:oe,startTime:Z.getTime(),id:(0,St.EL)(),onFrame:ie,pathFormatted:!1};wt.length>0?wt=Et(wt,be):Z.addAnimator(this),wt.push(be),this.set("animations",wt),this.set("_pause",{isPaused:!1})}},Ct.prototype.stopAnimate=function(lt){var J=this;lt===void 0&&(lt=!0);var Z=this.get("animations");(0,St.S6)(Z,function(wt){lt&&(wt.onFrame?J.attr(wt.onFrame(1)):J.attr(wt.toAttrs)),wt.callback&&wt.callback()}),this.set("animating",!1),this.set("animations",[])},Ct.prototype.pauseAnimate=function(){var lt=this.get("timeline"),J=this.get("animations"),Z=lt.getTime();return(0,St.S6)(J,function(wt){wt._paused=!0,wt._pauseTime=Z,wt.pauseCallback&&wt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Z}),this},Ct.prototype.resumeAnimate=function(){var lt=this.get("timeline"),J=lt.getTime(),Z=this.get("animations"),wt=this.get("_pause").pauseTime;return(0,St.S6)(Z,function(ct){ct.startTime=ct.startTime+(J-wt),ct._paused=!1,ct._pauseTime=null,ct.resumeCallback&&ct.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Z),this},Ct.prototype.emitDelegation=function(lt,J){var Z=this,wt=J.propagationPath,ct=this.getEvents(),ue;lt==="mouseenter"?ue=J.fromShape:lt==="mouseleave"&&(ue=J.toShape);for(var ve=function(Ot){var oe=wt[Ot],ie=oe.get("name");if(ie){if((oe.isGroup()||oe.isCanvas&&oe.isCanvas())&&ue&&(0,j.UY)(oe,ue))return"break";(0,St.kJ)(ie)?(0,St.S6)(ie,function(et){Z.emitDelegateEvent(oe,et,J)}):Ht.emitDelegateEvent(oe,ie,J)}},Ht=this,Qt=0;Qt<wt.length;Qt++){var ge=ve(Qt);if(ge==="break")break}},Ct.prototype.emitDelegateEvent=function(lt,J,Z){var wt=this.getEvents(),ct=J+de+Z.type;(wt[ct]||wt[Te])&&(Z.name=ct,Z.currentTarget=lt,Z.delegateTarget=this,Z.delegateObject=lt.get("delegateObject"),this.emit(ct,Z))},Ct.prototype.translate=function(lt,J){lt===void 0&&(lt=0),J===void 0&&(J=0);var Z=this.getMatrix(),wt=jt(Z,[["t",lt,J]]);return this.setMatrix(wt),this},Ct.prototype.move=function(lt,J){var Z=this.attr("x")||0,wt=this.attr("y")||0;return this.translate(lt-Z,J-wt),this},Ct.prototype.moveTo=function(lt,J){return this.move(lt,J)},Ct.prototype.scale=function(lt,J){var Z=this.getMatrix(),wt=jt(Z,[["s",lt,J||lt]]);return this.setMatrix(wt),this},Ct.prototype.rotate=function(lt){var J=this.getMatrix(),Z=jt(J,[["r",lt]]);return this.setMatrix(Z),this},Ct.prototype.rotateAtStart=function(lt){var J=this.attr(),Z=J.x,wt=J.y,ct=this.getMatrix(),ue=jt(ct,[["t",-Z,-wt],["r",lt],["t",Z,wt]]);return this.setMatrix(ue),this},Ct.prototype.rotateAtPoint=function(lt,J,Z){var wt=this.getMatrix(),ct=jt(wt,[["t",-lt,-J],["r",Z],["t",lt,J]]);return this.setMatrix(ct),this},Ct}(le.Z);Ue.Z=Vt},31841:function(sr,Ue,H){"use strict";var Pt=H(97582),St=H(37153),q=function(j){(0,Pt.ZT)(re,j);function re(){return j!==null&&j.apply(this,arguments)||this}return re.prototype.isGroup=function(){return!0},re.prototype.isEntityGroup=function(){return!1},re.prototype.clone=function(){for(var le=j.prototype.clone.call(this),jt=this.getChildren(),fe=0;fe<jt.length;fe++){var ce=jt[fe];le.add(ce.clone())}return le},re}(St.Z);Ue.Z=q},15032:function(sr,Ue,H){"use strict";var Pt=H(97582),St=H(29881),q=H(41482),j=function(re){(0,Pt.ZT)(le,re);function le(jt){return re.call(this,jt)||this}return le.prototype._isInBBox=function(jt,fe){var ce=this.getBBox();return ce.minX<=jt&&ce.maxX>=jt&&ce.minY<=fe&&ce.maxY>=fe},le.prototype.afterAttrsChange=function(jt){re.prototype.afterAttrsChange.call(this,jt),this.clearCacheBBox()},le.prototype.getBBox=function(){var jt=this.cfg.bbox;return jt||(jt=this.calculateBBox(),this.set("bbox",jt)),jt},le.prototype.getCanvasBBox=function(){var jt=this.cfg.canvasBBox;return jt||(jt=this.calculateCanvasBBox(),this.set("canvasBBox",jt)),jt},le.prototype.applyMatrix=function(jt){re.prototype.applyMatrix.call(this,jt),this.set("canvasBBox",null)},le.prototype.calculateCanvasBBox=function(){var jt=this.getBBox(),fe=this.getTotalMatrix(),ce=jt.minX,Pe=jt.minY,de=jt.maxX,Te=jt.maxY;if(fe){var I=(0,q.rG)(fe,[jt.minX,jt.minY]),m=(0,q.rG)(fe,[jt.maxX,jt.minY]),Bt=(0,q.rG)(fe,[jt.minX,jt.maxY]),Et=(0,q.rG)(fe,[jt.maxX,jt.maxY]);ce=Math.min(I[0],m[0],Bt[0],Et[0]),de=Math.max(I[0],m[0],Bt[0],Et[0]),Pe=Math.min(I[1],m[1],Bt[1],Et[1]),Te=Math.max(I[1],m[1],Bt[1],Et[1])}var Vt=this.attrs;if(Vt.shadowColor){var Rt=Vt.shadowBlur,Ct=Rt===void 0?0:Rt,lt=Vt.shadowOffsetX,J=lt===void 0?0:lt,Z=Vt.shadowOffsetY,wt=Z===void 0?0:Z,ct=ce-Ct+J,ue=de+Ct+J,ve=Pe-Ct+wt,Ht=Te+Ct+wt;ce=Math.min(ce,ct),de=Math.max(de,ue),Pe=Math.min(Pe,ve),Te=Math.max(Te,Ht)}return{x:ce,y:Pe,minX:ce,minY:Pe,maxX:de,maxY:Te,width:de-ce,height:Te-Pe}},le.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},le.prototype.isClipShape=function(){return this.get("isClipShape")},le.prototype.isInShape=function(jt,fe){return!1},le.prototype.isOnlyHitBox=function(){return!1},le.prototype.isHit=function(jt,fe){var ce=this.get("startArrowShape"),Pe=this.get("endArrowShape"),de=[jt,fe,1];de=this.invertFromMatrix(de);var Te=de[0],I=de[1],m=this._isInBBox(Te,I);return this.isOnlyHitBox()?m:!!(m&&!this.isClipped(Te,I)&&(this.isInShape(Te,I)||ce&&ce.isHit(Te,I)||Pe&&Pe.isHit(Te,I)))},le}(St.Z);Ue.Z=j},93924:function(sr,Ue,H){"use strict";H.d(Ue,{_:function(){return tt},C:function(){return yt}});var Pt={};H.r(Pt),H.d(Pt,{easeBack:function(){return It},easeBackIn:function(){return ut},easeBackInOut:function(){return It},easeBackOut:function(){return Tt},easeBounce:function(){return Ae},easeBounceIn:function(){return me},easeBounceInOut:function(){return ye},easeBounceOut:function(){return Ae},easeCircle:function(){return ct},easeCircleIn:function(){return Z},easeCircleInOut:function(){return ct},easeCircleOut:function(){return wt},easeCubic:function(){return fe},easeCubicIn:function(){return le},easeCubicInOut:function(){return fe},easeCubicOut:function(){return jt},easeElastic:function(){return K},easeElasticIn:function(){return at},easeElasticInOut:function(){return W},easeElasticOut:function(){return K},easeExp:function(){return J},easeExpIn:function(){return Ct},easeExpInOut:function(){return J},easeExpOut:function(){return lt},easeLinear:function(){return St},easePoly:function(){return Te},easePolyIn:function(){return Pe},easePolyInOut:function(){return Te},easePolyOut:function(){return de},easeQuad:function(){return re},easeQuadIn:function(){return q},easeQuadInOut:function(){return re},easeQuadOut:function(){return j},easeSin:function(){return Vt},easeSinIn:function(){return Bt},easeSinInOut:function(){return Vt},easeSinOut:function(){return Et}});function St(gt){return+gt}function q(gt){return gt*gt}function j(gt){return gt*(2-gt)}function re(gt){return((gt*=2)<=1?gt*gt:--gt*(2-gt)+1)/2}function le(gt){return gt*gt*gt}function jt(gt){return--gt*gt*gt+1}function fe(gt){return((gt*=2)<=1?gt*gt*gt:(gt-=2)*gt*gt+2)/2}var ce=3,Pe=function gt(Wt){Wt=+Wt;function Kt(Ce){return Math.pow(Ce,Wt)}return Kt.exponent=gt,Kt}(ce),de=function gt(Wt){Wt=+Wt;function Kt(Ce){return 1-Math.pow(1-Ce,Wt)}return Kt.exponent=gt,Kt}(ce),Te=function gt(Wt){Wt=+Wt;function Kt(Ce){return((Ce*=2)<=1?Math.pow(Ce,Wt):2-Math.pow(2-Ce,Wt))/2}return Kt.exponent=gt,Kt}(ce),I=Math.PI,m=I/2;function Bt(gt){return+gt==1?1:1-Math.cos(gt*m)}function Et(gt){return Math.sin(gt*m)}function Vt(gt){return(1-Math.cos(I*gt))/2}function Rt(gt){return(Math.pow(2,-10*gt)-.0009765625)*1.0009775171065494}function Ct(gt){return Rt(1-+gt)}function lt(gt){return 1-Rt(gt)}function J(gt){return((gt*=2)<=1?Rt(1-gt):2-Rt(gt-1))/2}function Z(gt){return 1-Math.sqrt(1-gt*gt)}function wt(gt){return Math.sqrt(1- --gt*gt)}function ct(gt){return((gt*=2)<=1?1-Math.sqrt(1-gt*gt):Math.sqrt(1-(gt-=2)*gt)+1)/2}var ue=4/11,ve=6/11,Ht=8/11,Qt=3/4,ge=9/11,Ot=10/11,oe=15/16,ie=21/22,et=63/64,vt=1/ue/ue;function me(gt){return 1-Ae(1-gt)}function Ae(gt){return(gt=+gt)<ue?vt*gt*gt:gt<Ht?vt*(gt-=ve)*gt+Qt:gt<Ot?vt*(gt-=ge)*gt+oe:vt*(gt-=ie)*gt+et}function ye(gt){return((gt*=2)<=1?1-Ae(1-gt):Ae(gt-1)+1)/2}var be=1.70158,ut=function gt(Wt){Wt=+Wt;function Kt(Ce){return(Ce=+Ce)*Ce*(Wt*(Ce-1)+Ce)}return Kt.overshoot=gt,Kt}(be),Tt=function gt(Wt){Wt=+Wt;function Kt(Ce){return--Ce*Ce*((Ce+1)*Wt+Ce)+1}return Kt.overshoot=gt,Kt}(be),It=function gt(Wt){Wt=+Wt;function Kt(Ce){return((Ce*=2)<1?Ce*Ce*((Wt+1)*Ce-Wt):(Ce-=2)*Ce*((Wt+1)*Ce+Wt)+2)/2}return Kt.overshoot=gt,Kt}(be),ft=2*Math.PI,Jt=1,ee=.3,at=function gt(Wt,Kt){var Ce=Math.asin(1/(Wt=Math.max(1,Wt)))*(Kt/=ft);function He(We){return Wt*Rt(- --We)*Math.sin((Ce-We)/Kt)}return He.amplitude=function(We){return gt(We,Kt*ft)},He.period=function(We){return gt(Wt,We)},He}(Jt,ee),K=function gt(Wt,Kt){var Ce=Math.asin(1/(Wt=Math.max(1,Wt)))*(Kt/=ft);function He(We){return 1-Wt*Rt(We=+We)*Math.sin((We+Ce)/Kt)}return He.amplitude=function(We){return gt(We,Kt*ft)},He.period=function(We){return gt(Wt,We)},He}(Jt,ee),W=function gt(Wt,Kt){var Ce=Math.asin(1/(Wt=Math.max(1,Wt)))*(Kt/=ft);function He(We){return((We=We*2-1)<0?Wt*Rt(-We)*Math.sin((Ce-We)/Kt):2-Wt*Rt(We)*Math.sin((Ce+We)/Kt))/2}return He.amplitude=function(We){return gt(We,Kt*ft)},He.period=function(We){return gt(Wt,We)},He}(Jt,ee),it={};function tt(gt){return it[gt.toLowerCase()]||Pt[gt]}function yt(gt,Wt){it[gt.toLowerCase()]=Wt}},46556:function(sr,Ue,H){"use strict";H.d(Ue,{b:function(){return q},W:function(){return St}});var Pt=new Map;function St(lt,J){Pt.set(lt,J)}function q(lt){return Pt.get(lt)}function j(lt){var J=lt.attr(),Z=J.x,wt=J.y,ct=J.width,ue=J.height;return{x:Z,y:wt,width:ct,height:ue}}function re(lt){var J=lt.attr(),Z=J.x,wt=J.y,ct=J.r;return{x:Z-ct,y:wt-ct,width:ct*2,height:ct*2}}var le=H(32793);function jt(lt,J){return!lt||!J?lt||J:{minX:Math.min(lt.minX,J.minX),minY:Math.min(lt.minY,J.minY),maxX:Math.max(lt.maxX,J.maxX),maxY:Math.max(lt.maxY,J.maxY)}}function fe(lt,J){var Z=lt.get("startArrowShape"),wt=lt.get("endArrowShape"),ct=null,ue=null;return Z&&(ct=Z.getCanvasBBox(),J=jt(J,ct)),wt&&(ue=wt.getCanvasBBox(),J=jt(J,ue)),J}function ce(lt){for(var J=lt.attr(),Z=J.points,wt=[],ct=[],ue=0;ue<Z.length;ue++){var ve=Z[ue];wt.push(ve[0]),ct.push(ve[1])}var Ht=le.Zr.getBBoxByArray(wt,ct),Qt=Ht.x,ge=Ht.y,Ot=Ht.width,oe=Ht.height,ie={minX:Qt,minY:ge,maxX:Qt+Ot,maxY:ge+oe};return ie=fe(lt,ie),{x:ie.minX,y:ie.minY,width:ie.maxX-ie.minX,height:ie.maxY-ie.minY}}function Pe(lt){for(var J=lt.attr(),Z=J.points,wt=[],ct=[],ue=0;ue<Z.length;ue++){var ve=Z[ue];wt.push(ve[0]),ct.push(ve[1])}return le.Zr.getBBoxByArray(wt,ct)}var de=H(8723);function Te(lt){var J=lt.attr(),Z=J.x,wt=J.y,ct=J.text,ue=J.fontSize,ve=J.lineHeight,Ht=J.font;Ht||(Ht=(0,de.$O)(J));var Qt=(0,de.mY)(ct,Ht),ge;if(!Qt)ge={x:Z,y:wt,width:0,height:0};else{var Ot=J.textAlign,oe=J.textBaseline,ie=(0,de.FE)(ct,ue,ve),et={x:Z,y:wt-ie};Ot&&(Ot==="end"||Ot==="right"?et.x-=Qt:Ot==="center"&&(et.x-=Qt/2)),oe&&(oe==="top"?et.y+=ie:oe==="middle"&&(et.y+=ie/2)),ge={x:et.x,y:et.y,width:Qt,height:ie}}return ge}var I=H(39499),m=H(45098);function Bt(lt,J){for(var Z=[],wt=[],ct=[],ue=0;ue<lt.length;ue++){var ve=lt[ue],Ht=ve.currentPoint,Qt=ve.params,ge=ve.prePoint,Ot=void 0;switch(ve.command){case"Q":Ot=le.lD.box(ge[0],ge[1],Qt[1],Qt[2],Qt[3],Qt[4]);break;case"C":Ot=le.Ll.box(ge[0],ge[1],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6]);break;case"A":var oe=ve.arcParams;Ot=le.wN.box(oe.cx,oe.cy,oe.rx,oe.ry,oe.xRotation,oe.startAngle,oe.endAngle);break;default:Z.push(Ht[0]),wt.push(Ht[1]);break}Ot&&(ve.box=Ot,Z.push(Ot.x,Ot.x+Ot.width),wt.push(Ot.y,Ot.y+Ot.height)),J&&(ve.command==="L"||ve.command==="M")&&ve.prePoint&&ve.nextPoint&&ct.push(ve)}Z=Z.filter(function(ye){return!Number.isNaN(ye)&&ye!==1/0&&ye!==-1/0}),wt=wt.filter(function(ye){return!Number.isNaN(ye)&&ye!==1/0&&ye!==-1/0});var ie=(0,m.VV)(Z),et=(0,m.VV)(wt),vt=(0,m.Fp)(Z),me=(0,m.Fp)(wt);if(ct.length===0)return{x:ie,y:et,width:vt-ie,height:me-et};for(var ue=0;ue<ct.length;ue++){var ve=ct[ue],Ht=ve.currentPoint,Ae=void 0;Ht[0]===ie?(Ae=Et(ve,J),ie=ie-Ae.xExtra):Ht[0]===vt&&(Ae=Et(ve,J),vt=vt+Ae.xExtra),Ht[1]===et?(Ae=Et(ve,J),et=et-Ae.yExtra):Ht[1]===me&&(Ae=Et(ve,J),me=me+Ae.yExtra)}return{x:ie,y:et,width:vt-ie,height:me-et}}function Et(lt,J){var Z=lt.prePoint,wt=lt.currentPoint,ct=lt.nextPoint,ue=Math.pow(wt[0]-Z[0],2)+Math.pow(wt[1]-Z[1],2),ve=Math.pow(wt[0]-ct[0],2)+Math.pow(wt[1]-ct[1],2),Ht=Math.pow(Z[0]-ct[0],2)+Math.pow(Z[1]-ct[1],2),Qt=Math.acos((ue+ve-Ht)/(2*Math.sqrt(ue)*Math.sqrt(ve)));if(!Qt||Math.sin(Qt)===0||(0,m.vQ)(Qt,0))return{xExtra:0,yExtra:0};var ge=Math.abs(Math.atan2(ct[1]-wt[1],ct[0]-wt[0])),Ot=Math.abs(Math.atan2(ct[0]-wt[0],ct[1]-wt[1]));ge=ge>Math.PI/2?Math.PI-ge:ge,Ot=Ot>Math.PI/2?Math.PI-Ot:Ot;var oe={xExtra:Math.cos(Qt/2-ge)*(J/2*(1/Math.sin(Qt/2)))-J/2||0,yExtra:Math.cos(Ot-Qt/2)*(J/2*(1/Math.sin(Qt/2)))-J/2||0};return oe}function Vt(lt){var J=lt.attr(),Z=J.path,wt=J.stroke,ct=wt?J.lineWidth:0,ue=lt.get("segments")||(0,I.zx)(Z),ve=Bt(ue,ct),Ht=ve.x,Qt=ve.y,ge=ve.width,Ot=ve.height,oe={minX:Ht,minY:Qt,maxX:Ht+ge,maxY:Qt+Ot};return oe=fe(lt,oe),{x:oe.minX,y:oe.minY,width:oe.maxX-oe.minX,height:oe.maxY-oe.minY}}function Rt(lt){var J=lt.attr(),Z=J.x1,wt=J.y1,ct=J.x2,ue=J.y2,ve=Math.min(Z,ct),Ht=Math.max(Z,ct),Qt=Math.min(wt,ue),ge=Math.max(wt,ue),Ot={minX:ve,maxX:Ht,minY:Qt,maxY:ge};return Ot=fe(lt,Ot),{x:Ot.minX,y:Ot.minY,width:Ot.maxX-Ot.minX,height:Ot.maxY-Ot.minY}}function Ct(lt){var J=lt.attr(),Z=J.x,wt=J.y,ct=J.rx,ue=J.ry;return{x:Z-ct,y:wt-ue,width:ct*2,height:ue*2}}St("rect",j),St("image",j),St("circle",re),St("marker",re),St("polyline",ce),St("polygon",Pe),St("text",Te),St("path",Vt),St("line",Rt),St("ellipse",Ct)},89473:function(sr,Ue){"use strict";var H=function(){function Pt(St,q){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=St,this.name=St,this.originalEvent=q,this.timeStamp=q.timeStamp}return Pt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Pt.prototype.stopPropagation=function(){this.propagationStopped=!0},Pt.prototype.toString=function(){var St=this.type;return"[Event (type="+St+")]"},Pt.prototype.save=function(){},Pt.prototype.restore=function(){},Pt}();Ue.Z=H},98190:function(sr,Ue,H){"use strict";H.r(Ue),H.d(Ue,{AbstractCanvas:function(){return Pe.Z},AbstractGroup:function(){return de.Z},AbstractShape:function(){return Te.Z},Base:function(){return ce.Z},Event:function(){return fe.Z},PathUtil:function(){return Pt},assembleFont:function(){return m.$O},getBBoxMethod:function(){return I.b},getOffScreenContext:function(){return Vt.L},getTextHeight:function(){return m.FE},invert:function(){return Et.U_},isAllowCapture:function(){return Bt.pP},multiplyVec2:function(){return Et.rG},registerBBox:function(){return I.W},registerEasing:function(){return Rt.C},version:function(){return Ct}});var Pt=H(47575),St=H(52),q=H.n(St),jt={};for(var j in St)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(j)<0&&(jt[j]=function(lt){return St[lt]}.bind(0,j));H.d(Ue,jt);var re=H(15294),le=H.n(re),jt={};for(var j in re)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(j)<0&&(jt[j]=function(J){return re[J]}.bind(0,j));H.d(Ue,jt);var fe=H(89473),ce=H(2667),Pe=H(54887),de=H(31841),Te=H(15032),I=H(46556),m=H(8723),Bt=H(77341),Et=H(41482),Vt=H(67052),Rt=H(93924),Ct="0.5.11"},15294:function(){},52:function(){},41482:function(sr,Ue,H){"use strict";H.d(Ue,{U_:function(){return q},rG:function(){return St},xq:function(){return Pt}});function Pt(j,re){var le=[],jt=j[0],fe=j[1],ce=j[2],Pe=j[3],de=j[4],Te=j[5],I=j[6],m=j[7],Bt=j[8],Et=re[0],Vt=re[1],Rt=re[2],Ct=re[3],lt=re[4],J=re[5],Z=re[6],wt=re[7],ct=re[8];return le[0]=Et*jt+Vt*Pe+Rt*I,le[1]=Et*fe+Vt*de+Rt*m,le[2]=Et*ce+Vt*Te+Rt*Bt,le[3]=Ct*jt+lt*Pe+J*I,le[4]=Ct*fe+lt*de+J*m,le[5]=Ct*ce+lt*Te+J*Bt,le[6]=Z*jt+wt*Pe+ct*I,le[7]=Z*fe+wt*de+ct*m,le[8]=Z*ce+wt*Te+ct*Bt,le}function St(j,re){var le=[],jt=re[0],fe=re[1];return le[0]=j[0]*jt+j[3]*fe+j[6],le[1]=j[1]*jt+j[4]*fe+j[7],le}function q(j){var re=[],le=j[0],jt=j[1],fe=j[2],ce=j[3],Pe=j[4],de=j[5],Te=j[6],I=j[7],m=j[8],Bt=m*Pe-de*I,Et=-m*ce+de*Te,Vt=I*ce-Pe*Te,Rt=le*Bt+jt*Et+fe*Vt;return Rt?(Rt=1/Rt,re[0]=Bt*Rt,re[1]=(-m*jt+fe*I)*Rt,re[2]=(de*jt-fe*Pe)*Rt,re[3]=Et*Rt,re[4]=(m*le-fe*Te)*Rt,re[5]=(-de*le+fe*ce)*Rt,re[6]=Vt*Rt,re[7]=(-I*le+jt*Te)*Rt,re[8]=(Pe*le-jt*ce)*Rt,re):null}},67052:function(sr,Ue,H){"use strict";H.d(Ue,{L:function(){return St}});var Pt=null;function St(){if(!Pt){var q=document.createElement("canvas");q.width=1,q.height=1,Pt=q.getContext("2d")}return Pt}},47575:function(sr,Ue,H){"use strict";H.r(Ue),H.d(Ue,{catmullRomToBezier:function(){return le},fillPath:function(){return oe},fillPathByDiff:function(){return me},formatPath:function(){return be},intersection:function(){return Ht},parsePathArray:function(){return m},parsePathString:function(){return re},pathToAbsolute:function(){return fe},pathToCurve:function(){return Te},rectPath:function(){return lt}});var Pt=H(45098),St=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,q=new RegExp("([a-z])["+St+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+St+"]*,?["+St+"]*)+)","ig"),j=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+St+"]*,?["+St+"]*","ig"),re=function(ut){if(!ut)return null;if((0,Pt.kJ)(ut))return ut;var Tt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},It=[];return String(ut).replace(q,function(ft,Jt,ee){var at=[],K=Jt.toLowerCase();if(ee.replace(j,function(W,it){it&&at.push(+it)}),K==="m"&&at.length>2&&(It.push([Jt].concat(at.splice(0,2))),K="l",Jt=Jt==="m"?"l":"L"),K==="o"&&at.length===1&&It.push([Jt,at[0]]),K==="r")It.push([Jt].concat(at));else for(;at.length>=Tt[K]&&(It.push([Jt].concat(at.splice(0,Tt[K]))),!!Tt[K]););return ut}),It},le=function(ut,Tt){for(var It=[],ft=0,Jt=ut.length;Jt-2*!Tt>ft;ft+=2){var ee=[{x:+ut[ft-2],y:+ut[ft-1]},{x:+ut[ft],y:+ut[ft+1]},{x:+ut[ft+2],y:+ut[ft+3]},{x:+ut[ft+4],y:+ut[ft+5]}];Tt?ft?Jt-4===ft?ee[3]={x:+ut[0],y:+ut[1]}:Jt-2===ft&&(ee[2]={x:+ut[0],y:+ut[1]},ee[3]={x:+ut[2],y:+ut[3]}):ee[0]={x:+ut[Jt-2],y:+ut[Jt-1]}:Jt-4===ft?ee[3]=ee[2]:ft||(ee[0]={x:+ut[ft],y:+ut[ft+1]}),It.push(["C",(-ee[0].x+6*ee[1].x+ee[2].x)/6,(-ee[0].y+6*ee[1].y+ee[2].y)/6,(ee[1].x+6*ee[2].x-ee[3].x)/6,(ee[1].y+6*ee[2].y-ee[3].y)/6,ee[2].x,ee[2].y])}return It},jt=function(ut,Tt,It,ft,Jt){var ee=[];if(Jt===null&&ft===null&&(ft=It),ut=+ut,Tt=+Tt,It=+It,ft=+ft,Jt!==null){var at=Math.PI/180,K=ut+It*Math.cos(-ft*at),W=ut+It*Math.cos(-Jt*at),it=Tt+It*Math.sin(-ft*at),tt=Tt+It*Math.sin(-Jt*at);ee=[["M",K,it],["A",It,It,0,+(Jt-ft>180),0,W,tt]]}else ee=[["M",ut,Tt],["m",0,-ft],["a",It,ft,0,1,1,0,2*ft],["a",It,ft,0,1,1,0,-2*ft],["z"]];return ee},fe=function(ut){if(ut=re(ut),!ut||!ut.length)return[["M",0,0]];var Tt=[],It=0,ft=0,Jt=0,ee=0,at=0,K,W;ut[0][0]==="M"&&(It=+ut[0][1],ft=+ut[0][2],Jt=It,ee=ft,at++,Tt[0]=["M",It,ft]);for(var it=ut.length===3&&ut[0][0]==="M"&&ut[1][0].toUpperCase()==="R"&&ut[2][0].toUpperCase()==="Z",tt=void 0,yt=void 0,gt=at,Wt=ut.length;gt<Wt;gt++){if(Tt.push(tt=[]),yt=ut[gt],K=yt[0],K!==K.toUpperCase())switch(tt[0]=K.toUpperCase(),tt[0]){case"A":tt[1]=yt[1],tt[2]=yt[2],tt[3]=yt[3],tt[4]=yt[4],tt[5]=yt[5],tt[6]=+yt[6]+It,tt[7]=+yt[7]+ft;break;case"V":tt[1]=+yt[1]+ft;break;case"H":tt[1]=+yt[1]+It;break;case"R":W=[It,ft].concat(yt.slice(1));for(var Kt=2,Ce=W.length;Kt<Ce;Kt++)W[Kt]=+W[Kt]+It,W[++Kt]=+W[Kt]+ft;Tt.pop(),Tt=Tt.concat(le(W,it));break;case"O":Tt.pop(),W=jt(It,ft,yt[1],yt[2]),W.push(W[0]),Tt=Tt.concat(W);break;case"U":Tt.pop(),Tt=Tt.concat(jt(It,ft,yt[1],yt[2],yt[3])),tt=["U"].concat(Tt[Tt.length-1].slice(-2));break;case"M":Jt=+yt[1]+It,ee=+yt[2]+ft;break;default:for(var Kt=1,Ce=yt.length;Kt<Ce;Kt++)tt[Kt]=+yt[Kt]+(Kt%2?It:ft)}else if(K==="R")W=[It,ft].concat(yt.slice(1)),Tt.pop(),Tt=Tt.concat(le(W,it)),tt=["R"].concat(yt.slice(-2));else if(K==="O")Tt.pop(),W=jt(It,ft,yt[1],yt[2]),W.push(W[0]),Tt=Tt.concat(W);else if(K==="U")Tt.pop(),Tt=Tt.concat(jt(It,ft,yt[1],yt[2],yt[3])),tt=["U"].concat(Tt[Tt.length-1].slice(-2));else for(var He=0,We=yt.length;He<We;He++)tt[He]=yt[He];if(K=K.toUpperCase(),K!=="O")switch(tt[0]){case"Z":It=+Jt,ft=+ee;break;case"H":It=tt[1];break;case"V":ft=tt[1];break;case"M":Jt=tt[tt.length-2],ee=tt[tt.length-1];break;default:It=tt[tt.length-2],ft=tt[tt.length-1]}}return Tt},ce=function(ut,Tt,It,ft){return[ut,Tt,It,ft,It,ft]},Pe=function(ut,Tt,It,ft,Jt,ee){var at=.3333333333333333,K=2/3;return[at*ut+K*It,at*Tt+K*ft,at*Jt+K*It,at*ee+K*ft,Jt,ee]},de=function(ut,Tt,It,ft,Jt,ee,at,K,W,it){It===ft&&(It+=1);var tt=Math.PI*120/180,yt=Math.PI/180*(+Jt||0),gt=[],Wt,Kt,Ce,He,We,Je=function(Or,Nr,cn){var On=Or*Math.cos(cn)-Nr*Math.sin(cn),Cn=Or*Math.sin(cn)+Nr*Math.cos(cn);return{x:On,y:Cn}};if(it)Kt=it[0],Ce=it[1],He=it[2],We=it[3];else{Wt=Je(ut,Tt,-yt),ut=Wt.x,Tt=Wt.y,Wt=Je(K,W,-yt),K=Wt.x,W=Wt.y,ut===K&&Tt===W&&(K+=1,W+=1);var ke=(ut-K)/2,Fe=(Tt-W)/2,At=ke*ke/(It*It)+Fe*Fe/(ft*ft);At>1&&(At=Math.sqrt(At),It=At*It,ft=At*ft);var Xt=It*It,$t=ft*ft,pe=(ee===at?-1:1)*Math.sqrt(Math.abs((Xt*$t-Xt*Fe*Fe-$t*ke*ke)/(Xt*Fe*Fe+$t*ke*ke)));He=pe*It*Fe/ft+(ut+K)/2,We=pe*-ft*ke/It+(Tt+W)/2,Kt=Math.asin(((Tt-We)/ft).toFixed(9)),Ce=Math.asin(((W-We)/ft).toFixed(9)),Kt=ut<He?Math.PI-Kt:Kt,Ce=K<He?Math.PI-Ce:Ce,Kt<0&&(Kt=Math.PI*2+Kt),Ce<0&&(Ce=Math.PI*2+Ce),at&&Kt>Ce&&(Kt=Kt-Math.PI*2),!at&&Ce>Kt&&(Ce=Ce-Math.PI*2)}var _e=Ce-Kt;if(Math.abs(_e)>tt){var Ve=Ce,Be=K,Le=W;Ce=Kt+tt*(at&&Ce>Kt?1:-1),K=He+It*Math.cos(Ce),W=We+ft*Math.sin(Ce),gt=de(K,W,It,ft,Jt,0,at,Be,Le,[Ce,Ve,He,We])}_e=Ce-Kt;var Ie=Math.cos(Kt),$e=Math.sin(Kt),Ze=Math.cos(Ce),er=Math.sin(Ce),or=Math.tan(_e/4),je=4/3*It*or,qe=4/3*ft*or,hr=[ut,Tt],dr=[ut+je*$e,Tt-qe*Ie],ur=[K+je*er,W-qe*Ze],fr=[K,W];if(dr[0]=2*hr[0]-dr[0],dr[1]=2*hr[1]-dr[1],it)return[dr,ur,fr].concat(gt);gt=[dr,ur,fr].concat(gt).join().split(",");for(var cr=[],gr=0,Tr=gt.length;gr<Tr;gr++)cr[gr]=gr%2?Je(gt[gr-1],gt[gr],yt).y:Je(gt[gr],gt[gr+1],yt).x;return cr},Te=function(ut,Tt){var It=fe(ut),ft=Tt&&fe(Tt),Jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},at=[],K=[],W="",it="",tt,yt=function(ke,Fe,At){var Xt,$t;if(!ke)return["C",Fe.x,Fe.y,Fe.x,Fe.y,Fe.x,Fe.y];switch(!(ke[0]in{T:1,Q:1})&&(Fe.qx=Fe.qy=null),ke[0]){case"M":Fe.X=ke[1],Fe.Y=ke[2];break;case"A":ke=["C"].concat(de.apply(0,[Fe.x,Fe.y].concat(ke.slice(1))));break;case"S":At==="C"||At==="S"?(Xt=Fe.x*2-Fe.bx,$t=Fe.y*2-Fe.by):(Xt=Fe.x,$t=Fe.y),ke=["C",Xt,$t].concat(ke.slice(1));break;case"T":At==="Q"||At==="T"?(Fe.qx=Fe.x*2-Fe.qx,Fe.qy=Fe.y*2-Fe.qy):(Fe.qx=Fe.x,Fe.qy=Fe.y),ke=["C"].concat(Pe(Fe.x,Fe.y,Fe.qx,Fe.qy,ke[1],ke[2]));break;case"Q":Fe.qx=ke[1],Fe.qy=ke[2],ke=["C"].concat(Pe(Fe.x,Fe.y,ke[1],ke[2],ke[3],ke[4]));break;case"L":ke=["C"].concat(ce(Fe.x,Fe.y,ke[1],ke[2]));break;case"H":ke=["C"].concat(ce(Fe.x,Fe.y,ke[1],Fe.y));break;case"V":ke=["C"].concat(ce(Fe.x,Fe.y,Fe.x,ke[1]));break;case"Z":ke=["C"].concat(ce(Fe.x,Fe.y,Fe.X,Fe.Y));break;default:break}return ke},gt=function(ke,Fe){if(ke[Fe].length>7){ke[Fe].shift();for(var At=ke[Fe];At.length;)at[Fe]="A",ft&&(K[Fe]="A"),ke.splice(Fe++,0,["C"].concat(At.splice(0,6)));ke.splice(Fe,1),tt=Math.max(It.length,ft&&ft.length||0)}},Wt=function(ke,Fe,At,Xt,$t){ke&&Fe&&ke[$t][0]==="M"&&Fe[$t][0]!=="M"&&(Fe.splice($t,0,["M",Xt.x,Xt.y]),At.bx=0,At.by=0,At.x=ke[$t][1],At.y=ke[$t][2],tt=Math.max(It.length,ft&&ft.length||0))};tt=Math.max(It.length,ft&&ft.length||0);for(var Kt=0;Kt<tt;Kt++){It[Kt]&&(W=It[Kt][0]),W!=="C"&&(at[Kt]=W,Kt&&(it=at[Kt-1])),It[Kt]=yt(It[Kt],Jt,it),at[Kt]!=="A"&&W==="C"&&(at[Kt]="C"),gt(It,Kt),ft&&(ft[Kt]&&(W=ft[Kt][0]),W!=="C"&&(K[Kt]=W,Kt&&(it=K[Kt-1])),ft[Kt]=yt(ft[Kt],ee,it),K[Kt]!=="A"&&W==="C"&&(K[Kt]="C"),gt(ft,Kt)),Wt(It,ft,Jt,ee,Kt),Wt(ft,It,ee,Jt,Kt);var Ce=It[Kt],He=ft&&ft[Kt],We=Ce.length,Je=ft&&He.length;Jt.x=Ce[We-2],Jt.y=Ce[We-1],Jt.bx=parseFloat(Ce[We-4])||Jt.x,Jt.by=parseFloat(Ce[We-3])||Jt.y,ee.bx=ft&&(parseFloat(He[Je-4])||ee.x),ee.by=ft&&(parseFloat(He[Je-3])||ee.y),ee.x=ft&&He[Je-2],ee.y=ft&&He[Je-1]}return ft?[It,ft]:It},I=/,?([a-z]),?/gi,m=function(ut){return ut.join(",").replace(I,"$1")},Bt=function(ut,Tt,It,ft,Jt){var ee=-3*Tt+9*It-9*ft+3*Jt,at=ut*ee+6*Tt-12*It+6*ft;return ut*at-3*Tt+3*It},Et=function(ut,Tt,It,ft,Jt,ee,at,K,W){W===null&&(W=1),W=W>1?1:W<0?0:W;for(var it=W/2,tt=12,yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],gt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Wt=0,Kt=0;Kt<tt;Kt++){var Ce=it*yt[Kt]+it,He=Bt(Ce,ut,It,Jt,at),We=Bt(Ce,Tt,ft,ee,K),Je=He*He+We*We;Wt+=gt[Kt]*Math.sqrt(Je)}return it*Wt},Vt=function(ut,Tt,It,ft,Jt,ee,at,K){for(var W=[],it=[[],[]],tt,yt,gt,Wt,Kt=0;Kt<2;++Kt){if(Kt===0?(yt=6*ut-12*It+6*Jt,tt=-3*ut+9*It-9*Jt+3*at,gt=3*It-3*ut):(yt=6*Tt-12*ft+6*ee,tt=-3*Tt+9*ft-9*ee+3*K,gt=3*ft-3*Tt),Math.abs(tt)<1e-12){if(Math.abs(yt)<1e-12)continue;Wt=-gt/yt,Wt>0&&Wt<1&&W.push(Wt);continue}var Ce=yt*yt-4*gt*tt,He=Math.sqrt(Ce);if(!(Ce<0)){var We=(-yt+He)/(2*tt);We>0&&We<1&&W.push(We);var Je=(-yt-He)/(2*tt);Je>0&&Je<1&&W.push(Je)}}for(var ke=W.length,Fe=ke,At;ke--;)Wt=W[ke],At=1-Wt,it[0][ke]=At*At*At*ut+3*At*At*Wt*It+3*At*Wt*Wt*Jt+Wt*Wt*Wt*at,it[1][ke]=At*At*At*Tt+3*At*At*Wt*ft+3*At*Wt*Wt*ee+Wt*Wt*Wt*K;return it[0][Fe]=ut,it[1][Fe]=Tt,it[0][Fe+1]=at,it[1][Fe+1]=K,it[0].length=it[1].length=Fe+2,{min:{x:Math.min.apply(0,it[0]),y:Math.min.apply(0,it[1])},max:{x:Math.max.apply(0,it[0]),y:Math.max.apply(0,it[1])}}},Rt=function(ut,Tt,It,ft,Jt,ee,at,K){if(!(Math.max(ut,It)<Math.min(Jt,at)||Math.min(ut,It)>Math.max(Jt,at)||Math.max(Tt,ft)<Math.min(ee,K)||Math.min(Tt,ft)>Math.max(ee,K))){var W=(ut*ft-Tt*It)*(Jt-at)-(ut-It)*(Jt*K-ee*at),it=(ut*ft-Tt*It)*(ee-K)-(Tt-ft)*(Jt*K-ee*at),tt=(ut-It)*(ee-K)-(Tt-ft)*(Jt-at);if(tt){var yt=W/tt,gt=it/tt,Wt=+yt.toFixed(2),Kt=+gt.toFixed(2);if(!(Wt<+Math.min(ut,It).toFixed(2)||Wt>+Math.max(ut,It).toFixed(2)||Wt<+Math.min(Jt,at).toFixed(2)||Wt>+Math.max(Jt,at).toFixed(2)||Kt<+Math.min(Tt,ft).toFixed(2)||Kt>+Math.max(Tt,ft).toFixed(2)||Kt<+Math.min(ee,K).toFixed(2)||Kt>+Math.max(ee,K).toFixed(2)))return{x:yt,y:gt}}}},Ct=function(ut,Tt,It){return Tt>=ut.x&&Tt<=ut.x+ut.width&&It>=ut.y&&It<=ut.y+ut.height},lt=function(ut,Tt,It,ft,Jt){if(Jt)return[["M",+ut+ +Jt,Tt],["l",It-Jt*2,0],["a",Jt,Jt,0,0,1,Jt,Jt],["l",0,ft-Jt*2],["a",Jt,Jt,0,0,1,-Jt,Jt],["l",Jt*2-It,0],["a",Jt,Jt,0,0,1,-Jt,-Jt],["l",0,Jt*2-ft],["a",Jt,Jt,0,0,1,Jt,-Jt],["z"]];var ee=[["M",ut,Tt],["l",It,0],["l",0,ft],["l",-It,0],["z"]];return ee.parsePathArray=m,ee},J=function(ut,Tt,It,ft){return ut===null&&(ut=Tt=It=ft=0),Tt===null&&(Tt=ut.y,It=ut.width,ft=ut.height,ut=ut.x),{x:ut,y:Tt,width:It,w:It,height:ft,h:ft,x2:ut+It,y2:Tt+ft,cx:ut+It/2,cy:Tt+ft/2,r1:Math.min(It,ft)/2,r2:Math.max(It,ft)/2,r0:Math.sqrt(It*It+ft*ft)/2,path:lt(ut,Tt,It,ft),vb:[ut,Tt,It,ft].join(" ")}},Z=function(ut,Tt){return ut=J(ut),Tt=J(Tt),Ct(Tt,ut.x,ut.y)||Ct(Tt,ut.x2,ut.y)||Ct(Tt,ut.x,ut.y2)||Ct(Tt,ut.x2,ut.y2)||Ct(ut,Tt.x,Tt.y)||Ct(ut,Tt.x2,Tt.y)||Ct(ut,Tt.x,Tt.y2)||Ct(ut,Tt.x2,Tt.y2)||(ut.x<Tt.x2&&ut.x>Tt.x||Tt.x<ut.x2&&Tt.x>ut.x)&&(ut.y<Tt.y2&&ut.y>Tt.y||Tt.y<ut.y2&&Tt.y>ut.y)},wt=function(ut,Tt,It,ft,Jt,ee,at,K){(0,Pt.kJ)(ut)||(ut=[ut,Tt,It,ft,Jt,ee,at,K]);var W=Vt.apply(null,ut);return J(W.min.x,W.min.y,W.max.x-W.min.x,W.max.y-W.min.y)},ct=function(ut,Tt,It,ft,Jt,ee,at,K,W){var it=1-W,tt=Math.pow(it,3),yt=Math.pow(it,2),gt=W*W,Wt=gt*W,Kt=tt*ut+yt*3*W*It+it*3*W*W*Jt+Wt*at,Ce=tt*Tt+yt*3*W*ft+it*3*W*W*ee+Wt*K,He=ut+2*W*(It-ut)+gt*(Jt-2*It+ut),We=Tt+2*W*(ft-Tt)+gt*(ee-2*ft+Tt),Je=It+2*W*(Jt-It)+gt*(at-2*Jt+It),ke=ft+2*W*(ee-ft)+gt*(K-2*ee+ft),Fe=it*ut+W*It,At=it*Tt+W*ft,Xt=it*Jt+W*at,$t=it*ee+W*K,pe=90-Math.atan2(He-Je,We-ke)*180/Math.PI;return{x:Kt,y:Ce,m:{x:He,y:We},n:{x:Je,y:ke},start:{x:Fe,y:At},end:{x:Xt,y:$t},alpha:pe}},ue=function(ut,Tt,It){var ft=wt(ut),Jt=wt(Tt);if(!Z(ft,Jt))return It?0:[];for(var ee=Et.apply(0,ut),at=Et.apply(0,Tt),K=~~(ee/8),W=~~(at/8),it=[],tt=[],yt={},gt=It?0:[],Wt=0;Wt<K+1;Wt++){var Kt=ct.apply(0,ut.concat(Wt/K));it.push({x:Kt.x,y:Kt.y,t:Wt/K})}for(var Wt=0;Wt<W+1;Wt++){var Kt=ct.apply(0,Tt.concat(Wt/W));tt.push({x:Kt.x,y:Kt.y,t:Wt/W})}for(var Wt=0;Wt<K;Wt++)for(var Ce=0;Ce<W;Ce++){var He=it[Wt],We=it[Wt+1],Je=tt[Ce],ke=tt[Ce+1],Fe=Math.abs(We.x-He.x)<.001?"y":"x",At=Math.abs(ke.x-Je.x)<.001?"y":"x",Xt=Rt(He.x,He.y,We.x,We.y,Je.x,Je.y,ke.x,ke.y);if(Xt){if(yt[Xt.x.toFixed(4)]===Xt.y.toFixed(4))continue;yt[Xt.x.toFixed(4)]=Xt.y.toFixed(4);var $t=He.t+Math.abs((Xt[Fe]-He[Fe])/(We[Fe]-He[Fe]))*(We.t-He.t),pe=Je.t+Math.abs((Xt[At]-Je[At])/(ke[At]-Je[At]))*(ke.t-Je.t);$t>=0&&$t<=1&&pe>=0&&pe<=1&&(It?gt+=1:gt.push({x:Xt.x,y:Xt.y,t1:$t,t2:pe}))}}return gt},ve=function(ut,Tt,It){ut=Te(ut),Tt=Te(Tt);for(var ft,Jt,ee,at,K,W,it,tt,yt,gt,Wt=It?0:[],Kt=0,Ce=ut.length;Kt<Ce;Kt++){var He=ut[Kt];if(He[0]==="M")ft=K=He[1],Jt=W=He[2];else{He[0]==="C"?(yt=[ft,Jt].concat(He.slice(1)),ft=yt[6],Jt=yt[7]):(yt=[ft,Jt,ft,Jt,K,W,K,W],ft=K,Jt=W);for(var We=0,Je=Tt.length;We<Je;We++){var ke=Tt[We];if(ke[0]==="M")ee=it=ke[1],at=tt=ke[2];else{ke[0]==="C"?(gt=[ee,at].concat(ke.slice(1)),ee=gt[6],at=gt[7]):(gt=[ee,at,ee,at,it,tt,it,tt],ee=it,at=tt);var Fe=ue(yt,gt,It);if(It)Wt+=Fe;else{for(var At=0,Xt=Fe.length;At<Xt;At++)Fe[At].segment1=Kt,Fe[At].segment2=We,Fe[At].bez1=yt,Fe[At].bez2=gt;Wt=Wt.concat(Fe)}}}}}return Wt},Ht=function(ut,Tt){return ve(ut,Tt)};function Qt(ut,Tt){var It=[],ft=[];function Jt(ee,at){if(ee.length===1)It.push(ee[0]),ft.push(ee[0]);else{for(var K=[],W=0;W<ee.length-1;W++)W===0&&It.push(ee[0]),W===ee.length-2&&ft.push(ee[W+1]),K[W]=[(1-at)*ee[W][0]+at*ee[W+1][0],(1-at)*ee[W][1]+at*ee[W+1][1]];Jt(K,at)}}return ut.length&&Jt(ut,Tt),{left:It,right:ft.reverse()}}function ge(ut,Tt,It){var ft=[[ut[1],ut[2]]];It=It||2;var Jt=[];Tt[0]==="A"?(ft.push(Tt[6]),ft.push(Tt[7])):Tt[0]==="C"?(ft.push([Tt[1],Tt[2]]),ft.push([Tt[3],Tt[4]]),ft.push([Tt[5],Tt[6]])):Tt[0]==="S"||Tt[0]==="Q"?(ft.push([Tt[1],Tt[2]]),ft.push([Tt[3],Tt[4]])):ft.push([Tt[1],Tt[2]]);for(var ee=ft,at=1/It,K=0;K<It-1;K++){var W=at/(1-at*K),it=Qt(ee,W);Jt.push(it.left),ee=it.right}Jt.push(ee);var tt=Jt.map(function(yt){var gt=[];return yt.length===4&&(gt.push("C"),gt=gt.concat(yt[2])),yt.length>=3&&(yt.length===3&&gt.push("Q"),gt=gt.concat(yt[1])),yt.length===2&&gt.push("L"),gt=gt.concat(yt[yt.length-1]),gt});return tt}var Ot=function(ut,Tt,It){if(It===1)return[[].concat(ut)];var ft=[];if(Tt[0]==="L"||Tt[0]==="C"||Tt[0]==="Q")ft=ft.concat(ge(ut,Tt,It));else{var Jt=[].concat(ut);Jt[0]==="M"&&(Jt[0]="L");for(var ee=0;ee<=It-1;ee++)ft.push(Jt)}return ft},oe=function(ut,Tt){if(ut.length===1)return ut;var It=ut.length-1,ft=Tt.length-1,Jt=It/ft,ee=[];if(ut.length===1&&ut[0][0]==="M"){for(var at=0;at<ft-It;at++)ut.push(ut[0]);return ut}for(var at=0;at<ft;at++){var K=Math.floor(Jt*at);ee[K]=(ee[K]||0)+1}var W=ee.reduce(function(it,tt,yt){return yt===It?it.concat(ut[It]):it.concat(Ot(ut[yt],ut[yt+1],tt))},[]);return W.unshift(ut[0]),(Tt[ft]==="Z"||Tt[ft]==="z")&&W.push("Z"),W},ie=function(ut,Tt){if(ut.length!==Tt.length)return!1;var It=!0;return(0,Pt.S6)(ut,function(ft,Jt){if(ft!==Tt[Jt])return It=!1,!1}),It};function et(ut,Tt,It){var ft=null,Jt=It;return Tt<Jt&&(Jt=Tt,ft="add"),ut<Jt&&(Jt=ut,ft="del"),{type:ft,min:Jt}}var vt=function(ut,Tt){var It=ut.length,ft=Tt.length,Jt,ee,at=0;if(It===0||ft===0)return null;for(var K=[],W=0;W<=It;W++)K[W]=[],K[W][0]={min:W};for(var it=0;it<=ft;it++)K[0][it]={min:it};for(var W=1;W<=It;W++){Jt=ut[W-1];for(var it=1;it<=ft;it++){ee=Tt[it-1],ie(Jt,ee)?at=0:at=1;var tt=K[W-1][it].min+1,yt=K[W][it-1].min+1,gt=K[W-1][it-1].min+at;K[W][it]=et(tt,yt,gt)}}return K},me=function(ut,Tt){var It=vt(ut,Tt),ft=ut.length,Jt=Tt.length,ee=[],at=1,K=1;if(It[ft][Jt].min!==ft){for(var W=1;W<=ft;W++){var it=It[W][W].min;K=W;for(var tt=at;tt<=Jt;tt++)It[W][tt].min<it&&(it=It[W][tt].min,K=tt);at=K,It[W][at].type&&ee.push({index:W-1,type:It[W][at].type})}for(var W=ee.length-1;W>=0;W--)at=ee[W].index,ee[W].type==="add"?ut.splice(at,0,[].concat(ut[at])):ut.splice(at,1)}ft=ut.length;var yt=Jt-ft;if(ft<Jt)for(var W=0;W<yt;W++)ut[ft-1][0]==="z"||ut[ft-1][0]==="Z"?ut.splice(ft-2,0,ut[ft-2]):ut.push(ut[ft-1]),ft+=1;return ut};function Ae(ut,Tt,It){for(var ft=[].concat(ut),Jt,ee=1/(It+1),at=ye(Tt)[0],K=1;K<=It;K++)ee*=K,Jt=Math.floor(ut.length*ee),Jt===0?ft.unshift([at[0]*ee+ut[Jt][0]*(1-ee),at[1]*ee+ut[Jt][1]*(1-ee)]):ft.splice(Jt,0,[at[0]*ee+ut[Jt][0]*(1-ee),at[1]*ee+ut[Jt][1]*(1-ee)]);return ft}function ye(ut){var Tt=[];switch(ut[0]){case"M":Tt.push([ut[1],ut[2]]);break;case"L":Tt.push([ut[1],ut[2]]);break;case"A":Tt.push([ut[6],ut[7]]);break;case"Q":Tt.push([ut[3],ut[4]]),Tt.push([ut[1],ut[2]]);break;case"T":Tt.push([ut[1],ut[2]]);break;case"C":Tt.push([ut[5],ut[6]]),Tt.push([ut[1],ut[2]]),Tt.push([ut[3],ut[4]]);break;case"S":Tt.push([ut[3],ut[4]]),Tt.push([ut[1],ut[2]]);break;case"H":Tt.push([ut[1],ut[1]]);break;case"V":Tt.push([ut[1],ut[1]]);break;default:}return Tt}var be=function(ut,Tt){if(ut.length<=1)return ut;for(var It,ft=0;ft<Tt.length;ft++)if(ut[ft][0]!==Tt[ft][0])switch(It=ye(ut[ft]),Tt[ft][0]){case"M":ut[ft]=["M"].concat(It[0]);break;case"L":ut[ft]=["L"].concat(It[0]);break;case"A":ut[ft]=[].concat(Tt[ft]),ut[ft][6]=It[0][0],ut[ft][7]=It[0][1];break;case"Q":if(It.length<2)if(ft>0)It=Ae(It,ut[ft-1],1);else{ut[ft]=Tt[ft];break}ut[ft]=["Q"].concat(It.reduce(function(Jt,ee){return Jt.concat(ee)},[]));break;case"T":ut[ft]=["T"].concat(It[0]);break;case"C":if(It.length<3)if(ft>0)It=Ae(It,ut[ft-1],2);else{ut[ft]=Tt[ft];break}ut[ft]=["C"].concat(It.reduce(function(Jt,ee){return Jt.concat(ee)},[]));break;case"S":if(It.length<2)if(ft>0)It=Ae(It,ut[ft-1],1);else{ut[ft]=Tt[ft];break}ut[ft]=["S"].concat(It.reduce(function(Jt,ee){return Jt.concat(ee)},[]));break;default:ut[ft]=Tt[ft]}return ut}},8723:function(sr,Ue,H){"use strict";H.d(Ue,{$O:function(){return le},FE:function(){return q},mY:function(){return re}});var Pt=H(77341),St=H(67052);function q(jt,fe,ce){var Pe=1;if((0,Pt.HD)(jt)&&(Pe=jt.split(`
`).length),Pe>1){var de=j(fe,ce);return fe*Pe+de*(Pe-1)}return fe}function j(jt,fe){return fe?fe-jt:jt*.14}function re(jt,fe){var ce=(0,St.L)(),Pe=0;if((0,Pt.kK)(jt)||jt==="")return Pe;if(ce.save(),ce.font=fe,(0,Pt.HD)(jt)&&jt.includes(`
`)){var de=jt.split(`
`);(0,Pt.S6)(de,function(Te){var I=ce.measureText(Te).width;Pe<I&&(Pe=I)})}else Pe=ce.measureText(jt).width;return ce.restore(),Pe}function le(jt){var fe=jt.fontSize,ce=jt.fontFamily,Pe=jt.fontWeight,de=jt.fontStyle,Te=jt.fontVariant;return[de,Te,Pe,fe+"px",ce].join(" ").trim()}},77341:function(sr,Ue,H){"use strict";H.d(Ue,{As:function(){return St},CD:function(){return Pt.CD},HD:function(){return Pt.HD},Kn:function(){return Pt.Kn},S6:function(){return Pt.S6},UY:function(){return j},jC:function(){return Pt.jC},jU:function(){return q},kK:function(){return Pt.UM},mf:function(){return Pt.mf},pP:function(){return re}});var Pt=H(45098);function St(le,jt){var fe=le.indexOf(jt);fe!==-1&&le.splice(fe,1)}var q=typeof window!="undefined"&&typeof window.document!="undefined";function j(le,jt){if(le.isCanvas())return!0;for(var fe=jt.getParent(),ce=!1;fe;){if(fe===le){ce=!0;break}fe=fe.getParent()}return ce}function re(le){return le.cfg.visible&&le.cfg.capture}},32793:function(sr,Ue,H){"use strict";H.d(Ue,{wN:function(){return Ae},Ll:function(){return ct},x1:function(){return ce},aH:function(){return ft},lD:function(){return Rt},Zr:function(){return Pt}});var Pt={};H.r(Pt),H.d(Pt,{distance:function(){return q},getBBoxByArray:function(){return re},getBBoxRange:function(){return le},isNumberEqual:function(){return j},piMod:function(){return jt}});var St=H(45098);function q(at,K,W,it){var tt=at-W,yt=K-it;return Math.sqrt(tt*tt+yt*yt)}function j(at,K){return Math.abs(at-K)<.001}function re(at,K){var W=(0,St.VV)(at),it=(0,St.VV)(K),tt=(0,St.Fp)(at),yt=(0,St.Fp)(K);return{x:W,y:it,width:tt-W,height:yt-it}}function le(at,K,W,it){return{minX:(0,St.VV)([at,W]),maxX:(0,St.Fp)([at,W]),minY:(0,St.VV)([K,it]),maxY:(0,St.Fp)([K,it])}}function jt(at){return(at+Math.PI*2)%(Math.PI*2)}var fe=H(31437),ce={box:function(at,K,W,it){return re([at,W],[K,it])},length:function(at,K,W,it){return q(at,K,W,it)},pointAt:function(at,K,W,it,tt){return{x:(1-tt)*at+tt*W,y:(1-tt)*K+tt*it}},pointDistance:function(at,K,W,it,tt,yt){var gt=(W-at)*(tt-at)+(it-K)*(yt-K);if(gt<0)return q(at,K,tt,yt);var Wt=(W-at)*(W-at)+(it-K)*(it-K);return gt>Wt?q(W,it,tt,yt):this.pointToLine(at,K,W,it,tt,yt)},pointToLine:function(at,K,W,it,tt,yt){var gt=[W-at,it-K];if(fe.I6(gt,[0,0]))return Math.sqrt((tt-at)*(tt-at)+(yt-K)*(yt-K));var Wt=[-gt[1],gt[0]];fe.Fv(Wt,Wt);var Kt=[tt-at,yt-K];return Math.abs(fe.AK(Kt,Wt))},tangentAngle:function(at,K,W,it){return Math.atan2(it-K,W-at)}},Pe=1e-4;function de(at,K,W,it,tt,yt){var gt,Wt=1/0,Kt=[W,it],Ce=20;yt&&yt>200&&(Ce=yt/10);for(var He=1/Ce,We=He/10,Je=0;Je<=Ce;Je++){var ke=Je*He,Fe=[tt.apply(null,at.concat([ke])),tt.apply(null,K.concat([ke]))],At=q(Kt[0],Kt[1],Fe[0],Fe[1]);At<Wt&&(gt=ke,Wt=At)}if(gt===0)return{x:at[0],y:K[0]};if(gt===1){var Xt=at.length;return{x:at[Xt-1],y:K[Xt-1]}}Wt=1/0;for(var Je=0;Je<32&&!(We<Pe);Je++){var $t=gt-We,pe=gt+We,Fe=[tt.apply(null,at.concat([$t])),tt.apply(null,K.concat([$t]))],At=q(Kt[0],Kt[1],Fe[0],Fe[1]);if($t>=0&&At<Wt)gt=$t,Wt=At;else{var _e=[tt.apply(null,at.concat([pe])),tt.apply(null,K.concat([pe]))],Ve=q(Kt[0],Kt[1],_e[0],_e[1]);pe<=1&&Ve<Wt?(gt=pe,Wt=Ve):We*=.5}}return{x:tt.apply(null,at.concat([gt])),y:tt.apply(null,K.concat([gt]))}}function Te(at,K){for(var W=0,it=at.length,tt=0;tt<it;tt++){var yt=at[tt],gt=K[tt],Wt=at[(tt+1)%it],Kt=K[(tt+1)%it];W+=q(yt,gt,Wt,Kt)}return W/2}function I(at,K,W,it){var tt=1-it;return tt*tt*at+2*it*tt*K+it*it*W}function m(at,K,W){var it=at+W-2*K;if(j(it,0))return[.5];var tt=(at-K)/it;return tt<=1&&tt>=0?[tt]:[]}function Bt(at,K,W,it){return 2*(1-it)*(K-at)+2*it*(W-K)}function Et(at,K,W,it,tt,yt,gt){var Wt=I(at,W,tt,gt),Kt=I(K,it,yt,gt),Ce=ce.pointAt(at,K,W,it,gt),He=ce.pointAt(W,it,tt,yt,gt);return[[at,K,Ce.x,Ce.y,Wt,Kt],[Wt,Kt,He.x,He.y,tt,yt]]}function Vt(at,K,W,it,tt,yt,gt){if(gt===0)return(q(at,K,W,it)+q(W,it,tt,yt)+q(at,K,tt,yt))/2;var Wt=Et(at,K,W,it,tt,yt,.5),Kt=Wt[0],Ce=Wt[1];return Kt.push(gt-1),Ce.push(gt-1),Vt.apply(null,Kt)+Vt.apply(null,Ce)}var Rt={box:function(at,K,W,it,tt,yt){var gt=m(at,W,tt)[0],Wt=m(K,it,yt)[0],Kt=[at,tt],Ce=[K,yt];return gt!==void 0&&Kt.push(I(at,W,tt,gt)),Wt!==void 0&&Ce.push(I(K,it,yt,Wt)),re(Kt,Ce)},length:function(at,K,W,it,tt,yt){return Vt(at,K,W,it,tt,yt,3)},nearestPoint:function(at,K,W,it,tt,yt,gt,Wt){return de([at,W,tt],[K,it,yt],gt,Wt,I)},pointDistance:function(at,K,W,it,tt,yt,gt,Wt){var Kt=this.nearestPoint(at,K,W,it,tt,yt,gt,Wt);return q(Kt.x,Kt.y,gt,Wt)},interpolationAt:I,pointAt:function(at,K,W,it,tt,yt,gt){return{x:I(at,W,tt,gt),y:I(K,it,yt,gt)}},divide:function(at,K,W,it,tt,yt,gt){return Et(at,K,W,it,tt,yt,gt)},tangentAngle:function(at,K,W,it,tt,yt,gt){var Wt=Bt(at,W,tt,gt),Kt=Bt(K,it,yt,gt),Ce=Math.atan2(Kt,Wt);return jt(Ce)}};function Ct(at,K,W,it,tt){var yt=1-tt;return yt*yt*yt*at+3*K*tt*yt*yt+3*W*tt*tt*yt+it*tt*tt*tt}function lt(at,K,W,it,tt){var yt=1-tt;return 3*(yt*yt*(K-at)+2*yt*tt*(W-K)+tt*tt*(it-W))}function J(at,K,W,it){var tt=-3*at+9*K-9*W+3*it,yt=6*at-12*K+6*W,gt=3*K-3*at,Wt=[],Kt,Ce,He;if(j(tt,0))j(yt,0)||(Kt=-gt/yt,Kt>=0&&Kt<=1&&Wt.push(Kt));else{var We=yt*yt-4*tt*gt;j(We,0)?Wt.push(-yt/(2*tt)):We>0&&(He=Math.sqrt(We),Kt=(-yt+He)/(2*tt),Ce=(-yt-He)/(2*tt),Kt>=0&&Kt<=1&&Wt.push(Kt),Ce>=0&&Ce<=1&&Wt.push(Ce))}return Wt}function Z(at,K,W,it,tt,yt,gt,Wt,Kt){var Ce=Ct(at,W,tt,gt,Kt),He=Ct(K,it,yt,Wt,Kt),We=ce.pointAt(at,K,W,it,Kt),Je=ce.pointAt(W,it,tt,yt,Kt),ke=ce.pointAt(tt,yt,gt,Wt,Kt),Fe=ce.pointAt(We.x,We.y,Je.x,Je.y,Kt),At=ce.pointAt(Je.x,Je.y,ke.x,ke.y,Kt);return[[at,K,We.x,We.y,Fe.x,Fe.y,Ce,He],[Ce,He,At.x,At.y,ke.x,ke.y,gt,Wt]]}function wt(at,K,W,it,tt,yt,gt,Wt,Kt){if(Kt===0)return Te([at,W,tt,gt],[K,it,yt,Wt]);var Ce=Z(at,K,W,it,tt,yt,gt,Wt,.5),He=Ce[0],We=Ce[1];return He.push(Kt-1),We.push(Kt-1),wt.apply(null,He)+wt.apply(null,We)}var ct={extrema:J,box:function(at,K,W,it,tt,yt,gt,Wt){for(var Kt=[at,gt],Ce=[K,Wt],He=J(at,W,tt,gt),We=J(K,it,yt,Wt),Je=0;Je<He.length;Je++)Kt.push(Ct(at,W,tt,gt,He[Je]));for(var Je=0;Je<We.length;Je++)Ce.push(Ct(K,it,yt,Wt,We[Je]));return re(Kt,Ce)},length:function(at,K,W,it,tt,yt,gt,Wt){return wt(at,K,W,it,tt,yt,gt,Wt,3)},nearestPoint:function(at,K,W,it,tt,yt,gt,Wt,Kt,Ce,He){return de([at,W,tt,gt],[K,it,yt,Wt],Kt,Ce,Ct,He)},pointDistance:function(at,K,W,it,tt,yt,gt,Wt,Kt,Ce,He){var We=this.nearestPoint(at,K,W,it,tt,yt,gt,Wt,Kt,Ce,He);return q(We.x,We.y,Kt,Ce)},interpolationAt:Ct,pointAt:function(at,K,W,it,tt,yt,gt,Wt,Kt){return{x:Ct(at,W,tt,gt,Kt),y:Ct(K,it,yt,Wt,Kt)}},divide:function(at,K,W,it,tt,yt,gt,Wt,Kt){return Z(at,K,W,it,tt,yt,gt,Wt,Kt)},tangentAngle:function(at,K,W,it,tt,yt,gt,Wt,Kt){var Ce=lt(at,W,tt,gt,Kt),He=lt(K,it,yt,Wt,Kt);return jt(Math.atan2(He,Ce))}};function ue(at,K){var W=Math.abs(at);return K>0?W:W*-1}var ve={box:function(at,K,W,it){return{x:at-W,y:K-it,width:W*2,height:it*2}},length:function(at,K,W,it){return Math.PI*(3*(W+it)-Math.sqrt((3*W+it)*(W+3*it)))},nearestPoint:function(at,K,W,it,tt,yt){var gt=W,Wt=it;if(gt===0||Wt===0)return{x:at,y:K};for(var Kt=tt-at,Ce=yt-K,He=Math.abs(Kt),We=Math.abs(Ce),Je=gt*gt,ke=Wt*Wt,Fe=Math.PI/4,At,Xt,$t=0;$t<4;$t++){At=gt*Math.cos(Fe),Xt=Wt*Math.sin(Fe);var pe=(Je-ke)*Math.pow(Math.cos(Fe),3)/gt,_e=(ke-Je)*Math.pow(Math.sin(Fe),3)/Wt,Ve=At-pe,Be=Xt-_e,Le=He-pe,Ie=We-_e,$e=Math.hypot(Be,Ve),Ze=Math.hypot(Ie,Le),er=$e*Math.asin((Ve*Ie-Be*Le)/($e*Ze)),or=er/Math.sqrt(Je+ke-At*At-Xt*Xt);Fe+=or,Fe=Math.min(Math.PI/2,Math.max(0,Fe))}return{x:at+ue(At,Kt),y:K+ue(Xt,Ce)}},pointDistance:function(at,K,W,it,tt,yt){var gt=this.nearestPoint(at,K,W,it,tt,yt);return q(gt.x,gt.y,tt,yt)},pointAt:function(at,K,W,it,tt){var yt=2*Math.PI*tt;return{x:at+W*Math.cos(yt),y:K+it*Math.sin(yt)}},tangentAngle:function(at,K,W,it,tt){var yt=2*Math.PI*tt,gt=Math.atan2(it*Math.cos(yt),-W*Math.sin(yt));return jt(gt)}};function Ht(at,K,W,it,tt,yt,gt,Wt){return-1*W*Math.cos(tt)*Math.sin(Wt)-it*Math.sin(tt)*Math.cos(Wt)}function Qt(at,K,W,it,tt,yt,gt,Wt){return-1*W*Math.sin(tt)*Math.sin(Wt)+it*Math.cos(tt)*Math.cos(Wt)}function ge(at,K,W){return Math.atan(-K/at*Math.tan(W))}function Ot(at,K,W){return Math.atan(K/(at*Math.tan(W)))}function oe(at,K,W,it,tt,yt){return W*Math.cos(tt)*Math.cos(yt)-it*Math.sin(tt)*Math.sin(yt)+at}function ie(at,K,W,it,tt,yt){return W*Math.sin(tt)*Math.cos(yt)+it*Math.cos(tt)*Math.sin(yt)+K}function et(at,K,W,it){var tt=Math.atan2(it*at,W*K);return(tt+Math.PI*2)%(Math.PI*2)}function vt(at,K,W){return{x:at*Math.cos(W),y:K*Math.sin(W)}}function me(at,K,W){var it=Math.cos(W),tt=Math.sin(W);return[at*it-K*tt,at*tt+K*it]}var Ae={box:function(at,K,W,it,tt,yt,gt){for(var Wt=ge(W,it,tt),Kt=1/0,Ce=-1/0,He=[yt,gt],We=-Math.PI*2;We<=Math.PI*2;We+=Math.PI){var Je=Wt+We;yt<gt?yt<Je&&Je<gt&&He.push(Je):gt<Je&&Je<yt&&He.push(Je)}for(var We=0;We<He.length;We++){var ke=oe(at,K,W,it,tt,He[We]);ke<Kt&&(Kt=ke),ke>Ce&&(Ce=ke)}for(var Fe=Ot(W,it,tt),At=1/0,Xt=-1/0,$t=[yt,gt],We=-Math.PI*2;We<=Math.PI*2;We+=Math.PI){var pe=Fe+We;yt<gt?yt<pe&&pe<gt&&$t.push(pe):gt<pe&&pe<yt&&$t.push(pe)}for(var We=0;We<$t.length;We++){var _e=ie(at,K,W,it,tt,$t[We]);_e<At&&(At=_e),_e>Xt&&(Xt=_e)}return{x:Kt,y:At,width:Ce-Kt,height:Xt-At}},length:function(at,K,W,it,tt,yt,gt){},nearestPoint:function(at,K,W,it,tt,yt,gt,Wt,Kt){var Ce=me(Wt-at,Kt-K,-tt),He=Ce[0],We=Ce[1],Je=ve.nearestPoint(0,0,W,it,He,We),ke=et(W,it,Je.x,Je.y);ke<yt?Je=vt(W,it,yt):ke>gt&&(Je=vt(W,it,gt));var Fe=me(Je.x,Je.y,tt);return{x:Fe[0]+at,y:Fe[1]+K}},pointDistance:function(at,K,W,it,tt,yt,gt,Wt,Kt){var Ce=this.nearestPoint(at,K,W,it,Wt,Kt);return q(Ce.x,Ce.y,Wt,Kt)},pointAt:function(at,K,W,it,tt,yt,gt,Wt){var Kt=(gt-yt)*Wt+yt;return{x:oe(at,K,W,it,tt,Kt),y:ie(at,K,W,it,tt,Kt)}},tangentAngle:function(at,K,W,it,tt,yt,gt,Wt){var Kt=(gt-yt)*Wt+yt,Ce=Ht(at,K,W,it,tt,yt,gt,Kt),He=Qt(at,K,W,it,tt,yt,gt,Kt);return jt(Math.atan2(He,Ce))}};function ye(at){for(var K=0,W=[],it=0;it<at.length-1;it++){var tt=at[it],yt=at[it+1],gt=q(tt[0],tt[1],yt[0],yt[1]),Wt={from:tt,to:yt,length:gt};W.push(Wt),K+=gt}return{segments:W,totalLength:K}}function be(at){if(at.length<2)return 0;for(var K=0,W=0;W<at.length-1;W++){var it=at[W],tt=at[W+1];K+=q(it[0],it[1],tt[0],tt[1])}return K}function ut(at,K){if(K>1||K<0||at.length<2)return null;var W=ye(at),it=W.segments,tt=W.totalLength;if(tt===0)return{x:at[0][0],y:at[0][1]};for(var yt=0,gt=null,Wt=0;Wt<it.length;Wt++){var Kt=it[Wt],Ce=Kt.from,He=Kt.to,We=Kt.length/tt;if(K>=yt&&K<=yt+We){var Je=(K-yt)/We;gt=ce.pointAt(Ce[0],Ce[1],He[0],He[1],Je);break}yt+=We}return gt}function Tt(at,K){if(K>1||K<0||at.length<2)return 0;for(var W=ye(at),it=W.segments,tt=W.totalLength,yt=0,gt=0,Wt=0;Wt<it.length;Wt++){var Kt=it[Wt],Ce=Kt.from,He=Kt.to,We=Kt.length/tt;if(K>=yt&&K<=yt+We){gt=Math.atan2(He[1]-Ce[1],He[0]-Ce[0]);break}yt+=We}return gt}function It(at,K,W){for(var it=1/0,tt=0;tt<at.length-1;tt++){var yt=at[tt],gt=at[tt+1],Wt=ce.pointDistance(yt[0],yt[1],gt[0],gt[1],K,W);Wt<it&&(it=Wt)}return it}var ft={box:function(at){for(var K=[],W=[],it=0;it<at.length;it++){var tt=at[it];K.push(tt[0]),W.push(tt[1])}return re(K,W)},length:function(at){return be(at)},pointAt:function(at,K){return ut(at,K)},pointDistance:function(at,K,W){return It(at,K,W)},tangentAngle:function(at,K){return Tt(at,K)}};function Jt(at){var K=at.slice(0);return at.length&&K.push(at[0]),K}var ee={box:function(at){return ft.box(at)},length:function(at){return be(Jt(at))},pointAt:function(at,K){return ut(Jt(at),K)},pointDistance:function(at,K,W){return It(Jt(at),K,W)},tangentAngle:function(at,K){return Tt(Jt(at),K)}}},26002:function(sr,Ue,H){"use strict";H.d(Ue,{aU:function(){return Fn},xC:function(){return va},kL:function(){return Ou},ju:function(){return ei},Lc:function(){return Fl},Mx:function(){return Fn},fw:function(){return Ls},Zr:function(){return ju},ld:function(){return Ct},gj:function(){return Ah},gh:function(){return Ml},zl:function(){return _r},ak:function(){return Mo},gp:function(){return Os},w_:function(){return mn},Fj:function(){return wn}});var Pt={};H.r(Pt),H.d(Pt,{assign:function(){return Oe},default:function(){return Ua},defaultI18n:function(){return nn},format:function(){return Va},parse:function(){return ya},setGlobalDateI18n:function(){return on},setGlobalDateMasks:function(){return ga}});var St={};H.r(St),H.d(St,{Arc:function(){return zv},DataMarker:function(){return Wv},DataRegion:function(){return Yv},Html:function(){return $v},Image:function(){return zo},Line:function(){return Ov},Region:function(){return Z0},RegionFilter:function(){return Hv},Shape:function(){return Xv},Text:function(){return Rv}});var q={};H.r(q),H.d(q,{ellipsisHead:function(){return qv},ellipsisMiddle:function(){return Jv},ellipsisTail:function(){return Gc},getDefault:function(){return $0}});var j={};H.r(j),H.d(j,{equidistance:function(){return Kc},equidistanceWithReverseBoth:function(){return ed},getDefault:function(){return Zc},reserveBoth:function(){return td},reserveFirst:function(){return jc},reserveLast:function(){return $c}});var re={};H.r(re),H.d(re,{fixedAngle:function(){return Jc},getDefault:function(){return nd},unfixedAngle:function(){return id}});var le={};H.r(le),H.d(le,{autoEllipsis:function(){return q},autoHide:function(){return j},autoRotate:function(){return re}});var jt={};H.r(jt),H.d(jt,{Base:function(){return uu},Circle:function(){return rh},Html:function(){return hd},Line:function(){return th}});var fe={};H.r(fe),H.d(fe,{CONTAINER_CLASS:function(){return Ta},CROSSHAIR_X:function(){return du},CROSSHAIR_Y:function(){return pu},LIST_CLASS:function(){return bo},LIST_ITEM_CLASS:function(){return Cs},MARKER_CLASS:function(){return ll},NAME_CLASS:function(){return oh},TITLE_CLASS:function(){return Aa},VALUE_CLASS:function(){return ul}});var ce={};H.r(ce),H.d(ce,{Base:function(){return fa},Circle:function(){return ug},Ellipse:function(){return hg},Image:function(){return Ji},Line:function(){return kf},Marker:function(){return fg},Path:function(){return Wl},Polygon:function(){return Yl},Polyline:function(){return pg},Rect:function(){return xg},Text:function(){return wg}});var Pe={};H.r(Pe),H.d(Pe,{Canvas:function(){return cc},Group:function(){return oc},Shape:function(){return ce},getArcParams:function(){return Ol},version:function(){return hc}});var de={};H.r(de),H.d(de,{Base:function(){return ta},Circle:function(){return _g},Dom:function(){return pc},Ellipse:function(){return Xl},Image:function(){return Fg},Line:function(){return kg},Marker:function(){return Lg},Path:function(){return Bg},Polygon:function(){return Rg},Polyline:function(){return Ng},Rect:function(){return Yg},Text:function(){return $g}});var Te={};H.r(Te),H.d(Te,{Canvas:function(){return rt},Group:function(){return Hf},Shape:function(){return de},version:function(){return bt}});var I=H(97582),m=H(45098),Bt;(function(s){s.FORE="fore",s.MID="mid",s.BG="bg"})(Bt||(Bt={}));var Et;(function(s){s.TOP="top",s.TOP_LEFT="top-left",s.TOP_RIGHT="top-right",s.RIGHT="right",s.RIGHT_TOP="right-top",s.RIGHT_BOTTOM="right-bottom",s.LEFT="left",s.LEFT_TOP="left-top",s.LEFT_BOTTOM="left-bottom",s.BOTTOM="bottom",s.BOTTOM_LEFT="bottom-left",s.BOTTOM_RIGHT="bottom-right",s.RADIUS="radius",s.CIRCLE="circle",s.NONE="none"})(Et||(Et={}));var Vt;(function(s){s.AXIS="axis",s.GRID="grid",s.LEGEND="legend",s.TOOLTIP="tooltip",s.ANNOTATION="annotation",s.SLIDER="slider",s.SCROLLBAR="scrollbar",s.OTHER="other"})(Vt||(Vt={}));var Rt={FORE:3,MID:2,BG:1},Ct;(function(s){s.BEFORE_RENDER="beforerender",s.AFTER_RENDER="afterrender",s.BEFORE_PAINT="beforepaint",s.AFTER_PAINT="afterpaint",s.BEFORE_CHANGE_DATA="beforechangedata",s.AFTER_CHANGE_DATA="afterchangedata",s.BEFORE_CLEAR="beforeclear",s.AFTER_CLEAR="afterclear",s.BEFORE_DESTROY="beforedestroy",s.BEFORE_CHANGE_SIZE="beforechangesize",s.AFTER_CHANGE_SIZE="afterchangesize"})(Ct||(Ct={}));var lt;(function(s){s.BEFORE_DRAW_ANIMATE="beforeanimate",s.AFTER_DRAW_ANIMATE="afteranimate",s.BEFORE_RENDER_LABEL="beforerenderlabel",s.AFTER_RENDER_LABEL="afterrenderlabel"})(lt||(lt={}));var J;(function(s){s.MOUSE_ENTER="plot:mouseenter",s.MOUSE_DOWN="plot:mousedown",s.MOUSE_MOVE="plot:mousemove",s.MOUSE_UP="plot:mouseup",s.MOUSE_LEAVE="plot:mouseleave",s.TOUCH_START="plot:touchstart",s.TOUCH_MOVE="plot:touchmove",s.TOUCH_END="plot:touchend",s.TOUCH_CANCEL="plot:touchcancel",s.CLICK="plot:click",s.DBLCLICK="plot:dblclick",s.CONTEXTMENU="plot:contextmenu",s.LEAVE="plot:leave",s.ENTER="plot:enter"})(J||(J={}));var Z;(function(s){s.ACTIVE="active",s.INACTIVE="inactive",s.SELECTED="selected",s.DEFAULT="default"})(Z||(Z={}));var wt=["color","shape","size"],ct="_origin",ue=1,ve=1,Ht=.25,Qt={};function ge(s){var a=Qt[s];if(!a)throw new Error("G engine '".concat(s,"' is not exist, please register it at first."));return a}function Ot(s,a){Qt[s]=a}var oe,ie,et,vt;function me(){oe=document.createElement("table"),ie=document.createElement("tr"),et=/^\s*<(\w+|!)[^>]*>/,vt={tr:document.createElement("tbody"),tbody:oe,thead:oe,tfoot:oe,td:ie,th:ie,"*":document.createElement("div")}}function Ae(s){oe||me();var a=et.test(s)&&RegExp.$1;(!a||!(a in vt))&&(a="*");var r=vt[a];s=typeof s=="string"?s.replace(/(^\s*)|(\s*$)/g,""):s,r.innerHTML=""+s;var n=r.childNodes[0];return n&&r.contains(n)&&r.removeChild(n),n}function ye(s,a){if(s)for(var r in a)a.hasOwnProperty(r)&&(s.style[r]=a[r]);return s}function be(s){var a=getComputedStyle(s);return{width:(s.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(s.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}}function ut(s){return typeof s=="number"&&!isNaN(s)}function Tt(s,a,r,n){var l=r,u=n;if(a){var v=be(s);l=v.width?v.width:l,u=v.height?v.height:u}return{width:Math.max(ut(l)?l:ue,ue),height:Math.max(ut(u)?u:ve,ve)}}function It(s){var a=s.parentNode;a&&a.removeChild(s)}var ft=H(90494),Jt=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this)||this;n.destroyed=!1;var l=r.visible,u=l===void 0?!0:l;return n.visible=u,n}return a.prototype.show=function(){var r=this.visible;r||this.changeVisible(!0)},a.prototype.hide=function(){var r=this.visible;r&&this.changeVisible(!1)},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(r){this.visible!==r&&(this.visible=r)},a}(ft.Z),ee=Jt,at=H(98190),K=0,W=1/2,it=1/2,tt=.05,yt=function(){function s(a){var r=a.xField,n=a.yField,l=a.adjustNames,u=l===void 0?["x","y"]:l,v=a.dimValuesMap;this.adjustNames=u,this.xField=r,this.yField=n,this.dimValuesMap=v}return s.prototype.isAdjust=function(a){return this.adjustNames.indexOf(a)>=0},s.prototype.getAdjustRange=function(a,r,n){var l=this.yField,u=n.indexOf(r),v=n.length,p,y;return!l&&this.isAdjust("y")?(p=0,y=1):v>1?(p=n[u===0?0:u-1],y=n[u===v-1?v-1:u+1],u!==0?p+=(r-p)/2:p-=(y-r)/2,u!==v-1?y-=(y-r)/2:y+=(r-n[v-2])/2):(p=r===0?0:r-.5,y=r===0?1:r+.5),{pre:p,next:y}},s.prototype.adjustData=function(a,r){var n=this,l=this.getDimValues(r);m.S6(a,function(u,v){m.S6(l,function(p,y){n.adjustDim(y,p,u,v)})})},s.prototype.groupData=function(a,r){return m.S6(a,function(n){n[r]===void 0&&(n[r]=K)}),m.vM(a,r)},s.prototype.adjustDim=function(a,r,n,l){},s.prototype.getDimValues=function(a){var r=this,n=r.xField,l=r.yField,u=m.f0({},this.dimValuesMap),v=[];if(n&&this.isAdjust("x")&&v.push(n),l&&this.isAdjust("y")&&v.push(l),v.forEach(function(y){u&&u[y]||(u[y]=m.I(a,y).sort(function(C,T){return C-T}))}),!l&&this.isAdjust("y")){var p="y";u[p]=[K,1]}return u},s}(),gt=yt,Wt={},Kt=function(s){return Wt[s.toLowerCase()]},Ce=function(s,a){if(Kt(s))throw new Error("Adjust type '"+s+"' existed.");Wt[s.toLowerCase()]=a},He=H(52677);var We=function(a,r){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])},We(a,r)};function Je(s,a){We(s,a);function r(){this.constructor=s}s.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var ke=function(){return ke=Object.assign||function(r){for(var n,l=1,u=arguments.length;l<u;l++){n=arguments[l];for(var v in n)Object.prototype.hasOwnProperty.call(n,v)&&(r[v]=n[v])}return r},ke.apply(this,arguments)};function Fe(s,a){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&a.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(s);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(s,n[l])&&(r[n[l]]=s[n[l]]);return r}function At(s,a,r,n){var l=arguments.length,u=l<3?a:n===null?n=Object.getOwnPropertyDescriptor(a,r):n,v;if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,a,r,n);else for(var p=s.length-1;p>=0;p--)(v=s[p])&&(u=(l<3?v(u):l>3?v(a,r,u):v(a,r))||u);return l>3&&u&&Object.defineProperty(a,r,u),u}function Xt(s,a){return function(r,n){a(r,n,s)}}function $t(s,a){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,a)}function pe(s,a,r,n){function l(u){return u instanceof r?u:new r(function(v){v(u)})}return new(r||(r=Promise))(function(u,v){function p(T){try{C(n.next(T))}catch(_){v(_)}}function y(T){try{C(n.throw(T))}catch(_){v(_)}}function C(T){T.done?u(T.value):l(T.value).then(p,y)}C((n=n.apply(s,a||[])).next())})}function _e(s,a){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,l,u,v;return v={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function p(C){return function(T){return y([C,T])}}function y(C){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,l&&(u=C[0]&2?l.return:C[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,C[1])).done)return u;switch(l=0,u&&(C=[C[0]&2,u.value]),C[0]){case 0:case 1:u=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++,l=C[1],C=[0];continue;case 7:C=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(C[0]===6||C[0]===2)){r=0;continue}if(C[0]===3&&(!u||C[1]>u[0]&&C[1]<u[3])){r.label=C[1];break}if(C[0]===6&&r.label<u[1]){r.label=u[1],u=C;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(C);break}u[2]&&r.ops.pop(),r.trys.pop();continue}C=a.call(s,r)}catch(T){C=[6,T],l=0}finally{n=u=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function Ve(s,a,r,n){n===void 0&&(n=r),s[n]=a[r]}function Be(s,a){for(var r in s)r!=="default"&&!a.hasOwnProperty(r)&&(a[r]=s[r])}function Le(s){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&s[a],n=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&n>=s.length&&(s=void 0),{value:s&&s[n++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(s,a){var r=typeof Symbol=="function"&&s[Symbol.iterator];if(!r)return s;var n=r.call(s),l,u=[],v;try{for(;(a===void 0||a-- >0)&&!(l=n.next()).done;)u.push(l.value)}catch(p){v={error:p}}finally{try{l&&!l.done&&(r=n.return)&&r.call(n)}finally{if(v)throw v.error}}return u}function $e(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(Ie(arguments[a]));return s}function Ze(){for(var s=0,a=0,r=arguments.length;a<r;a++)s+=arguments[a].length;for(var n=Array(s),l=0,a=0;a<r;a++)for(var u=arguments[a],v=0,p=u.length;v<p;v++,l++)n[l]=u[v];return n}function er(s){return this instanceof er?(this.v=s,this):new er(s)}function or(s,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(s,a||[]),l,u=[];return l={},v("next"),v("throw"),v("return"),l[Symbol.asyncIterator]=function(){return this},l;function v(L){n[L]&&(l[L]=function(B){return new Promise(function(U,nt){u.push([L,B,U,nt])>1||p(L,B)})})}function p(L,B){try{y(n[L](B))}catch(U){_(u[0][3],U)}}function y(L){L.value instanceof er?Promise.resolve(L.value.v).then(C,T):_(u[0][2],L)}function C(L){p("next",L)}function T(L){p("throw",L)}function _(L,B){L(B),u.shift(),u.length&&p(u[0][0],u[0][1])}}function je(s){var a,r;return a={},n("next"),n("throw",function(l){throw l}),n("return"),a[Symbol.iterator]=function(){return this},a;function n(l,u){a[l]=s[l]?function(v){return(r=!r)?{value:er(s[l](v)),done:l==="return"}:u?u(v):v}:u}}function qe(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s[Symbol.asyncIterator],r;return a?a.call(s):(s=typeof Le=="function"?Le(s):s[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(u){r[u]=s[u]&&function(v){return new Promise(function(p,y){v=s[u](v),l(p,y,v.done,v.value)})}}function l(u,v,p,y){Promise.resolve(y).then(function(C){u({value:C,done:p})},v)}}function hr(s,a){return Object.defineProperty?Object.defineProperty(s,"raw",{value:a}):s.raw=a,s}function dr(s){if(s&&s.__esModule)return s;var a={};if(s!=null)for(var r in s)Object.hasOwnProperty.call(s,r)&&(a[r]=s[r]);return a.default=s,a}function ur(s){return s&&s.__esModule?s:{default:s}}function fr(s,a){if(!a.has(s))throw new TypeError("attempted to get private field on non-instance");return a.get(s)}function cr(s,a,r){if(!a.has(s))throw new TypeError("attempted to set private field on non-instance");return a.set(s,r),r}var gr=function(s){Je(a,s);function a(r){var n=s.call(this,r)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var l=r.marginRatio,u=l===void 0?W:l,v=r.dodgeRatio,p=v===void 0?it:v,y=r.dodgeBy,C=r.intervalPadding,T=r.dodgePadding,_=r.xDimensionLength,L=r.groupNum,B=r.defaultSize,U=r.maxColumnWidth,nt=r.minColumnWidth,pt=r.columnWidthRatio,Mt=r.customOffset;return n.marginRatio=u,n.dodgeRatio=p,n.dodgeBy=y,n.intervalPadding=C,n.dodgePadding=T,n.xDimensionLegenth=_,n.groupNum=L,n.defaultSize=B,n.maxColumnWidth=U,n.minColumnWidth=nt,n.columnWidthRatio=pt,n.customOffset=Mt,n}return a.prototype.process=function(r){var n=m.d9(r),l=m.xH(n),u=this.dodgeBy,v=u?m.ru(l,u):n;return this.cacheMap={},this.adjustDataArray=v,this.mergeData=l,this.adjustData(v,l),this.adjustDataArray=[],this.mergeData=[],n},a.prototype.adjustDim=function(r,n,l,u){var v=this,p=this.customOffset,y=this.getDistribution(r),C=this.groupData(l,r);return m.S6(C,function(T,_){var L;n.length===1?L={pre:n[0]-1,next:n[0]+1}:L=v.getAdjustRange(r,parseFloat(_),n),m.S6(T,function(B){var U=B[r],nt=y[U],pt=nt.indexOf(u);if(m.UM(p))B[r]=v.getDodgeOffset(L,pt,nt.length);else{var Mt=L.pre,Yt=L.next;B[r]=m.mf(p)?p(B,L):(Mt+Yt)/2+p}})}),[]},a.prototype.getDodgeOffset=function(r,n,l){var u=this,v=u.dodgeRatio,p=u.marginRatio,y=u.intervalPadding,C=u.dodgePadding,T=r.pre,_=r.next,L=_-T,B;if(!m.UM(y)&&m.UM(C)&&y>=0){var U=this.getIntervalOnlyOffset(l,n);B=T+U}else if(!m.UM(C)&&m.UM(y)&&C>=0){var U=this.getDodgeOnlyOffset(l,n);B=T+U}else if(!m.UM(y)&&!m.UM(C)&&y>=0&&C>=0){var U=this.getIntervalAndDodgeOffset(l,n);B=T+U}else{var nt=L*v/l,pt=p*nt,U=1/2*(L-l*nt-(l-1)*pt)+((n+1)*nt+n*pt)-1/2*nt-1/2*L;B=(T+_)/2+U}return B},a.prototype.getIntervalOnlyOffset=function(r,n){var l=this,u=l.defaultSize,v=l.intervalPadding,p=l.xDimensionLegenth,y=l.groupNum,C=l.dodgeRatio,T=l.maxColumnWidth,_=l.minColumnWidth,L=l.columnWidthRatio,B=v/p,U=(1-(y-1)*B)/y*C/(r-1),nt=((1-B*(y-1))/y-U*(r-1))/r;if(nt=m.UM(L)?nt:1/y/r*L,!m.UM(T)){var pt=T/p;nt=Math.min(nt,pt)}if(!m.UM(_)){var Mt=_/p;nt=Math.max(nt,Mt)}nt=u?u/p:nt,U=((1-(y-1)*B)/y-r*nt)/(r-1);var Yt=((1/2+n)*nt+n*U+1/2*B)*y-B/2;return Yt},a.prototype.getDodgeOnlyOffset=function(r,n){var l=this,u=l.defaultSize,v=l.dodgePadding,p=l.xDimensionLegenth,y=l.groupNum,C=l.marginRatio,T=l.maxColumnWidth,_=l.minColumnWidth,L=l.columnWidthRatio,B=v/p,U=1*C/(y-1),nt=((1-U*(y-1))/y-B*(r-1))/r;if(nt=L?1/y/r*L:nt,!m.UM(T)){var pt=T/p;nt=Math.min(nt,pt)}if(!m.UM(_)){var Mt=_/p;nt=Math.max(nt,Mt)}nt=u?u/p:nt,U=(1-(nt*r+B*(r-1))*y)/(y-1);var Yt=((1/2+n)*nt+n*B+1/2*U)*y-U/2;return Yt},a.prototype.getIntervalAndDodgeOffset=function(r,n){var l=this,u=l.intervalPadding,v=l.dodgePadding,p=l.xDimensionLegenth,y=l.groupNum,C=u/p,T=v/p,_=((1-C*(y-1))/y-T*(r-1))/r,L=((1/2+n)*_+n*T+1/2*C)*y-C/2;return L},a.prototype.getDistribution=function(r){var n=this.adjustDataArray,l=this.cacheMap,u=l[r];return u||(u={},m.S6(n,function(v,p){var y=m.I(v,r);y.length||y.push(0),m.S6(y,function(C){u[C]||(u[C]=[]),u[C].push(p)})}),l[r]=u),u},a}(gt),Tr=gr;function Or(s,a){return(a-s)*Math.random()+s}var Nr=function(s){Je(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.process=function(r){var n=m.d9(r),l=m.xH(n);return this.adjustData(n,l),n},a.prototype.adjustDim=function(r,n,l){var u=this,v=this.groupData(l,r);return m.S6(v,function(p,y){return u.adjustGroup(p,r,parseFloat(y),n)})},a.prototype.getAdjustOffset=function(r){var n=r.pre,l=r.next,u=(l-n)*tt;return Or(n+u,l-u)},a.prototype.adjustGroup=function(r,n,l,u){var v=this,p=this.getAdjustRange(n,l,u);return m.S6(r,function(y){y[n]=v.getAdjustOffset(p)}),r},a}(gt),cn=Nr,On=m.Ct,Cn=function(s){Je(a,s);function a(r){var n=s.call(this,r)||this,l=r.adjustNames,u=l===void 0?["y"]:l,v=r.height,p=v===void 0?NaN:v,y=r.size,C=y===void 0?10:y,T=r.reverseOrder,_=T===void 0?!1:T;return n.adjustNames=u,n.height=p,n.size=C,n.reverseOrder=_,n}return a.prototype.process=function(r){var n=this,l=n.yField,u=n.reverseOrder,v=l?this.processStack(r):this.processOneDimStack(r);return u?this.reverse(v):v},a.prototype.reverse=function(r){return r.slice(0).reverse()},a.prototype.processStack=function(r){var n=this,l=n.xField,u=n.yField,v=n.reverseOrder,p=v?this.reverse(r):r,y=new On,C=new On;return p.map(function(T){return T.map(function(_){var L,B=m.U2(_,l,0),U=m.U2(_,[u]),nt=B.toString();if(U=m.kJ(U)?U[1]:U,!m.UM(U)){var pt=U>=0?y:C;pt.has(nt)||pt.set(nt,0);var Mt=pt.get(nt),Yt=U+Mt;return pt.set(nt,Yt),ke(ke({},_),(L={},L[u]=[Mt,Yt],L))}return _})})},a.prototype.processOneDimStack=function(r){var n=this,l=this,u=l.xField,v=l.height,p=l.reverseOrder,y="y",C=p?this.reverse(r):r,T=new On;return C.map(function(_){return _.map(function(L){var B,U=n.size,nt=L[u],pt=U*2/v;T.has(nt)||T.set(nt,pt/2);var Mt=T.get(nt);return T.set(nt,Mt+pt),ke(ke({},L),(B={},B[y]=Mt,B))})})},a}(gt),Tn=Cn,Wn=function(s){Je(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.process=function(r){var n=m.xH(r),l=this,u=l.xField,v=l.yField,p=this.getXValuesMaxMap(n),y=Math.max.apply(Math,Object.keys(p).map(function(C){return p[C]}));return m.UI(r,function(C){return m.UI(C,function(T){var _,L,B=T[v],U=T[u];if(m.kJ(B)){var nt=(y-p[U])/2;return ke(ke({},T),(_={},_[v]=m.UI(B,function(Mt){return nt+Mt}),_))}var pt=(y-B)/2;return ke(ke({},T),(L={},L[v]=[pt,B+pt],L))})})},a.prototype.getXValuesMaxMap=function(r){var n=this,l=this,u=l.xField,v=l.yField,p=m.vM(r,function(y){return y[u]});return m.Q8(p,function(y){return n.getDimMaxValue(y,v)})},a.prototype.getDimMaxValue=function(r,n){var l=m.UI(r,function(v){return m.U2(v,n,[])}),u=m.xH(l);return Math.max.apply(Math,u)},a}(gt),Sn=Wn;Ce("Dodge",Tr),Ce("Jitter",cn),Ce("Stack",Tn),Ce("Symmetric",Sn);var dn=function(s,a){return(0,m.HD)(a)?a:s.invert(s.scale(a))},pn=function(){function s(a){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(a)}return s.prototype.mapping=function(){for(var a=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=r.map(function(u,v){return a._toOriginParam(u,a.scales[v])});return this.callback.apply(this,l)},s.prototype.getLinearValue=function(a){var r=this.values.length-1,n=Math.floor(r*a),l=r*a-n,u=this.values[n],v=n===r?u:this.values[n+1];return u+(v-u)*l},s.prototype.getNames=function(){for(var a=this.scales,r=this.names,n=Math.min(a.length,r.length),l=[],u=0;u<n;u+=1)l.push(r[u]);return l},s.prototype.getFields=function(){return this.scales.map(function(a){return a.field})},s.prototype.getScale=function(a){return this.scales[this.names.indexOf(a)]},s.prototype.defaultCallback=function(){for(var a=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?this.values:r.map(function(l,u){var v=a.scales[u];return v.type==="identity"?v.values[0]:a._getAttributeValue(v,l)})},s.prototype._parseCfg=function(a){var r=this,n=a.type,l=n===void 0?"base":n,u=a.names,v=u===void 0?[]:u,p=a.scales,y=p===void 0?[]:p,C=a.values,T=C===void 0?[]:C,_=a.callback;this.type=l,this.scales=y,this.values=T,this.names=v,this.callback=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];if(_){var U=_.apply(void 0,L);if(!(0,m.UM)(U))return[U]}return r.defaultCallback.apply(r,L)}},s.prototype._getAttributeValue=function(a,r){if(a.isCategory&&!this.linear){var n=a.translate(r);return this.values[n%this.values.length]}var l=a.scale(r);return this.getLinearValue(l)},s.prototype._toOriginParam=function(a,r){return r.isLinear?a:(0,m.kJ)(a)?a.map(function(n){return dn(r,n)}):dn(r,a)},s}(),Xr=pn,hn=H(55223),ri=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.type="color",n.names=["color"],(0,m.HD)(n.values)&&(n.linear=!0),n.gradient=hn.Z.gradient(n.values),n}return a.prototype.getLinearValue=function(r){return this.gradient(r)},a}(Xr),Ii=ri,Yr=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.type="opacity",n.names=["opacity"],n}return a}(Xr),$n=Yr,jr=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.names=["x","y"],n.type="position",n}return a.prototype.mapping=function(r,n){var l=this.scales,u=l[0],v=l[1];return(0,m.UM)(r)||(0,m.UM)(n)?[]:[(0,m.kJ)(r)?r.map(function(p){return u.scale(p)}):u.scale(r),(0,m.kJ)(n)?n.map(function(p){return v.scale(p)}):v.scale(n)]},a}(Xr),gi=jr,Fi=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.type="shape",n.names=["shape"],n}return a.prototype.getLinearValue=function(r){var n=Math.round((this.values.length-1)*r);return this.values[n]},a}(Xr),da=Fi,Xi=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.type="size",n.names=["size"],n}return a}(Xr),ea=Xi,ra={};function Zi(s){return ra[s]}function wr(s,a){ra[s]=a}var ni=function(){function s(a){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=a,this.initCfg(),this.init()}return s.prototype.translate=function(a){return a},s.prototype.change=function(a){(0,m.f0)(this.__cfg__,a),this.init()},s.prototype.clone=function(){return this.constructor(this.__cfg__)},s.prototype.getTicks=function(){var a=this;return(0,m.UI)(this.ticks,function(r,n){return(0,m.Kn)(r)?r:{text:a.getText(r,n),tickValue:r,value:a.scale(r)}})},s.prototype.getText=function(a,r){var n=this.formatter,l=n?n(a,r):a;return(0,m.UM)(l)||!(0,m.mf)(l.toString)?"":l.toString()},s.prototype.getConfig=function(a){return this.__cfg__[a]},s.prototype.init=function(){(0,m.f0)(this,this.__cfg__),this.setDomain(),(0,m.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},s.prototype.initCfg=function(){},s.prototype.setDomain=function(){},s.prototype.calculateTicks=function(){var a=this.tickMethod,r=[];if((0,m.HD)(a)){var n=Zi(a);if(!n)throw new Error("There is no method to to calculate ticks!");r=n(this)}else(0,m.mf)(a)&&(r=a(this));return r},s.prototype.rangeMin=function(){return this.range[0]},s.prototype.rangeMax=function(){return this.range[1]},s.prototype.calcPercent=function(a,r,n){return(0,m.hj)(a)?(a-r)/(n-r):NaN},s.prototype.calcValue=function(a,r,n){return r+a*(n-r)},s}(),yi=ni,mi=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="cat",r.isCategory=!0,r}return a.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var r=0;r<this.values.length;r++)this.translateIndexMap.set(this.values[r],r)}},a.prototype.translate=function(r){this.buildIndexMap();var n=this.translateIndexMap.get(r);return n===void 0&&(n=(0,m.hj)(r)?r:NaN),n},a.prototype.scale=function(r){var n=this.translate(r),l=this.calcPercent(n,this.min,this.max);return this.calcValue(l,this.rangeMin(),this.rangeMax())},a.prototype.invert=function(r){var n=this.max-this.min,l=this.calcPercent(r,this.rangeMin(),this.rangeMax()),u=Math.round(n*l)+this.min;return u<this.min||u>this.max?NaN:this.values[u]},a.prototype.getText=function(r){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];var u=r;return(0,m.hj)(r)&&!this.values.includes(r)&&(u=this.values[u]),s.prototype.getText.apply(this,(0,I.pr)([u],n))},a.prototype.initCfg=function(){this.tickMethod="cat"},a.prototype.setDomain=function(){if((0,m.UM)(this.getConfig("min"))&&(this.min=0),(0,m.UM)(this.getConfig("max"))){var r=this.values.length;this.max=r>1?r-1:r}this.translateIndexMap&&(this.translateIndexMap=void 0)},a}(yi),xi=mi,bi=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Gn="\\d\\d?",Bn="\\d\\d",Fa="\\d{3}",ki="\\d{4}",qt="[^\\s]+",mt=/\[([^]*?)\]/gm;function Zt(s,a){for(var r=[],n=0,l=s.length;n<l;n++)r.push(s[n].substr(0,a));return r}var xe=function(s){return function(a,r){var n=r[s].map(function(u){return u.toLowerCase()}),l=n.indexOf(a.toLowerCase());return l>-1?l:null}};function Oe(s){for(var a=[],r=1;r<arguments.length;r++)a[r-1]=arguments[r];for(var n=0,l=a;n<l.length;n++){var u=l[n];for(var v in u)s[v]=u[v]}return s}var tr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lr=["January","February","March","April","May","June","July","August","September","October","November","December"],ir=Zt(lr,3),Er=Zt(tr,3),nn={dayNamesShort:Er,dayNames:tr,monthNamesShort:ir,monthNames:lr,amPm:["am","pm"],DoFn:function(s){return s+["th","st","nd","rd"][s%10>3?0:(s-s%10!==10?1:0)*s%10]}},An=Oe({},nn),on=function(s){return An=Oe(An,s)},fn=function(s){return s.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},an=function(s,a){for(a===void 0&&(a=2),s=String(s);s.length<a;)s="0"+s;return s},Dn={D:function(s){return String(s.getDate())},DD:function(s){return an(s.getDate())},Do:function(s,a){return a.DoFn(s.getDate())},d:function(s){return String(s.getDay())},dd:function(s){return an(s.getDay())},ddd:function(s,a){return a.dayNamesShort[s.getDay()]},dddd:function(s,a){return a.dayNames[s.getDay()]},M:function(s){return String(s.getMonth()+1)},MM:function(s){return an(s.getMonth()+1)},MMM:function(s,a){return a.monthNamesShort[s.getMonth()]},MMMM:function(s,a){return a.monthNames[s.getMonth()]},YY:function(s){return an(String(s.getFullYear()),4).substr(2)},YYYY:function(s){return an(s.getFullYear(),4)},h:function(s){return String(s.getHours()%12||12)},hh:function(s){return an(s.getHours()%12||12)},H:function(s){return String(s.getHours())},HH:function(s){return an(s.getHours())},m:function(s){return String(s.getMinutes())},mm:function(s){return an(s.getMinutes())},s:function(s){return String(s.getSeconds())},ss:function(s){return an(s.getSeconds())},S:function(s){return String(Math.round(s.getMilliseconds()/100))},SS:function(s){return an(Math.round(s.getMilliseconds()/10),2)},SSS:function(s){return an(s.getMilliseconds(),3)},a:function(s,a){return s.getHours()<12?a.amPm[0]:a.amPm[1]},A:function(s,a){return s.getHours()<12?a.amPm[0].toUpperCase():a.amPm[1].toUpperCase()},ZZ:function(s){var a=s.getTimezoneOffset();return(a>0?"-":"+")+an(Math.floor(Math.abs(a)/60)*100+Math.abs(a)%60,4)},Z:function(s){var a=s.getTimezoneOffset();return(a>0?"-":"+")+an(Math.floor(Math.abs(a)/60),2)+":"+an(Math.abs(a)%60,2)}},wi=function(s){return+s-1},Xn=[null,Gn],ka=[null,qt],Da=["isPm",qt,function(s,a){var r=s.toLowerCase();return r===a.amPm[0]?0:r===a.amPm[1]?1:null}],pa=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(s){var a=(s+"").match(/([+-]|\d\d)/gi);if(a){var r=+a[1]*60+parseInt(a[2],10);return a[0]==="+"?r:-r}return 0}],za={D:["day",Gn],DD:["day",Bn],Do:["day",Gn+qt,function(s){return parseInt(s,10)}],M:["month",Gn,wi],MM:["month",Bn,wi],YY:["year",Bn,function(s){var a=new Date,r=+(""+a.getFullYear()).substr(0,2);return+(""+(+s>68?r-1:r)+s)}],h:["hour",Gn,void 0,"isPm"],hh:["hour",Bn,void 0,"isPm"],H:["hour",Gn],HH:["hour",Bn],m:["minute",Gn],mm:["minute",Bn],s:["second",Gn],ss:["second",Bn],YYYY:["year",ki],S:["millisecond","\\d",function(s){return+s*100}],SS:["millisecond",Bn,function(s){return+s*10}],SSS:["millisecond",Fa],d:Xn,dd:Xn,ddd:ka,dddd:ka,MMM:["month",qt,xe("monthNamesShort")],MMMM:["month",qt,xe("monthNames")],a:Da,A:Da,ZZ:pa,Z:pa},Di={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},ga=function(s){return Oe(Di,s)},Va=function(s,a,r){if(a===void 0&&(a=Di.default),r===void 0&&(r={}),typeof s=="number"&&(s=new Date(s)),Object.prototype.toString.call(s)!=="[object Date]"||isNaN(s.getTime()))throw new Error("Invalid Date pass to format");a=Di[a]||a;var n=[];a=a.replace(mt,function(u,v){return n.push(v),"@@@"});var l=Oe(Oe({},An),r);return a=a.replace(bi,function(u){return Dn[u](s,l)}),a.replace(/@@@/g,function(){return n.shift()})};function ya(s,a,r){if(r===void 0&&(r={}),typeof a!="string")throw new Error("Invalid format in fecha parse");if(a=Di[a]||a,s.length>1e3)return null;var n=new Date,l={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},u=[],v=[],p=a.replace(mt,function(te,Me){return v.push(fn(Me)),"@@@"}),y={},C={};p=fn(p).replace(bi,function(te){var Me=za[te],Ne=Me[0],Ye=Me[1],Xe=Me[3];if(y[Ne])throw new Error("Invalid format. "+Ne+" specified twice in format");return y[Ne]=!0,Xe&&(C[Xe]=!0),u.push(Me),"("+Ye+")"}),Object.keys(C).forEach(function(te){if(!y[te])throw new Error("Invalid format. "+te+" is required in specified format")}),p=p.replace(/@@@/g,function(){return v.shift()});var T=s.match(new RegExp(p,"i"));if(!T)return null;for(var _=Oe(Oe({},An),r),L=1;L<T.length;L++){var B=u[L-1],U=B[0],nt=B[2],pt=nt?nt(T[L],_):+T[L];if(pt==null)return null;l[U]=pt}l.isPm===1&&l.hour!=null&&+l.hour!=12?l.hour=+l.hour+12:l.isPm===0&&+l.hour==12&&(l.hour=0);var Mt;if(l.timezoneOffset==null){Mt=new Date(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond);for(var Yt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],L=0,Gt=Yt.length;L<Gt;L++)if(y[Yt[L][0]]&&l[Yt[L][0]]!==Mt[Yt[L][1]]())return null}else if(Mt=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute-l.timezoneOffset,l.second,l.millisecond)),l.month>11||l.month<0||l.day>31||l.day<1||l.hour>23||l.hour<0||l.minute>59||l.minute<0||l.second>59||l.second<0)return null;return Mt}var oo={format:Va,parse:ya,defaultI18n:nn,setGlobalDateI18n:on,setGlobalDateMasks:ga},Ua=oo;function La(s){return function(a,r,n,l){for(var u=(0,m.UM)(n)?0:n,v=(0,m.UM)(l)?a.length:l;u<v;){var p=u+v>>>1;s(a[p])>r?v=p:u=p+1}return u}}var ma="format";function Li(s,a){var r=Pt[ma]||Ua[ma];return r(s,a)}function xa(s){return(0,m.HD)(s)&&(s.indexOf("T")>0?s=new Date(s).getTime():s=new Date(s.replace(/-/gi,"/")).getTime()),(0,m.J_)(s)&&(s=s.getTime()),s}var Kn=1e3,Si=60*Kn,Yn=60*Si,qn=24*Yn,Oi=qn*31,na=qn*365,ia=[["HH:mm:ss",Kn],["HH:mm:ss",Kn*10],["HH:mm:ss",Kn*30],["HH:mm",Si],["HH:mm",Si*10],["HH:mm",Si*30],["HH",Yn],["HH",Yn*6],["HH",Yn*12],["YYYY-MM-DD",qn],["YYYY-MM-DD",qn*4],["YYYY-WW",qn*7],["YYYY-MM",Oi],["YYYY-MM",Oi*4],["YYYY-MM",Oi*6],["YYYY",qn*380]];function so(s,a,r){var n=(a-s)/r,l=La(function(v){return v[1]})(ia,n)-1,u=ia[l];return l<0?u=ia[0]:l>=ia.length&&(u=(0,m.Z$)(ia)),u}var ji=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="timeCat",r}return a.prototype.translate=function(r){r=xa(r);var n=this.values.indexOf(r);return n===-1&&((0,m.hj)(r)&&r<this.values.length?n=r:n=NaN),n},a.prototype.getText=function(r,n){var l=this.translate(r);if(l>-1){var u=this.values[l],v=this.formatter;return u=v?v(u,n):Li(u,this.mask),u}return r},a.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},a.prototype.setDomain=function(){var r=this.values;(0,m.S6)(r,function(n,l){r[l]=xa(n)}),r.sort(function(n,l){return n-l}),s.prototype.setDomain.call(this)},a}(xi),lo=ji,Wa=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.isContinuous=!0,r}return a.prototype.scale=function(r){if((0,m.UM)(r))return NaN;var n=this.rangeMin(),l=this.rangeMax(),u=this.max,v=this.min;if(u===v)return n;var p=this.getScalePercent(r);return n+p*(l-n)},a.prototype.init=function(){s.prototype.init.call(this);var r=this.ticks,n=(0,m.YM)(r),l=(0,m.Z$)(r);n<this.min&&(this.min=n),l>this.max&&(this.max=l),(0,m.UM)(this.minLimit)||(this.min=n),(0,m.UM)(this.maxLimit)||(this.max=l)},a.prototype.setDomain=function(){var r=(0,m.rx)(this.values),n=r.min,l=r.max;(0,m.UM)(this.min)&&(this.min=n),(0,m.UM)(this.max)&&(this.max=l),this.min>this.max&&(this.min=n,this.max=l)},a.prototype.calculateTicks=function(){var r=this,n=s.prototype.calculateTicks.call(this);return this.nice||(n=(0,m.hX)(n,function(l){return l>=r.min&&l<=r.max})),n},a.prototype.getScalePercent=function(r){var n=this.max,l=this.min;return(r-l)/(n-l)},a.prototype.getInvertPercent=function(r){return(r-this.rangeMin())/(this.rangeMax()-this.rangeMin())},a}(yi),Oa=Wa,Ya=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="linear",r.isLinear=!0,r}return a.prototype.invert=function(r){var n=this.getInvertPercent(r);return this.min+n*(this.max-this.min)},a.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},a}(Oa),Ci=Ya;function En(s,a){var r=Math.E,n;return a>=0?n=Math.pow(r,Math.log(a)/s):n=Math.pow(r,Math.log(-a)/s)*-1,n}function sn(s,a){return s===1?1:Math.log(a)/Math.log(s)}function Jn(s,a,r){(0,m.UM)(r)&&(r=Math.max.apply(null,s));var n=r;return(0,m.S6)(s,function(l){l>0&&l<n&&(n=l)}),n===r&&(n=r/a),n>1&&(n=1),n}function ba(s){var a=s.toString().split(/[eE]/),r=(a[0].split(".")[1]||"").length-+(a[1]||0);return r>0?r:0}function Bi(s,a){var r=ba(s),n=ba(a),l=Math.pow(10,Math.max(r,n));return(s*l+a*l)/l}var Rn=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="log",r}return a.prototype.invert=function(r){var n=this.base,l=sn(n,this.max),u=this.rangeMin(),v=this.rangeMax()-u,p,y=this.positiveMin;if(y){if(r===0)return 0;p=sn(n,y/n);var C=1/(l-p)*v;if(r<C)return r/C*y}else p=sn(n,this.min);var T=(r-u)/v,_=T*(l-p)+p;return Math.pow(n,_)},a.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},a.prototype.setDomain=function(){s.prototype.setDomain.call(this);var r=this.min;if(r<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");r===0&&(this.positiveMin=Jn(this.values,this.base,this.max))},a.prototype.getScalePercent=function(r){var n=this.max,l=this.min;if(n===l||r<=0)return 0;var u=this.base,v=this.positiveMin;v&&(l=v*1/u);var p;return r<v?p=r/v/(sn(u,n)-sn(u,l)):p=(sn(u,r)-sn(u,l))/(sn(u,n)-sn(u,l)),p},a}(Oa),us=Rn,uo=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="pow",r}return a.prototype.invert=function(r){var n=this.getInvertPercent(r),l=this.exponent,u=En(l,this.max),v=En(l,this.min),p=n*(u-v)+v,y=p>=0?1:-1;return Math.pow(p,l)*y},a.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},a.prototype.getScalePercent=function(r){var n=this.max,l=this.min;if(n===l)return 0;var u=this.exponent,v=(En(u,r)-En(u,l))/(En(u,n)-En(u,l));return v},a}(Oa),P=uo,b=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="time",r}return a.prototype.getText=function(r,n){var l=this.translate(r),u=this.formatter;return u?u(l,n):Li(l,this.mask)},a.prototype.scale=function(r){var n=r;return((0,m.HD)(n)||(0,m.J_)(n))&&(n=this.translate(n)),s.prototype.scale.call(this,n)},a.prototype.translate=function(r){return xa(r)},a.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},a.prototype.setDomain=function(){var r=this.values,n=this.getConfig("min"),l=this.getConfig("max");if((!(0,m.UM)(n)||!(0,m.hj)(n))&&(this.min=this.translate(this.min)),(!(0,m.UM)(l)||!(0,m.hj)(l))&&(this.max=this.translate(this.max)),r&&r.length){var u=[],v=1/0,p=v,y=0;(0,m.S6)(r,function(C){var T=xa(C);if(isNaN(T))throw new TypeError("Invalid Time: "+C+" in time scale!");v>T?(p=v,v=T):p>T&&(p=T),y<T&&(y=T),u.push(T)}),r.length>1&&(this.minTickInterval=p-v),(0,m.UM)(n)&&(this.min=v),(0,m.UM)(l)&&(this.max=y)}},a}(Ci),S=b,E=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="quantize",r}return a.prototype.invert=function(r){var n=this.ticks,l=n.length,u=this.getInvertPercent(r),v=Math.floor(u*(l-1));if(v>=l-1)return(0,m.Z$)(n);if(v<0)return(0,m.YM)(n);var p=n[v],y=n[v+1],C=v/(l-1),T=(v+1)/(l-1);return p+(u-C)/(T-C)*(y-p)},a.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},a.prototype.calculateTicks=function(){var r=s.prototype.calculateTicks.call(this);return this.nice||((0,m.Z$)(r)!==this.max&&r.push(this.max),(0,m.YM)(r)!==this.min&&r.unshift(this.min)),r},a.prototype.getScalePercent=function(r){var n=this.ticks;if(r<(0,m.YM)(n))return 0;if(r>(0,m.Z$)(n))return 1;var l=0;return(0,m.S6)(n,function(u,v){if(r>=u)l=v;else return!1}),l/(n.length-1)},a}(Oa),A=E,O=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="quantile",r}return a.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},a}(A),R=O,V={};function $(s){return V[s]}function Q(s,a){if($(s))throw new Error("type '"+s+"' existed.");V[s]=a}var ot=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="identity",r.isIdentity=!0,r}return a.prototype.calculateTicks=function(){return this.values},a.prototype.scale=function(r){return this.values[0]!==r&&(0,m.hj)(r)?r:this.range[0]},a.prototype.invert=function(r){var n=this.range;return r<n[0]||r>n[1]?NaN:this.values[0]},a}(yi),xt=ot;function Ft(s){var a=s.values,r=s.tickInterval,n=s.tickCount,l=s.showLast;if((0,m.hj)(r)){var u=(0,m.hX)(a,function(U,nt){return nt%r===0}),v=(0,m.Z$)(a);return l&&(0,m.Z$)(u)!==v&&u.push(v),u}var p=a.length,y=s.min,C=s.max;if((0,m.UM)(y)&&(y=0),(0,m.UM)(C)&&(C=a.length-1),!(0,m.hj)(n)||n>=p)return a.slice(y,C+1);if(n<=0||C<=0)return[];for(var T=n===1?p:Math.floor(p/(n-1)),_=[],L=y,B=0;B<n&&!(L>=C);B++)L=Math.min(y+B*T,C),B===n-1&&l?_.push(a[C]):_.push(a[L]);return _}function zt(s){var a=s.min,r=s.max,n=s.nice,l=s.tickCount,u=new st;return u.domain([a,r]),n&&u.nice(l),u.ticks(l)}var ne=5,se=Math.sqrt(50),we=Math.sqrt(10),N=Math.sqrt(2),st=function(){function s(){this._domain=[0,1]}return s.prototype.domain=function(a){return a?(this._domain=Array.from(a,Number),this):this._domain.slice()},s.prototype.nice=function(a){var r,n;a===void 0&&(a=ne);var l=this._domain.slice(),u=0,v=this._domain.length-1,p=this._domain[u],y=this._domain[v],C;return y<p&&(r=[y,p],p=r[0],y=r[1],n=[v,u],u=n[0],v=n[1]),C=Lt(p,y,a),C>0?(p=Math.floor(p/C)*C,y=Math.ceil(y/C)*C,C=Lt(p,y,a)):C<0&&(p=Math.ceil(p*C)/C,y=Math.floor(y*C)/C,C=Lt(p,y,a)),C>0?(l[u]=Math.floor(p/C)*C,l[v]=Math.ceil(y/C)*C,this.domain(l)):C<0&&(l[u]=Math.ceil(p*C)/C,l[v]=Math.floor(y*C)/C,this.domain(l)),this},s.prototype.ticks=function(a){return a===void 0&&(a=ne),dt(this._domain[0],this._domain[this._domain.length-1],a||ne)},s}();function dt(s,a,r){var n,l=-1,u,v,p;if(a=+a,s=+s,r=+r,s===a&&r>0)return[s];if((n=a<s)&&(u=s,s=a,a=u),(p=Lt(s,a,r))===0||!isFinite(p))return[];if(p>0)for(s=Math.ceil(s/p),a=Math.floor(a/p),v=new Array(u=Math.ceil(a-s+1));++l<u;)v[l]=(s+l)*p;else for(s=Math.floor(s*p),a=Math.ceil(a*p),v=new Array(u=Math.ceil(s-a+1));++l<u;)v[l]=(s-l)/p;return n&&v.reverse(),v}function Lt(s,a,r){var n=(a-s)/Math.max(0,r),l=Math.floor(Math.log(n)/Math.LN10),u=n/Math.pow(10,l);return l>=0?(u>=se?10:u>=we?5:u>=N?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(u>=se?10:u>=we?5:u>=N?2:1)}function ae(s,a,r){var n;return r==="ceil"?n=Math.ceil(s/a):r==="floor"?n=Math.floor(s/a):n=Math.round(s/a),n*a}function G(s,a,r){var n=ae(s,r,"floor"),l=ae(a,r,"ceil");n=(0,m.ri)(n,r),l=(0,m.ri)(l,r);for(var u=[],v=Math.max((l-n)/(Math.pow(2,12)-1),r),p=n;p<=l;p=p+v){var y=(0,m.ri)(p,v);u.push(y)}return{min:n,max:l,ticks:u}}function ht(s,a,r){var n,l=s.minLimit,u=s.maxLimit,v=s.min,p=s.max,y=s.tickCount,C=y===void 0?5:y,T=(0,m.UM)(l)?(0,m.UM)(a)?v:a:l,_=(0,m.UM)(u)?(0,m.UM)(r)?p:r:u;if(T>_&&(n=[T,_],_=n[0],T=n[1]),C<=2)return[T,_];for(var L=(_-T)/(C-1),B=[],U=0;U<C;U++)B.push(T+L*U);return B}function kt(s){var a=s.min,r=s.max,n=s.tickInterval,l=s.minLimit,u=s.maxLimit,v=zt(s);return!(0,m.UM)(l)||!(0,m.UM)(u)?ht(s,(0,m.YM)(v),(0,m.Z$)(v)):n?G(a,r,n).ticks:v}function Nt(s){return Math.abs(s)<1e-15?s:parseFloat(s.toFixed(15))}var he=[1,5,2,2.5,4,3],Ee=null,Ge=Number.EPSILON*100;function rr(s,a){return(s%a+a)%a}function vr(s){return Math.round(s*1e12)/1e12}function yr(s,a,r,n,l,u){var v=(0,m.dp)(a),p=(0,m.cq)(a,s),y=0,C=rr(n,u);return(C<Ge||u-C<Ge)&&n<=0&&l>=0&&(y=1),1-p/(v-1)-r+y}function Mr(s,a,r){var n=(0,m.dp)(a),l=(0,m.cq)(a,s),u=1;return 1-l/(n-1)-r+u}function zr(s,a,r,n,l,u){var v=(s-1)/(u-l),p=(a-1)/(Math.max(u,n)-Math.min(r,l));return 2-Math.max(v/p,p/v)}function $r(s,a){return s>=a?2-(s-1)/(a-1):1}function Ur(s,a,r,n){var l=a-s;return 1-.5*(Math.pow(a-n,2)+Math.pow(s-r,2))/Math.pow(.1*l,2)}function Kr(s,a,r){var n=a-s;if(r>n){var l=(r-n)/2;return 1-Math.pow(l,2)/Math.pow(.1*n,2)}return 1}function Br(){return 1}function Rr(s,a,r,n,l,u){r===void 0&&(r=5),n===void 0&&(n=!0),l===void 0&&(l=he),u===void 0&&(u=[.25,.2,.5,.05]);var v=r<0?0:Math.round(r);if(Number.isNaN(s)||Number.isNaN(a)||typeof s!="number"||typeof a!="number"||!v)return{min:0,max:0,ticks:[]};if(a-s<1e-15||v===1)return{min:s,max:a,ticks:[s]};if(a-s>1e148){var p=r||5,y=(a-s)/p;return{min:s,max:a,ticks:Array(p).fill(null).map(function(qs,xc){return Nt(s+y*xc)})}}for(var C={score:-2,lmin:0,lmax:0,lstep:0},T=1;T<1/0;){for(var _=0;_<l.length;_+=1){var L=l[_],B=Mr(L,l,T);if(u[0]*B+u[1]+u[2]+u[3]<C.score){T=1/0;break}for(var U=2;U<1/0;){var nt=$r(U,v);if(u[0]*B+u[1]+u[2]*nt+u[3]<C.score)break;for(var pt=(a-s)/(U+1)/T/L,Mt=Math.ceil(Math.log10(pt));Mt<1/0;){var Yt=T*L*Math.pow(10,Mt),Gt=Kr(s,a,Yt*(U-1));if(u[0]*B+u[1]*Gt+u[2]*nt+u[3]<C.score)break;var te=Math.floor(a/Yt)*T-(U-1)*T,Me=Math.ceil(s/Yt)*T;if(te<=Me)for(var p=Me-te,Ne=0;Ne<=p;Ne+=1){var Ye=te+Ne,Xe=Ye*(Yt/T),Ke=Xe+Yt*(U-1),Qe=Yt,xr=yr(L,l,T,Xe,Ke,Qe),mr=Ur(s,a,Xe,Ke),Lr=zr(U,v,s,a,Xe,Ke),Zr=Br(),vn=u[0]*xr+u[1]*mr+u[2]*Lr+u[3]*Zr;vn>C.score&&(!n||Xe<=s&&Ke>=a)&&(C.lmin=Xe,C.lmax=Ke,C.lstep=Qe,C.score=vn)}Mt+=1}U+=1}}T+=1}var hi=Nt(C.lmax),jn=Nt(C.lmin),Pi=Nt(C.lstep),bn=Math.floor(vr((hi-jn)/Pi))+1,Gi=new Array(bn);Gi[0]=Nt(jn);for(var _=1;_<bn;_++)Gi[_]=Nt(Gi[_-1]+Pi);return{min:Math.min(s,(0,m.YM)(Gi)),max:Math.max(a,(0,m.Z$)(Gi)),ticks:Gi}}function Wr(s){var a=s.min,r=s.max,n=s.tickCount,l=s.nice,u=s.tickInterval,v=s.minLimit,p=s.maxLimit,y=Rr(a,r,n,l).ticks;return!(0,m.UM)(v)||!(0,m.UM)(p)?ht(s,(0,m.YM)(y),(0,m.Z$)(y)):u?G(a,r,u).ticks:y}function kr(s){var a=s.base,r=s.tickCount,n=s.min,l=s.max,u=s.values,v,p=sn(a,l);if(n>0)v=Math.floor(sn(a,n));else{var y=Jn(u,a,l);v=Math.floor(sn(a,y))}for(var C=p-v,T=Math.ceil(C/r),_=[],L=v;L<p+T;L=L+T)_.push(Math.pow(a,L));return n<=0&&_.unshift(0),_}function Pn(s,a,r){if(r===void 0&&(r=5),s===a)return{max:a,min:s,ticks:[s]};var n=r<0?0:Math.round(r);if(n===0)return{max:a,min:s,ticks:[]};var l=1.5,u=.5+1.5*l,v=a-s,p=v/n,y=Math.pow(10,Math.floor(Math.log10(p))),C=y;2*y-p<l*(p-C)&&(C=2*y,5*y-p<u*(p-C)&&(C=5*y,10*y-p<l*(p-C)&&(C=10*y)));for(var T=Math.ceil(a/C),_=Math.floor(s/C),L=Math.max(T*C,a),B=Math.min(_*C,s),U=Math.floor((L-B)/C)+1,nt=new Array(U),pt=0;pt<U;pt++)nt[pt]=Nt(B+pt*C);return{min:B,max:L,ticks:nt}}function ii(s){var a=s.exponent,r=s.tickCount,n=Math.ceil(En(a,s.max)),l=Math.floor(En(a,s.min)),u=Pn(l,n,r).ticks;return u.map(function(v){var p=v>=0?1:-1;return Math.pow(v,a)*p})}function fi(s,a){var r=s.length*a;return a===1?s[s.length-1]:a===0?s[0]:r%1!==0?s[Math.ceil(r)-1]:s.length%2===0?(s[r-1]+s[r])/2:s[r]}function vi(s){var a=s.tickCount,r=s.values;if(!r||!r.length)return[];for(var n=r.slice().sort(function(p,y){return p-y}),l=[],u=0;u<a;u++){var v=u/(a-1);l.push(fi(n,v))}return l}function Ri(s){var a=s.min,r=s.max,n=s.tickCount,l=s.tickInterval,u=s.minLimit,v=s.maxLimit,p=Pn(a,r,n).ticks;return!(0,m.UM)(u)||!(0,m.UM)(v)?ht(s,(0,m.YM)(p),(0,m.Z$)(p)):l?G(a,r,l).ticks:p}function Mi(s){var a=s.min,r=s.max,n=s.minTickInterval,l=s.tickInterval,u=s.tickCount;if(l)u=Math.ceil((r-a)/l);else{l=so(a,r,u)[1];var v=(r-a)/l,p=v/u;p>1&&(l=l*Math.ceil(p)),n&&l<n&&(l=n)}l=Math.max(Math.floor((r-a)/(Math.pow(2,12)-1)),l);for(var y=[],C=a;C<r+l;C+=l)y.push(C);return y}function ai(s){var a=Ft((0,I.pi)({showLast:!0},s));return a}function $i(s){return new Date(s).getFullYear()}function Do(s){return new Date(s,0,1).getTime()}function wa(s){return new Date(s).getMonth()}function oi(s,a){var r=$i(s),n=$i(a),l=wa(s),u=wa(a);return(n-r)*12+(u-l)%12}function di(s,a){return new Date(s,a,1).getTime()}function Hn(s,a){return Math.ceil((a-s)/qn)}function In(s,a){return Math.ceil((a-s)/Yn)}function co(s,a){return Math.ceil((a-s)/(60*1e3))}function Ha(s){var a=s.min,r=s.max,n=s.minTickInterval,l=s.tickCount,u=s.tickInterval,v=[];u||(u=(r-a)/l,n&&u<n&&(u=n)),u=Math.max(Math.floor((r-a)/(Math.pow(2,12)-1)),u);var p=$i(a);if(u>na)for(var y=$i(r),C=Math.ceil(u/na),T=p;T<=y+C;T=T+C)v.push(Do(T));else if(u>Oi)for(var _=Math.ceil(u/Oi),L=wa(a),B=oi(a,r),T=0;T<=B+_;T=T+_)v.push(di(p,T+L));else if(u>qn)for(var U=new Date(a),nt=U.getFullYear(),pt=U.getMonth(),Mt=U.getDate(),Yt=Math.ceil(u/qn),Gt=Hn(a,r),T=0;T<Gt+Yt;T=T+Yt)v.push(new Date(nt,pt,Mt+T).getTime());else if(u>Yn)for(var U=new Date(a),nt=U.getFullYear(),pt=U.getMonth(),Yt=U.getDate(),te=U.getHours(),Me=Math.ceil(u/Yn),Ne=In(a,r),T=0;T<=Ne+Me;T=T+Me)v.push(new Date(nt,pt,Yt,te+T).getTime());else if(u>Si)for(var Ye=co(a,r),Xe=Math.ceil(u/Si),T=0;T<=Ye+Xe;T=T+Xe)v.push(a+T*Si);else{var Ke=u;Ke<Kn&&(Ke=Kn);for(var Qe=Math.floor(a/Kn)*Kn,xr=Math.ceil((r-a)/Kn),mr=Math.ceil(Ke/Kn),T=0;T<xr+mr;T=T+mr)v.push(Qe+T*Kn)}return v.length>=512&&console.warn("Notice: current ticks length("+v.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+u+") is too small, increase the value to solve the problem!"),v}wr("cat",Ft),wr("time-cat",ai),wr("wilkinson-extended",Wr),wr("r-pretty",Ri),wr("time",Mi),wr("time-pretty",Ha),wr("log",kr),wr("pow",ii),wr("quantile",vi),wr("d3-linear",kt),Q("cat",xi),Q("category",xi),Q("identity",xt),Q("linear",Ci),Q("log",us),Q("pow",P),Q("time",S),Q("timeCat",lo),Q("quantize",A),Q("quantile",R);var Sa={},aa=function(s){return Sa[s.toLowerCase()]},si=function(s,a){if(aa(s))throw new Error("Attribute type '".concat(s,"' existed."));Sa[s.toLowerCase()]=a};si("Color",Ii),si("Opacity",$n),si("Position",gi),si("Shape",da),si("Size",ea);var Ni=H(49685);function zi(){var s=new Ni.WT(3);return Ni.WT!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s}function ho(s){var a=new glMatrix.ARRAY_TYPE(3);return a[0]=s[0],a[1]=s[1],a[2]=s[2],a}function Ga(s){var a=s[0],r=s[1],n=s[2];return Math.hypot(a,r,n)}function Vi(s,a,r){var n=new glMatrix.ARRAY_TYPE(3);return n[0]=s,n[1]=a,n[2]=r,n}function Ki(s,a){return s[0]=a[0],s[1]=a[1],s[2]=a[2],s}function Ql(s,a,r,n){return s[0]=a,s[1]=r,s[2]=n,s}function Ba(s,a,r){return s[0]=a[0]+r[0],s[1]=a[1]+r[1],s[2]=a[2]+r[2],s}function Cc(s,a,r){return s[0]=a[0]-r[0],s[1]=a[1]-r[1],s[2]=a[2]-r[2],s}function fo(s,a,r){return s[0]=a[0]*r[0],s[1]=a[1]*r[1],s[2]=a[2]*r[2],s}function Mc(s,a,r){return s[0]=a[0]/r[0],s[1]=a[1]/r[1],s[2]=a[2]/r[2],s}function oa(s,a){return s[0]=Math.ceil(a[0]),s[1]=Math.ceil(a[1]),s[2]=Math.ceil(a[2]),s}function Ui(s,a){return s[0]=Math.floor(a[0]),s[1]=Math.floor(a[1]),s[2]=Math.floor(a[2]),s}function Wi(s,a,r){return s[0]=Math.min(a[0],r[0]),s[1]=Math.min(a[1],r[1]),s[2]=Math.min(a[2],r[2]),s}function pi(s,a,r){return s[0]=Math.max(a[0],r[0]),s[1]=Math.max(a[1],r[1]),s[2]=Math.max(a[2],r[2]),s}function Xa(s,a){return s[0]=Math.round(a[0]),s[1]=Math.round(a[1]),s[2]=Math.round(a[2]),s}function cs(s,a,r){return s[0]=a[0]*r,s[1]=a[1]*r,s[2]=a[2]*r,s}function Tc(s,a,r,n){return s[0]=a[0]+r[0]*n,s[1]=a[1]+r[1]*n,s[2]=a[2]+r[2]*n,s}function _0(s,a){var r=a[0]-s[0],n=a[1]-s[1],l=a[2]-s[2];return Math.hypot(r,n,l)}function uv(s,a){var r=a[0]-s[0],n=a[1]-s[1],l=a[2]-s[2];return r*r+n*n+l*l}function cv(s){var a=s[0],r=s[1],n=s[2];return a*a+r*r+n*n}function P0(s,a){return s[0]=-a[0],s[1]=-a[1],s[2]=-a[2],s}function I0(s,a){return s[0]=1/a[0],s[1]=1/a[1],s[2]=1/a[2],s}function hv(s,a){var r=a[0],n=a[1],l=a[2],u=r*r+n*n+l*l;return u>0&&(u=1/Math.sqrt(u)),s[0]=a[0]*u,s[1]=a[1]*u,s[2]=a[2]*u,s}function Ac(s,a){return s[0]*a[0]+s[1]*a[1]+s[2]*a[2]}function fv(s,a,r){var n=a[0],l=a[1],u=a[2],v=r[0],p=r[1],y=r[2];return s[0]=l*y-u*p,s[1]=u*v-n*y,s[2]=n*p-l*v,s}function F0(s,a,r,n){var l=a[0],u=a[1],v=a[2];return s[0]=l+n*(r[0]-l),s[1]=u+n*(r[1]-u),s[2]=v+n*(r[2]-v),s}function Ec(s,a,r,n,l,u){var v=u*u,p=v*(2*u-3)+1,y=v*(u-2)+u,C=v*(u-1),T=v*(3-2*u);return s[0]=a[0]*p+r[0]*y+n[0]*C+l[0]*T,s[1]=a[1]*p+r[1]*y+n[1]*C+l[1]*T,s[2]=a[2]*p+r[2]*y+n[2]*C+l[2]*T,s}function vv(s,a,r,n,l,u){var v=1-u,p=v*v,y=u*u,C=p*v,T=3*u*p,_=3*y*v,L=y*u;return s[0]=a[0]*C+r[0]*T+n[0]*_+l[0]*L,s[1]=a[1]*C+r[1]*T+n[1]*_+l[1]*L,s[2]=a[2]*C+r[2]*T+n[2]*_+l[2]*L,s}function k0(s,a){a=a||1;var r=glMatrix.RANDOM()*2*Math.PI,n=glMatrix.RANDOM()*2-1,l=Math.sqrt(1-n*n)*a;return s[0]=Math.cos(r)*l,s[1]=Math.sin(r)*l,s[2]=n*a,s}function dv(s,a,r){var n=a[0],l=a[1],u=a[2],v=r[3]*n+r[7]*l+r[11]*u+r[15];return v=v||1,s[0]=(r[0]*n+r[4]*l+r[8]*u+r[12])/v,s[1]=(r[1]*n+r[5]*l+r[9]*u+r[13])/v,s[2]=(r[2]*n+r[6]*l+r[10]*u+r[14])/v,s}function hs(s,a,r){var n=a[0],l=a[1],u=a[2];return s[0]=n*r[0]+l*r[3]+u*r[6],s[1]=n*r[1]+l*r[4]+u*r[7],s[2]=n*r[2]+l*r[5]+u*r[8],s}function D0(s,a,r){var n=r[0],l=r[1],u=r[2],v=r[3],p=a[0],y=a[1],C=a[2],T=l*C-u*y,_=u*p-n*C,L=n*y-l*p,B=l*L-u*_,U=u*T-n*L,nt=n*_-l*T,pt=v*2;return T*=pt,_*=pt,L*=pt,B*=2,U*=2,nt*=2,s[0]=p+T+B,s[1]=y+_+U,s[2]=C+L+nt,s}function pv(s,a,r,n){var l=[],u=[];return l[0]=a[0]-r[0],l[1]=a[1]-r[1],l[2]=a[2]-r[2],u[0]=l[0],u[1]=l[1]*Math.cos(n)-l[2]*Math.sin(n),u[2]=l[1]*Math.sin(n)+l[2]*Math.cos(n),s[0]=u[0]+r[0],s[1]=u[1]+r[1],s[2]=u[2]+r[2],s}function gv(s,a,r,n){var l=[],u=[];return l[0]=a[0]-r[0],l[1]=a[1]-r[1],l[2]=a[2]-r[2],u[0]=l[2]*Math.sin(n)+l[0]*Math.cos(n),u[1]=l[1],u[2]=l[2]*Math.cos(n)-l[0]*Math.sin(n),s[0]=u[0]+r[0],s[1]=u[1]+r[1],s[2]=u[2]+r[2],s}function L0(s,a,r,n){var l=[],u=[];return l[0]=a[0]-r[0],l[1]=a[1]-r[1],l[2]=a[2]-r[2],u[0]=l[0]*Math.cos(n)-l[1]*Math.sin(n),u[1]=l[0]*Math.sin(n)+l[1]*Math.cos(n),u[2]=l[2],s[0]=u[0]+r[0],s[1]=u[1]+r[1],s[2]=u[2]+r[2],s}function O0(s,a){var r=s[0],n=s[1],l=s[2],u=a[0],v=a[1],p=a[2],y=Math.sqrt(r*r+n*n+l*l),C=Math.sqrt(u*u+v*v+p*p),T=y*C,_=T&&Ac(s,a)/T;return Math.acos(Math.min(Math.max(_,-1),1))}function Lo(s){return s[0]=0,s[1]=0,s[2]=0,s}function B0(s){return"vec3("+s[0]+", "+s[1]+", "+s[2]+")"}function R0(s,a){return s[0]===a[0]&&s[1]===a[1]&&s[2]===a[2]}function N0(s,a){var r=s[0],n=s[1],l=s[2],u=a[0],v=a[1],p=a[2];return Math.abs(r-u)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-v)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(l-p)<=glMatrix.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))}var z0=null,V0=null,U0=null,yv=null,W0=null,tu=null,Y0=null,H0=function(){var s=zi();return function(a,r,n,l,u,v){var p,y;for(r||(r=3),n||(n=0),l?y=Math.min(l*r+n,a.length):y=a.length,p=n;p<y;p+=r)s[0]=a[p],s[1]=a[p+1],s[2]=a[p+2],u(s,s,v),a[p]=s[0],a[p+1]=s[1],a[p+2]=s[2];return a}}(),mv=H(35600),gn=H(31506),xv=function(){function s(a){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var r=a.start,n=a.end,l=a.matrix,u=l===void 0?[1,0,0,0,1,0,0,0,1]:l,v=a.isTransposed,p=v===void 0?!1:v;this.start=r,this.end=n,this.matrix=u,this.originalMatrix=(0,I.ev)([],u),this.isTransposed=p}return s.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},s.prototype.update=function(a){(0,m.f0)(this,a),this.initial()},s.prototype.convertDim=function(a,r){var n,l=this[r],u=l.start,v=l.end;return this.isReflect(r)&&(n=[v,u],u=n[0],v=n[1]),u+a*(v-u)},s.prototype.invertDim=function(a,r){var n,l=this[r],u=l.start,v=l.end;return this.isReflect(r)&&(n=[v,u],u=n[0],v=n[1]),(a-u)/(v-u)},s.prototype.applyMatrix=function(a,r,n){n===void 0&&(n=0);var l=this.matrix,u=[a,r,n];return hs(u,u,l),u},s.prototype.invertMatrix=function(a,r,n){n===void 0&&(n=0);var l=this.matrix,u=mv.U_([0,0,0,0,0,0,0,0,0],l),v=[a,r,n];return u&&hs(v,v,u),v},s.prototype.convert=function(a){var r=this.convertPoint(a),n=r.x,l=r.y,u=this.applyMatrix(n,l,1);return{x:u[0],y:u[1]}},s.prototype.invert=function(a){var r=this.invertMatrix(a.x,a.y,1);return this.invertPoint({x:r[0],y:r[1]})},s.prototype.rotate=function(a){var r=this.matrix,n=this.center;return gn.m$(r,r,[-n.x,-n.y]),gn.zu(r,r,a),gn.m$(r,r,[n.x,n.y]),this},s.prototype.reflect=function(a){return a==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},s.prototype.scale=function(a,r){var n=this.matrix,l=this.center;return gn.m$(n,n,[-l.x,-l.y]),gn.lh(n,n,[a,r]),gn.m$(n,n,[l.x,l.y]),this},s.prototype.translate=function(a,r){var n=this.matrix;return gn.m$(n,n,[a,r]),this},s.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},s.prototype.getCenter=function(){return this.center},s.prototype.getWidth=function(){return this.width},s.prototype.getHeight=function(){return this.height},s.prototype.getRadius=function(){return this.radius},s.prototype.isReflect=function(a){return a==="x"?this.isReflectX:this.isReflectY},s.prototype.resetMatrix=function(a){this.matrix=a||(0,I.ev)([],this.originalMatrix)},s}(),eu=xv,_c=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return a.prototype.initial=function(){s.prototype.initial.call(this);var r=this.start,n=this.end;this.x={start:r.x,end:n.x},this.y={start:r.y,end:n.y}},a.prototype.convertPoint=function(r){var n,l=r.x,u=r.y;return this.isTransposed&&(n=[u,l],l=n[0],u=n[1]),{x:this.convertDim(l,"x"),y:this.convertDim(u,"y")}},a.prototype.invertPoint=function(r){var n,l=this.invertDim(r.x,"x"),u=this.invertDim(r.y,"y");return this.isTransposed&&(n=[u,l],l=n[0],u=n[1]),{x:l,y:u}},a}(eu),Pc=_c,qr=H(31437),fs=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.isHelix=!0,n.type="helix";var l=r.startAngle,u=l===void 0?1.25*Math.PI:l,v=r.endAngle,p=v===void 0?7.25*Math.PI:v,y=r.innerRadius,C=y===void 0?0:y,T=r.radius;return n.startAngle=u,n.endAngle=p,n.innerRadius=C,n.radius=T,n.initial(),n}return a.prototype.initial=function(){s.prototype.initial.call(this);var r=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/r),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},a.prototype.convertPoint=function(r){var n,l=r.x,u=r.y;this.isTransposed&&(n=[u,l],l=n[0],u=n[1]);var v=this.convertDim(l,"x"),p=this.a*v,y=this.convertDim(u,"y");return{x:this.center.x+Math.cos(v)*(p+y),y:this.center.y+Math.sin(v)*(p+y)}},a.prototype.invertPoint=function(r){var n,l=this.d+this.y.start,u=qr.$X([0,0],[r.x,r.y],[this.center.x,this.center.y]),v=gn.Dg(u,[1,0],!0),p=v*this.a;qr.kE(u)<p&&(p=qr.kE(u));var y=Math.floor((qr.kE(u)-p)/l);v=2*y*Math.PI+v;var C=this.a*v,T=qr.kE(u)-C;T=(0,m.vQ)(T,0)?0:T;var _=this.invertDim(v,"x"),L=this.invertDim(T,"y");return _=(0,m.vQ)(_,0)?0:_,L=(0,m.vQ)(L,0)?0:L,this.isTransposed&&(n=[L,_],_=n[0],L=n[1]),{x:_,y:L}},a}(eu),Qs=fs,Ic=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.isPolar=!0,n.type="polar";var l=r.startAngle,u=l===void 0?-Math.PI/2:l,v=r.endAngle,p=v===void 0?Math.PI*3/2:v,y=r.innerRadius,C=y===void 0?0:y,T=r.radius;return n.startAngle=u,n.endAngle=p,n.innerRadius=C,n.radius=T,n.initial(),n}return a.prototype.initial=function(){for(s.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var r=this.getOneBox(),n=r.maxX-r.minX,l=r.maxY-r.minY,u=Math.abs(r.minX)/n,v=Math.abs(r.minY)/l,p;this.height/l>this.width/n?(p=this.width/n,this.circleCenter={x:this.center.x-(.5-u)*this.width,y:this.center.y-(.5-v)*p*l}):(p=this.height/l,this.circleCenter={x:this.center.x-(.5-u)*p*n,y:this.center.y-(.5-v)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=p*this.radius:(this.radius<=0||this.radius>p)&&(this.polarRadius=p):this.polarRadius=p,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},a.prototype.getRadius=function(){return this.polarRadius},a.prototype.convertPoint=function(r){var n,l=this.getCenter(),u=r.x,v=r.y;return this.isTransposed&&(n=[v,u],u=n[0],v=n[1]),u=this.convertDim(u,"x"),v=this.convertDim(v,"y"),{x:l.x+Math.cos(u)*v,y:l.y+Math.sin(u)*v}},a.prototype.invertPoint=function(r){var n,l=this.getCenter(),u=[r.x-l.x,r.y-l.y],v=this,p=v.startAngle,y=v.endAngle;this.isReflect("x")&&(n=[y,p],p=n[0],y=n[1]);var C=[1,0,0,0,1,0,0,0,1];gn.zu(C,C,p);var T=[1,0,0];hs(T,T,C);var _=[T[0],T[1]],L=gn.Dg(_,u,y<p);(0,m.vQ)(L,Math.PI*2)&&(L=0);var B=qr.kE(u),U=L/(y-p);U=y-p>0?U:-U;var nt=this.invertDim(B,"y"),pt={x:0,y:0};return pt.x=this.isTransposed?nt:U,pt.y=this.isTransposed?U:nt,pt},a.prototype.getCenter=function(){return this.circleCenter},a.prototype.getOneBox=function(){var r=this.startAngle,n=this.endAngle;if(Math.abs(n-r)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var l=[0,Math.cos(r),Math.cos(n)],u=[0,Math.sin(r),Math.sin(n)],v=Math.min(r,n);v<Math.max(r,n);v+=Math.PI/18)l.push(Math.cos(v)),u.push(Math.sin(v));return{minX:Math.min.apply(Math,l),maxX:Math.max.apply(Math,l),minY:Math.min.apply(Math,u),maxY:Math.max.apply(Math,u)}},a}(eu),Fc=Ic,kc={},bv=function(s){return kc[s.toLowerCase()]},vs=function(s,a){kc[s.toLowerCase()]=a};vs("rect",Pc),vs("cartesian",Pc),vs("polar",Fc),vs("helix",Qs);function Dc(s,a,r){var n=new at.Event(a,r);n.target=s,n.propagationPath.push(s),s.emitDelegation(a,n);for(var l=s.getParent();l;)l.emitDelegation(a,n),n.propagationPath.push(l),l=l.getParent()}var Lc=[1,0,0,0,1,0,0,0,1];function vo(s,a,r){if(r===void 0&&(r=Lc),!a)return null;var n=gn.vs(r,[["t",-s.x,-s.y],["r",a],["t",s.x,s.y]]);return n}function ru(s,a){return!s.x&&!s.y?null:gn.vs(a||Lc,[["t",s.x,s.y]])}function wv(s){var a=[1,0,0],r=[0,0,0];return hs(r,a,s),Math.atan2(r[1],r[0])}function ds(s,a){var r=[0,0];return qr.kK(r,a,s),r}function Sv(s,a){var r=ds(s,[a.minX,a.minY]),n=ds(s,[a.maxX,a.minY]),l=ds(s,[a.minX,a.maxY]),u=ds(s,[a.maxX,a.maxY]),v=Math.min(r[0],n[0],l[0],u[0]),p=Math.max(r[0],n[0],l[0],u[0]),y=Math.min(r[1],n[1],l[1],u[1]),C=Math.max(r[1],n[1],l[1],u[1]);return{x:v,y,minX:v,minY:y,maxX:p,maxY:C,width:p-v,height:C-y}}function Za(s,a,r,n){if(a){var l=vo({x:r,y:n},a,s.getMatrix());s.setMatrix(l)}}function po(s,a,r){var n=ru({x:a,y:r});s.attr("matrix",n)}function Ra(s){var a=0,r=0,n=0,l=0;return(0,m.hj)(s)?a=r=n=l=s:(0,m.kJ)(s)&&(a=s[0],n=(0,m.UM)(s[1])?s[0]:s[1],l=(0,m.UM)(s[2])?s[0]:s[2],r=(0,m.UM)(s[3])?n:s[3]),[a,n,l,r]}function tl(s){for(var a=s.childNodes,r=a.length,n=r-1;n>=0;n--)s.removeChild(a[n])}function Cv(s,a){return!!s.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function ps(s){var a=s.start,r=s.end,n=Math.min(a.x,r.x),l=Math.min(a.y,r.y),u=Math.max(a.x,r.x),v=Math.max(a.y,r.y);return{x:n,y:l,minX:n,minY:l,maxX:u,maxY:v,width:u-n,height:v-l}}function Oo(s){var a=s.map(function(p){return p.x}),r=s.map(function(p){return p.y}),n=Math.min.apply(Math,a),l=Math.min.apply(Math,r),u=Math.max.apply(Math,a),v=Math.max.apply(Math,r);return{x:n,y:l,minX:n,minY:l,maxX:u,maxY:v,width:u-n,height:v-l}}function Bo(s,a,r,n){var l=s+r,u=a+n;return{x:s,y:a,width:r,height:n,minX:s,minY:a,maxX:isNaN(l)?0:l,maxY:isNaN(u)?0:u}}function go(s,a,r){return(1-r)*s+a*r}function Ro(s,a,r){return{x:s.x+Math.cos(r)*a,y:s.y+Math.sin(r)*a}}function Mv(s,a){var r=a.x-s.x,n=a.y-s.y;return Math.sqrt(r*r+n*n)}var Tv=function(s){return new Promise(function(a){setTimeout(a,s)})},el=function(s,a,r){return r===void 0&&(r=Math.pow(Number.EPSILON,.5)),[s,a].includes(1/0)?Math.abs(s)===Math.abs(a):Math.abs(s-a)<r};function Av(s,a){var r=Math.max(s.minX,a.minX),n=Math.max(s.minY,a.minY),l=Math.min(s.maxX,a.maxX),u=Math.min(s.maxY,a.maxY);return Bo(r,n,l-r,u-n)}function G0(s,a){var r=Math.min(s.minX,a.minX),n=Math.min(s.minY,a.minY),l=Math.max(s.maxX,a.maxX),u=Math.max(s.maxY,a.maxY);return Bo(r,n,l-r,u-n)}function Oc(s){var a=s.getClip(),r=a&&a.getBBox(),n;if(!s.isGroup())n=s.getBBox();else{var l=1/0,u=-1/0,v=1/0,p=-1/0,y=s.getChildren();y.length>0?(0,m.S6)(y,function(C){if(C.get("visible")){if(C.isGroup()&&C.get("children").length===0)return!0;var T=Oc(C),_=C.applyToMatrix([T.minX,T.minY,1]),L=C.applyToMatrix([T.minX,T.maxY,1]),B=C.applyToMatrix([T.maxX,T.minY,1]),U=C.applyToMatrix([T.maxX,T.maxY,1]),nt=Math.min(_[0],L[0],B[0],U[0]),pt=Math.max(_[0],L[0],B[0],U[0]),Mt=Math.min(_[1],L[1],B[1],U[1]),Yt=Math.max(_[1],L[1],B[1],U[1]);nt<l&&(l=nt),pt>u&&(u=pt),Mt<v&&(v=Mt),Yt>p&&(p=Yt)}}):(l=0,u=0,v=0,p=0),n=Bo(l,v,u-l,p-v)}return r?Av(n,r):n}function Bc(s,a){if(!(!s.getClip()&&!a.getClip())){var r=a.getClip();if(!r){s.setClip(null);return}var n={type:r.get("type"),attrs:r.attr()};s.setClip(n)}}function Ti(s){return s+"px"}function Rc(s,a,r,n){var l=Mv(s,a),u=n/l,v=0;return r==="start"?v=0-u:r==="end"&&(v=1+u),{x:go(s.x,a.x,v),y:go(s.y,a.y,v)}}var Ev={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},_v=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.initCfg(),n}return a.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},a.prototype.clear=function(){},a.prototype.update=function(r){var n=this,l=this.get("defaultCfg")||{};(0,m.S6)(r,function(u,v){var p=n.get(v),y=u;p!==u&&((0,m.Kn)(u)&&l[v]&&(y=(0,m.b$)({},l[v],u)),n.set(v,y))}),this.updateInner(r),this.afterUpdate(r)},a.prototype.updateInner=function(r){},a.prototype.afterUpdate=function(r){(0,m.wH)(r,"visible")&&(r.visible?this.show():this.hide()),(0,m.wH)(r,"capture")&&this.setCapture(r.capture)},a.prototype.getLayoutBBox=function(){return this.getBBox()},a.prototype.getLocationType=function(){return this.get("locationType")},a.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},a.prototype.setOffset=function(r,n){this.update({offsetX:r,offsetY:n})},a.prototype.setLocation=function(r){var n=(0,I.pi)({},r);this.update(n)},a.prototype.getLocation=function(){var r=this,n={},l=this.get("locationType"),u=Ev[l];return(0,m.S6)(u,function(v){n[v]=r.get(v)}),n},a.prototype.isList=function(){return!1},a.prototype.isSlider=function(){return!1},a.prototype.init=function(){},a.prototype.initCfg=function(){var r=this,n=this.get("defaultCfg");(0,m.S6)(n,function(l,u){var v=r.get(u);if((0,m.Kn)(v)){var p=(0,m.b$)({},l,v);r.set(u,p)}})},a}(at.Base),rl=_v,yo="update_status",Pv=["visible","tip","delegateObject"],Iv=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Fv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},a.prototype.remove=function(){this.clear();var r=this.get("group");r.remove()},a.prototype.clear=function(){var r=this.get("group");r.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},a.prototype.getChildComponentById=function(r){var n=this.getElementById(r),l=n&&n.get("component");return l},a.prototype.getElementById=function(r){return this.get("shapesMap")[r]},a.prototype.getElementByLocalId=function(r){var n=this.getElementId(r);return this.getElementById(n)},a.prototype.getElementsByName=function(r){var n=[];return(0,m.S6)(this.get("shapesMap"),function(l){l.get("name")===r&&n.push(l)}),n},a.prototype.getContainer=function(){return this.get("container")},a.prototype.updateInner=function(r){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},a.prototype.render=function(){var r=this.get("offScreenGroup");r||(r=this.offScreenRender());var n=this.get("group");this.updateElements(r,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},a.prototype.show=function(){var r=this.get("group");r.show(),this.set("visible",!0)},a.prototype.hide=function(){var r=this.get("group");r.hide(),this.set("visible",!1)},a.prototype.setCapture=function(r){var n=this.get("group");n.set("capture",r),this.set("capture",r)},a.prototype.destroy=function(){this.removeEvent(),this.remove(),s.prototype.destroy.call(this)},a.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},a.prototype.getLayoutBBox=function(){var r=this.get("group"),n=this.getInnerLayoutBBox(),l=r.getTotalMatrix();return l&&(n=Sv(l,n)),n},a.prototype.on=function(r,n,l){var u=this.get("group");return u.on(r,n,l),this},a.prototype.off=function(r,n){var l=this.get("group");return l&&l.off(r,n),this},a.prototype.emit=function(r,n){var l=this.get("group");l.emit(r,n)},a.prototype.init=function(){s.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},a.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},a.prototype.delegateEmit=function(r,n){var l=this.get("group");n.target=l,l.emit(r,n),Dc(l,r,n)},a.prototype.createOffScreenGroup=function(){var r=this.get("group"),n=r.getGroupBase(),l=new n({delegateObject:this.getDelegateObject()});return l},a.prototype.applyOffset=function(){var r=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:r,y:n})},a.prototype.initGroup=function(){var r=this.get("container");this.set("group",r.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},a.prototype.offScreenRender=function(){this.clearOffScreenCache();var r=this.createOffScreenGroup();return this.renderInner(r),this.set("offScreenGroup",r),this.set("offScreenBBox",Oc(r)),r},a.prototype.addGroup=function(r,n){this.appendDelegateObject(r,n);var l=r.addGroup(n);return this.get("isRegister")&&this.registerElement(l),l},a.prototype.addShape=function(r,n){this.appendDelegateObject(r,n);var l=r.addShape(n);return this.get("isRegister")&&this.registerElement(l),l},a.prototype.addComponent=function(r,n){var l=n.id,u=n.component,v=(0,I._T)(n,["id","component"]),p=new u((0,I.pi)((0,I.pi)({},v),{id:l,container:r,updateAutoRender:this.get("updateAutoRender")}));return p.init(),p.render(),this.get("isRegister")&&this.registerElement(p.get("group")),p},a.prototype.initEvent=function(){},a.prototype.removeEvent=function(){var r=this.get("group");r.off()},a.prototype.getElementId=function(r){var n=this.get("id"),l=this.get("name");return n+"-"+l+"-"+r},a.prototype.registerElement=function(r){var n=r.get("id");this.get("shapesMap")[n]=r},a.prototype.unregisterElement=function(r){var n=r.get("id");delete this.get("shapesMap")[n]},a.prototype.moveElementTo=function(r,n){var l=ru(n);r.attr("matrix",l)},a.prototype.addAnimation=function(r,n,l){var u=n.attr("opacity");(0,m.UM)(u)&&(u=1),n.attr("opacity",0),n.animate({opacity:u},l)},a.prototype.removeAnimation=function(r,n,l){n.animate({opacity:0},l)},a.prototype.updateAnimation=function(r,n,l,u){n.animate(l,u)},a.prototype.updateElements=function(r,n){var l=this,u=this.get("animate"),v=this.get("animateOption"),p=r.getChildren().slice(0),y;(0,m.S6)(p,function(C){var T=C.get("id"),_=l.getElementById(T),L=C.get("name");if(_)if(C.get("isComponent")){var B=C.get("component"),U=_.get("component"),nt=(0,m.ei)(B.cfg,(0,m.e5)((0,m.XP)(B.cfg),Iv));U.update(nt),_.set(yo,"update")}else{var pt=l.getReplaceAttrs(_,C);u&&v.update?l.updateAnimation(L,_,pt,v.update):_.attr(pt),C.isGroup()&&l.updateElements(C,_),(0,m.S6)(Pv,function(te){_.set(te,C.get(te))}),Bc(_,C),y=_,_.set(yo,"update")}else{n.add(C);var Mt=n.getChildren();if(Mt.splice(Mt.length-1,1),y){var Yt=Mt.indexOf(y);Mt.splice(Yt+1,0,C)}else Mt.unshift(C);if(l.registerElement(C),C.set(yo,"add"),C.get("isComponent")){var B=C.get("component");B.set("container",n)}else C.isGroup()&&l.registerNewGroup(C);if(y=C,u){var Gt=l.get("isInit")?v.appear:v.enter;Gt&&l.addAnimation(L,C,Gt)}}})},a.prototype.clearUpdateStatus=function(r){var n=r.getChildren();(0,m.S6)(n,function(l){l.set(yo,null)})},a.prototype.clearOffScreenCache=function(){var r=this.get("offScreenGroup");r&&r.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},a.prototype.getDelegateObject=function(){var r,n=this.get("name"),l=(r={},r[n]=this,r.component=this,r);return l},a.prototype.appendDelegateObject=function(r,n){var l=r.get("delegateObject");n.delegateObject||(n.delegateObject={}),(0,m.CD)(n.delegateObject,l)},a.prototype.getReplaceAttrs=function(r,n){var l=r.attr(),u=n.attr();return(0,m.S6)(l,function(v,p){u[p]===void 0&&(u[p]=void 0)}),u},a.prototype.registerNewGroup=function(r){var n=this,l=r.getChildren();(0,m.S6)(l,function(u){n.registerElement(u),u.set(yo,"add"),u.isGroup()&&n.registerNewGroup(u)})},a.prototype.deleteElements=function(){var r=this,n=this.get("shapesMap"),l=[];(0,m.S6)(n,function(p,y){!p.get(yo)||p.destroyed?l.push([y,p]):p.set(yo,null)});var u=this.get("animate"),v=this.get("animateOption");(0,m.S6)(l,function(p){var y=p[0],C=p[1];if(!C.destroyed){var T=C.get("name");if(u&&v.leave){var _=(0,m.CD)({callback:function(){r.removeElement(C)}},v.leave);r.removeAnimation(T,C,_)}else r.removeElement(C)}delete n[y]})},a.prototype.removeElement=function(r){if(r.get("isGroup")){var n=r.get("component");n&&n.destroy()}r.remove()},a}(rl),Qn=Fv,nu="\u2026";function kv(s){for(var a=0,r=0;r<s.length;r++)a+=mo(s,r);return a}function mo(s,a){return s.charCodeAt(a)>0&&s.charCodeAt(a)<128?1:2}function No(s,a,r){r===void 0&&(r="tail");var n=s.length,l="";if(r==="tail"){for(var u=0,v=0;u<a;){var p=mo(s,v);if(u+p<=a)l+=s[v],u+=mo(s,v),v++;else break}l+=nu}else if(r==="head"){for(var u=0,v=n-1;u<a;){var p=mo(s,v);if(u+p<=a)l+=s[v],u+=mo(s,v),v--;else break}l=nu+l}else{for(var y="",C="",u=0,T=0,_=n-1;u<a;){var L=mo(s,T),B=!1;L+u<=a&&(y+=s[T],T++,u+=L,B=!0);var U=mo(s,_);if(U+u<=a&&(C=s[_]+C,u+=U,_--,B=!0),!B)break}l=y+nu+C}return l}var Dv="\u2026",X0=2,Ca=400;function Ma(s){for(var a=s.map(function(y){var C=y.attr("text");return(0,m.UM)(C)?"":""+C}),r=0,n=0,l=0;l<a.length;l+=1){for(var u=0,v=0;v<=a[l].length;v+=1){var p=a[l].charCodeAt(v);p>=19968&&p<=40869?u+=2:u+=1}u>r&&(r=u,n=l)}return s[n].getBBox().width}function Na(s){if(s.length>Ca)return Ma(s);var a=0;return(0,m.S6)(s,function(r){var n=r.getBBox(),l=n.width;a<l&&(a=l)}),a}function Nc(s,a){var r=a.getCanvasBBox();return s?r.width:r.height}function ja(s,a){return s.getBBox().width<a}function gs(s,a,r,n){var l;n===void 0&&(n="tail");var u=(l=a.attr("text"))!==null&&l!==void 0?l:"";if(n==="tail"){var v=(0,m.ei)(a.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),p=(0,m.Lo)(u,r,v,"\u2026");return u!==p?(a.attr("text",p),a.set("tip",u),!0):(a.set("tip",null),!1)}var y=Nc(s,a),C=kv(u),T=!1;if(r<y){var _=Math.floor(r/y*C)-X0,L=void 0;_>=0?L=No(u,_,n):L=Dv,L&&(a.attr("text",L),T=!0)}return T?a.set("tip",u):a.set("tip",null),T}function nl(s,a){var r=a.x,n=a.y,l=a.content,u=a.style,v=a.id,p=a.name,y=a.rotate,C=a.maxLength,T=a.autoEllipsis,_=a.isVertical,L=a.ellipsisPosition,B=a.background,U=s.addGroup({id:v+"-group",name:p+"-group",attrs:{x:r,y:n}}),nt=U.addShape({type:"text",id:v,name:p,attrs:(0,I.pi)({x:0,y:0,text:l},u)}),pt=Ra((0,m.U2)(B,"padding",0));if(C&&T){var Mt=C-(pt[1]+pt[3]);gs(!_,nt,Mt,L)}if(B){var Yt=(0,m.U2)(B,"style",{}),Gt=nt.getCanvasBBox(),te=Gt.minX,Me=Gt.minY,Ne=Gt.width,Ye=Gt.height,Xe=U.addShape("rect",{id:v+"-bg",name:v+"-bg",attrs:(0,I.pi)({x:te-pt[3],y:Me-pt[0],width:Ne+pt[1]+pt[3],height:Ye+pt[0]+pt[2]},Yt)});Xe.toBack()}po(U,r,n),Za(U,y,r,n)}var Hr={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},Lv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Hr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Hr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Hr.lineColor,lineWidth:1}}}})},a.prototype.renderInner=function(r){this.renderLine(r),this.get("text")&&this.renderLabel(r)},a.prototype.renderLine=function(r){var n=this.get("start"),l=this.get("end"),u=this.get("style");this.addShape(r,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,I.pi)({x1:n.x,y1:n.y,x2:l.x,y2:l.y},u)})},a.prototype.getLabelPoint=function(r,n,l){var u;return l==="start"?u=0:l==="center"?u=.5:(0,m.HD)(l)&&l.indexOf("%")!==-1?u=parseInt(l,10)/100:(0,m.hj)(l)?u=l:u=1,(u>1||u<0)&&(u=1),{x:go(r.x,n.x,u),y:go(r.y,n.y,u)}},a.prototype.renderLabel=function(r){var n=this.get("text"),l=this.get("start"),u=this.get("end"),v=n.position,p=n.content,y=n.style,C=n.offsetX,T=n.offsetY,_=n.autoRotate,L=n.maxLength,B=n.autoEllipsis,U=n.ellipsisPosition,nt=n.background,pt=n.isVertical,Mt=pt===void 0?!1:pt,Yt=this.getLabelPoint(l,u,v),Gt=Yt.x+C,te=Yt.y+T,Me={id:this.getElementId("line-text"),name:"annotation-line-text",x:Gt,y:te,content:p,style:y,maxLength:L,autoEllipsis:B,ellipsisPosition:U,background:nt,isVertical:Mt};if(_){var Ne=[u.x-l.x,u.y-l.y];Me.rotate=Math.atan2(Ne[1],Ne[0])}nl(r,Me)},a}(Qn),Ov=Lv,Bv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Hr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Hr.fontFamily}}})},a.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetLocation()},a.prototype.renderInner=function(r){var n=this.getLocation(),l=n.x,u=n.y,v=this.get("content"),p=this.get("style"),y=this.getElementId("text"),C=this.get("name")+"-text",T=this.get("maxLength"),_=this.get("autoEllipsis"),L=this.get("isVertical"),B=this.get("ellipsisPosition"),U=this.get("background"),nt=this.get("rotate"),pt={id:y,name:C,x:l,y:u,content:v,style:p,maxLength:T,autoEllipsis:_,isVertical:L,ellipsisPosition:B,background:U,rotate:nt};nl(r,pt)},a.prototype.resetLocation=function(){var r=this.getElementByLocalId("text-group");if(r){var n=this.getLocation(),l=n.x,u=n.y,v=this.get("rotate");po(r,l,u),Za(r,v,l,u)}},a}(Qn),Rv=Bv,Nv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},a.prototype.renderInner=function(r){this.renderArc(r)},a.prototype.getArcPath=function(){var r=this.getLocation(),n=r.center,l=r.radius,u=r.startAngle,v=r.endAngle,p=Ro(n,l,u),y=Ro(n,l,v),C=v-u>Math.PI?1:0,T=[["M",p.x,p.y]];if(v-u===Math.PI*2){var _=Ro(n,l,u+Math.PI);T.push(["A",l,l,0,C,1,_.x,_.y]),T.push(["A",l,l,0,C,1,y.x,y.y])}else T.push(["A",l,l,0,C,1,y.x,y.y]);return T},a.prototype.renderArc=function(r){var n=this.getArcPath(),l=this.get("style");this.addShape(r,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,I.pi)({path:n},l)})},a}(Qn),zv=Nv,Vv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Hr.regionColor,opacity:.4}}})},a.prototype.renderInner=function(r){this.renderRegion(r)},a.prototype.renderRegion=function(r){var n=this.get("start"),l=this.get("end"),u=this.get("style"),v=ps({start:n,end:l});this.addShape(r,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,I.pi)({x:v.x,y:v.y,width:v.width,height:v.height},u)})},a}(Qn),Z0=Vv,iu=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},a.prototype.renderInner=function(r){this.renderImage(r)},a.prototype.getImageAttrs=function(){var r=this.get("start"),n=this.get("end"),l=this.get("style"),u=ps({start:r,end:n}),v=this.get("src");return(0,I.pi)({x:u.x,y:u.y,img:v,width:u.width,height:u.height},l)},a.prototype.renderImage=function(r){this.addShape(r,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},a}(Qn),zo=iu,Uv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Hr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Hr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Hr.fontFamily}}}})},a.prototype.renderInner=function(r){(0,m.U2)(this.get("line"),"display")&&this.renderLine(r),(0,m.U2)(this.get("text"),"display")&&this.renderText(r),(0,m.U2)(this.get("point"),"display")&&this.renderPoint(r),this.get("autoAdjust")&&this.autoAdjust(r)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},a.prototype.renderPoint=function(r){var n=this.getShapeAttrs().point;this.addShape(r,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},a.prototype.renderLine=function(r){var n=this.getShapeAttrs().line;this.addShape(r,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},a.prototype.renderText=function(r){var n=this.getShapeAttrs().text,l=n.x,u=n.y,v=n.text,p=(0,I._T)(n,["x","y","text"]),y=this.get("text"),C=y.background,T=y.maxLength,_=y.autoEllipsis,L=y.isVertival,B=y.ellipsisPosition,U={x:l,y:u,id:this.getElementId("text"),name:"annotation-text",content:v,style:p,background:C,maxLength:T,autoEllipsis:_,isVertival:L,ellipsisPosition:B};nl(r,U)},a.prototype.autoAdjust=function(r){var n=this.get("direction"),l=this.get("x"),u=this.get("y"),v=(0,m.U2)(this.get("line"),"length",0),p=this.get("coordinateBBox"),y=r.getBBox(),C=y.minX,T=y.maxX,_=y.minY,L=y.maxY,B=r.findById(this.getElementId("text-group")),U=r.findById(this.getElementId("text")),nt=r.findById(this.getElementId("line"));if(p&&B){var pt=B.attr("x"),Mt=B.attr("y"),Yt=U.getCanvasBBox(),Gt=Yt.width,te=Yt.height,Me=0,Ne=0;if(l+C<=p.minX)if(n==="leftward")Me=1;else{var Ye=p.minX-(l+C);pt=B.attr("x")+Ye}else if(l+T>=p.maxX)if(n==="rightward")Me=-1;else{var Ye=l+T-p.maxX;pt=B.attr("x")-Ye}if(Me&&(nt&&nt.attr("path",[["M",0,0],["L",v*Me,0]]),pt=(v+2+Gt)*Me),u+_<=p.minY)if(n==="upward")Ne=1;else{var Ye=p.minY-(u+_);Mt=B.attr("y")+Ye}else if(u+L>=p.maxY)if(n==="downward")Ne=-1;else{var Ye=u+L-p.maxY;Mt=B.attr("y")-Ye}Ne&&(nt&&nt.attr("path",[["M",0,0],["L",0,v*Ne]]),Mt=(v+2+te)*Ne),(pt!==B.attr("x")||Mt!==B.attr("y"))&&po(B,pt,Mt)}},a.prototype.getShapeAttrs=function(){var r=(0,m.U2)(this.get("line"),"display"),n=(0,m.U2)(this.get("point"),"style",{}),l=(0,m.U2)(this.get("line"),"style",{}),u=(0,m.U2)(this.get("text"),"style",{}),v=this.get("direction"),p=r?(0,m.U2)(this.get("line"),"length",0):0,y=0,C=0,T="top",_="start";switch(v){case"upward":C=-1,T="bottom";break;case"downward":C=1,T="top";break;case"leftward":y=-1,_="end";break;case"rightward":y=1,_="start";break}return{point:(0,I.pi)({x:0,y:0},n),line:(0,I.pi)({path:[["M",0,0],["L",p*y,p*C]]},l),text:(0,I.pi)({x:(p+2)*y,y:(p+2)*C,text:(0,m.U2)(this.get("text"),"content",""),textBaseline:T,textAlign:_},u)}},a}(Qn),Wv=Uv,zc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Hr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Hr.textColor,fontFamily:Hr.fontFamily}}}})},a.prototype.renderInner=function(r){var n=(0,m.U2)(this.get("region"),"style",{}),l=(0,m.U2)(this.get("text"),"style",{}),u=this.get("lineLength")||0,v=this.get("points");if(v.length){var p=Oo(v),y=[];y.push(["M",v[0].x,p.minY-u]),v.forEach(function(T){y.push(["L",T.x,T.y])}),y.push(["L",v[v.length-1].x,v[v.length-1].y-u]),this.addShape(r,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,I.pi)({path:y},n)});var C=(0,I.pi)({id:this.getElementId("text"),name:"annotation-text",x:(p.minX+p.maxX)/2,y:p.minY-u},this.get("text"));nl(r,C)}},a}(Qn),Yv=zc,Vc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},a.prototype.renderInner=function(r){var n=this,l=this.get("start"),u=this.get("end"),v=this.addGroup(r,{id:this.getElementId("region-filter"),capture:!1});(0,m.S6)(this.get("shapes"),function(y,C){var T=y.get("type"),_=(0,m.d9)(y.attr());n.adjustShapeAttrs(_),n.addShape(v,{id:n.getElementId("shape-"+T+"-"+C),capture:!1,type:T,attrs:_})});var p=ps({start:l,end:u});v.setClip({type:"rect",attrs:{x:p.minX,y:p.minY,width:p.width,height:p.height}})},a.prototype.adjustShapeAttrs=function(r){var n=this.get("color");r.fill&&(r.fill=r.fillStyle=n),r.stroke=r.strokeStyle=n},a}(Qn),Hv=Vc,Gv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"shape",draw:m.ZT})},a.prototype.renderInner=function(r){var n=this.get("render");(0,m.mf)(n)&&n(r)},a}(Qn),Xv=Gv;function Ai(s,a,r){var n;try{n=window.getComputedStyle?window.getComputedStyle(s,null)[a]:s.style[a]}catch(l){}finally{n=n===void 0?r:n}return n}function Zv(s,a){var r=Ai(s,"width",a);return r==="auto"&&(r=s.offsetWidth),parseFloat(r)}function jv(s,a){var r=Zv(s,a),n=parseFloat(Ai(s,"borderLeftWidth"))||0,l=parseFloat(Ai(s,"paddingLeft"))||0,u=parseFloat(Ai(s,"paddingRight"))||0,v=parseFloat(Ai(s,"borderRightWidth"))||0,p=parseFloat(Ai(s,"marginRight"))||0,y=parseFloat(Ai(s,"marginLeft"))||0;return r+n+v+l+u+y+p}function j0(s,a){var r=Ai(s,"height",a);return r==="auto"&&(r=s.offsetHeight),parseFloat(r)}function Uc(s,a){var r=j0(s,a),n=parseFloat(Ai(s,"borderTopWidth"))||0,l=parseFloat(Ai(s,"paddingTop"))||0,u=parseFloat(Ai(s,"paddingBottom"))||0,v=parseFloat(Ai(s,"borderBottomWidth"))||0,p=parseFloat(Ai(s,"marginTop"))||0,y=parseFloat(Ai(s,"marginBottom"))||0;return r+n+v+l+u+p+y}var Wc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},a.prototype.getContainer=function(){return this.get("container")},a.prototype.show=function(){var r=this.get("container");r.style.display="",this.set("visible",!0)},a.prototype.hide=function(){var r=this.get("container");r.style.display="none",this.set("visible",!1)},a.prototype.setCapture=function(r){var n=this.getContainer(),l=r?"auto":"none";n.style.pointerEvents=l,this.set("capture",r)},a.prototype.getBBox=function(){var r=this.getContainer(),n=parseFloat(r.style.left)||0,l=parseFloat(r.style.top)||0;return Bo(n,l,r.clientWidth,r.clientHeight)},a.prototype.clear=function(){var r=this.get("container");tl(r)},a.prototype.destroy=function(){this.removeEvent(),this.removeDom(),s.prototype.destroy.call(this)},a.prototype.init=function(){s.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},a.prototype.initCapture=function(){this.setCapture(this.get("capture"))},a.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},a.prototype.initDom=function(){},a.prototype.initContainer=function(){var r=this.get("container");if((0,m.UM)(r)){r=this.createDom();var n=this.get("parent");(0,m.HD)(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(r),this.get("containerId")&&r.setAttribute("id",this.get("containerId")),this.set("container",r)}else(0,m.HD)(r)&&(r=document.getElementById(r),this.set("container",r));this.get("parent")||this.set("parent",r.parentNode)},a.prototype.resetStyles=function(){var r=this.get("domStyles"),n=this.get("defaultStyles");r?r=(0,m.b$)({},n,r):r=n,this.set("domStyles",r)},a.prototype.applyStyles=function(){var r=this.get("domStyles");if(r){var n=this.getContainer();this.applyChildrenStyles(n,r);var l=this.get("containerClassName");if(l&&Cv(n,l)){var u=r[l];ye(n,u)}}},a.prototype.applyChildrenStyles=function(r,n){(0,m.S6)(n,function(l,u){var v=r.getElementsByClassName(u);(0,m.S6)(v,function(p){ye(p,l)})})},a.prototype.applyStyle=function(r,n){var l=this.get("domStyles");ye(n,l[r])},a.prototype.createDom=function(){var r=this.get("containerTpl");return Ae(r)},a.prototype.initEvent=function(){},a.prototype.removeDom=function(){var r=this.get("container");r&&r.parentNode&&r.parentNode.removeChild(r)},a.prototype.removeEvent=function(){},a.prototype.updateInner=function(r){(0,m.wH)(r,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},a.prototype.resetPosition=function(){},a}(rl),au=Wc,Yc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},a.prototype.render=function(){var r=this.getContainer(),n=this.get("html");tl(r);var l=(0,m.mf)(n)?n(r):n;if((0,m.kK)(l))r.appendChild(l);else if((0,m.HD)(l)||(0,m.hj)(l)){var u=Ae(""+l);u&&r.appendChild(u)}this.resetPosition()},a.prototype.resetPosition=function(){var r=this.getContainer(),n=this.getLocation(),l=n.x,u=n.y,v=this.get("alignX"),p=this.get("alignY"),y=this.get("offsetX"),C=this.get("offsetY"),T=jv(r),_=Uc(r),L={x:l,y:u};v==="middle"?L.x-=Math.round(T/2):v==="right"&&(L.x-=Math.round(T)),p==="middle"?L.y-=Math.round(_/2):p==="bottom"&&(L.y-=Math.round(_)),y&&(L.x+=y),C&&(L.y+=C),ye(r,{position:"absolute",left:L.x+"px",top:L.y+"px",zIndex:this.get("zIndex")})},a}(au),$v=Yc;function ys(s,a,r){var n=a+"Style",l=null;return(0,m.S6)(r,function(u,v){s[v]&&u[n]&&(l||(l={}),(0,m.CD)(l,u[n]))}),l}var Kv=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Hr.lineColor}},tickLine:{style:{lineWidth:1,stroke:Hr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Hr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Hr.textColor,fontFamily:Hr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Hr.textColor,textBaseline:"middle",fontFamily:Hr.fontFamily,textAlign:"center"},iconStyle:{fill:Hr.descriptionIconFill,stroke:Hr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Hr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},a.prototype.renderInner=function(r){this.get("line")&&this.drawLine(r),this.drawTicks(r),this.get("title")&&this.drawTitle(r)},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("ticks")},a.prototype.setItems=function(r){this.update({ticks:r})},a.prototype.updateItem=function(r,n){(0,m.CD)(r,n),this.clear(),this.render()},a.prototype.clearItems=function(){var r=this.getElementByLocalId("label-group");r&&r.clear()},a.prototype.setItemState=function(r,n,l){r[n]=l,this.updateTickStates(r)},a.prototype.hasState=function(r,n){return!!r[n]},a.prototype.getItemStates=function(r){var n=this.get("tickStates"),l=[];return(0,m.S6)(n,function(u,v){r[v]&&l.push(v)}),l},a.prototype.clearItemsState=function(r){var n=this,l=this.getItemsByState(r);(0,m.S6)(l,function(u){n.setItemState(u,r,!1)})},a.prototype.getItemsByState=function(r){var n=this,l=this.getItems();return(0,m.hX)(l,function(u){return n.hasState(u,r)})},a.prototype.getSidePoint=function(r,n){var l=this,u=l.getSideVector(n,r);return{x:r.x+u[0],y:r.y+u[1]}},a.prototype.getTextAnchor=function(r){var n;return(0,m.vQ)(r[0],0)?n="center":r[0]>0?n="start":r[0]<0&&(n="end"),n},a.prototype.getTextBaseline=function(r){var n;return(0,m.vQ)(r[1],0)?n="middle":r[1]>0?n="top":r[1]<0&&(n="bottom"),n},a.prototype.processOverlap=function(r){},a.prototype.drawLine=function(r){var n=this.getLinePath(),l=this.get("line");this.addShape(r,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,m.CD)({path:n},l.style)})},a.prototype.getTickLineItems=function(r){var n=this,l=[],u=this.get("tickLine"),v=u.alignTick,p=u.length,y=1,C=r.length;return C>=2&&(y=r[1].value-r[0].value),(0,m.S6)(r,function(T){var _=T.point;v||(_=n.getTickPoint(T.value-y/2));var L=n.getSidePoint(_,p);l.push({startPoint:_,tickValue:T.value,endPoint:L,tickId:T.id,id:"tickline-"+T.id})}),l},a.prototype.getSubTickLineItems=function(r){var n=[],l=this.get("subTickLine"),u=l.count,v=r.length;if(v>=2)for(var p=0;p<v-1;p++)for(var y=r[p],C=r[p+1],T=0;T<u;T++){var _=(T+1)/(u+1),L=(1-_)*y.tickValue+_*C.tickValue,B=this.getTickPoint(L),U=this.getSidePoint(B,l.length);n.push({startPoint:B,endPoint:U,tickValue:L,id:"sub-"+y.id+"-"+T})}return n},a.prototype.getTickLineAttrs=function(r,n,l,u){var v=this.get(n).style,p={points:[r.startPoint,r.endPoint]},y=(0,m.U2)(this.get("theme"),["tickLine","style"],{});v=(0,m.mf)(v)?(0,m.CD)({},y,v(p,l,u)):v;var C=r.startPoint,T=r.endPoint;return(0,I.pi)({x1:C.x,y1:C.y,x2:T.x,y2:T.y},v)},a.prototype.drawTick=function(r,n,l,u,v){this.addShape(n,{type:"line",id:this.getElementId(r.id),name:"axis-"+l,attrs:this.getTickLineAttrs(r,l,u,v)})},a.prototype.drawTickLines=function(r){var n=this,l=this.get("ticks"),u=this.get("subTickLine"),v=this.getTickLineItems(l),p=this.addGroup(r,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),y=this.get("tickLine");if((0,m.S6)(v,function(T,_){if(y.displayWithLabel){var L=n.getElementId("label-"+T.tickId);r.findById(L)&&n.drawTick(T,p,"tickLine",_,v)}else n.drawTick(T,p,"tickLine",_,v)}),u){var C=this.getSubTickLineItems(v);(0,m.S6)(C,function(T,_){n.drawTick(T,p,"subTickLine",_,C)})}},a.prototype.processTicks=function(){var r=this,n=this.get("ticks");(0,m.S6)(n,function(l){l.point=r.getTickPoint(l.value),(0,m.UM)(l.id)&&(l.id=l.name)})},a.prototype.drawTicks=function(r){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(r),this.get("tickLine")&&this.drawTickLines(r);var l=this.get("ticks");(0,m.S6)(l,function(u){n.applyTickStates(u,r)})},a.prototype.optimizeTicks=function(){var r=this.get("optimize"),n=this.get("ticks");if(r&&r.enable&&r.threshold>0){var l=(0,m.dp)(n);if(l>r.threshold){var u=Math.ceil(l/r.threshold),v=n.filter(function(p,y){return y%u===0});this.set("ticks",v),this.set("originalTicks",n)}}},a.prototype.getLabelAttrs=function(r,n,l){var u=this.get("label"),v=u.offset,p=u.offsetX,y=u.offsetY,C=u.rotate,T=u.formatter,_=this.getSidePoint(r.point,v),L=this.getSideVector(v,_),B=T?T(r.name,r,n):r.name,U=u.style;U=(0,m.mf)(U)?(0,m.U2)(this.get("theme"),["label","style"],{}):U;var nt=(0,m.CD)({x:_.x+p,y:_.y+y,text:B,textAlign:this.getTextAnchor(L),textBaseline:this.getTextBaseline(L)},U);return C&&(nt.matrix=vo(_,C)),nt},a.prototype.drawLabels=function(r){var n=this,l=this.get("ticks"),u=this.addGroup(r,{name:"axis-label-group",id:this.getElementId("label-group")});(0,m.S6)(l,function(L,B){n.addShape(u,{type:"text",name:"axis-label",id:n.getElementId("label-"+L.id),attrs:n.getLabelAttrs(L,B,l),delegateObject:{tick:L,item:L,index:B}})}),this.processOverlap(u);var v=u.getChildren(),p=(0,m.U2)(this.get("theme"),["label","style"],{}),y=this.get("label"),C=y.style,T=y.formatter;if((0,m.mf)(C)){var _=v.map(function(L){return(0,m.U2)(L.get("delegateObject"),"tick")});(0,m.S6)(v,function(L,B){var U=L.get("delegateObject").tick,nt=T?T(U.name,U,B):U.name,pt=(0,m.CD)({},p,C(nt,B,_));L.attr(pt)})}},a.prototype.getTitleAttrs=function(){var r=this.get("title"),n=r.style,l=r.position,u=r.offset,v=r.spacing,p=v===void 0?0:v,y=r.autoRotate,C=n.fontSize,T=.5;l==="start"?T=0:l==="end"&&(T=1);var _=this.getTickPoint(T),L=this.getSidePoint(_,u||p+C/2),B=(0,m.CD)({x:L.x,y:L.y,text:r.text},n),U=r.rotate,nt=U;if((0,m.UM)(U)&&y){var pt=this.getAxisVector(_),Mt=[1,0];nt=gn.Dg(pt,Mt,!0)}if(nt){var Yt=vo(L,nt);B.matrix=Yt}return B},a.prototype.drawTitle=function(r){var n,l=this.getTitleAttrs(),u=this.addShape(r,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:l});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(r,u,l.matrix)},a.prototype.drawDescriptionIcon=function(r,n,l){var u=this.addGroup(r,{name:"axis-description",id:this.getElementById("description")}),v=n.getBBox(),p=v.maxX,y=v.maxY,C=v.height,T=this.get("title").iconStyle,_=4,L=C/2,B=L/6,U=p+_,nt=y-C/2,pt=[U+L,nt-L],Mt=pt[0],Yt=pt[1],Gt=[Mt+L,Yt+L],te=Gt[0],Me=Gt[1],Ne=[Mt,Me+L],Ye=Ne[0],Xe=Ne[1],Ke=[U,Yt+L],Qe=Ke[0],xr=Ke[1],mr=[U+L,nt-C/4],Lr=mr[0],Zr=mr[1],vn=[Lr,Zr+B],hi=vn[0],jn=vn[1],Pi=[hi,jn+B],bn=Pi[0],Gi=Pi[1],qs=[bn,Gi+L*3/4],xc=qs[0],bc=qs[1];this.addShape(u,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,I.pi)({path:[["M",Mt,Yt],["A",L,L,0,0,1,te,Me],["A",L,L,0,0,1,Ye,Xe],["A",L,L,0,0,1,Qe,xr],["A",L,L,0,0,1,Mt,Yt],["M",Lr,Zr],["L",hi,jn],["M",bn,Gi],["L",xc,bc]],lineWidth:B,matrix:l},T)}),this.addShape(u,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:U,y:nt-C/2,width:C,height:C,stroke:"#000",fill:"#000",opacity:0,matrix:l,cursor:"pointer"}})},a.prototype.applyTickStates=function(r,n){var l=this.getItemStates(r);if(l.length){var u=this.get("tickStates"),v=this.getElementId("label-"+r.id),p=n.findById(v);if(p){var y=ys(r,"label",u);y&&p.attr(y)}var C=this.getElementId("tickline-"+r.id),T=n.findById(C);if(T){var _=ys(r,"tickLine",u);_&&T.attr(_)}}},a.prototype.updateTickStates=function(r){var n=this.getItemStates(r),l=this.get("tickStates"),u=this.get("label"),v=this.getElementByLocalId("label-"+r.id),p=this.get("tickLine"),y=this.getElementByLocalId("tickline-"+r.id);if(n.length){if(v){var C=ys(r,"label",l);C&&v.attr(C)}if(y){var T=ys(r,"tickLine",l);T&&y.attr(T)}}else v&&v.attr(u.style),y&&y.attr(p.style)},a}(Qn),Hc=Kv;function ou(s,a,r,n){var l=a.getChildren(),u=!1;return(0,m.S6)(l,function(v){var p=gs(s,v,r,n);u=u||p}),u}function $0(){return Gc}function qv(s,a,r){return ou(s,a,r,"head")}function Gc(s,a,r){return ou(s,a,r,"tail")}function Jv(s,a,r){return ou(s,a,r,"middle")}function Qv(s){var a=s.attr("matrix");return a&&a[0]!==1}function Xc(s){var a=Qv(s)?wv(s.attr("matrix")):0;return a%360}function su(s,a,r,n){var l=!1,u=Xc(a),v=Math.abs(s?r.attr("y")-a.attr("y"):r.attr("x")-a.attr("x")),p=(s?r.attr("y")>a.attr("y"):r.attr("x")>a.attr("x"))?a.getBBox():r.getBBox();if(s){var y=Math.abs(Math.cos(u));el(y,0,Math.PI/180)?l=p.width+n>v:l=p.height/y+n>v}else{var y=Math.abs(Math.sin(u));el(y,0,Math.PI/180)?l=p.width+n>v:l=p.height/y+n>v}return l}function ms(s,a,r,n){var l=(n==null?void 0:n.minGap)||0,u=a.getChildren().slice().filter(function(U){return U.get("visible")});if(!u.length)return!1;var v=!1;r&&u.reverse();for(var p=u.length,y=u[0],C=y,T=1;T<p;T++){var _=u[T],L=_.getBBox(),B=su(s,C,_,l);B?(_.hide(),v=!0):C=_}return v}function lu(s,a,r){var n=(r==null?void 0:r.minGap)||0,l=a.getChildren().slice();if(l.length<2)return!1;var u=!1,v=l[0],p=v.getBBox(),y=l[1],C=l.length,T=Xc(v),_=Math.abs(s?y.attr("y")-v.attr("y"):y.attr("x")-v.attr("x")),L=0;if(s){var B=Math.abs(Math.cos(T));if(el(B,0,Math.PI/180)){var U=Na(l);L=(U+n)/_}else L=(p.height/B+n)/_}else{var B=Math.abs(Math.sin(T));if(el(B,0,Math.PI/180)){var U=Na(l);L=(U+n)/_}else L=(p.height/B+n)/_}if(L>1){L=Math.ceil(L);for(var nt=0;nt<C;nt++)nt%L!==0&&(l[nt].hide(),u=!0)}return u}function Zc(){return Kc}function jc(s,a,r,n){return ms(s,a,!1,n)}function $c(s,a,r,n){return ms(s,a,!0,n)}function td(s,a,r,n){var l=(n==null?void 0:n.minGap)||0,u=a.getChildren().slice();if(u.length<=2)return!1;for(var v=!1,p=u.length,y=u[0],C=u[p-1],T=y,_=1;_<p-1;_++){var L=u[_],B=L.getBBox(),U=su(s,T,L,l);U?(L.hide(),v=!0):T=L}var nt=su(s,T,C,l);return nt&&(T.hide(),v=!0),v}function Kc(s,a,r,n){var l=lu(s,a,n);return ms(s,a,!1)&&(l=!0),l}function ed(s,a,r,n){var l=a.getChildren().slice(),u=lu(s,a,n);if(l.length>2){var v=l[0],p=l[l.length-1];v.get("visible")||(v.show(),ms(s,a,!1,n)&&(u=!0)),p.get("visible")||(p.show(),ms(s,a,!0,n)&&(u=!0))}return u}function rd(s,a){(0,m.S6)(s,function(r){var n=r.attr("x"),l=r.attr("y"),u=vo({x:n,y:l},a);r.attr("matrix",u)})}function qc(s,a,r,n){var l=a.getChildren();if(!l.length||!s&&l.length<2)return!1;var u=Na(l),v=!1;if(s)v=!!r&&u>r;else{var p=Math.abs(l[1].attr("x")-l[0].attr("x"));v=u>p}if(v){var y=n(r,u);rd(l,y)}return v}function nd(){return Jc}function Jc(s,a,r,n){return qc(s,a,r,function(){return(0,m.hj)(n)?n:s?Hr.verticalAxisRotate:Hr.horizontalAxisRotate})}function id(s,a,r){return qc(s,a,r,function(n,l){if(!n)return s?Hr.verticalAxisRotate:Hr.horizontalAxisRotate;if(s)return-Math.acos(n/l);var u=0;return n>l?u=Math.PI/4:(u=Math.asin(n/l),u>Math.PI/4&&(u=Math.PI/4)),u})}var ad=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getLinePath=function(){var r=this.get("start"),n=this.get("end"),l=[];return l.push(["M",r.x,r.y]),l.push(["L",n.x,n.y]),l},a.prototype.getInnerLayoutBBox=function(){var r=this.get("start"),n=this.get("end"),l=s.prototype.getInnerLayoutBBox.call(this),u=Math.min(r.x,n.x,l.x),v=Math.min(r.y,n.y,l.y),p=Math.max(r.x,n.x,l.maxX),y=Math.max(r.y,n.y,l.maxY);return{x:u,y:v,minX:u,minY:v,maxX:p,maxY:y,width:p-u,height:y-v}},a.prototype.isVertical=function(){var r=this.get("start"),n=this.get("end");return(0,m.vQ)(r.x,n.x)},a.prototype.isHorizontal=function(){var r=this.get("start"),n=this.get("end");return(0,m.vQ)(r.y,n.y)},a.prototype.getTickPoint=function(r){var n=this,l=n.get("start"),u=n.get("end"),v=u.x-l.x,p=u.y-l.y;return{x:l.x+v*r,y:l.y+p*r}},a.prototype.getSideVector=function(r){var n=this.getAxisVector(),l=qr.Fv([0,0],n),u=this.get("verticalFactor"),v=[l[1],l[0]*-1];return qr.bA([0,0],v,r*u)},a.prototype.getAxisVector=function(){var r=this.get("start"),n=this.get("end");return[n.x-r.x,n.y-r.y]},a.prototype.processOverlap=function(r){var n=this,l=this.isVertical(),u=this.isHorizontal();if(!(!l&&!u)){var v=this.get("label"),p=this.get("title"),y=this.get("verticalLimitLength"),C=v.offset,T=y,_=0,L=0;p&&(_=p.style.fontSize,L=p.spacing),T&&(T=T-C-L-_);var B=this.get("overlapOrder");if((0,m.S6)(B,function(pt){v[pt]&&n.canProcessOverlap(pt)&&n.autoProcessOverlap(pt,v[pt],r,T)}),p&&(0,m.UM)(p.offset)){var U=r.getCanvasBBox(),nt=l?U.width:U.height;p.offset=C+nt+L+_/2}}},a.prototype.canProcessOverlap=function(r){var n=this.get("label");return r==="autoRotate"?(0,m.UM)(n.rotate):!0},a.prototype.autoProcessOverlap=function(r,n,l,u){var v=this,p=this.isVertical(),y=!1,C=le[r];if(n===!0){var T=this.get("label");y=C.getDefault()(p,l,u)}else if((0,m.mf)(n))y=n(p,l,u);else if((0,m.Kn)(n)){var _=n;C[_.type]&&(y=C[_.type](p,l,u,_.cfg))}else C[n]&&(y=C[n](p,l,u));if(r==="autoRotate"){if(y){var L=l.getChildren(),B=this.get("verticalFactor");(0,m.S6)(L,function(nt){var pt=nt.attr("textAlign");if(pt==="center"){var Mt=B>0?"end":"start";nt.attr("textAlign",Mt)}})}}else if(r==="autoHide"){var U=l.getChildren().slice(0);(0,m.S6)(U,function(nt){nt.get("visible")||(v.get("isRegister")&&v.unregisterElement(nt),nt.remove())})}},a}(Hc),od=ad,sd=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},a.prototype.getLinePath=function(){var r=this.get("center"),n=r.x,l=r.y,u=this.get("radius"),v=u,p=this.get("startAngle"),y=this.get("endAngle"),C=[];if(Math.abs(y-p)===Math.PI*2)C=[["M",n,l-v],["A",u,v,0,1,1,n,l+v],["A",u,v,0,1,1,n,l-v],["Z"]];else{var T=this.getCirclePoint(p),_=this.getCirclePoint(y),L=Math.abs(y-p)>Math.PI?1:0,B=p>y?0:1;C=[["M",n,l],["L",T.x,T.y],["A",u,v,0,L,B,_.x,_.y],["L",n,l]]}return C},a.prototype.getTickPoint=function(r){var n=this.get("startAngle"),l=this.get("endAngle"),u=n+(l-n)*r;return this.getCirclePoint(u)},a.prototype.getSideVector=function(r,n){var l=this.get("center"),u=[n.x-l.x,n.y-l.y],v=this.get("verticalFactor"),p=qr.kE(u);return qr.bA(u,u,v*r/p),u},a.prototype.getAxisVector=function(r){var n=this.get("center"),l=[r.x-n.x,r.y-n.y];return[l[1],-1*l[0]]},a.prototype.getCirclePoint=function(r,n){var l=this.get("center");return n=n||this.get("radius"),{x:l.x+Math.cos(r)*n,y:l.y+Math.sin(r)*n}},a.prototype.canProcessOverlap=function(r){var n=this.get("label");return r==="autoRotate"?(0,m.UM)(n.rotate):!0},a.prototype.processOverlap=function(r){var n=this,l=this.get("label"),u=this.get("title"),v=this.get("verticalLimitLength"),p=l.offset,y=v,C=0,T=0;u&&(C=u.style.fontSize,T=u.spacing),y&&(y=y-p-T-C);var _=this.get("overlapOrder");if((0,m.S6)(_,function(B){l[B]&&n.canProcessOverlap(B)&&n.autoProcessOverlap(B,l[B],r,y)}),u&&(0,m.UM)(u.offset)){var L=r.getCanvasBBox().height;u.offset=p+L+T+C/2}},a.prototype.autoProcessOverlap=function(r,n,l,u){var v=this,p=!1,y=le[r];if(u>0)if(n===!0)p=y.getDefault()(!1,l,u);else if((0,m.mf)(n))p=n(!1,l,u);else if((0,m.Kn)(n)){var C=n;y[C.type]&&(p=y[C.type](!1,l,u,C.cfg))}else y[n]&&(p=y[n](!1,l,u));if(r==="autoRotate"){if(p){var T=l.getChildren(),_=this.get("verticalFactor");(0,m.S6)(T,function(B){var U=B.attr("textAlign");if(U==="center"){var nt=_>0?"end":"start";B.attr("textAlign",nt)}})}}else if(r==="autoHide"){var L=l.getChildren().slice(0);(0,m.S6)(L,function(B){B.get("visible")||(v.get("isRegister")&&v.unregisterElement(B),B.remove())})}},a}(Hc),K0=sd,ld=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Hr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Hr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Hr.fontFamily}},textBackground:{padding:5,style:{stroke:Hr.lineColor}}}})},a.prototype.renderInner=function(r){this.get("line")&&this.renderLine(r),this.get("text")&&(this.renderText(r),this.renderBackground(r))},a.prototype.renderText=function(r){var n=this.get("text"),l=n.style,u=n.autoRotate,v=n.content;if(!(0,m.UM)(v)){var p=this.getTextPoint(),y=null;if(u){var C=this.getRotateAngle();y=vo(p,C)}this.addShape(r,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,I.pi)((0,I.pi)((0,I.pi)({},p),{text:v,matrix:y}),l)})}},a.prototype.renderLine=function(r){var n=this.getLinePath(),l=this.get("line"),u=l.style;this.addShape(r,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,I.pi)({path:n},u)})},a.prototype.renderBackground=function(r){var n=this.getElementId("text"),l=r.findById(n),u=this.get("textBackground");if(u&&l){var v=l.getBBox(),p=Ra(u.padding),y=u.style,C=this.addShape(r,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,I.pi)({x:v.x-p[3],y:v.y-p[0],width:v.width+p[1]+p[3],height:v.height+p[0]+p[2],matrix:l.attr("matrix")},y)});C.toBack()}},a}(Qn),uu=ld,Qc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getRotateAngle=function(){var r=this.getLocation(),n=r.start,l=r.end,u=this.get("text").position,v=Math.atan2(l.y-n.y,l.x-n.x),p=u==="start"?v-Math.PI/2:v+Math.PI/2;return p},a.prototype.getTextPoint=function(){var r=this.getLocation(),n=r.start,l=r.end,u=this.get("text"),v=u.position,p=u.offset;return Rc(n,l,v,p)},a.prototype.getLinePath=function(){var r=this.getLocation(),n=r.start,l=r.end;return[["M",n.x,n.y],["L",l.x,l.y]]},a}(uu),th=Qc,eh=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},a.prototype.getRotateAngle=function(){var r=this.getLocation(),n=r.startAngle,l=r.endAngle,u=this.get("text").position,v=u==="start"?n+Math.PI/2:l-Math.PI/2;return v},a.prototype.getTextPoint=function(){var r=this.get("text"),n=r.position,l=r.offset,u=this.getLocation(),v=u.center,p=u.radius,y=u.startAngle,C=u.endAngle,T=n==="start"?y:C,_=this.getRotateAngle()-Math.PI,L=Ro(v,p,T),B=Math.cos(_)*l,U=Math.sin(_)*l;return{x:L.x+B,y:L.y+U}},a.prototype.getLinePath=function(){var r=this.getLocation(),n=r.center,l=r.radius,u=r.startAngle,v=r.endAngle,p=null;if(v-u===Math.PI*2){var y=n.x,C=n.y;p=[["M",y,C-l],["A",l,l,0,1,1,y,C+l],["A",l,l,0,1,1,y,C-l],["Z"]]}else{var T=Ro(n,l,u),_=Ro(n,l,v),L=Math.abs(v-u)>Math.PI?1:0,B=u>v?0:1;p=[["M",T.x,T.y],["A",l,l,0,L,B,_.x,_.y]]}return p},a}(uu),rh=eh,xs="g2-crosshair",xo=xs+"-line",cu=xs+"-text",bs,ud=(bs={},bs[""+xs]={position:"relative"},bs[""+xo]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},bs[""+cu]={position:"absolute",color:Hr.textColor,fontFamily:Hr.fontFamily},bs),cd=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+xs+'"></div>',crosshairTpl:'<div class="'+xo+'"></div>',textTpl:'<span class="'+cu+'">{content}</span>',domStyles:null,containerClassName:xs,defaultStyles:ud,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},a.prototype.render=function(){this.resetText(),this.resetPosition()},a.prototype.initCrossHair=function(){var r=this.getContainer(),n=this.get("crosshairTpl"),l=Ae(n);r.appendChild(l),this.applyStyle(xo,l),this.set("crosshairEl",l)},a.prototype.getTextPoint=function(){var r=this.getLocation(),n=r.start,l=r.end,u=this.get("text"),v=u.position,p=u.offset;return Rc(n,l,v,p)},a.prototype.resetText=function(){var r=this.get("text"),n=this.get("textEl");if(r){var l=r.content;if(!n){var u=this.getContainer(),v=(0,m.ng)(this.get("textTpl"),r);n=Ae(v),u.appendChild(n),this.applyStyle(cu,n),this.set("textEl",n)}n.innerHTML=l}else n&&n.remove()},a.prototype.isVertical=function(r,n){return r.x===n.x},a.prototype.resetPosition=function(){var r=this.get("crosshairEl");r||(this.initCrossHair(),r=this.get("crosshairEl"));var n=this.get("start"),l=this.get("end"),u=Math.min(n.x,l.x),v=Math.min(n.y,l.y);this.isVertical(n,l)?ye(r,{width:"1px",height:Ti(Math.abs(l.y-n.y))}):ye(r,{height:"1px",width:Ti(Math.abs(l.x-n.x))}),ye(r,{top:Ti(v),left:Ti(u)}),this.alignText()},a.prototype.alignText=function(){var r=this.get("textEl");if(r){var n=this.get("text").align,l=r.clientWidth,u=this.getTextPoint();switch(n){case"center":u.x=u.x-l/2;break;case"right":u.x=u.x-l;case"left":break}ye(r,{top:Ti(u.y),left:Ti(u.x)})}},a.prototype.updateInner=function(r){(0,m.wH)(r,"text")&&this.resetText(),s.prototype.updateInner.call(this,r)},a}(au),hd=cd,nh=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Hr.lineColor}}}})},a.prototype.getLineType=function(){var r=this.get("line")||this.get("defaultCfg").line;return r.type},a.prototype.renderInner=function(r){this.drawGrid(r)},a.prototype.getAlternatePath=function(r,n){var l=this.getGridPath(r),u=n.slice(0).reverse(),v=this.getGridPath(u,!0),p=this.get("closed");return p?l=l.concat(v):(v[0][0]="L",l=l.concat(v),l.push(["Z"])),l},a.prototype.getPathStyle=function(){return this.get("line").style},a.prototype.drawGrid=function(r){var n=this,l=this.get("line"),u=this.get("items"),v=this.get("alternateColor"),p=null;(0,m.S6)(u,function(y,C){var T=y.id||C;if(l){var _=n.getPathStyle();_=(0,m.mf)(_)?_(y,C,u):_;var L=n.getElementId("line-"+T),B=n.getGridPath(y.points);n.addShape(r,{type:"path",name:"grid-line",id:L,attrs:(0,m.CD)({path:B},_)})}if(v&&C>0){var U=n.getElementId("region-"+T),nt=C%2===0;if((0,m.HD)(v))nt&&n.drawAlternateRegion(U,r,p.points,y.points,v);else{var pt=nt?v[1]:v[0];n.drawAlternateRegion(U,r,p.points,y.points,pt)}}p=y})},a.prototype.drawAlternateRegion=function(r,n,l,u,v){var p=this.getAlternatePath(l,u);this.addShape(n,{type:"path",id:r,name:"grid-region",attrs:{path:p,fill:v}})},a}(Qn),ih=nh;function il(s,a,r,n){var l=r-s,u=n-a;return Math.sqrt(l*l+u*u)}var ah=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"circle",center:null,closed:!0})},a.prototype.getGridPath=function(r,n){var l=this.getLineType(),u=this.get("closed"),v=[];if(r.length)if(l==="circle"){var p=this.get("center"),y=r[0],C=il(p.x,p.y,y.x,y.y),T=n?0:1;u?(v.push(["M",p.x,p.y-C]),v.push(["A",C,C,0,0,T,p.x,p.y+C]),v.push(["A",C,C,0,0,T,p.x,p.y-C]),v.push(["Z"])):(0,m.S6)(r,function(_,L){L===0?v.push(["M",_.x,_.y]):v.push(["A",C,C,0,0,T,_.x,_.y])})}else(0,m.S6)(r,function(_,L){L===0?v.push(["M",_.x,_.y]):v.push(["L",_.x,_.y])}),u&&v.push(["Z"]);return v},a}(ih),hu=ah,fd=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"line"})},a.prototype.getGridPath=function(r){var n=[];return(0,m.S6)(r,function(l,u){u===0?n.push(["M",l.x,l.y]):n.push(["L",l.x,l.y])}),n},a}(ih),vd=fd,ws=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},a.prototype.getLayoutBBox=function(){var r=s.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),l=this.get("maxHeight"),u=r.width,v=r.height;return n&&(u=Math.min(u,n)),l&&(v=Math.min(v,l)),Bo(r.minX,r.minY,u,v)},a.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetLocation()},a.prototype.resetLocation=function(){var r=this.get("x"),n=this.get("y"),l=this.get("offsetX"),u=this.get("offsetY");this.moveElementTo(this.get("group"),{x:r+l,y:n+u})},a.prototype.applyOffset=function(){this.resetLocation()},a.prototype.getDrawPoint=function(){return this.get("currentPoint")},a.prototype.setDrawPoint=function(r){return this.set("currentPoint",r)},a.prototype.renderInner=function(r){this.resetDraw(),this.get("title")&&this.drawTitle(r),this.drawLegendContent(r),this.get("background")&&this.drawBackground(r)},a.prototype.drawBackground=function(r){var n=this.get("background"),l=r.getBBox(),u=Ra(n.padding),v=(0,I.pi)({x:0,y:0,width:l.width+u[1]+u[3],height:l.height+u[0]+u[2]},n.style),p=this.addShape(r,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:v});p.toBack()},a.prototype.drawTitle=function(r){var n=this.get("currentPoint"),l=this.get("title"),u=l.spacing,v=l.style,p=l.text,y=this.addShape(r,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,I.pi)({text:p,x:n.x,y:n.y},v)}),C=y.getBBox();this.set("currentPoint",{x:n.x,y:C.maxY+u})},a.prototype.resetDraw=function(){var r=this.get("background"),n={x:0,y:0};if(r){var l=Ra(r.padding);n.x=l[3],n.y=l[0]}this.set("currentPoint",n)},a}(Qn),fu=ws,al={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Ss={fill:Hr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Hr.fontFamily,fontWeight:"normal",lineHeight:12},ol="navigation-arrow-right",Vo="navigation-arrow-left",vu={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},dd=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.currentPageIndex=1,r.totalPagesCnt=1,r.pageWidth=0,r.pageHeight=0,r.startX=0,r.startY=0,r.onNavigationBack=function(){var n=r.getElementByLocalId("item-group");if(r.currentPageIndex>1){r.currentPageIndex-=1,r.updateNavigation();var l=r.getCurrentNavigationMatrix();r.get("animate")?n.animate({matrix:l},100):n.attr({matrix:l})}},r.onNavigationAfter=function(){var n=r.getElementByLocalId("item-group");if(r.currentPageIndex<r.totalPagesCnt){r.currentPageIndex+=1,r.updateNavigation();var l=r.getCurrentNavigationMatrix();r.get("animate")?n.animate({matrix:l},100):n.attr({matrix:l})}},r}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Hr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Hr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:al,itemName:{spacing:16,style:Ss},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Ss,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Hr.uncheckedColor},markerStyle:{fill:Hr.uncheckedColor,stroke:Hr.uncheckedColor}},inactive:{nameStyle:{fill:Hr.uncheckedColor},markerStyle:{opacity:.2}}}}})},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("items")},a.prototype.setItems=function(r){this.update({items:r})},a.prototype.updateItem=function(r,n){(0,m.CD)(r,n),this.clear(),this.render()},a.prototype.clearItems=function(){var r=this.getElementByLocalId("item-group");r&&r.clear()},a.prototype.setItemState=function(r,n,l){r[n]=l;var u=this.getElementByLocalId("item-"+r.id);if(u){var v=this.getItems(),p=v.indexOf(r),y=this.createOffScreenGroup(),C=this.drawItem(r,p,this.getItemHeight(),y);this.updateElements(C,u),this.clearUpdateStatus(u)}},a.prototype.hasState=function(r,n){return!!r[n]},a.prototype.getItemStates=function(r){var n=this.get("itemStates"),l=[];return(0,m.S6)(n,function(u,v){r[v]&&l.push(v)}),l},a.prototype.clearItemsState=function(r){var n=this,l=this.getItemsByState(r);(0,m.S6)(l,function(u){n.setItemState(u,r,!1)})},a.prototype.getItemsByState=function(r){var n=this,l=this.getItems();return(0,m.hX)(l,function(u){return n.hasState(u,r)})},a.prototype.drawLegendContent=function(r){this.processItems(),this.drawItems(r)},a.prototype.processItems=function(){var r=this.get("items");(0,m.S6)(r,function(n){n.id||(n.id=n.name)})},a.prototype.drawItems=function(r){var n=this,l=this.addGroup(r,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),u=this.addGroup(l,{id:this.getElementId("item-group"),name:"legend-item-group"}),v=this.getItemHeight(),p=this.get("itemWidth"),y=this.get("itemSpacing"),C=this.get("itemMarginBottom"),T=this.get("currentPoint"),_=T.x,L=T.y,B=this.get("layout"),U=this.get("items"),nt=!1,pt=0,Mt=this.get("maxWidth"),Yt=this.get("maxHeight");(0,m.S6)(U,function(Gt,te){var Me=n.drawItem(Gt,te,v,u),Ne=Me.getBBox(),Ye=p||Ne.width;Ye>pt&&(pt=Ye),B==="horizontal"?(Mt&&Mt<T.x+Ye-_&&(nt=!0,T.x=_,T.y+=v+C),n.moveElementTo(Me,T),T.x+=Ye+y):(Yt&&Yt<T.y+v+C-L&&(nt=!0,T.x+=pt+y,T.y=L,pt=0),n.moveElementTo(Me,T),T.y+=v+C)}),nt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=_,this.startY=L,this.adjustNavigation(r,u))},a.prototype.getItemHeight=function(){var r=this.get("itemHeight");if(!r){var n=(this.get("itemName")||{}).style;if((0,m.mf)(n)){var l=this.getItems();l.forEach(function(u,v){var p=(0,I.pi)((0,I.pi)({},Ss),n(u,v,l)).fontSize;r<p&&(r=p)})}else n&&(r=n.fontSize)}return r},a.prototype.drawMarker=function(r,n,l,u){var v=(0,I.pi)((0,I.pi)((0,I.pi)({x:0,y:u/2},n.style),{symbol:(0,m.U2)(l.marker,"symbol","circle")}),(0,m.U2)(l.marker,"style",{})),p=this.addShape(r,{type:"marker",id:this.getElementId("item-"+l.id+"-marker"),name:"legend-item-marker",attrs:v}),y=p.getBBox();p.attr("x",y.width/2);var C=p.attr(),T=C.stroke,_=C.fill;return T&&p.set("isStroke",!0),_&&p.set("isFill",!0),p},a.prototype.drawItemText=function(r,n,l,u,v,p,y){var C=l.formatter,T=l.style,_=(0,I.pi)((0,I.pi)({x:p,y:v/2,text:C?C(u[n],u,y):u[n]},Ss),(0,m.mf)(T)?T(u,y,this.getItems()):T);return this.addShape(r,{type:"text",id:this.getElementId("item-"+u.id+"-"+n),name:"legend-item-"+n,attrs:_})},a.prototype.drawRadio=function(r,n,l,u,v){var p,y,C=n.style||{},T=(p=C.r)!==null&&p!==void 0?p:u/2,_=T*3.6/8,L=[v+T,u/2-T],B=L[0],U=L[1],nt=[B+T,U+T],pt=nt[0],Mt=nt[1],Yt=[B,Mt+T],Gt=Yt[0],te=Yt[1],Me=[v,U+T],Ne=Me[0],Ye=Me[1],Xe=l.showRadio,Ke=(0,I.pi)((0,I.pi)({path:[["M",B,U],["A",T,T,0,0,1,pt,Mt],["L",pt-_,Mt],["L",pt,Mt],["A",T,T,0,0,1,Gt,te],["L",Gt,te-_],["L",Gt,te],["A",T,T,0,0,1,Ne,Ye],["L",Ne+_,Ye],["L",Ne,Ye],["A",T,T,0,0,1,B,U],["L",B,U+_]],stroke:"#000000",fill:"#ffffff"},C),{opacity:Xe?(y=C==null?void 0:C.opacity)!==null&&y!==void 0?y:.45:0}),Qe=this.addShape(r,{type:"path",id:this.getElementId("item-"+l.id+"-radio"),name:"legend-item-radio",attrs:Ke});return Qe.set("tip",n.tip),Qe},a.prototype.drawItem=function(r,n,l,u){var v="item-"+r.id,p=this.addGroup(u,{name:"legend-item-container",id:this.getElementId("item-container-"+v),delegateObject:{item:r,index:n}}),y=this.addGroup(p,{name:"legend-item",id:this.getElementId(v),delegateObject:{item:r,index:n}}),C=this.get("marker"),T=this.get("itemName"),_=this.get("itemValue"),L=this.get("itemBackground"),B=this.get("radio"),U=this.getLimitItemWidth(),nt=0;if(C){var pt=this.drawMarker(y,C,r,l),Mt=C.spacing,Yt=(0,m.U2)(r,["marker","spacing"]);(0,m.hj)(Yt)&&(Mt=Yt),nt=pt.getBBox().maxX+Mt}if(T){var Gt=this.drawItemText(y,"name",T,r,l,nt,n);U&&gs(!0,Gt,(0,m.uZ)(U-nt,0,U)),nt=Gt.getBBox().maxX+T.spacing}if(_){var te=this.drawItemText(y,"value",_,r,l,nt,n);U&&(_.alignRight?(te.attr({textAlign:"right",x:U}),gs(!0,te,(0,m.uZ)(U-nt,0,U),"head")):gs(!0,te,(0,m.uZ)(U-nt,0,U))),nt=te.getBBox().maxX+_.spacing}if(B&&this.drawRadio(y,B,r,l,nt),L){var Me=y.getBBox(),Ne=this.addShape(y,{type:"rect",name:"legend-item-background",id:this.getElementId(v+"-background"),attrs:(0,I.pi)({x:0,y:0,width:Me.width,height:l},L.style)});Ne.toBack()}return this.applyItemStates(r,y),y},a.prototype.adjustNavigation=function(r,n){var l=this,u=this.startX,v=this.startY,p=this.get("layout"),y=n.findAll(function(mr){return mr.get("name")==="legend-item"}),C=this.get("maxWidth"),T=this.get("maxHeight"),_=this.get("itemWidth"),L=this.get("itemSpacing"),B=this.getItemHeight(),U=(0,m.b$)({},al,this.get("pageNavigator")),nt=this.drawNavigation(r,p,"00/00",U),pt=nt.getBBox(),Mt={x:u,y:v},Yt=1,Gt=0,te=0,Me=0,Ne=this.get("itemMarginBottom");function Ye(mr,Lr){var Zr=mr.getBBox(),vn=_||Zr.width,hi=Lr.x+vn+L+pt.width;return hi>C}if(p==="horizontal"){var Xe=this.get("maxRow")||1,Ke=B+(Xe===1?0:Ne),Qe=C-L-pt.width-pt.minX;this.pageHeight=Ke*Xe,this.pageWidth=Qe,(0,m.S6)(y,function(mr){var Lr=mr.getBBox(),Zr=_||Lr.width;(Gt&&Gt<Mt.x+Zr+L||Ye(mr,Mt))&&(Yt===1&&(Gt=Mt.x+L,l.moveElementTo(nt,{x:Qe,y:Mt.y+B/2-pt.height/2-pt.minY})),Yt+=1,Mt.x=u,Mt.y+=Ke),l.moveElementTo(mr,Mt),mr.getParent().setClip({type:"rect",attrs:{x:Mt.x,y:Mt.y,width:Zr+L,height:B}}),Mt.x+=Zr+L})}else{(0,m.S6)(y,function(mr){var Lr=mr.getBBox();Lr.width>te&&(te=Lr.width)}),Me=te,te+=L,C&&(te=Math.min(C,te),Me=Math.min(C,Me)),this.pageWidth=te,this.pageHeight=T-Math.max(pt.height,B+Ne);var xr=Math.floor(this.pageHeight/(B+Ne));(0,m.S6)(y,function(mr,Lr){Lr!==0&&Lr%xr===0&&(Yt+=1,Mt.x+=te,Mt.y=v),l.moveElementTo(mr,Mt),mr.getParent().setClip({type:"rect",attrs:{x:Mt.x,y:Mt.y,width:te,height:B}}),Mt.y+=B+Ne}),this.totalPagesCnt=Yt,this.moveElementTo(nt,{x:u+Me/2-pt.width/2-pt.minX,y:T-pt.height-pt.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),p==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(Yt/this.get("maxRow")):this.totalPagesCnt=Yt,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(nt),n.attr("matrix",this.getCurrentNavigationMatrix())},a.prototype.drawNavigation=function(r,n,l,u){var v={x:0,y:0},p=this.addGroup(r,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),y=(0,m.U2)(u.marker,"style",{}),C=y.size,T=C===void 0?12:C,_=(0,I._T)(y,["size"]),L=this.drawArrow(p,v,Vo,n==="horizontal"?"up":"left",T,_);L.on("click",this.onNavigationBack);var B=L.getBBox();v.x+=B.width+2;var U=this.addShape(p,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,I.pi)({x:v.x,y:v.y+T/2,text:l,textBaseline:"middle"},(0,m.U2)(u.text,"style"))}),nt=U.getBBox();v.x+=nt.width+2;var pt=this.drawArrow(p,v,ol,n==="horizontal"?"down":"right",T,_);return pt.on("click",this.onNavigationAfter),p},a.prototype.updateNavigation=function(r){var n=(0,m.b$)({},al,this.get("pageNavigator")),l=n.marker.style,u=l.fill,v=l.opacity,p=l.inactiveFill,y=l.inactiveOpacity,C=this.currentPageIndex+"/"+this.totalPagesCnt,T=r?r.getChildren()[1]:this.getElementByLocalId("navigation-text"),_=r?r.findById(this.getElementId(Vo)):this.getElementByLocalId(Vo),L=r?r.findById(this.getElementId(ol)):this.getElementByLocalId(ol);T.attr("text",C),_.attr("opacity",this.currentPageIndex===1?y:v),_.attr("fill",this.currentPageIndex===1?p:u),_.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),L.attr("opacity",this.currentPageIndex===this.totalPagesCnt?y:v),L.attr("fill",this.currentPageIndex===this.totalPagesCnt?p:u),L.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var B=_.getBBox().maxX+2;T.attr("x",B),B+=T.getBBox().width+2,this.updateArrowPath(L,{x:B,y:0})},a.prototype.drawArrow=function(r,n,l,u,v,p){var y=n.x,C=n.y,T=this.addShape(r,{type:"path",id:this.getElementId(l),name:l,attrs:(0,I.pi)({size:v,direction:u,path:[["M",y+v/2,C],["L",y,C+v],["L",y+v,C+v],["Z"]],cursor:"pointer"},p)});return T.attr("matrix",vo({x:y+v/2,y:C+v/2},vu[u])),T},a.prototype.updateArrowPath=function(r,n){var l=n.x,u=n.y,v=r.attr(),p=v.size,y=v.direction,C=vo({x:l+p/2,y:u+p/2},vu[y]);r.attr("path",[["M",l+p/2,u],["L",l,u+p],["L",l+p,u+p],["Z"]]),r.attr("matrix",C)},a.prototype.getCurrentNavigationMatrix=function(){var r=this,n=r.currentPageIndex,l=r.pageWidth,u=r.pageHeight,v=this.get("layout"),p=v==="horizontal"?{x:0,y:u*(1-n)}:{x:l*(1-n),y:0};return ru(p)},a.prototype.applyItemStates=function(r,n){var l=this.getItemStates(r),u=l.length>0;if(u){var v=n.getChildren(),p=this.get("itemStates");(0,m.S6)(v,function(y){var C=y.get("name"),T=C.split("-")[2],_=ys(r,T,p);_&&(y.attr(_),T==="marker"&&!(y.get("isStroke")&&y.get("isFill"))&&(y.get("isStroke")&&y.attr("fill",null),y.get("isFill")&&y.attr("stroke",null)))})}},a.prototype.getLimitItemWidth=function(){var r=this.get("itemWidth"),n=this.get("maxItemWidth");return n?r&&(n=r<=n?r:n):r&&(n=r),n},a}(fu),pd=dd,sl=1.4,$a=.4,Uo=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Hr.textColor,textBaseline:"middle",fontFamily:Hr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Hr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},a.prototype.isSlider=function(){return!0},a.prototype.getValue=function(){return this.getCurrentValue()},a.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},a.prototype.setRange=function(r,n){this.update({min:r,max:n})},a.prototype.setValue=function(r){var n=this.getValue();this.set("value",r);var l=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(l),this.delegateEmit("valuechanged",{originValue:n,value:r})},a.prototype.initEvent=function(){var r=this.get("group");this.bindSliderEvent(r),this.bindRailEvent(r),this.bindTrackEvent(r)},a.prototype.drawLegendContent=function(r){this.drawRail(r),this.drawLabels(r),this.fixedElements(r),this.resetTrack(r),this.resetTrackClip(r),this.get("slidable")&&this.resetHandlers(r)},a.prototype.bindSliderEvent=function(r){this.bindHandlersEvent(r)},a.prototype.bindHandlersEvent=function(r){var n=this;r.on("legend-handler-min:drag",function(l){var u=n.getValueByCanvasPoint(l.x,l.y),v=n.getCurrentValue(),p=v[1];p<u&&(p=u),n.setValue([u,p])}),r.on("legend-handler-max:drag",function(l){var u=n.getValueByCanvasPoint(l.x,l.y),v=n.getCurrentValue(),p=v[0];p>u&&(p=u),n.setValue([p,u])})},a.prototype.bindRailEvent=function(r){},a.prototype.bindTrackEvent=function(r){var n=this,l=null;r.on("legend-track:dragstart",function(u){l={x:u.x,y:u.y}}),r.on("legend-track:drag",function(u){if(l){var v=n.getValueByCanvasPoint(l.x,l.y),p=n.getValueByCanvasPoint(u.x,u.y),y=n.getCurrentValue(),C=y[1]-y[0],T=n.getRange(),_=p-v;_<0?y[0]+_>T.min?n.setValue([y[0]+_,y[1]+_]):n.setValue([T.min,T.min+C]):_>0&&(_>0&&y[1]+_<T.max?n.setValue([y[0]+_,y[1]+_]):n.setValue([T.max-C,T.max])),l={x:u.x,y:u.y}}}),r.on("legend-track:dragend",function(u){l=null})},a.prototype.drawLabels=function(r){this.drawLabel("min",r),this.drawLabel("max",r)},a.prototype.drawLabel=function(r,n){var l=this.get("label"),u=l.style,v=l.align,p=l.formatter,y=this.get(r),C=this.getLabelAlignAttrs(r,v),T="label-"+r;this.addShape(n,{type:"text",id:this.getElementId(T),name:"legend-label-"+r,attrs:(0,I.pi)((0,I.pi)({x:0,y:0,text:(0,m.mf)(p)?p(y):y},u),C)})},a.prototype.getLabelAlignAttrs=function(r,n){var l=this.isVertical(),u="center",v="middle";return l?(u="start",n!=="rail"?r==="min"?v="top":v="bottom":v="top"):n!=="rail"?(v="top",r==="min"?u="start":u="end"):(u="start",v="middle"),{textAlign:u,textBaseline:v}},a.prototype.getRailPath=function(r,n,l,u){var v=this.get("rail"),p=v.size,y=v.defaultLength,C=v.type,T=this.isVertical(),_=y,L=l,B=u;L||(L=T?p:_),B||(B=T?_:p);var U=[];return C==="color"?(U.push(["M",r,n]),U.push(["L",r+L,n]),U.push(["L",r+L,n+B]),U.push(["L",r,n+B]),U.push(["Z"])):(U.push(["M",r+L,n]),U.push(["L",r+L,n+B]),U.push(["L",r,n+B]),U.push(["Z"])),U},a.prototype.drawRail=function(r){var n=this.get("rail"),l=n.style;this.addShape(r,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,I.pi)({path:this.getRailPath(0,0)},l)})},a.prototype.getTrackColor=function(r){var n=r.length;if(!n)return null;if(n===1)return r[0];var l;this.isVertical()?l="l(90)":l="l(0)";for(var u=0;u<n;u++){var v=u/(n-1);l+=" "+v+":"+r[u]}return l},a.prototype.getTrackPath=function(r){var n=this.getRailShape(r),l=n.attr("path");return(0,m.d9)(l)},a.prototype.getClipTrackAttrs=function(r){var n=this.getCurrentValue(),l=n[0],u=n[1],v=this.getRailBBox(r),p=this.getPointByValue(l,r),y=this.getPointByValue(u,r),C=this.isVertical(),T,_,L,B;return C?(T=v.minX,_=p.y,L=v.width,B=y.y-p.y):(T=p.x,_=v.minY,L=y.x-p.x,B=v.height),{x:T,y:_,width:L,height:B}},a.prototype.getTrackAttrs=function(r){var n=this.get("track"),l=this.get("colors"),u=this.getTrackPath(r);return(0,m.CD)({path:u,fill:this.getTrackColor(l)},n.style)},a.prototype.resetTrackClip=function(r){var n=r||this.get("group"),l=this.getElementId("track"),u=n.findById(l),v=u.getClip(),p=this.getClipTrackAttrs(r);v?v.attr(p):u.setClip({type:"rect",attrs:p})},a.prototype.resetTrack=function(r){var n=this.getElementId("track"),l=r.findById(n),u=this.getTrackAttrs(r);l?l.attr(u):this.addShape(r,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:u})},a.prototype.getPointByValue=function(r,n){var l=this.getRange(),u=l.min,v=l.max,p=(r-u)/(v-u),y=this.getRailBBox(n),C=this.isVertical(),T={x:0,y:0};return C?(T.x=y.minX+y.width/2,T.y=go(y.minY,y.maxY,p)):(T.x=go(y.minX,y.maxX,p),T.y=y.minY+y.height/2),T},a.prototype.getRailShape=function(r){var n=r||this.get("group");return n.findById(this.getElementId("rail"))},a.prototype.getRailBBox=function(r){var n=this.getRailShape(r),l=n.getBBox();return l},a.prototype.getRailCanvasBBox=function(){var r=this.get("group"),n=r.findById(this.getElementId("rail")),l=n.getCanvasBBox();return l},a.prototype.isVertical=function(){return this.get("layout")==="vertical"},a.prototype.getValueByCanvasPoint=function(r,n){var l=this.getRange(),u=l.min,v=l.max,p=this.getRailCanvasBBox(),y=this.isVertical(),C=this.get("step"),T;y?T=(n-p.minY)/p.height:T=(r-p.minX)/p.width;var _=go(u,v,T);if(C){var L=Math.round((_-u)/C);_=u+L*C}return _>v&&(_=v),_<u&&(_=u),_},a.prototype.getCurrentValue=function(){var r=this.get("value");if(!r){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,(0,I.pr)(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,I.pr)(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return r},a.prototype.resetHandlers=function(r){var n=this.getCurrentValue(),l=n[0],u=n[1];this.resetHandler(r,"min",l),this.resetHandler(r,"max",u)},a.prototype.getHandlerPath=function(r,n){var l=this.isVertical(),u=[],v=r.size,p=n.x,y=n.y,C=v*sl,T=v/2,_=v/6;if(l){var L=p+C*$a;u.push(["M",p,y]),u.push(["L",L,y+T]),u.push(["L",p+C,y+T]),u.push(["L",p+C,y-T]),u.push(["L",L,y-T]),u.push(["Z"]),u.push(["M",L,y+_]),u.push(["L",p+C-2,y+_]),u.push(["M",L,y-_]),u.push(["L",p+C-2,y-_])}else{var B=y+C*$a;u.push(["M",p,y]),u.push(["L",p-T,B]),u.push(["L",p-T,y+C]),u.push(["L",p+T,y+C]),u.push(["L",p+T,B]),u.push(["Z"]),u.push(["M",p-_,B]),u.push(["L",p-_,y+C-2]),u.push(["M",p+_,B]),u.push(["L",p+_,y+C-2])}return u},a.prototype.resetHandler=function(r,n,l){var u=this.getPointByValue(l,r),v=this.get("handler"),p=this.getHandlerPath(v,u),y=this.getElementId("handler-"+n),C=r.findById(y),T=this.isVertical();C?C.attr("path",p):this.addShape(r,{type:"path",name:"legend-handler-"+n,draggable:!0,id:y,attrs:(0,I.pi)((0,I.pi)({path:p},v.style),{cursor:T?"ns-resize":"ew-resize"})})},a.prototype.fixedElements=function(r){var n=r.findById(this.getElementId("rail")),l=r.findById(this.getElementId("label-min")),u=r.findById(this.getElementId("label-max")),v=this.getDrawPoint();this.isVertical()?this.fixedVertail(l,u,n,v):this.fixedHorizontal(l,u,n,v)},a.prototype.fitRailLength=function(r,n,l,u){var v=this.isVertical(),p=v?"height":"width",y=this.get("label"),C=y.align,T=y.spacing,_=this.get("max"+(0,m.jC)(p));if(_){var L=C==="rail"?l[p]+r[p]+n[p]+T*2:l[p],B=L-_;B>0&&this.changeRailLength(u,p,l[p]-B)}},a.prototype.changeRailLength=function(r,n,l){var u=r.getBBox(),v;n==="height"?v=this.getRailPath(u.x,u.y,u.width,l):v=this.getRailPath(u.x,u.y,l,u.height),r.attr("path",v)},a.prototype.changeRailPosition=function(r,n,l){var u=r.getBBox(),v=this.getRailPath(n,l,u.width,u.height);r.attr("path",v)},a.prototype.fixedHorizontal=function(r,n,l,u){var v=this.get("label"),p=v.align,y=v.spacing,C=l.getBBox(),T=r.getBBox(),_=n.getBBox(),L=C.height;this.fitRailLength(T,_,C,l),C=l.getBBox(),p==="rail"?(r.attr({x:u.x,y:u.y+L/2}),this.changeRailPosition(l,u.x+T.width+y,u.y),n.attr({x:u.x+T.width+C.width+y*2,y:u.y+L/2})):p==="top"?(r.attr({x:u.x,y:u.y}),n.attr({x:u.x+C.width,y:u.y}),this.changeRailPosition(l,u.x,u.y+T.height+y)):(this.changeRailPosition(l,u.x,u.y),r.attr({x:u.x,y:u.y+C.height+y}),n.attr({x:u.x+C.width,y:u.y+C.height+y}))},a.prototype.fixedVertail=function(r,n,l,u){var v=this.get("label"),p=v.align,y=v.spacing,C=l.getBBox(),T=r.getBBox(),_=n.getBBox();if(this.fitRailLength(T,_,C,l),C=l.getBBox(),p==="rail")r.attr({x:u.x,y:u.y}),this.changeRailPosition(l,u.x,u.y+T.height+y),n.attr({x:u.x,y:u.y+T.height+C.height+y*2});else if(p==="right")r.attr({x:u.x+C.width+y,y:u.y}),this.changeRailPosition(l,u.x,u.y),n.attr({x:u.x+C.width+y,y:u.y+C.height});else{var L=Math.max(T.width,_.width);r.attr({x:u.x,y:u.y}),this.changeRailPosition(l,u.x+L+y,u.y),n.attr({x:u.x,y:u.y+C.height})}},a}(fu),gd=Uo,Ta="g2-tooltip",Aa="g2-tooltip-title",bo="g2-tooltip-list",Cs="g2-tooltip-list-item",ll="g2-tooltip-marker",ul="g2-tooltip-value",oh="g2-tooltip-name",du="g2-tooltip-crosshair-x",pu="g2-tooltip-crosshair-y",sa,yd=(sa={},sa[""+Ta]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Hr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},sa[""+Aa]={marginBottom:"4px"},sa[""+bo]={margin:"0px",listStyleType:"none",padding:"0px"},sa[""+Cs]={listStyleType:"none",marginBottom:"4px"},sa[""+ll]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},sa[""+ul]={display:"inline-block",float:"right",marginLeft:"30px"},sa[""+du]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},sa[""+pu]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},sa);function md(s,a,r,n,l){var u={left:s<l.x,right:s+r>l.x+l.width,top:a<l.y,bottom:a+n>l.y+l.height};return u}function xd(s,a,r,n,l,u){var v=s,p=a;switch(u){case"left":v=s-n-r,p=a-l/2;break;case"right":v=s+r,p=a-l/2;break;case"top":v=s-n/2,p=a-l-r;break;case"bottom":v=s-n/2,p=a+r;break;default:v=s+r,p=a-l-r;break}return{x:v,y:p}}function bd(s,a,r,n,l,u,v){var p=xd(s,a,r,n,l,u);if(v){var y=md(p.x,p.y,n,l,v);u==="auto"?(y.right&&(p.x=Math.max(0,s-n-r)),y.top&&(p.y=Math.max(0,a-l-r))):u==="top"||u==="bottom"?(y.left&&(p.x=v.x),y.right&&(p.x=v.x+v.width-n),u==="top"&&y.top&&(p.y=a+r),u==="bottom"&&y.bottom&&(p.y=a-l-r)):(y.top&&(p.y=v.y),y.bottom&&(p.y=v.y+v.height-l),u==="left"&&y.left&&(p.x=s+r),u==="right"&&y.right&&(p.x=s-n-r))}return p}function wd(s,a){var r=!1;return(0,m.S6)(a,function(n){if((0,m.wH)(s,n))return r=!0,!1}),r}var Sd=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Ta+'"><div class="'+Aa+'"></div><ul class="'+bo+'"></ul></div>',itemTpl:'<li class="'+Cs+`" data-index={index}>
          <span class="`+ll+`" style="background:{color}"></span>
          <span class="`+oh+`">{name}</span>:
          <span class="`+ul+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+du+'"></div>',yCrosshairTpl:'<div class="'+pu+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Ta,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:yd})},a.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},a.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},a.prototype.show=function(){var r=this.getContainer();!r||this.destroyed||(this.set("visible",!0),ye(r,{visibility:"visible"}),this.setCrossHairsVisible(!0))},a.prototype.hide=function(){var r=this.getContainer();!r||this.destroyed||(this.set("visible",!1),ye(r,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},a.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},a.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetPosition()},a.prototype.setCrossHairsVisible=function(r){var n=r?"":"none",l=this.get("xCrosshairDom"),u=this.get("yCrosshairDom");l&&ye(l,{display:n}),u&&ye(u,{display:n})},a.prototype.initContainer=function(){if(s.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var r=this.getHtmlContentNode();this.get("parent").appendChild(r),this.set("container",r),this.resetStyles(),this.applyStyles()}},a.prototype.updateInner=function(r){this.get("customContent")?this.renderCustomContent():(wd(r,["title","showTitle"])&&this.resetTitle(),(0,m.wH)(r,"items")&&this.renderItems()),s.prototype.updateInner.call(this,r)},a.prototype.initDom=function(){this.cacheDoms()},a.prototype.removeDom=function(){s.prototype.removeDom.call(this),this.clearCrosshairs()},a.prototype.resetPosition=function(){var r=this.get("x"),n=this.get("y"),l=this.get("offset"),u=this.getOffset(),v=u.offsetX,p=u.offsetY,y=this.get("position"),C=this.get("region"),T=this.getContainer(),_=this.getBBox(),L=_.width,B=_.height,U;C&&(U=ps(C));var nt=bd(r,n,l,L,B,y,U);ye(T,{left:Ti(nt.x+v),top:Ti(nt.y+p)}),this.resetCrosshairs()},a.prototype.renderCustomContent=function(){var r=this.getHtmlContentNode(),n=this.get("parent"),l=this.get("container");l&&l.parentNode===n?n.replaceChild(r,l):n.appendChild(r),this.set("container",r),this.resetStyles(),this.applyStyles()},a.prototype.getHtmlContentNode=function(){var r,n=this.get("customContent");if(n){var l=n(this.get("title"),this.get("items"));(0,m.kK)(l)?r=l:r=Ae(l)}return r},a.prototype.cacheDoms=function(){var r=this.getContainer(),n=r.getElementsByClassName(Aa)[0],l=r.getElementsByClassName(bo)[0];this.set("titleDom",n),this.set("listDom",l)},a.prototype.resetTitle=function(){var r=this.get("title"),n=this.get("showTitle");n&&r?this.setTitle(r):this.setTitle("")},a.prototype.setTitle=function(r){var n=this.get("titleDom");n&&(n.innerText=r)},a.prototype.resetCrosshairs=function(){var r=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!r||!n)this.clearCrosshairs();else{var l=ps(r),u=this.get("xCrosshairDom"),v=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",l),v&&(v.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",l),u&&(u.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",l),this.resetCrosshair("y",l)),this.setCrossHairsVisible(this.get("visible"))}},a.prototype.resetCrosshair=function(r,n){var l=this.checkCrosshair(r),u=this.get(r);r==="x"?ye(l,{left:Ti(u),top:Ti(n.y),height:Ti(n.height)}):ye(l,{top:Ti(u),left:Ti(n.x),width:Ti(n.width)})},a.prototype.checkCrosshair=function(r){var n=r+"CrosshairDom",l=r+"CrosshairTpl",u="CROSSHAIR_"+r.toUpperCase(),v=fe[u],p=this.get(n),y=this.get("parent");return p||(p=Ae(this.get(l)),this.applyStyle(v,p),y.appendChild(p),this.set(n,p)),p},a.prototype.renderItems=function(){this.clearItemDoms();var r=this.get("items"),n=this.get("itemTpl"),l=this.get("listDom");l&&((0,m.S6)(r,function(u){var v=hn.Z.toCSSGradient(u.color),p=(0,I.pi)((0,I.pi)({},u),{color:v}),y=(0,m.ng)(n,p),C=Ae(y);l.appendChild(C)}),this.applyChildrenStyles(l,this.get("domStyles")))},a.prototype.clearItemDoms=function(){this.get("listDom")&&tl(this.get("listDom"))},a.prototype.clearCrosshairs=function(){var r=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");r&&r.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},a}(au),Cd=Sd,Md={opacity:0},Td={stroke:"#C5C5C5",strokeOpacity:.85},Ad={fill:"#CACED4",opacity:.85},Wo=H(39499);function Ed(s){return(0,m.UI)(s,function(a,r){var n=r===0?"M":"L",l=a[0],u=a[1];return[n,l,u]})}function sh(s){return Ed(s)}function lh(s){if(s.length<=2)return sh(s);var a=[];(0,m.S6)(s,function(v){(0,m.Xy)(v,a.slice(a.length-2))||a.push(v[0],v[1])});var r=(0,Wo.e9)(a,!1),n=(0,m.YM)(s),l=n[0],u=n[1];return r.unshift(["M",l,u]),r}function _d(s,a,r,n){n===void 0&&(n=!0);var l=new Ci({values:s}),u=new xi({values:(0,m.UI)(s,function(p,y){return y})}),v=(0,m.UI)(s,function(p,y){return[u.scale(y)*a,r-l.scale(p)*r]});return n?lh(v):sh(v)}function uh(s,a){var r=new Ci({values:s}),n=r.max<0?r.max:Math.max(0,r.min);return a-r.scale(n)*a}function Yo(s,a,r,n){var l=(0,I.pr)(s),u=uh(n,r);return l.push(["L",a,u]),l.push(["L",0,u]),l.push(["Z"]),l}var Pd=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Md,lineStyle:Td,areaStyle:Ad})},a.prototype.renderInner=function(r){var n=this.cfg,l=n.width,u=n.height,v=n.data,p=n.smooth,y=n.isArea,C=n.backgroundStyle,T=n.lineStyle,_=n.areaStyle;this.addShape(r,{id:this.getElementId("background"),type:"rect",attrs:(0,I.pi)({x:0,y:0,width:l,height:u},C)});var L=_d(v,l,u,p);if(this.addShape(r,{id:this.getElementId("line"),type:"path",attrs:(0,I.pi)({path:L},T)}),y){var B=Yo(L,l,u,v);this.addShape(r,{id:this.getElementId("area"),type:"path",attrs:(0,I.pi)({path:B},_)})}},a.prototype.applyOffset=function(){var r=this.cfg,n=r.x,l=r.y;this.moveElementTo(this.get("group"),{x:n,y:l})},a}(Qn),q0=null,ch={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},hh=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"handler",x:0,y:0,width:10,height:24,style:ch})},a.prototype.renderInner=function(r){var n=this.cfg,l=n.width,u=n.height,v=n.style,p=v.fill,y=v.stroke,C=v.radius,T=v.opacity,_=v.cursor;this.addShape(r,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:l,height:u,fill:p,stroke:y,radius:C,opacity:T,cursor:_}});var L=1/3*l,B=2/3*l,U=1/4*u,nt=3/4*u;this.addShape(r,{id:this.getElementId("line-left"),type:"line",attrs:{x1:L,y1:U,x2:L,y2:nt,stroke:y,cursor:_}}),this.addShape(r,{id:this.getElementId("line-right"),type:"line",attrs:{x1:B,y1:U,x2:B,y2:nt,stroke:y,cursor:_}})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.bindEvents=function(){var r=this;this.get("group").on("mouseenter",function(){var n=r.get("style").highLightFill;r.getElementByLocalId("background").attr("fill",n),r.draw()}),this.get("group").on("mouseleave",function(){var n=r.get("style").fill;r.getElementByLocalId("background").attr("fill",n),r.draw()})},a.prototype.draw=function(){var r=this.get("container").get("canvas");r&&r.draw()},a}(Qn),Id=null,Ho={fill:"#416180",opacity:.05},fh={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ms=10,gu={width:Ms,height:24},yu={textBaseline:"middle",fill:"#000",opacity:.45},mu="sliderchange",xu=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.onMouseDown=function(n){return function(l){r.currentTarget=n;var u=l.originalEvent;u.stopPropagation(),u.preventDefault(),r.prevX=(0,m.U2)(u,"touches.0.pageX",u.pageX),r.prevY=(0,m.U2)(u,"touches.0.pageY",u.pageY);var v=r.getContainerDOM();v.addEventListener("mousemove",r.onMouseMove),v.addEventListener("mouseup",r.onMouseUp),v.addEventListener("mouseleave",r.onMouseUp),v.addEventListener("touchmove",r.onMouseMove),v.addEventListener("touchend",r.onMouseUp),v.addEventListener("touchcancel",r.onMouseUp)}},r.onMouseMove=function(n){var l=r.cfg.width,u=[r.get("start"),r.get("end")];n.stopPropagation(),n.preventDefault();var v=(0,m.U2)(n,"touches.0.pageX",n.pageX),p=(0,m.U2)(n,"touches.0.pageY",n.pageY),y=v-r.prevX,C=r.adjustOffsetRange(y/l);r.updateStartEnd(C),r.updateUI(r.getElementByLocalId("foreground"),r.getElementByLocalId("minText"),r.getElementByLocalId("maxText")),r.prevX=v,r.prevY=p,r.draw(),r.emit(mu,[r.get("start"),r.get("end")].sort()),r.delegateEmit("valuechanged",{originValue:u,value:[r.get("start"),r.get("end")]})},r.onMouseUp=function(){r.currentTarget&&(r.currentTarget=void 0);var n=r.getContainerDOM();n&&(n.removeEventListener("mousemove",r.onMouseMove),n.removeEventListener("mouseup",r.onMouseUp),n.removeEventListener("mouseleave",r.onMouseUp),n.removeEventListener("touchmove",r.onMouseMove),n.removeEventListener("touchend",r.onMouseUp),n.removeEventListener("touchcancel",r.onMouseUp))},r}return a.prototype.setRange=function(r,n){this.set("minLimit",r),this.set("maxLimit",n);var l=this.get("start"),u=this.get("end"),v=(0,m.uZ)(l,r,n),p=(0,m.uZ)(u,r,n);!this.get("isInit")&&(l!==v||u!==p)&&this.setValue([v,p])},a.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},a.prototype.setValue=function(r){var n=this.getRange();if((0,m.kJ)(r)&&r.length===2){var l=[this.get("start"),this.get("end")];this.update({start:(0,m.uZ)(r[0],n.min,n.max),end:(0,m.uZ)(r[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:l,value:r})}},a.prototype.getValue=function(){return[this.get("start"),this.get("end")]},a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ho,foregroundStyle:fh,handlerStyle:gu,textStyle:yu}})},a.prototype.update=function(r){var n=r.start,l=r.end,u=(0,I.pi)({},r);(0,m.UM)(n)||(u.start=(0,m.uZ)(n,0,1)),(0,m.UM)(l)||(u.end=(0,m.uZ)(l,0,1)),s.prototype.update.call(this,u),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},a.prototype.init=function(){this.set("start",(0,m.uZ)(this.get("start"),0,1)),this.set("end",(0,m.uZ)(this.get("end"),0,1)),s.prototype.init.call(this)},a.prototype.render=function(){s.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},a.prototype.renderInner=function(r){var n=this.cfg,l=n.start,u=n.end,v=n.width,p=n.height,y=n.trendCfg,C=y===void 0?{}:y,T=n.minText,_=n.maxText,L=n.backgroundStyle,B=L===void 0?{}:L,U=n.foregroundStyle,nt=U===void 0?{}:U,pt=n.textStyle,Mt=pt===void 0?{}:pt,Yt=(0,m.b$)({},ch,this.cfg.handlerStyle),Gt=l*v,te=u*v;(0,m.dp)((0,m.U2)(C,"data"))&&(this.trend=this.addComponent(r,(0,I.pi)({component:Pd,id:this.getElementId("trend"),x:0,y:0,width:v,height:p},C))),this.addShape(r,{id:this.getElementId("background"),type:"rect",attrs:(0,I.pi)({x:0,y:0,width:v,height:p},B)});var Me=this.addShape(r,{id:this.getElementId("minText"),type:"text",attrs:(0,I.pi)({y:p/2,textAlign:"right",text:T,silent:!1},Mt)}),Ne=this.addShape(r,{id:this.getElementId("maxText"),type:"text",attrs:(0,I.pi)({y:p/2,textAlign:"left",text:_,silent:!1},Mt)}),Ye=this.addShape(r,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,I.pi)({y:0,height:p},nt)}),Xe=(0,m.U2)(Yt,"width",Ms),Ke=(0,m.U2)(Yt,"height",24);this.minHandler=this.addComponent(r,{component:hh,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(p-Ke)/2,width:Xe,height:Ke,cursor:"ew-resize",style:Yt}),this.maxHandler=this.addComponent(r,{component:hh,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(p-Ke)/2,width:Xe,height:Ke,cursor:"ew-resize",style:Yt})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.updateUI=function(r,n,l){var u=this.cfg,v=u.start,p=u.end,y=u.width,C=u.minText,T=u.maxText,_=u.handlerStyle,L=u.height,B=v*y,U=p*y;this.trend&&(this.trend.update({width:y,height:L}),this.get("updateAutoRender")||this.trend.render()),r.attr("x",B),r.attr("width",U-B);var nt=(0,m.U2)(_,"width",Ms);n.attr("text",C),l.attr("text",T);var pt=this._dodgeText([B,U],n,l),Mt=pt[0],Yt=pt[1];this.minHandler&&(this.minHandler.update({x:B-nt/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,m.S6)(Mt,function(Gt,te){return n.attr(te,Gt)}),this.maxHandler&&(this.maxHandler.update({x:U-nt/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,m.S6)(Yt,function(Gt,te){return l.attr(te,Gt)})},a.prototype.bindEvents=function(){var r=this.get("group");r.on("handler-min:mousedown",this.onMouseDown("minHandler")),r.on("handler-min:touchstart",this.onMouseDown("minHandler")),r.on("handler-max:mousedown",this.onMouseDown("maxHandler")),r.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=r.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},a.prototype.adjustOffsetRange=function(r){var n=this.cfg,l=n.start,u=n.end;switch(this.currentTarget){case"minHandler":{var v=0-l,p=1-l;return Math.min(p,Math.max(v,r))}case"maxHandler":{var v=0-u,p=1-u;return Math.min(p,Math.max(v,r))}case"foreground":{var v=0-l,p=1-u;return Math.min(p,Math.max(v,r))}}},a.prototype.updateStartEnd=function(r){var n=this.cfg,l=n.start,u=n.end;switch(this.currentTarget){case"minHandler":l+=r;break;case"maxHandler":u+=r;break;case"foreground":l+=r,u+=r;break}this.set("start",l),this.set("end",u)},a.prototype._dodgeText=function(r,n,l){var u,v,p=this.cfg,y=p.handlerStyle,C=p.width,T=2,_=(0,m.U2)(y,"width",Ms),L=r[0],B=r[1],U=!1;L>B&&(u=[B,L],L=u[0],B=u[1],v=[l,n],n=v[0],l=v[1],U=!0);var nt=n.getBBox(),pt=l.getBBox(),Mt=nt.width>L-T?{x:L+_/2+T,textAlign:"left"}:{x:L-_/2-T,textAlign:"right"},Yt=pt.width>C-B-T?{x:B-_/2-T,textAlign:"right"}:{x:B+_/2+T,textAlign:"left"};return U?[Yt,Mt]:[Mt,Yt]},a.prototype.draw=function(){var r=this.get("container"),n=r&&r.get("canvas");n&&n.draw()},a.prototype.getContainerDOM=function(){var r=this.get("container"),n=r&&r.get("canvas");return n&&n.get("container")},a}(Qn),J0=null;function Go(s,a,r){if(s){if(typeof s.addEventListener=="function")return s.addEventListener(a,r,!1),{remove:function(){s.removeEventListener(a,r,!1)}};if(typeof s.attachEvent=="function")return s.attachEvent("on"+a,r),{remove:function(){s.detachEvent("on"+a,r)}}}}var vh={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},cl={default:vh,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Fd=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.clearEvents=m.ZT,r.onStartEvent=function(n){return function(l){r.isMobile=n,l.originalEvent.preventDefault();var u=n?(0,m.U2)(l.originalEvent,"touches.0.clientX"):l.clientX,v=n?(0,m.U2)(l.originalEvent,"touches.0.clientY"):l.clientY;r.startPos=r.cfg.isHorizontal?u:v,r.bindLaterEvent()}},r.bindLaterEvent=function(){var n=r.getContainerDOM(),l=[];r.isMobile?l=[Go(n,"touchmove",r.onMouseMove),Go(n,"touchend",r.onMouseUp),Go(n,"touchcancel",r.onMouseUp)]:l=[Go(n,"mousemove",r.onMouseMove),Go(n,"mouseup",r.onMouseUp),Go(n,"mouseleave",r.onMouseUp)],r.clearEvents=function(){l.forEach(function(u){u.remove()})}},r.onMouseMove=function(n){var l=r.cfg,u=l.isHorizontal,v=l.thumbOffset;n.preventDefault();var p=r.isMobile?(0,m.U2)(n,"touches.0.clientX"):n.clientX,y=r.isMobile?(0,m.U2)(n,"touches.0.clientY"):n.clientY,C=u?p:y,T=C-r.startPos;r.startPos=C,r.updateThumbOffset(v+T)},r.onMouseUp=function(n){n.preventDefault(),r.clearEvents()},r.onTrackClick=function(n){var l=r.cfg,u=l.isHorizontal,v=l.x,p=l.y,y=l.thumbLen,C=r.getContainerDOM(),T=C.getBoundingClientRect(),_=n.clientX,L=n.clientY,B=u?_-T.left-v-y/2:L-T.top-p-y/2,U=r.validateRange(B);r.updateThumbOffset(U)},r.onThumbMouseOver=function(){var n=r.cfg.theme.hover.thumbColor;r.getElementByLocalId("thumb").attr("stroke",n),r.draw()},r.onThumbMouseOut=function(){var n=r.cfg.theme.default.thumbColor;r.getElementByLocalId("thumb").attr("stroke",n),r.draw()},r}return a.prototype.setRange=function(r,n){this.set("minLimit",r),this.set("maxLimit",n);var l=this.getValue(),u=(0,m.uZ)(l,r,n);l!==u&&!this.get("isInit")&&this.setValue(u)},a.prototype.getRange=function(){var r=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:r,max:n}},a.prototype.setValue=function(r){var n=this.getRange(),l=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,m.uZ)(r,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:l,value:this.getValue()})},a.prototype.getValue=function(){return(0,m.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return(0,I.pi)((0,I.pi)({},r),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:cl})},a.prototype.renderInner=function(r){this.renderTrackShape(r),this.renderThumbShape(r)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.renderTrackShape=function(r){var n=this.cfg,l=n.trackLen,u=n.theme,v=u===void 0?{default:{}}:u,p=(0,m.b$)({},cl,v).default,y=p.lineCap,C=p.trackColor,T=p.size,_=(0,m.U2)(this.cfg,"size",T),L=this.get("isHorizontal")?{x1:0+_/2,y1:_/2,x2:l-_/2,y2:_/2,lineWidth:_,stroke:C,lineCap:y}:{x1:_/2,y1:0+_/2,x2:_/2,y2:l-_/2,lineWidth:_,stroke:C,lineCap:y};return this.addShape(r,{id:this.getElementId("track"),name:"track",type:"line",attrs:L})},a.prototype.renderThumbShape=function(r){var n=this.cfg,l=n.thumbOffset,u=n.thumbLen,v=n.theme,p=(0,m.b$)({},cl,v).default,y=p.size,C=p.lineCap,T=p.thumbColor,_=(0,m.U2)(this.cfg,"size",y),L=this.get("isHorizontal")?{x1:l+_/2,y1:_/2,x2:l+u-_/2,y2:_/2,lineWidth:_,stroke:T,lineCap:C,cursor:"default"}:{x1:_/2,y1:l+_/2,x2:_/2,y2:l+u-_/2,lineWidth:_,stroke:T,lineCap:C,cursor:"default"};return this.addShape(r,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:L})},a.prototype.bindEvents=function(){var r=this.get("group");r.on("mousedown",this.onStartEvent(!1)),r.on("mouseup",this.onMouseUp),r.on("touchstart",this.onStartEvent(!0)),r.on("touchend",this.onMouseUp);var n=r.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var l=r.findById(this.getElementId("thumb"));l.on("mouseover",this.onThumbMouseOver),l.on("mouseout",this.onThumbMouseOut)},a.prototype.getContainerDOM=function(){var r=this.get("container"),n=r&&r.get("canvas");return n&&n.get("container")},a.prototype.validateRange=function(r){var n=this.cfg,l=n.thumbLen,u=n.trackLen,v=r;return r+l>u?v=u-l:r+l<l&&(v=0),v},a.prototype.draw=function(){var r=this.get("container"),n=r&&r.get("canvas");n&&n.draw()},a.prototype.updateThumbOffset=function(r){var n=this.cfg,l=n.thumbOffset,u=n.isHorizontal,v=n.thumbLen,p=n.size,y=this.validateRange(r);if(y!==l){var C=this.getElementByLocalId("thumb");u?C.attr({x1:y+p/2,x2:y+v-p/2}):C.attr({y1:y+p/2,y2:y+v-p/2}),this.emitOffsetChange(y)}},a.prototype.emitOffsetChange=function(r){var n=this.cfg,l=n.thumbOffset,u=n.trackLen,v=n.thumbLen;this.cfg.thumbOffset=r,this.emit("scrollchange",{thumbOffset:r,ratio:(0,m.uZ)(r/(u-v),0,1)}),this.delegateEmit("valuechange",{originalValue:l,value:r})},a}(Qn),kd=od,Dd=K0,Ld=vd,Od=hu,dh=pd,Bd=gd,hl=Cd;function Rd(s){if((0,m.xb)(s))return null;var a=s[0].x,r=s[0].x,n=s[0].y,l=s[0].y;return(0,m.S6)(s,function(u){a=a>u.x?u.x:a,r=r<u.x?u.x:r,n=n>u.y?u.y:n,l=l<u.y?u.y:l}),{minX:a,maxX:r,minY:n,maxY:l,centerX:(a+r)/2,centerY:(n+l)/2}}function bu(s){return Array.from(new Set(s)).length===1}function wu(s){return((0,m.VV)(s)+(0,m.Fp)(s))/2}function Ln(s,a,r,n){return{x:s+r*Math.cos(n),y:a+r*Math.sin(n)}}function Nn(s,a,r,n,l,u){u===void 0&&(u=0);var v=Ln(s,a,r,n),p=Ln(s,a,r,l),y=Ln(s,a,u,n),C=Ln(s,a,u,l);if(l-n===Math.PI*2){var T=Ln(s,a,r,n+Math.PI),_=Ln(s,a,u,n+Math.PI),L=[["M",v.x,v.y],["A",r,r,0,1,1,T.x,T.y],["A",r,r,0,1,1,p.x,p.y],["M",y.x,y.y]];return u&&(L.push(["A",u,u,0,1,0,_.x,_.y]),L.push(["A",u,u,0,1,0,C.x,C.y])),L.push(["M",v.x,v.y]),L.push(["Z"]),L}var B=l-n<=Math.PI?0:1,U=[["M",v.x,v.y],["A",r,r,0,B,1,p.x,p.y],["L",C.x,C.y]];return u&&U.push(["A",u,u,0,B,0,y.x,y.y]),U.push(["L",v.x,v.y]),U.push(["Z"]),U}function Ei(s,a,r,n,l){var u=Ln(s,a,r,n),v=Ln(s,a,r,l);if((0,m.vQ)(l-n,Math.PI*2)){var p=Ln(s,a,r,n+Math.PI);return[["M",u.x,u.y],["A",r,r,0,1,1,p.x,p.y],["A",r,r,0,1,1,u.x,u.y],["A",r,r,0,1,0,p.x,p.y],["A",r,r,0,1,0,u.x,u.y],["Z"]]}var y=l-n<=Math.PI?0:1;return[["M",u.x,u.y],["A",r,r,0,y,1,v.x,v.y]]}function Xo(s,a){var r=s.points,n=Rd(r),l,u,v=a.startAngle,p=a.endAngle,y=p-v;return a.isTransposed?(l=n.maxY*y,u=n.minY*y):(l=n.maxX*y,u=n.minX*y),l+=v,u+=v,{startAngle:u,endAngle:l}}function Nd(s,a){if((0,m.hj)(s)&&(0,m.hj)(a))return[s,a];if(s=s,a=a,bu(s)||bu(a))return[wu(s),wu(a)];for(var r=-1,n=0,l=0,u,v=s.length-1,p,y=0;++r<s.length;)u=v,v=r,y+=p=s[u]*a[v]-s[v]*a[u],n+=(s[u]+s[v])*p,l+=(a[u]+a[v])*p;return y*=3,[n/y,l/y]}function ph(s,a){var r=s.attr(),n=a.attr();return(0,m.S6)(r,function(l,u){n[u]===void 0&&(n[u]=void 0)}),n}function la(s,a,r){var n=Math.min(a,r),l=Math.max(a,r);return s>=n&&s<=l}function wo(s,a,r){if((0,m.HD)(s))return s.padEnd(a,r);if((0,m.kJ)(s)){var n=s.length;if(n<a)for(var l=a-n,u=0;u<l;u++)s.push(r)}return s}function li(s,a){return typeof s=="object"&&a.forEach(function(r){delete s[r]}),s}function Ea(s,a,r){var n,l;a===void 0&&(a=[]),r===void 0&&(r=new Map);try{for(var u=(0,I.XA)(s),v=u.next();!v.done;v=u.next()){var p=v.value;r.has(p)||(a.push(p),r.set(p,!0))}}catch(y){n={error:y}}finally{try{v&&!v.done&&(l=u.return)&&l.call(u)}finally{if(n)throw n.error}}return a}var ti=function(){function s(a,r,n,l){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=0),l===void 0&&(l=0),this.x=a,this.y=r,this.height=l,this.width=n}return s.fromRange=function(a,r,n,l){return new s(a,r,n-a,l-r)},s.fromObject=function(a){return new s(a.minX,a.minY,a.width,a.height)},Object.defineProperty(s.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height},s.prototype.contains=function(a){return a.minX>=this.minX&&a.maxX<=this.maxX&&a.minY>=this.minY&&a.maxY<=this.maxY},s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.add=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var n=this.clone();return(0,m.S6)(a,function(l){n.x=Math.min(l.x,n.x),n.y=Math.min(l.y,n.y),n.width=Math.max(l.maxX,n.maxX)-n.x,n.height=Math.max(l.maxY,n.maxY)-n.y}),n},s.prototype.merge=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var n=this.clone();return(0,m.S6)(a,function(l){n.x=Math.max(l.x,n.x),n.y=Math.max(l.y,n.y),n.width=Math.min(l.maxX,n.maxX)-n.x,n.height=Math.min(l.maxY,n.maxY)-n.y}),n},s.prototype.cut=function(a,r){var n=a.width,l=a.height;switch(r){case Et.TOP:case Et.TOP_LEFT:case Et.TOP_RIGHT:return s.fromRange(this.minX,this.minY+l,this.maxX,this.maxY);case Et.RIGHT:case Et.RIGHT_TOP:case Et.RIGHT_BOTTOM:return s.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case Et.BOTTOM:case Et.BOTTOM_LEFT:case Et.BOTTOM_RIGHT:return s.fromRange(this.minX,this.minY,this.maxX,this.maxY-l);case Et.LEFT:case Et.LEFT_TOP:case Et.LEFT_BOTTOM:return s.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},s.prototype.shrink=function(a){var r=(0,I.CR)(a,4),n=r[0],l=r[1],u=r[2],v=r[3];return new s(this.x+v,this.y+n,this.width-v-l,this.height-n-u)},s.prototype.expand=function(a){var r=(0,I.CR)(a,4),n=r[0],l=r[1],u=r[2],v=r[3];return new s(this.x-v,this.y-n,this.width+v+l,this.height+n+u)},s.prototype.exceed=function(a){return[Math.max(-this.minY+a.minY,0),Math.max(this.maxX-a.maxX,0),Math.max(this.maxY-a.maxY,0),Math.max(-this.minX+a.minX,0)]},s.prototype.collide=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},s.prototype.size=function(){return this.width*this.height},s.prototype.isPointIn=function(a){return a.x>=this.minX&&a.x<=this.maxX&&a.y>=this.minY&&a.y<=this.maxY},s}(),zd=function(s,a){var r=a.start,n=a.end;return new ti(s.x+s.width*r.x,s.y+s.height*r.y,s.width*Math.abs(n.x-r.x),s.height*Math.abs(n.y-r.y))};function gh(s){return[[s.minX,s.minY],[s.maxX,s.minY],[s.maxX,s.maxY],[s.minX,s.maxY]]}function Ts(s){if(s.isPolar&&!s.isTransposed)return(s.endAngle-s.startAngle)*s.getRadius();var a=s.convert({x:0,y:0}),r=s.convert({x:1,y:0});return Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2))}function yh(s){if(s.isPolar){var a=s.startAngle,r=s.endAngle;return r-a===Math.PI*2}return!1}function As(s,a){var r=s.getCenter();return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))}function Vd(s,a){var r=!1;if(s)if(s.type==="theta"){var n=s.start,l=s.end;r=la(a.x,n.x,l.x)&&la(a.y,n.y,l.y)}else{var u=s.invert(a);r=la(u.x,0,1)&&la(u.y,0,1)}return r}function Zo(s,a){var r=s.getCenter();return Math.atan2(a.y-r.y,a.x-r.x)}function Su(s,a){a===void 0&&(a=0);var r=s.start,n=s.end,l=s.getWidth(),u=s.getHeight();if(s.isPolar){var v=s.startAngle,p=s.endAngle,y=s.getCenter(),C=s.getRadius();return{type:"path",startState:{path:Nn(y.x,y.y,C+a,v,v)},endState:function(_){var L=(p-v)*_+v,B=Nn(y.x,y.y,C+a,v,L);return{path:B}},attrs:{path:Nn(y.x,y.y,C+a,v,p)}}}var T;return s.isTransposed?T={height:u+a*2}:T={width:l+a*2},{type:"rect",startState:{x:r.x-a,y:n.y-a,width:s.isTransposed?l+a*2:0,height:s.isTransposed?0:u+a*2},endState:T,attrs:{x:r.x-a,y:n.y-a,width:l+a*2,height:u+a*2}}}function Ud(s,a){a===void 0&&(a=0);var r=s.start,n=s.end,l=s.getWidth(),u=s.getHeight(),v=Math.min(r.x,n.x),p=Math.min(r.y,n.y);return ti.fromRange(v-a,p-a,v+l+a,p+u+a)}var Wd=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Yd(s){var a="linear";return Wd.test(s)?a="timeCat":(0,m.HD)(s)&&(a="cat"),a}function mh(s,a,r,n){return a===void 0&&(a={}),a.type?a.type:s.type!=="identity"&&wt.includes(r)&&["interval"].includes(n)||s.isCategory?"cat":s.type}function Hd(s,a,r){var n=a||[];if((0,m.hj)(s)||(0,m.UM)((0,m.Wx)(n,s))&&(0,m.xb)(r)){var l=$("identity");return new l({field:s.toString(),values:[s]})}var u=(0,m.I)(n,s),v=(0,m.U2)(r,"type",Yd(u[0])),p=$(v);return new p((0,I.pi)({field:s,values:u},r))}function Gd(s,a){if(s.type!=="identity"&&a.type!=="identity"){var r={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n]);s.change(r)}}function Es(s){return s.alias||s.field}function xh(s,a,r){var n=s.values,l=n.length,u;if(l===1)u=[.5,1];else{var v=1,p=0;yh(a)?a.isTransposed?(v=(0,m.U2)(r,"widthRatio.multiplePie",1/1.3),p=1/l*v,u=[p/2,1-p/2]):u=[0,1-1/l]:(p=1/l/2,u=[p,1-p])}return u}function Xd(s){var a=s.values.filter(function(r){return!(0,m.UM)(r)&&!isNaN(r)});return Math.max.apply(Math,(0,I.ev)((0,I.ev)([],(0,I.CR)(a),!1),[(0,m.UM)(s.max)?-1/0:s.max],!1))}function Zd(s){var a,r;switch(s){case Et.TOP:a={x:0,y:1},r={x:1,y:1};break;case Et.RIGHT:a={x:1,y:0},r={x:1,y:1};break;case Et.BOTTOM:a={x:0,y:0},r={x:1,y:0};break;case Et.LEFT:a={x:0,y:0},r={x:0,y:1};break;default:a=r={x:0,y:0}}return{start:a,end:r}}function jd(s){var a,r;return s.isTransposed?(a={x:0,y:0},r={x:1,y:0}):(a={x:0,y:0},r={x:0,y:1}),{start:a,end:r}}function fl(s,a){var r={start:{x:0,y:0},end:{x:0,y:0}};s.isRect?r=Zd(a):s.isPolar&&(r=jd(s));var n=r.start,l=r.end;return{start:s.convert(n),end:s.convert(l)}}function Q0(s,a){if(s.isRect)return s.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(a)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(a)?-1:1;if(s.isPolar){var r=s.x.start;return r<0?-1:1}return 1}function bh(s){var a=s.start,r=s.end;return a.x===r.x}function wh(s,a){var r=s.start,n=s.end,l=bh(s);return l?(r.y-n.y)*(a.x-r.x)>0?1:-1:(n.x-r.x)*(r.y-a.y)>0?-1:1}function vl(s,a){var r=(0,m.U2)(s,["components","axis"],{});return(0,m.b$)({},(0,m.U2)(r,["common"],{}),(0,m.b$)({},(0,m.U2)(r,[a],{})))}function Sh(s,a,r){var n=(0,m.U2)(s,["components","axis"],{});return(0,m.b$)({},(0,m.U2)(n,["common","title"],{}),(0,m.b$)({},(0,m.U2)(n,[a,"title"],{})),r)}function Cu(s){var a=s.x,r=s.y,n=s.circleCenter,l=r.start>r.end,u=s.isTransposed?s.convert({x:l?0:1,y:0}):s.convert({x:0,y:l?0:1}),v=[u.x-n.x,u.y-n.y],p=[1,0],y=u.y>n.y?qr.EU(v,p):qr.EU(v,p)*-1,C=y+(a.end-a.start),T=Math.sqrt(Math.pow(u.x-n.x,2)+Math.pow(u.y-n.y,2));return{center:n,radius:T,startAngle:y,endAngle:C}}function Mu(s,a){return(0,m.jn)(s)?s===!1?!1:{}:(0,m.U2)(s,[a])}function Ch(s,a){return(0,m.U2)(s,"position",a)}function Mh(s,a){return(0,m.U2)(a,["title","text"],Es(s))}var jo=function(){function s(a,r){this.destroyed=!1,this.facets=[],this.view=a,this.cfg=(0,m.b$)({},this.getDefaultCfg(),r)}return s.prototype.init=function(){this.container||(this.container=this.createContainer());var a=this.view.getData();this.facets=this.generateFacets(a)},s.prototype.render=function(){this.renderViews()},s.prototype.update=function(){},s.prototype.clear=function(){this.clearFacetViews()},s.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},s.prototype.facetToView=function(a){var r=a.region,n=a.data,l=a.padding,u=l===void 0?this.cfg.padding:l,v=this.view.createView({region:r,padding:u});v.data(n||[]),a.view=v,this.beforeEachView(v,a);var p=this.cfg.eachView;return p&&p(v,a),this.afterEachView(v,a),v},s.prototype.createContainer=function(){var a=this.view.getLayer(Bt.FORE);return a.addGroup()},s.prototype.renderViews=function(){this.createFacetViews()},s.prototype.createFacetViews=function(){var a=this;return this.facets.map(function(r){return a.facetToView(r)})},s.prototype.clearFacetViews=function(){var a=this;(0,m.S6)(this.facets,function(r){r.view&&(a.view.removeView(r.view),r.view=void 0)})},s.prototype.parseSpacing=function(){var a=this.view.viewBBox,r=a.width,n=a.height,l=this.cfg.spacing;return l.map(function(u,v){return(0,m.hj)(u)?u/(v===0?r:n):parseFloat(u)/100})},s.prototype.getFieldValues=function(a,r){var n=[],l={};return(0,m.S6)(a,function(u){var v=u[r];!(0,m.UM)(v)&&!l[v]&&(n.push(v),l[v]=!0)}),n},s.prototype.getRegion=function(a,r,n,l){var u=(0,I.CR)(this.parseSpacing(),2),v=u[0],p=u[1],y=(1+v)/(r===0?1:r)-v,C=(1+p)/(a===0?1:a)-p,T={x:(y+v)*n,y:(C+p)*l},_={x:T.x+y,y:T.y+C};return{start:T,end:_}},s.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},s.prototype.getDefaultTitleCfg=function(){var a=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:a}}},s.prototype.processAxis=function(a,r){var n=a.getOptions(),l=n.coordinate,u=a.geometries,v=(0,m.U2)(l,"type","rect");if(v==="rect"&&u.length){(0,m.UM)(n.axes)&&(n.axes={});var p=n.axes,y=(0,I.CR)(u[0].getXYFields(),2),C=y[0],T=y[1],_=Mu(p,C),L=Mu(p,T);_!==!1&&(n.axes[C]=this.getXAxisOption(C,p,_,r)),L!==!1&&(n.axes[T]=this.getYAxisOption(T,p,L,r))}},s.prototype.getFacetDataFilter=function(a){return function(r){return(0,m.yW)(a,function(n){var l=n.field,u=n.value;return!(0,m.UM)(u)&&l?r[l]===u:!0})}},s}(),Th={},$d=function(s){return Th[(0,m.vl)(s)]},$o=function(s,a){Th[(0,m.vl)(s)]=a},Kd=function(){function s(a,r){this.context=a,this.cfg=r,a.addAction(this)}return s.prototype.applyCfg=function(a){(0,m.f0)(this,a)},s.prototype.init=function(){this.applyCfg(this.cfg)},s.prototype.destroy=function(){this.context.removeAction(this),this.context=null},s}(),Fn=Kd,ty=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.execute=function(){this.callback&&this.callback(this.context)},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.callback=null},a}(Fn),qd=ty,_s={};function Jd(s,a){var r=_s[s],n=null;if(r){var l=r.ActionClass,u=r.cfg;n=new l(a,u),n.name=s,n.init()}return n}function Ah(s){var a=_s[s];return(0,m.U2)(a,"ActionClass")}function _r(s,a,r){_s[s]={ActionClass:a,cfg:r}}function ey(s){delete _s[s]}function Eh(s,a){var r=new qd(a);return r.callback=s,r.name="callback",r}function _h(s,a){var r=[];if(s.length){r.push(["M",s[0].x,s[0].y]);for(var n=1,l=s.length;n<l;n+=1){var u=s[n];r.push(["L",u.x,u.y])}a&&r.push(["Z"])}return r}function Tu(s,a){for(var r=[s[0]],n=1,l=s.length;n<l;n=n+2){var u=a.convert({x:s[n],y:s[n+1]});r.push(u.x,u.y)}return r}function Ph(s,a){var r=a.isTransposed,n=s[1],l=s[6],u=s[7],v=a.convert({x:l,y:u}),p=r?0:1;return["A",n,n,0,0,p,v.x,v.y]}function Qd(s,a,r){var n=r.isTransposed,l=r.startAngle,u=r.endAngle,v=s[0].toLowerCase()==="a"?{x:s[6],y:s[7]}:{x:s[1],y:s[2]},p={x:a[1],y:a[2]},y=[],C=n?"y":"x",T=Math.abs(p[C]-v[C])*(u-l),_=p[C]>=v[C]?1:0,L=T>Math.PI?1:0,B=r.convert(p),U=As(r,B);if(U>=.5)if(T===Math.PI*2){var nt={x:(p.x+v.x)/2,y:(p.y+v.y)/2},pt=r.convert(nt);y.push(["A",U,U,0,L,_,pt.x,pt.y]),y.push(["A",U,U,0,L,_,B.x,B.y])}else y.push(["A",U,U,0,L,_,B.x,B.y]);return y}function tp(s){(0,m.S6)(s,function(a,r){var n=a;if(n[0].toLowerCase()==="a"){var l=s[r-1],u=s[r+1];u&&u[0].toLowerCase()==="a"?l&&l[0].toLowerCase()==="l"&&(l[0]="M"):l&&l[0].toLowerCase()==="a"&&u&&u[0].toLowerCase()==="l"&&(u[0]="M")}})}var ep=function(s,a,r,n){var l,u=[],v=!!n,p,y,C,T,_,L,B;if(v){l=(0,I.CR)(n,2),C=l[0],T=l[1];for(var U=0,nt=s.length;U<nt;U++){var pt=s[U];C=qr.VV([0,0],C,pt),T=qr.Fp([0,0],T,pt)}}for(var U=0,Mt=s.length;U<Mt;U++){var pt=s[U];if(U===0&&!r)B=pt;else if(U===Mt-1&&!r)L=pt,u.push(B),u.push(L);else{p=s[r?U?U-1:Mt-1:U-1],y=s[r?(U+1)%Mt:U+1];var Yt=[0,0];Yt=qr.lu(Yt,y,p),Yt=qr.bA(Yt,Yt,a);var Gt=qr.TE(pt,p),te=qr.TE(pt,y),Me=Gt+te;Me!==0&&(Gt/=Me,te/=Me);var Ne=qr.bA([0,0],Yt,-Gt),Ye=qr.bA([0,0],Yt,te);L=qr.IH([0,0],pt,Ne),_=qr.IH([0,0],pt,Ye),_=qr.VV([0,0],_,qr.Fp([0,0],y,pt)),_=qr.Fp([0,0],_,qr.VV([0,0],y,pt)),Ne=qr.lu([0,0],_,pt),Ne=qr.bA([0,0],Ne,-Gt/te),L=qr.IH([0,0],pt,Ne),L=qr.VV([0,0],L,qr.Fp([0,0],p,pt)),L=qr.Fp([0,0],L,qr.VV([0,0],p,pt)),Ye=qr.lu([0,0],pt,L),Ye=qr.bA([0,0],Ye,te/Gt),_=qr.IH([0,0],pt,Ye),v&&(L=qr.Fp([0,0],L,C),L=qr.VV([0,0],L,T),_=qr.Fp([0,0],_,C),_=qr.VV([0,0],_,T)),u.push(B),u.push(L),B=_}}return r&&u.push(u.shift()),u};function Ih(s,a,r){for(var n=!!a,l=[],u=0,v=s.length;u<v;u+=2)l.push([s[u],s[u+1]]);for(var p=ep(l,.4,n,r),y=l.length,C=[],T,_,L,u=0;u<y-1;u++)T=p[u*2],_=p[u*2+1],L=l[u+1],C.push(["C",T[0],T[1],_[0],_[1],L[0],L[1]]);return n&&(T=p[y],_=p[y+1],L=l[0],C.push(["C",T[0],T[1],_[0],_[1],L[0],L[1]])),C}function Ps(s,a){return _h(s,a)}function dl(s,a,r){var n=[],l=s[0],u=null;if(s.length<=2)return Ps(s,a);for(var v=0,p=s.length;v<p;v++){var y=s[v];(!u||!(u.x===y.x&&u.y===y.y))&&(n.push(y.x),n.push(y.y),u=y)}var C=r||[[0,0],[1,1]],T=Ih(n,a,C);return T.unshift(["M",l.x,l.y]),T}function rp(s,a){var r=[];return(0,m.S6)(a,function(n){var l=n[0];switch(l.toLowerCase()){case"m":case"l":case"c":r.push(Tu(n,s));break;case"a":r.push(Ph(n,s));break;case"z":default:r.push(n);break}}),r}function np(s,a){var r=[],n,l,u,v;return(0,m.S6)(a,function(p,y){var C=p[0];switch(C.toLowerCase()){case"m":case"c":case"q":r.push(Tu(p,s));break;case"l":n=a[y-1],l=p,u=s.isTransposed,v=u?n[n.length-2]===l[1]:n[n.length-1]===l[2],v?r=r.concat(Qd(n,l,s)):r.push(Tu(p,s));break;case"a":r.push(Ph(p,s));break;case"z":default:r.push(p);break}}),tp(r),r}function Au(s,a){var r=s.event,n=r.target;return Fh(n,a)}function ip(s,a){var r=s.getCanvasBBox(),n=r.width,l=r.height;return n>0&&l>0&&(n>=a||l>=a)}function Fh(s,a){var r=s.getCanvasBBox();return ip(s,a)?r:null}function kh(s,a){var r=s.event.maskShapes;return r.map(function(n){return Fh(n,a)}).filter(function(n){return!!n})}function ap(s,a){var r=s.event,n=r.target;return Dh(n,a)}function Dh(s,a){return ip(s,a)?s.attr("path"):null}function op(s,a){var r=s.event.maskShapes;return r.map(function(n){return Dh(n,a)})}function Ka(s){var a=s.event,r,n=a.target;return n&&(r=n.get("element")),r}function So(s){var a=s.event,r=a.target,n;return r&&(n=r.get("delegateObject")),n}function Lh(s){var a=s.event.gEvent;return!(a&&a.fromShape&&a.toShape&&a.fromShape.get("element")===a.toShape.get("element"))}function pl(s){return s&&s.component&&s.component.isList()}function Oh(s){return s&&s.component&&s.component.isSlider()}function Is(s){var a=s.event,r=a.target;return r&&(r==null?void 0:r.get("name"))==="mask"||gl(s)}function gl(s){var a;return((a=s.event.target)===null||a===void 0?void 0:a.get("name"))==="multi-mask"}function yl(s,a){var r=s.event.target;if(gl(s))return sp(s,a);if(r.get("type")==="path"){var n=ap(s,a);return n?Vh(s.view,n):void 0}var l=Au(s,a);return l?ml(s.view,l):null}function sp(s,a){var r=s.event.target;if(r.get("type")==="path"){var n=op(s,a);return n.length>0?n.flatMap(function(u){return Vh(s.view,u)}):null}var l=kh(s,a);return l.length>0?l.flatMap(function(u){return ml(s.view,u)}):null}function Bh(s,a,r){if(gl(s))return lp(s,a,r);var n=Au(s,r);return n?Rh(n,s,a):null}function Rh(s,a,r){var n=a.view,l=Ko(n,r,{x:s.x,y:s.y}),u=Ko(n,r,{x:s.maxX,y:s.maxY}),v={minX:l.x,minY:l.y,maxX:u.x,maxY:u.y};return ml(r,v)}function lp(s,a,r){var n=kh(s,r);return n.length>0?n.flatMap(function(l){return Rh(l,s,a)}):null}function Zn(s){var a=s.geometries,r=[];return(0,m.S6)(a,function(n){var l=n.elements;r=r.concat(l)}),s.views&&s.views.length&&(0,m.S6)(s.views,function(n){r=r.concat(Zn(n))}),r}function ry(s,a,r){var n=Zn(s);return n.filter(function(l){return ua(l,a)===r})}function Nh(s,a){var r=s.geometries,n=[];return(0,m.S6)(r,function(l){var u=l.getElementsBy(function(v){return v.hasState(a)});n=n.concat(u)}),n}function ua(s,a){var r=s.getModel(),n=r.data,l;return(0,m.kJ)(n)?l=n[0][a]:l=n[a],l}function up(s,a){return!(a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY)}function ml(s,a){var r=Zn(s),n=[];return(0,m.S6)(r,function(l){var u=l.shape,v=u.getCanvasBBox();up(a,v)&&n.push(l)}),n}function zh(s){var a=[];return(0,m.S6)(s,function(r){var n=r[0];if(n!=="A")for(var l=1;l<r.length;l=l+2)a.push([r[l],r[l+1]]);else{var u=r.length;a.push([r[u-2],r[u-1]])}}),a}function Vh(s,a){var r=Zn(s),n=zh(a),l=r.filter(function(u){var v=u.shape,p;if(v.get("type")==="path")p=zh(v.attr("path"));else{var y=v.getCanvasBBox();p=gh(y)}return(0,Wo.Wq)(n,p)});return l}function Uh(s){return s.getComponents().map(function(a){return a.component})}function Eu(s,a){var r=a.x-s.x,n=a.y-s.y;return Math.sqrt(r*r+n*n)}function ny(s,a){if(s.length<=2)return Ps(s,!1);var r=s[0],n=[];(0,m.S6)(s,function(u){n.push(u.x),n.push(u.y)});var l=Ih(n,a,null);return l.unshift(["M",r.x,r.y]),l}function _u(s,a){return s.x<=a.x&&s.maxX>=a.x&&s.y<=a.y&&s.maxY>a.y}function ca(s){var a=s.parent,r=null;return a&&(r=a.views.filter(function(n){return n!==s})),r}function Wh(s,a){var r=s.getCoordinate();return r.invert(a)}function Ko(s,a,r){var n=Wh(s,r);return a.getCoordinate().convert(n)}function Fs(s,a,r,n){var l=!1;return(0,m.S6)(s,function(u){if(u[r]===a[r]&&u[n]===a[n])return l=!0,!1}),l}function qo(s,a){var r=s.getScaleByField(a);return!r&&s.views&&(0,m.S6)(s.views,function(n){if(r=qo(n,a),r)return!1}),r}var cp=function(){function s(a){this.actions=[],this.event=null,this.cacheMap={},this.view=a}return s.prototype.cache=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];if(a.length===1)return this.cacheMap[a[0]];a.length===2&&(this.cacheMap[a[0]]=a[1])},s.prototype.getAction=function(a){return this.actions.find(function(r){return r.name===a})},s.prototype.addAction=function(a){this.actions.push(a)},s.prototype.removeAction=function(a){var r=this.actions,n=this.actions.indexOf(a);n>=0&&r.splice(n,1)},s.prototype.getCurrentPoint=function(){var a=this.event;if(a)if(a.target instanceof HTMLElement){var r=this.view.getCanvas(),n=r.getPointByClient(a.clientX,a.clientY);return n}else return{x:a.x,y:a.y};return null},s.prototype.getCurrentShape=function(){return(0,m.U2)(this.event,["gEvent","shape"])},s.prototype.isInPlot=function(){var a=this.getCurrentPoint();return a?this.view.isPointInPlot(a):!1},s.prototype.isInShape=function(a){var r=this.getCurrentShape();return r?r.get("name")===a:!1},s.prototype.isInComponent=function(a){var r=Uh(this.view),n=this.getCurrentPoint();return n?!!r.find(function(l){var u=l.getBBox();return a?l.get("name")===a&&_u(u,n):_u(u,n)}):!1},s.prototype.destroy=function(){(0,m.S6)(this.actions.slice(),function(a){a.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},s}(),hp=cp,fp=function(){function s(a,r){this.view=a,this.cfg=r}return s.prototype.init=function(){this.initEvents()},s.prototype.initEvents=function(){},s.prototype.clearEvents=function(){},s.prototype.destroy=function(){this.clearEvents()},s}(),vp=fp;function Yh(s,a,r){var n=s.split(":"),l=n[0],u=a.getAction(l)||Jd(l,a);if(!u)throw new Error("There is no action named ".concat(l));var v=n[1];return{action:u,methodName:v,arg:r}}function xl(s){var a=s.action,r=s.methodName,n=s.arg;if(a[r])a[r](n);else throw new Error("Action(".concat(a.name,") doesn't have a method called ").concat(r))}var Yi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},bl=function(s){(0,I.ZT)(a,s);function a(r,n){var l=s.call(this,r,n)||this;return l.callbackCaches={},l.emitCaches={},l.steps=n,l}return a.prototype.init=function(){this.initContext(),s.prototype.init.call(this)},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},a.prototype.initEvents=function(){var r=this;(0,m.S6)(this.steps,function(n,l){(0,m.S6)(n,function(u){var v=r.getActionCallback(l,u);v&&r.bindEvent(u.trigger,v)})})},a.prototype.clearEvents=function(){var r=this;(0,m.S6)(this.steps,function(n,l){(0,m.S6)(n,function(u){var v=r.getActionCallback(l,u);v&&r.offEvent(u.trigger,v)})})},a.prototype.initContext=function(){var r=this.view,n=new hp(r);this.context=n;var l=this.steps;(0,m.S6)(l,function(u){(0,m.S6)(u,function(v){if((0,m.mf)(v.action))v.actionObject={action:Eh(v.action,n),methodName:"execute"};else if((0,m.HD)(v.action))v.actionObject=Yh(v.action,n,v.arg);else if((0,m.kJ)(v.action)){var p=v.action,y=(0,m.kJ)(v.arg)?v.arg:[v.arg];v.actionObject=[],(0,m.S6)(p,function(C,T){v.actionObject.push(Yh(C,n,y[T]))})}})})},a.prototype.isAllowStep=function(r){var n=this.currentStepName,l=this.steps;if(n===r||r===Yi.SHOW_ENABLE)return!0;if(r===Yi.PROCESSING)return n===Yi.START;if(r===Yi.START)return n!==Yi.PROCESSING;if(r===Yi.END)return n===Yi.PROCESSING||n===Yi.START;if(r===Yi.ROLLBACK){if(l[Yi.END])return n===Yi.END;if(n===Yi.START)return!0}return!1},a.prototype.isAllowExecute=function(r,n){if(this.isAllowStep(r)){var l=this.getKey(r,n);return n.once&&this.emitCaches[l]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},a.prototype.enterStep=function(r){this.currentStepName=r,this.emitCaches={}},a.prototype.afterExecute=function(r,n){r!==Yi.SHOW_ENABLE&&this.currentStepName!==r&&this.enterStep(r);var l=this.getKey(r,n);this.emitCaches[l]=!0},a.prototype.getKey=function(r,n){return r+n.trigger+n.action},a.prototype.getActionCallback=function(r,n){var l=this,u=this.context,v=this.callbackCaches,p=n.actionObject;if(n.action&&p){var y=this.getKey(r,n);if(!v[y]){var C=function(T){u.event=T,l.isAllowExecute(r,n)?((0,m.kJ)(p)?(0,m.S6)(p,function(_){u.event=T,xl(_)}):(u.event=T,xl(p)),l.afterExecute(r,n),n.callback&&(u.event=T,n.callback(u))):u.event=null};n.debounce?v[y]=(0,m.Ds)(C,n.debounce.wait,n.debounce.immediate):n.throttle?v[y]=(0,m.P2)(C,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):v[y]=C}return v[y]}return null},a.prototype.bindEvent=function(r,n){var l=r.split(":");l[0]==="window"?window.addEventListener(l[1],n):l[0]==="document"?document.addEventListener(l[1],n):this.view.on(r,n)},a.prototype.offEvent=function(r,n){var l=r.split(":");l[0]==="window"?window.removeEventListener(l[1],n):l[0]==="document"?document.removeEventListener(l[1],n):this.view.off(r,n)},a}(vp),Pu=bl,wl={};function dp(s){return wl[(0,m.vl)(s)]}function mn(s,a){wl[(0,m.vl)(s)]=a}function Hh(s,a,r){var n=dp(s);if(!n)return null;if((0,m.PO)(n)){var l=(0,m.CD)((0,m.d9)(n),r);return new Pu(a,l)}else{var u=n;return new u(a,r)}}function Sl(s){return{title:{autoRotate:!0,position:"center",spacing:s.axisTitleSpacing,style:{fill:s.axisTitleTextFillColor,fontSize:s.axisTitleTextFontSize,lineHeight:s.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:s.fontFamily},iconStyle:{fill:s.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:s.axisLabelOffset,style:{fill:s.axisLabelFillColor,fontSize:s.axisLabelFontSize,lineHeight:s.axisLabelLineHeight,fontFamily:s.fontFamily}},line:{style:{lineWidth:s.axisLineBorder,stroke:s.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:s.axisGridBorderColor,lineWidth:s.axisGridBorder,lineDash:s.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:s.axisTickLineBorder,stroke:s.axisTickLineBorderColor},alignTick:!0,length:s.axisTickLineLength},subTickLine:null,animate:!0}}function Iu(s){return{title:null,marker:{symbol:"circle",spacing:s.legendMarkerSpacing,style:{r:s.legendCircleMarkerSize,fill:s.legendMarkerColor}},itemName:{spacing:5,style:{fill:s.legendItemNameFillColor,fontFamily:s.fontFamily,fontSize:s.legendItemNameFontSize,lineHeight:s.legendItemNameLineHeight,fontWeight:s.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:s.legendPageNavigatorMarkerSize,inactiveFill:s.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:s.legendPageNavigatorMarkerInactiveFillOpacity,fill:s.legendPageNavigatorMarkerFillColor,opacity:s.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:s.legendPageNavigatorTextFillColor,fontSize:s.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:s.legendItemSpacing,itemMarginBottom:s.legendItemMarginBottom,padding:s.legendPadding}}function Gh(s){var a,r={point:{default:{fill:s.pointFillColor,r:s.pointSize,stroke:s.pointBorderColor,lineWidth:s.pointBorder,fillOpacity:s.pointFillOpacity},active:{stroke:s.pointActiveBorderColor,lineWidth:s.pointActiveBorder},selected:{stroke:s.pointSelectedBorderColor,lineWidth:s.pointSelectedBorder},inactive:{fillOpacity:s.pointInactiveFillOpacity,strokeOpacity:s.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:s.hollowPointFillColor,lineWidth:s.hollowPointBorder,stroke:s.hollowPointBorderColor,strokeOpacity:s.hollowPointBorderOpacity,r:s.hollowPointSize},active:{stroke:s.hollowPointActiveBorderColor,strokeOpacity:s.hollowPointActiveBorderOpacity},selected:{lineWidth:s.hollowPointSelectedBorder,stroke:s.hollowPointSelectedBorderColor,strokeOpacity:s.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:s.hollowPointInactiveBorderOpacity}},area:{default:{fill:s.areaFillColor,fillOpacity:s.areaFillOpacity,stroke:null},active:{fillOpacity:s.areaActiveFillOpacity},selected:{fillOpacity:s.areaSelectedFillOpacity},inactive:{fillOpacity:s.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:s.hollowAreaBorderColor,lineWidth:s.hollowAreaBorder,strokeOpacity:s.hollowAreaBorderOpacity},active:{fill:null,lineWidth:s.hollowAreaActiveBorder},selected:{fill:null,lineWidth:s.hollowAreaSelectedBorder},inactive:{strokeOpacity:s.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:s.intervalFillColor,fillOpacity:s.intervalFillOpacity},active:{stroke:s.intervalActiveBorderColor,lineWidth:s.intervalActiveBorder},selected:{stroke:s.intervalSelectedBorderColor,lineWidth:s.intervalSelectedBorder},inactive:{fillOpacity:s.intervalInactiveFillOpacity,strokeOpacity:s.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:s.hollowIntervalFillColor,stroke:s.hollowIntervalBorderColor,lineWidth:s.hollowIntervalBorder,strokeOpacity:s.hollowIntervalBorderOpacity},active:{stroke:s.hollowIntervalActiveBorderColor,lineWidth:s.hollowIntervalActiveBorder,strokeOpacity:s.hollowIntervalActiveBorderOpacity},selected:{stroke:s.hollowIntervalSelectedBorderColor,lineWidth:s.hollowIntervalSelectedBorder,strokeOpacity:s.hollowIntervalSelectedBorderOpacity},inactive:{stroke:s.hollowIntervalInactiveBorderColor,lineWidth:s.hollowIntervalInactiveBorder,strokeOpacity:s.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:s.lineBorderColor,lineWidth:s.lineBorder,strokeOpacity:s.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:s.lineActiveBorder},selected:{lineWidth:s.lineSelectedBorder},inactive:{strokeOpacity:s.lineInactiveBorderOpacity}}},n=Sl(s),l=Iu(s);return{background:s.backgroundColor,defaultColor:s.brandColor,subColor:s.subColor,semanticRed:s.paletteSemanticRed,semanticGreen:s.paletteSemanticGreen,padding:"auto",fontFamily:s.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:s.paletteQualitative10,colors20:s.paletteQualitative20,sequenceColors:s.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:function(u){var v=u.geometry.coordinate;if(v.isPolar&&v.isTransposed){var p=Xo(u.getModel(),v),y=p.startAngle,C=p.endAngle,T=(y+C)/2,_=7.5,L=_*Math.cos(T),B=_*Math.sin(T);return{matrix:gn.vs(null,[["t",L,B]])}}return r.interval.selected}}},"hollow-rect":{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},line:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},tick:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},funnel:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}},pyramid:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}}},line:{line:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},dot:{default:{style:(0,I.pi)((0,I.pi)({},r.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,I.pi)((0,I.pi)({},r.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,I.pi)((0,I.pi)({},r.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,I.pi)((0,I.pi)({},r.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,I.pi)((0,I.pi)({},r.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,I.pi)((0,I.pi)({},r.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,I.pi)((0,I.pi)({},r.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,I.pi)((0,I.pi)({},r.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vh:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hvh:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vhv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}}},polygon:{polygon:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}}},point:{circle:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},square:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},bowtie:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},diamond:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},hexagon:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},triangle:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},"triangle-down":{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},"hollow-circle":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-square":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-bowtie":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-diamond":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-hexagon":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-triangle":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-triangle-down":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},cross:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},tick:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},plus:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},hyphen:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},line:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}}},area:{area:{default:{style:r.area.default},active:{style:r.area.active},inactive:{style:r.area.inactive},selected:{style:r.area.selected}},smooth:{default:{style:r.area.default},active:{style:r.area.active},inactive:{style:r.area.inactive},selected:{style:r.area.selected}},line:{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}},"smooth-line":{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}}},schema:{candle:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},box:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}}},edge:{line:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vhv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},arc:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}}},violin:{violin:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hollow:{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}},"hollow-smooth":{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,m.b$)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,m.b$)({},n.grid,{line:{type:"circle"}})}},legend:{common:l,right:{layout:"vertical",padding:s.legendVerticalPadding},left:{layout:"vertical",padding:s.legendVerticalPadding},top:{layout:"horizontal",padding:s.legendHorizontalPadding},bottom:{layout:"horizontal",padding:s.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:s.sliderRailHeight,defaultLength:s.sliderRailWidth,style:{fill:s.sliderRailFillColor,stroke:s.sliderRailBorderColor,lineWidth:s.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:s.sliderLabelTextFillColor,fontSize:s.sliderLabelTextFontSize,lineHeight:s.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:s.fontFamily}},handler:{size:s.sliderHandlerWidth,style:{fill:s.sliderHandlerFillColor,stroke:s.sliderHandlerBorderColor}},slidable:!0,padding:l.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:s.tooltipCrosshairsBorderColor,lineWidth:s.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(a={},a["".concat(Ta)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:s.tooltipContainerFillColor,opacity:s.tooltipContainerFillOpacity,boxShadow:s.tooltipContainerShadow,borderRadius:"".concat(s.tooltipContainerBorderRadius,"px"),color:s.tooltipTextFillColor,fontSize:"".concat(s.tooltipTextFontSize,"px"),fontFamily:s.fontFamily,lineHeight:"".concat(s.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},a["".concat(Aa)]={marginBottom:"12px",marginTop:"12px"},a["".concat(bo)]={margin:0,listStyleType:"none",padding:0},a["".concat(Cs)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},a["".concat(ll)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},a["".concat(ul)]={display:"inline-block",float:"right",marginLeft:"30px"},a)},annotation:{arc:{style:{stroke:s.annotationArcBorderColor,lineWidth:s.annotationArcBorder},animate:!0},line:{style:{stroke:s.annotationLineBorderColor,lineDash:s.annotationLineDash,lineWidth:s.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:s.annotationTextFillColor,stroke:s.annotationTextBorderColor,lineWidth:s.annotationTextBorder,fontSize:s.annotationTextFontSize,textAlign:"start",fontFamily:s.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:s.annotationTextFillColor,stroke:s.annotationTextBorderColor,lineWidth:s.annotationTextBorder,fontSize:s.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:s.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:s.annotationRegionBorder,stroke:s.annotationRegionBorderColor,fill:s.annotationRegionFillColor,fillOpacity:s.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:s.brandColor,lineWidth:2}},line:{style:{stroke:s.annotationLineBorderColor,lineWidth:s.annotationLineBorder},length:s.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:s.annotationTextFillColor,stroke:s.annotationTextBorderColor,lineWidth:s.annotationTextBorder,fontSize:s.annotationTextFontSize,fontFamily:s.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:s.annotationRegionFillColor,fillOpacity:s.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:s.annotationTextFillColor,stroke:s.annotationTextBorderColor,lineWidth:s.annotationTextBorder,fontSize:s.annotationTextFontSize,fontFamily:s.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:s.cSliderBackgroundFillColor,opacity:s.cSliderBackgroundFillOpacity},foregroundStyle:{fill:s.cSliderForegroundFillColor,opacity:s.cSliderForegroundFillOpacity},handlerStyle:{width:s.cSliderHandlerWidth,height:s.cSliderHandlerHeight,fill:s.cSliderHandlerFillColor,opacity:s.cSliderHandlerFillOpacity,stroke:s.cSliderHandlerBorderColor,lineWidth:s.cSliderHandlerBorder,radius:s.cSliderHandlerBorderRadius,highLightFill:s.cSliderHandlerHighlightFillColor},textStyle:{fill:s.cSliderTextFillColor,opacity:s.cSliderTextFillOpacity,fontSize:s.cSliderTextFontSize,lineHeight:s.cSliderTextLineHeight,fontWeight:s.cSliderTextFontWeight,stroke:s.cSliderTextBorderColor,lineWidth:s.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:s.scrollbarTrackFillColor,thumbColor:s.scrollbarThumbFillColor}},hover:{style:{thumbColor:s.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:s.labelFillColor,fontSize:s.labelFontSize,fontFamily:s.fontFamily,stroke:s.labelBorderColor,lineWidth:s.labelBorder},fillColorDark:s.labelFillColorDark,fillColorLight:s.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:s.innerLabelFillColor,fontSize:s.innerLabelFontSize,fontFamily:s.fontFamily,stroke:s.innerLabelBorderColor,lineWidth:s.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:s.overflowLabelFillColor,fontSize:s.overflowLabelFontSize,fontFamily:s.fontFamily,stroke:s.overflowLabelBorderColor,lineWidth:s.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:s.labelLineBorder}},autoRotate:!0}}}var ln={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Jo={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Xh=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Zh=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],pp=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],jh=function(s){s===void 0&&(s={});var a=s.paletteQualitative10,r=a===void 0?Xh:a,n=s.paletteQualitative20,l=n===void 0?Zh:n,u=s.brandColor,v=u===void 0?r[0]:u,p={backgroundColor:"transparent",brandColor:v,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:r,paletteQualitative20:l,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:pp,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:ln[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:ln[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Jo[85],axisTickLineBorderColor:ln[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ln[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:ln[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ln[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:ln[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:v,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ln[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ln[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ln[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:ln[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:ln[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ln[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ln[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ln[25],annotationArcBorderColor:ln[15],annotationArcBorder:1,annotationLineBorderColor:ln[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:ln[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ln[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ln[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:ln[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ln[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Jo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:ln[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Jo[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:ln[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:v,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Jo[100],pointBorderOpacity:1,pointActiveBorderColor:ln[100],pointSelectedBorder:2,pointSelectedBorderColor:ln[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:v,hollowPointBorderOpacity:.95,hollowPointFillColor:Jo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ln[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ln[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:v,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:v,areaFillOpacity:.25,areaActiveFillColor:v,areaActiveFillOpacity:.5,areaSelectedFillColor:v,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:v,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ln[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ln[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:v,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ln[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ln[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:v,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Jo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ln[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ln[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,I.pi)((0,I.pi)({},p),s)},iy=jh();function Cl(s){var a=s.styleSheet,r=a===void 0?{}:a,n=(0,I._T)(s,["styleSheet"]),l=jh(r);return(0,m.b$)({},Gh(l),n)}var gp=Cl({}),Fu={default:gp};function Ml(s){return(0,m.U2)(Fu,(0,m.vl)(s),Fu.default)}function yp(s,a){Fu[(0,m.vl)(s)]=Cl(a)}function $h(s,a,r){var n=r.translate(s),l=r.translate(a);return(0,m.vQ)(n,l)}function Kh(s,a){var r=a.coordinate,n=a.getXScale(),l=n.range,u=l[l.length-1],v=l[0],p=r.invert(s),y=p.x;return r.isPolar&&y>(1+u)/2&&(y=v),n.translate(n.invert(y))}function qh(s,a,r){var n=r.coordinate,l=r.getYScale(),u=l.field,v=n.invert(a),p=l.invert(v.y),y=(0,m.sE)(s,function(C){var T=C[ct];return T[u][0]<=p&&T[u][1]>=p});return y||s[s.length-1]}var mp=(0,m.HP)(function(s){if(s.isCategory)return 1;for(var a=s.values,r=a.length,n=s.translate(a[0]),l=n,u=0;u<r;u++){var v=a[u],p=s.translate(v);p<n&&(n=p),p>l&&(l=p)}return(l-n)/(r-1)});function xp(s,a,r){var n=a.getAttribute("position"),l=n.getFields(),u=a.scales,v=(0,m.mf)(r)||!r?l[0]:r,p=u[v],y=p?p.getText(s[v]):s[v]||v;return(0,m.mf)(r)?r(y,s):y}function bp(s){var a=(0,m.VO)(s.attributes);return(0,m.hX)(a,function(r){return(0,m.FX)(wt,r.type)})}function Jh(s){var a,r,n=bp(s),l;try{for(var u=(0,I.XA)(n),v=u.next();!v.done;v=u.next()){var p=v.value,y=p.getScale(p.type);if(y&&y.isLinear){var C=(0,m.U2)(s.scaleDefs,y.field),T=mh(y,C,p.type,s.type);if(T!=="cat"){l=y;break}}}}catch(B){a={error:B}}finally{try{v&&!v.done&&(r=u.return)&&r.call(u)}finally{if(a)throw a.error}}var _=s.getXScale(),L=s.getYScale();return l||L||_}function wp(s,a){var r=a.field,n=s[r];if((0,m.kJ)(n)){var l=n.map(function(u){return a.getText(u)});return l.join("-")}return a.getText(n)}function Sp(s,a){var r,n=a.getGroupScales();if(n.length&&(r=n[0]),r){var l=r.field;return r.getText(s[l])}var u=Jh(a);return Es(u)}function Cp(s,a,r){if(a.length===0)return null;var n=r.type,l=r.getXScale(),u=r.getYScale(),v=l.field,p=u.field,y=null;if(n==="heatmap"||n==="point"){for(var C=r.coordinate,T=C.invert(s),_=l.invert(T.x),L=u.invert(T.y),B=1/0,U=0;U<a.length;U++){var nt=a[U],pt=nt[ct],Mt=Math.pow(pt[v]-_,2)+Math.pow(pt[p]-L,2);Mt<B&&(B=Mt,y=nt)}return y}var Yt=a[0],Gt=a[a.length-1],te=Kh(s,r),Me=Yt[ct][v],Ne=Yt[ct][p],Ye=Gt[ct][v],Xe=u.isLinear&&(0,m.kJ)(Ne);if((0,m.kJ)(Me)){for(var U=0;U<a.length;U++){var Ke=a[U],pt=Ke[ct];if(l.translate(pt[v][0])<=te&&l.translate(pt[v][1])>=te)if(Xe)(0,m.kJ)(y)||(y=[]),y.push(Ke);else{y=Ke;break}}(0,m.kJ)(y)&&(y=qh(y,s,r))}else{var Qe=void 0;if(!l.isLinear&&l.type!=="timeCat"){for(var U=0;U<a.length;U++){var Ke=a[U],pt=Ke[ct];if($h(pt[v],te,l))if(Xe)(0,m.kJ)(y)||(y=[]),y.push(Ke);else{y=Ke;break}else l.translate(pt[v])<=te&&(Gt=Ke,Qe=a[U+1])}(0,m.kJ)(y)&&(y=qh(y,s,r))}else{if((te>l.translate(Ye)||te<l.translate(Me))&&(te>l.max||te<l.min))return null;for(var xr=0,mr=a.length-1,Lr=void 0;xr<=mr;){Lr=Math.floor((xr+mr)/2);var Zr=a[Lr][ct][v];if($h(Zr,te,l))return a[Lr];l.translate(Zr)<=l.translate(te)?(xr=Lr+1,Gt=a[Lr],Qe=a[Lr+1]):(mr===0&&(Gt=a[0]),mr=Lr-1)}}Gt&&Qe&&Math.abs(l.translate(Gt[ct][v])-te)>Math.abs(l.translate(Qe[ct][v])-te)&&(Gt=Qe)}var vn=mp(r.getXScale());return!y&&Math.abs(l.translate(Gt[ct][v])-te)<=vn/2&&(y=Gt),y}function ks(s,a,r,n){var l,u;r===void 0&&(r=""),n===void 0&&(n=!1);var v=s[ct],p=xp(v,a,r),y=a.tooltipOption,C=a.theme.defaultColor,T=[],_,L;function B(Ke,Qe){if(n||!(0,m.UM)(Qe)&&Qe!==""){var xr={title:p,data:v,mappingData:s,name:Ke,value:Qe,color:s.color||C,marker:!0};T.push(xr)}}if((0,m.Kn)(y)){var U=y.fields,nt=y.callback;if(nt){var pt=U.map(function(Ke){return s[ct][Ke]}),Mt=nt.apply(void 0,(0,I.ev)([],(0,I.CR)(pt),!1)),Yt=(0,I.pi)({data:s[ct],mappingData:s,title:p,color:s.color||C,marker:!0},Mt);T.push(Yt)}else{var Gt=a.scales;try{for(var te=(0,I.XA)(U),Me=te.next();!Me.done;Me=te.next()){var Ne=Me.value;if(!(0,m.UM)(v[Ne])){var Ye=Gt[Ne];_=Es(Ye),L=Ye.getText(v[Ne]),B(_,L)}}}catch(Ke){l={error:Ke}}finally{try{Me&&!Me.done&&(u=te.return)&&u.call(te)}finally{if(l)throw l.error}}}}else{var Xe=Jh(a);L=wp(v,Xe),_=Sp(v,a),B(_,L)}return T}function ku(s,a,r,n){var l,u,v=n.showNil,p=[],y=s.dataArray;if(!(0,m.xb)(y)){s.sort(y);try{for(var C=(0,I.XA)(y),T=C.next();!T.done;T=C.next()){var _=T.value,L=Cp(a,_,s);if(L){var B=s.getElementId(L),U=s.elementsMap[B];if(s.type==="heatmap"||U.visible){var nt=ks(L,s,r,v);nt.length&&p.push(nt)}}}}catch(pt){l={error:pt}}finally{try{T&&!T.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}}return p}function Qo(s,a,r,n){var l=n.showNil,u=[],v=s.container,p=v.getShape(a.x,a.y);if(p&&p.get("visible")&&p.get("origin")){var y=p.get("origin").mappingData,C=ks(y,s,r,l);C.length&&u.push(C)}return u}function Du(s,a,r){var n,l,u=[],v=s.geometries,p=r.shared,y=r.title,C=r.reversed;try{for(var T=(0,I.XA)(v),_=T.next();!_.done;_=T.next()){var L=_.value;if(L.visible&&L.tooltipOption!==!1){var B=L.type,U=void 0;["point","edge","polygon"].includes(B)?U=Qo(L,a,y,r):["area","line","path","heatmap"].includes(B)||p!==!1?U=ku(L,a,y,r):U=Qo(L,a,y,r),U.length&&(C&&U.reverse(),u.push(U))}}}catch(nt){n={error:nt}}finally{try{_&&!_.done&&(l=T.return)&&l.call(T)}finally{if(n)throw n.error}}return u}function Mp(s,a,r){var n,l,u=Du(s,a,r);try{for(var v=(0,I.XA)(s.views),p=v.next();!p.done;p=v.next()){var y=p.value;u=u.concat(Du(y,a,r))}}catch(C){n={error:C}}finally{try{p&&!p.done&&(l=v.return)&&l.call(v)}finally{if(n)throw n.error}}return u}function Qh(s){return!(0,m.hj)(s)&&!(0,m.kJ)(s)}function Co(s){s===void 0&&(s=0);var a=(0,m.kJ)(s)?s:[s];switch(a.length){case 0:a=[0,0,0,0];break;case 1:a=new Array(4).fill(a[0]);break;case 2:a=(0,I.ev)((0,I.ev)([],(0,I.CR)(a),!1),(0,I.CR)(a),!1);break;case 3:a=(0,I.ev)((0,I.ev)([],(0,I.CR)(a),!1),[a[1]],!1);break;default:a=a.slice(0,4);break}return a}var Ds={};function Mo(s,a){Ds[s]=a}function ay(s){delete Ds[s]}function Tp(){return Object.keys(Ds)}function Ap(s){return Ds[s]}var Ep=function(){function s(a){this.option=this.wrapperOption(a)}return s.prototype.update=function(a){return this.option=this.wrapperOption(a),this},s.prototype.hasAction=function(a){var r=this.option.actions;return(0,m.G)(r,function(n){return n[0]===a})},s.prototype.create=function(a,r){var n=this.option,l=n.type,u=n.cfg,v=l==="theta",p=(0,I.pi)({start:a,end:r},u),y=bv(v?"polar":l);return this.coordinate=new y(p),this.coordinate.type=l,v&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},s.prototype.adjust=function(a,r){return this.coordinate.update({start:a,end:r}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},s.prototype.rotate=function(a){return this.option.actions.push(["rotate",a]),this},s.prototype.reflect=function(a){return this.option.actions.push(["reflect",a]),this},s.prototype.scale=function(a,r){return this.option.actions.push(["scale",a,r]),this},s.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},s.prototype.getOption=function(){return this.option},s.prototype.getCoordinate=function(){return this.coordinate},s.prototype.wrapperOption=function(a){return(0,I.pi)({type:"rect",actions:[],cfg:{}},a)},s.prototype.execActions=function(a){var r=this,n=this.option.actions;(0,m.S6)(n,function(l){var u,v=(0,I.CR)(l),p=v[0],y=v.slice(1),C=(0,m.UM)(a)?!0:a.includes(p);C&&(u=r.coordinate)[p].apply(u,(0,I.ev)([],(0,I.CR)(y),!1))})},s}(),_p=Ep,Pp=function(){function s(a,r,n){this.view=a,this.gEvent=r,this.data=n,this.type=r.type}return s.fromData=function(a,r,n){return new s(a,new at.Event(r,{}),n)},Object.defineProperty(s.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),s.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},s.prototype.clone=function(){return new s(this.view,this.gEvent,this.data)},s}(),ei=Pp;function Ip(s){var a=s.getController("axis"),r=s.getController("legend"),n=s.getController("annotation"),l=s.getController("slider"),u=s.getController("scrollbar");[a,l,u,r,n].forEach(function(v){v&&v.layout()})}var Fp=function(){function s(){this.scales=new Map,this.syncScales=new Map}return s.prototype.createScale=function(a,r,n,l){var u=n,v=this.getScaleMeta(l);if(r.length===0&&v){var p=v.scale,y={type:p.type};p.isCategory&&(y.values=p.values),u=(0,m.b$)(y,v.scaleDef,n)}var C=Hd(a,r,u);return this.cacheScale(C,n,l),C},s.prototype.sync=function(a,r){var n=this;this.syncScales.forEach(function(l,u){var v=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,y=[];(0,m.S6)(l,function(C){var T=n.getScale(C);p=(0,m.hj)(T.max)?Math.max(p,T.max):p,v=(0,m.hj)(T.min)?Math.min(v,T.min):v,(0,m.S6)(T.values,function(_){y.includes(_)||y.push(_)})}),(0,m.S6)(l,function(C){var T=n.getScale(C);if(T.isContinuous)T.change({min:v,max:p,values:y});else if(T.isCategory){var _=T.range,L=n.getScaleMeta(C);y&&!(0,m.U2)(L,["scaleDef","range"])&&(_=xh((0,m.b$)({},T,{values:y}),a,r)),T.change({values:y,range:_})}})})},s.prototype.cacheScale=function(a,r,n){var l=this.getScaleMeta(n);l&&l.scale.type===a.type?(Gd(l.scale,a),l.scaleDef=r):(l={key:n,scale:a,scaleDef:r},this.scales.set(n,l));var u=this.getSyncKey(l);if(l.syncKey=u,this.removeFromSyncScales(n),u){var v=this.syncScales.get(u);v||(v=[],this.syncScales.set(u,v)),v.push(n)}},s.prototype.getScale=function(a){var r=this.getScaleMeta(a);if(!r){var n=(0,m.Z$)(a.split("-")),l=this.syncScales.get(n);l&&l.length&&(r=this.getScaleMeta(l[0]))}return r&&r.scale},s.prototype.deleteScale=function(a){var r=this.getScaleMeta(a);if(r){var n=r.syncKey,l=this.syncScales.get(n);if(l&&l.length){var u=l.indexOf(a);u!==-1&&l.splice(u,1)}}this.scales.delete(a)},s.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},s.prototype.removeFromSyncScales=function(a){var r=this;this.syncScales.forEach(function(n,l){var u=n.indexOf(a);if(u!==-1)return n.splice(u,1),n.length===0&&r.syncScales.delete(l),!1})},s.prototype.getSyncKey=function(a){var r=a.scale,n=a.scaleDef,l=r.field,u=(0,m.U2)(n,["sync"]);return u===!0?l:u===!1?void 0:u},s.prototype.getScaleMeta=function(a){return this.scales.get(a)},s}(),Tl=function(){function s(a,r,n,l){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=0),l===void 0&&(l=0),this.top=a,this.right=r,this.bottom=n,this.left=l}return s.instance=function(a,r,n,l){return a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=0),l===void 0&&(l=0),new s(a,r,n,l)},s.prototype.max=function(a){var r=(0,I.CR)(a,4),n=r[0],l=r[1],u=r[2],v=r[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,l),this.bottom=Math.max(this.bottom,u),this.left=Math.max(this.left,v),this},s.prototype.shrink=function(a){var r=(0,I.CR)(a,4),n=r[0],l=r[1],u=r[2],v=r[3];return this.top+=n,this.right+=l,this.bottom+=u,this.left+=v,this},s.prototype.inc=function(a,r){var n=a.width,l=a.height;switch(r){case Et.TOP:case Et.TOP_LEFT:case Et.TOP_RIGHT:this.top+=l;break;case Et.RIGHT:case Et.RIGHT_TOP:case Et.RIGHT_BOTTOM:this.right+=n;break;case Et.BOTTOM:case Et.BOTTOM_LEFT:case Et.BOTTOM_RIGHT:this.bottom+=l;break;case Et.LEFT:case Et.LEFT_TOP:case Et.LEFT_BOTTOM:this.left+=n;break;default:break}return this},s.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},s.prototype.clone=function(){return new(s.bind.apply(s,(0,I.ev)([void 0],(0,I.CR)(this.getPadding()),!1)))},s}();function tf(s){var a=s.padding;if(!Qh(a))return new(Tl.bind.apply(Tl,(0,I.ev)([void 0],(0,I.CR)(Co(a)),!1)));var r=s.viewBBox,n=new Tl,l=[],u=[],v=[];return(0,m.S6)(s.getComponents(),function(p){var y=p.type;y===Vt.AXIS?l.push(p):[Vt.LEGEND,Vt.SLIDER,Vt.SCROLLBAR].includes(y)?u.push(p):y!==Vt.GRID&&y!==Vt.TOOLTIP&&v.push(p)}),(0,m.S6)(l,function(p){var y=p.component,C=y.getLayoutBBox(),T=new ti(C.x,C.y,C.width,C.height),_=T.exceed(r);n.max(_)}),(0,m.S6)(u,function(p){var y=p.component,C=p.direction,T=y.getLayoutBBox(),_=y.get("padding"),L=new ti(T.x,T.y,T.width,T.height).expand(_);n.inc(L,C)}),(0,m.S6)(v,function(p){var y=p.component,C=p.direction,T=y.getLayoutBBox(),_=new ti(T.x,T.y,T.width,T.height);n.inc(_,C)}),n}function kp(s,a,r){var n=r.instance();a.forEach(function(l){l.autoPadding=n.max(l.autoPadding.getPadding())})}var ef=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,{visible:r.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Tp(),n.scalePool=new Fp,n.layoutFunc=Ip,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(Gt){var te=Gt.name;if(!te.includes(":")){var Me=n.createViewEvent(Gt);n.doPlotEvent(Me),n.emit(te,Me)}},n.onDelegateEvents=function(Gt){var te=Gt.name;if(te.includes(":")){var Me=n.createViewEvent(Gt);n.emit(te,Me)}};var l=r.id,u=l===void 0?(0,m.EL)("view"):l,v=r.parent,p=r.canvas,y=r.backgroundGroup,C=r.middleGroup,T=r.foregroundGroup,_=r.region,L=_===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:_,B=r.padding,U=r.appendPadding,nt=r.theme,pt=r.options,Mt=r.limitInPlot,Yt=r.syncViewPadding;return n.parent=v,n.canvas=p,n.backgroundGroup=y,n.middleGroup=C,n.foregroundGroup=T,n.region=L,n.padding=B,n.appendPadding=U,n.options=(0,I.pi)((0,I.pi)({},n.options),pt),n.limitInPlot=Mt,n.id=u,n.syncViewPadding=Yt,n.themeObject=(0,m.Kn)(nt)?(0,m.b$)({},Ml("default"),Cl(nt)):Ml(nt),n.init(),n}return a.prototype.setLayout=function(r){this.layoutFunc=r},a.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},a.prototype.render=function(r,n){r===void 0&&(r=!1),this.emit(Ct.BEFORE_RENDER,ei.fromData(this,Ct.BEFORE_RENDER,n)),this.paint(r),this.emit(Ct.AFTER_RENDER,ei.fromData(this,Ct.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},a.prototype.clear=function(){var r=this;this.emit(Ct.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,l=0;l<n.length;l++)n[l].clear(),n[l].container.remove(!0),n[l].labelsContainer.remove(!0);this.geometries=[];for(var u=this.controllers,l=0;l<u.length;l++)u[l].name==="annotation"?u[l].clear(!0):u[l].clear();this.createdScaleKeys.forEach(function(p,y){r.getRootView().scalePool.deleteScale(y)}),this.createdScaleKeys.clear();for(var v=this.views,l=0;l<v.length;l++)v[l].clear();this.emit(Ct.AFTER_CLEAR)},a.prototype.destroy=function(){this.emit(Ct.BEFORE_DESTROY);var r=this.interactions;(0,m.S6)(r,function(p){p&&p.destroy()}),this.clear();for(var n=this.controllers,l=0,u=n.length;l<u;l++){var v=n[l];v.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),s.prototype.destroy.call(this)},a.prototype.changeVisible=function(r){s.prototype.changeVisible.call(this,r);for(var n=this.geometries,l=0,u=n.length;l<u;l++){var v=n[l];v.changeVisible(r)}for(var p=this.controllers,l=0,u=p.length;l<u;l++){var y=p[l];y.changeVisible(r)}return this.foregroundGroup.set("visible",r),this.middleGroup.set("visible",r),this.backgroundGroup.set("visible",r),this.getCanvas().draw(),this},a.prototype.data=function(r){return(0,m.t8)(this.options,"data",r),this.isDataChanged=!0,this},a.prototype.source=function(r){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(r)},a.prototype.filter=function(r,n){return(0,m.mf)(n)?((0,m.t8)(this.options,["filters",r],n),this):(!n&&(0,m.U2)(this.options,["filters",r])&&delete this.options.filters[r],this)},a.prototype.axis=function(r,n){return(0,m.jn)(r)?(0,m.t8)(this.options,["axes"],r):(0,m.t8)(this.options,["axes",r],n),this},a.prototype.legend=function(r,n){return(0,m.jn)(r)?(0,m.t8)(this.options,["legends"],r):(0,m.HD)(r)?((0,m.t8)(this.options,["legends",r],n),(0,m.PO)(n)&&(n!=null&&n.selected)&&(0,m.t8)(this.options,["filters",r],function(l){var u;return(u=n==null?void 0:n.selected[l])!==null&&u!==void 0?u:!0})):(0,m.t8)(this.options,["legends"],r),this},a.prototype.scale=function(r,n){var l=this;return(0,m.HD)(r)?(0,m.t8)(this.options,["scales",r],n):(0,m.Kn)(r)&&(0,m.S6)(r,function(u,v){(0,m.t8)(l.options,["scales",v],u)}),this},a.prototype.tooltip=function(r){return(0,m.t8)(this.options,"tooltip",r),this},a.prototype.annotation=function(){return this.getController("annotation")},a.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},a.prototype.coordinate=function(r,n){return(0,m.HD)(r)?(0,m.t8)(this.options,"coordinate",{type:r,cfg:n}):(0,m.t8)(this.options,"coordinate",r),this.coordinateController.update(this.options.coordinate),this.coordinateController},a.prototype.coord=function(r,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(r,n)},a.prototype.facet=function(r,n){this.facetInstance&&this.facetInstance.destroy();var l=$d(r);if(!l)throw new Error("facet '".concat(r,"' is not exist!"));return this.facetInstance=new l(this,(0,I.pi)((0,I.pi)({},n),{type:r})),this},a.prototype.animate=function(r){return(0,m.t8)(this.options,"animate",r),this},a.prototype.updateOptions=function(r){return this.clear(),(0,m.CD)(this.options,r),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},a.prototype.option=function(r,n){if(a.prototype[r])throw new Error(`Can't use built in variable name "`.concat(r,'", please change another one.'));return(0,m.t8)(this.options,r,n),this},a.prototype.theme=function(r){return this.themeObject=(0,m.Kn)(r)?(0,m.b$)({},this.themeObject,Cl(r)):Ml(r),this},a.prototype.interaction=function(r,n){var l=this.interactions[r];l&&l.destroy();var u=Hh(r,this,n);return u&&(u.init(),this.interactions[r]=u),this},a.prototype.removeInteraction=function(r){var n=this.interactions[r];n&&(n.destroy(),this.interactions[r]=void 0)},a.prototype.changeData=function(r){this.isDataChanged=!0,this.emit(Ct.BEFORE_CHANGE_DATA,ei.fromData(this,Ct.BEFORE_CHANGE_DATA,null)),this.data(r),this.paint(!0);for(var n=this.views,l=0,u=n.length;l<u;l++){var v=n[l];v.changeData(r)}this.emit(Ct.AFTER_CHANGE_DATA,ei.fromData(this,Ct.AFTER_CHANGE_DATA,null))},a.prototype.createView=function(r){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,m.d9)(this.options.scales),axes:(0,m.d9)(this.options.axes),coordinate:(0,m.d9)(this.coordinateController.getOption()),tooltip:(0,m.d9)(this.options.tooltip),legends:(0,m.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},l=new a((0,I.pi)((0,I.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Rt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Rt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Rt.FORE}),theme:this.themeObject,padding:this.padding},r),{options:(0,I.pi)((0,I.pi)({},n),(0,m.U2)(r,"options",{}))}));return this.views.push(l),l},a.prototype.view=function(r){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(r)},a.prototype.removeView=function(r){var n=(0,m.Od)(this.views,function(l){return l===r})[0];return n&&n.destroy(),n},a.prototype.getCoordinate=function(){return this.coordinateInstance},a.prototype.getTheme=function(){return this.themeObject},a.prototype.getXScale=function(){var r=this.geometries[0];return r?r.getXScale():null},a.prototype.getYScales=function(){var r={},n=[];return this.geometries.forEach(function(l){var u=l.getYScale(),v=u.field;r[v]||(r[v]=!0,n.push(u))}),n},a.prototype.getScalesByDim=function(r){for(var n=this.geometries,l={},u=0,v=n.length;u<v;u++){var p=n[u],y=r==="x"?p.getXScale():p.getYScale();y&&!l[y.field]&&(l[y.field]=y)}return l},a.prototype.getScale=function(r,n){var l=n||this.getScaleKey(r);return this.getRootView().scalePool.getScale(l)},a.prototype.getScaleByField=function(r,n){return this.getScale(r,n)},a.prototype.getOptions=function(){return this.options},a.prototype.getData=function(){return this.filteredData},a.prototype.getOriginalData=function(){return this.options.data},a.prototype.getPadding=function(){return this.autoPadding.getPadding()},a.prototype.getGeometries=function(){return this.geometries},a.prototype.getElements=function(){return(0,m.u4)(this.geometries,function(r,n){return r.concat(n.getElements())},[])},a.prototype.getElementsBy=function(r){return this.getElements().filter(function(n){return r(n)})},a.prototype.getLayer=function(r){return r===Bt.BG?this.backgroundGroup:r===Bt.MID?this.middleGroup:r===Bt.FORE?this.foregroundGroup:this.foregroundGroup},a.prototype.isPointInPlot=function(r){return Vd(this.getCoordinate(),r)},a.prototype.getLegendAttributes=function(){return(0,m.xH)(this.geometries.map(function(r){return r.getGroupAttributes()}))},a.prototype.getGroupScales=function(){var r=this.geometries.map(function(n){return n.getGroupScales()});return Ea((0,m.xH)(r))},a.prototype.getCanvas=function(){return this.getRootView().canvas},a.prototype.getRootView=function(){for(var r=this;;){if(r.parent){r=r.parent;continue}break}return r},a.prototype.getXY=function(r){var n=this.getCoordinate(),l=this.getScalesByDim("x"),u=this.getScalesByDim("y"),v,p;if((0,m.S6)(r,function(y,C){l[C]&&(v=l[C].scale(y)),u[C]&&(p=u[C].scale(y))}),!(0,m.UM)(v)&&!(0,m.UM)(p))return n.convert({x:v,y:p})},a.prototype.getController=function(r){return(0,m.sE)(this.controllers,function(n){return n.name===r})},a.prototype.showTooltip=function(r){var n=this.getController("tooltip");return n&&n.showTooltip(r),this},a.prototype.hideTooltip=function(){var r=this.getController("tooltip");return r&&r.hideTooltip(),this},a.prototype.lockTooltip=function(){var r=this.getController("tooltip");return r&&r.lockTooltip(),this},a.prototype.unlockTooltip=function(){var r=this.getController("tooltip");return r&&r.unlockTooltip(),this},a.prototype.isTooltipLocked=function(){var r=this.getController("tooltip");return r&&r.isTooltipLocked()},a.prototype.getTooltipItems=function(r){var n=this.getController("tooltip");return n?n.getTooltipItems(r):[]},a.prototype.getSnapRecords=function(r){for(var n=this.geometries,l=[],u=0,v=n.length;u<v;u++){var p=n[u],y=p.dataArray;p.sort(y);for(var C=void 0,T=0,_=y.length;T<_;T++){var L=y[T];C=Cp(r,L,p),C&&l.push(C)}}for(var B=this.views,u=0,v=B.length;u<v;u++){var U=B[u],nt=U.getSnapRecords(r);l=l.concat(nt)}return l},a.prototype.getComponents=function(){for(var r=[],n=this.controllers,l=0,u=n.length;l<u;l++){var v=n[l];r=r.concat(v.getComponents())}return r},a.prototype.filterData=function(r){var n=this.options.filters;return(0,m.dp)(n)===0?r:(0,m.hX)(r,function(l,u){var v=Object.keys(n);return v.every(function(p){var y=n[p];return y(l[p],l,u)})})},a.prototype.filterFieldData=function(r,n){var l=this.options.filters,u=(0,m.U2)(l,r);return(0,m.o8)(u)?n:n.filter(function(v,p){return u(v[r],v,p)})},a.prototype.adjustCoordinate=function(){var r=this.getCoordinate(),n=r.start,l=r.end,u=this.coordinateBBox.bl,v=this.coordinateBBox.tr;if((0,m.Xy)(n,u)&&(0,m.Xy)(l,v)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(u,v)},a.prototype.paint=function(r){this.renderDataRecursive(r),this.syncScale(),this.emit(Ct.BEFORE_PAINT),this.renderPaddingRecursive(r),this.renderLayoutRecursive(r),this.renderBackgroundStyleShape(),this.renderPaintRecursive(r),this.emit(Ct.AFTER_PAINT),this.isDataChanged=!1},a.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var r=(0,m.U2)(this.themeObject,"background");if(r){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,l=n.x,u=n.y,v=n.width,p=n.height;this.backgroundStyleRectShape.attr({fill:r,x:l,y:u,width:v,height:p})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},a.prototype.renderPaddingRecursive=function(r){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(r),this.autoPadding=tf(this).shrink(Co(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(y){return y.name==="tooltip"});n.update();for(var l=this.views,u=0,v=l.length;u<v;u++){var p=l[u];p.renderPaddingRecursive(r)}},a.prototype.renderLayoutRecursive=function(r){var n=this.syncViewPadding===!0?kp:(0,m.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,Tl),this.views.forEach(function(y){y.coordinateBBox=y.viewBBox.shrink(y.autoPadding.getPadding()),y.adjustCoordinate()})),this.doLayout();for(var l=this.views,u=0,v=l.length;u<v;u++){var p=l[u];p.renderLayoutRecursive(r)}},a.prototype.renderPaintRecursive=function(r){var n=this.middleGroup;if(this.limitInPlot){var l=Su(this.coordinateInstance),u=l.type,v=l.attrs;n.setClip({type:u,attrs:v})}else n.setClip(void 0);this.paintGeometries(r),this.renderComponents(r);for(var p=this.views,y=0,C=p.length;y<C;y++){var T=p[y];T.renderPaintRecursive(r)}},a.prototype.createScale=function(r,n,l,u){var v=(0,m.U2)(this.options.scales,[r]),p=(0,I.pi)((0,I.pi)({},v),l);return this.parent?this.parent.createScale(r,n,p,u):this.scalePool.createScale(r,n,p,u)},a.prototype.renderDataRecursive=function(r){this.doFilterData(),this.createCoordinate(),this.initGeometries(r),this.renderFacet(r);for(var n=this.views,l=0,u=n.length;l<u;l++){var v=n[l];v.renderDataRecursive(r)}},a.prototype.calculateViewBBox=function(){var r,n,l,u;if(this.parent){var v=this.parent.coordinateBBox;r=v.x,n=v.y,l=v.width,u=v.height}else r=0,n=0,l=this.canvas.get("width"),u=this.canvas.get("height");var p=this.region,y=p.start,C=p.end,T=new ti(r+l*y.x,n+u*y.y,l*(C.x-y.x),u*(C.y-y.y));(!this.viewBBox||!this.viewBBox.isEqual(T))&&(this.viewBBox=new ti(r+l*y.x,n+u*y.y,l*(C.x-y.x),u*(C.y-y.y))),this.coordinateBBox=this.viewBBox},a.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},a.prototype.initComponentController=function(){for(var r=this.usedControllers,n=0,l=r.length;n<l;n++){var u=r[n],v=Ap(u);v&&this.controllers.push(new v(this))}},a.prototype.createViewEvent=function(r){var n=r.shape,l=r.name,u=n?n.get("origin"):null,v=new ei(this,r,u);return v.type=l,v},a.prototype.doPlotEvent=function(r){var n=r.type,l=r.x,u=r.y,v={x:l,y:u},p=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(p.includes(n)){var y=this.isPointInPlot(v),C=r.clone();if(y){var T="plot:".concat(n);C.type=T,this.emit(T,C),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!y?(n==="mousemove"&&(C.type=J.MOUSE_LEAVE,this.emit(J.MOUSE_LEAVE,C)),C.type=J.LEAVE,this.emit(J.LEAVE,C)):!this.isPreMouseInPlot&&y&&(n==="mousemove"&&(C.type=J.MOUSE_ENTER,this.emit(J.MOUSE_ENTER,C)),C.type=J.ENTER,this.emit(J.ENTER,C)),this.isPreMouseInPlot=y):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(C.type=J.MOUSE_LEAVE,this.emit(J.MOUSE_LEAVE,C)),C.type=J.LEAVE,this.emit(J.LEAVE,C),this.isPreMouseInPlot=!1)}},a.prototype.doFilterData=function(){var r=this.options.data;this.filteredData=this.filterData(r)},a.prototype.initGeometries=function(r){this.createOrUpdateScales();for(var n=this.getCoordinate(),l=(0,m.U2)(this.options,"scales",{}),u=this.geometries,v=0,p=u.length;v<p;v++){var y=u[v];y.scales=this.getGeometryScales();var C={coordinate:n,scaleDefs:l,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};r?y.update(C):y.init(C)}this.adjustScales()},a.prototype.createOrUpdateScales=function(){for(var r=this.getScaleFields(),n=this.getGroupedFields(),l=this.getOptions(),u=l.data,v=l.scales,p=v===void 0?{}:v,y=this.filteredData,C=0,T=r.length;C<T;C++){var _=r[C],L=p[_],B=this.getScaleKey(_);this.createScale(_,n.includes(_)?u:y,L,B),this.createdScaleKeys.set(B,!0)}},a.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},a.prototype.getGeometryScales=function(){for(var r=this.getScaleFields(),n={},l=0;l<r.length;l++){var u=r[l];n[u]=this.getScaleByField(u)}return n},a.prototype.getScaleFields=function(){for(var r=[],n=new Map,l=this.geometries,u=0;u<l.length;u++){var v=l[u],p=v.getScaleFields();Ea(p,r,n)}return r},a.prototype.getGroupedFields=function(){for(var r=[],n=new Map,l=this.geometries,u=0;u<l.length;u++){var v=l[u],p=v.getGroupFields();Ea(p,r,n)}return r},a.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},a.prototype.adjustCategoryScaleRange=function(){var r=this,n=(0,I.ev)([this.getXScale()],(0,I.CR)(this.getYScales()),!1).filter(function(v){return!!v}),l=this.getCoordinate(),u=this.options.scales;(0,m.S6)(n,function(v){var p=v.field,y=v.values,C=v.isCategory,T=v.isIdentity;(C||T)&&y&&!(0,m.U2)(u,[p,"range"])&&(v.range=xh(v,l,r.theme))})},a.prototype.initComponents=function(r){for(var n=this.controllers,l=0;l<n.length;l++){var u=n[l];r?u.update():(u.clear(),u.render())}},a.prototype.doLayout=function(){this.layoutFunc(this)},a.prototype.createCoordinate=function(){var r=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(r,n)},a.prototype.paintGeometries=function(r){for(var n=this.options.animate,l=this.getCoordinate(),u={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},v=this.geometries,p=0;p<v.length;p++){var y=v[p];y.coordinate=l,y.canvasRegion=u,n||y.animate(!1),y.paint(r)}},a.prototype.renderComponents=function(r){for(var n=this.getComponents(),l=0;l<n.length;l++){var u=n[l];u.component.render()}},a.prototype.renderFacet=function(r){this.facetInstance&&(r?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},a.prototype.initOptions=function(){var r=this,n=this.options,l=n.geometries,u=l===void 0?[]:l,v=n.interactions,p=v===void 0?[]:v,y=n.views,C=y===void 0?[]:y,T=n.annotations,_=T===void 0?[]:T,L=n.coordinate,B=n.events,U=n.facets;this.coordinateController?L&&this.coordinateController.update(L):this.coordinateController=new _p(L);for(var nt=0;nt<u.length;nt++){var pt=u[nt];this.createGeometry(pt)}for(var Mt=0;Mt<p.length;Mt++){var Yt=p[Mt],Gt=Yt.type,te=Yt.cfg;this.interaction(Gt,te)}for(var Me=0;Me<C.length;Me++){var Ne=C[Me];this.createView(Ne)}for(var Ye=this.getController("annotation"),Xe=0;Xe<_.length;Xe++){var Ke=_[Xe];Ye.annotation(Ke)}B&&(0,m.S6)(B,function(Qe,xr){r.on(xr,Qe)}),U&&(0,m.S6)(U,function(Qe){var xr=Qe.type,mr=(0,I._T)(Qe,["type"]);r.facet(xr,mr)})},a.prototype.createGeometry=function(r){var n=r.type,l=r.cfg,u=l===void 0?{}:l;if(this[n]){var v=this[n](u);(0,m.S6)(r,function(p,y){(0,m.mf)(v[y])&&v[y](p)})}},a.prototype.getScaleKey=function(r){return"".concat(this.id,"-").concat(r)},a}(ee);function _a(s,a){ef.prototype[s.toLowerCase()]=function(r){r===void 0&&(r={});var n=(0,I.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},r),l=new a(n);return this.geometries.push(l),l}}var Dp=ef,Lu=function(s){(0,I.ZT)(a,s);function a(r){var n=this,l=r.container,u=r.width,v=r.height,p=r.autoFit,y=p===void 0?!1:p,C=r.padding,T=r.appendPadding,_=r.renderer,L=_===void 0?"canvas":_,B=r.pixelRatio,U=r.localRefresh,nt=U===void 0?!0:U,pt=r.visible,Mt=pt===void 0?!0:pt,Yt=r.supportCSSTransform,Gt=Yt===void 0?!1:Yt,te=r.defaultInteractions,Me=te===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:te,Ne=r.options,Ye=r.limitInPlot,Xe=r.theme,Ke=r.syncViewPadding,Qe=(0,m.HD)(l)?document.getElementById(l):l,xr=Ae('<div style="position:relative;"></div>');Qe.appendChild(xr);var mr=Tt(Qe,y,u,v),Lr=ge(L),Zr=new Lr.Canvas((0,I.pi)({container:xr,pixelRatio:B,localRefresh:nt,supportCSSTransform:Gt},mr));return n=s.call(this,{parent:null,canvas:Zr,backgroundGroup:Zr.addGroup({zIndex:Rt.BG}),middleGroup:Zr.addGroup({zIndex:Rt.MID}),foregroundGroup:Zr.addGroup({zIndex:Rt.FORE}),padding:C,appendPadding:T,visible:Mt,options:Ne,limitInPlot:Ye,theme:Xe,syncViewPadding:Ke})||this,n.onResize=(0,m.Ds)(function(){n.forceFit()},300),n.ele=Qe,n.canvas=Zr,n.width=mr.width,n.height=mr.height,n.autoFit=y,n.localRefresh=nt,n.renderer=L,n.wrapperElement=xr,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(Me),n}return a.prototype.initDefaultInteractions=function(r){var n=this;(0,m.S6)(r,function(l){n.interaction(l)})},a.prototype.aria=function(r){var n="aria-label";r===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,r.label)},a.prototype.changeSize=function(r,n){return this.width===r&&this.height===n?this:(this.emit(Ct.BEFORE_CHANGE_SIZE),this.width=r,this.height=n,this.canvas.changeSize(r,n),this.render(!0),this.emit(Ct.AFTER_CHANGE_SIZE),this)},a.prototype.clear=function(){s.prototype.clear.call(this),this.aria(!1)},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),It(this.wrapperElement),this.wrapperElement=null},a.prototype.changeVisible=function(r){return s.prototype.changeVisible.call(this,r),this.wrapperElement.style.display=r?"":"none",this},a.prototype.forceFit=function(){if(!this.destroyed){var r=Tt(this.ele,!0,this.width,this.height),n=r.width,l=r.height;this.changeSize(n,l)}},a.prototype.updateCanvasStyle=function(){ye(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},a.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},a.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},a}(Dp),Ou=Lu,ts=function(){function s(a){this.visible=!0,this.components=[],this.view=a}return s.prototype.clear=function(a){(0,m.S6)(this.components,function(r){r.component.destroy()}),this.components=[]},s.prototype.destroy=function(){this.clear()},s.prototype.getComponents=function(){return this.components},s.prototype.changeVisible=function(a){this.visible!==a&&(this.components.forEach(function(r){a?r.component.show():r.component.hide()}),this.visible=a)},s}();function Lp(s){for(var a=[],r=function(l){var u=s[l],v=(0,m.sE)(a,function(p){return p.color===u.color&&p.name===u.name&&p.value===u.value&&p.title===u.title});v||a.push(u)},n=0;n<s.length;n++)r(n);return a}var Op=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.isLocked=!1,r}return Object.defineProperty(a.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.isVisible=function(){var r=this.view.getOptions().tooltip;return r!==!1},a.prototype.render=function(){},a.prototype.showTooltip=function(r){if(this.point=r,!!this.isVisible()){var n=this.view,l=this.getTooltipItems(r);if(!l.length){this.hideTooltip();return}var u=this.getTitle(l),v={x:l[0].x,y:l[0].y};n.emit("tooltip:show",ei.fromData(n,"tooltip:show",(0,I.pi)({items:l,title:u},r)));var p=this.getTooltipCfg(),y=p.follow,C=p.showMarkers,T=p.showCrosshairs,_=p.showContent,L=p.marker,B=this.items,U=this.title;if(!(0,m.Xy)(U,u)||!(0,m.Xy)(B,l)?(n.emit("tooltip:change",ei.fromData(n,"tooltip:change",(0,I.pi)({items:l,title:u},r))),((0,m.mf)(_)?_(l):_)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,m.CD)({},p,{items:this.getItemsAfterProcess(l),title:u},y?r:{})),this.tooltip.show()),C&&this.renderTooltipMarkers(l,L)):(this.tooltip&&y&&(this.tooltip.update(r),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=l,this.title=u,T){var nt=(0,m.U2)(p,["crosshairs","follow"],!1);this.renderCrosshairs(nt?r:v,p)}}},a.prototype.hideTooltip=function(){var r=this.getTooltipCfg().follow;if(!r){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var l=this.xCrosshair,u=this.yCrosshair;l&&l.hide(),u&&u.hide();var v=this.tooltip;v&&v.hide(),this.view.emit("tooltip:hide",ei.fromData(this.view,"tooltip:hide",{})),this.point=null},a.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},a.prototype.unlockTooltip=function(){this.isLocked=!1;var r=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(r.capture)},a.prototype.isTooltipLocked=function(){return this.isLocked},a.prototype.clear=function(){var r=this,n=r.tooltip,l=r.xCrosshair,u=r.yCrosshair,v=r.tooltipMarkersGroup;n&&(n.hide(),n.clear()),l&&l.clear(),u&&u.clear(),v&&v.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},a.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},a.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},a.prototype.changeVisible=function(r){if(this.visible!==r){var n=this,l=n.tooltip,u=n.tooltipMarkersGroup,v=n.xCrosshair,p=n.yCrosshair;r?(l&&l.show(),u&&u.show(),v&&v.show(),p&&p.show()):(l&&l.hide(),u&&u.hide(),v&&v.hide(),p&&p.hide()),this.visible=r}},a.prototype.getTooltipItems=function(r){var n,l,u,v,p,y,C=this.findItemsFromView(this.view,r);if(C.length){C=(0,m.xH)(C);try{for(var T=(0,I.XA)(C),_=T.next();!_.done;_=T.next()){var L=_.value;try{for(var B=(u=void 0,(0,I.XA)(L)),U=B.next();!U.done;U=B.next()){var nt=U.value,pt=nt.mappingData,Mt=pt.x,Yt=pt.y;nt.x=(0,m.kJ)(Mt)?Mt[Mt.length-1]:Mt,nt.y=(0,m.kJ)(Yt)?Yt[Yt.length-1]:Yt}}catch(Qe){u={error:Qe}}finally{try{U&&!U.done&&(v=B.return)&&v.call(B)}finally{if(u)throw u.error}}}}catch(Qe){n={error:Qe}}finally{try{_&&!_.done&&(l=T.return)&&l.call(T)}finally{if(n)throw n.error}}var Gt=this.getTooltipCfg().shared;if(Gt===!1&&C.length>1){var te=C[0],Me=Math.abs(r.y-te[0].y);try{for(var Ne=(0,I.XA)(C),Ye=Ne.next();!Ye.done;Ye=Ne.next()){var Xe=Ye.value,Ke=Math.abs(r.y-Xe[0].y);Ke<=Me&&(te=Xe,Me=Ke)}}catch(Qe){p={error:Qe}}finally{try{Ye&&!Ye.done&&(y=Ne.return)&&y.call(Ne)}finally{if(p)throw p.error}}C=[te]}return Lp((0,m.xH)(C))}return[]},a.prototype.layout=function(){},a.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var r=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}})}},a.prototype.isCursorEntered=function(r){if(this.tooltip){var n=this.tooltip.getContainer(),l=this.tooltip.get("capture");if(n&&l){var u=n.getBoundingClientRect(),v=u.x,p=u.y,y=u.width,C=u.height;return new ti(v,p,y,C).isPointIn(r)}}return!1},a.prototype.getTooltipCfg=function(){var r=this.view,n=r.getOptions().tooltip,l=this.processCustomContent(n),u=r.getTheme(),v=(0,m.U2)(u,["components","tooltip"],{}),p=(0,m.U2)(l,"enterable",v.enterable);return(0,m.b$)({},v,l,{capture:!!(p||this.isLocked)})},a.prototype.processCustomContent=function(r){if((0,m.jn)(r)||!(0,m.U2)(r,"customContent"))return r;var n=r.customContent,l=function(u,v){var p=n(u,v)||"";return(0,m.HD)(p)?'<div class="g2-tooltip">'+p+"</div>":p};return(0,I.pi)((0,I.pi)({},r),{customContent:l})},a.prototype.getTitle=function(r){var n=r[0].title||r[0].name;return this.title=n,n},a.prototype.renderTooltip=function(){var r=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}},l=this.getTooltipCfg(),u=new hl((0,I.pi)((0,I.pi)({parent:r.get("el").parentNode,region:n},l),{visible:!1,crosshairs:null}));u.init(),this.tooltip=u},a.prototype.renderTooltipMarkers=function(r,n){var l,u,v=this.getTooltipMarkersGroup(),p=this.view.getRootView(),y=p.limitInPlot;try{for(var C=(0,I.XA)(r),T=C.next();!T.done;T=C.next()){var _=T.value,L=_.x,B=_.y;if(y||v!=null&&v.getClip()){var U=Su(p.getCoordinate()),nt=U.type,pt=U.attrs;v==null||v.setClip({type:nt,attrs:pt})}else v==null||v.setClip(void 0);var Mt=this.view.getTheme(),Yt=(0,m.U2)(Mt,["components","tooltip","marker"],{}),Gt=(0,I.pi)((0,I.pi)({fill:_.color,symbol:"circle",shadowColor:_.color},(0,m.mf)(n)?(0,I.pi)((0,I.pi)({},Yt),n(_)):n),{x:L,y:B});v.addShape("marker",{attrs:Gt})}}catch(te){l={error:te}}finally{try{T&&!T.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}},a.prototype.renderCrosshairs=function(r,n){var l=(0,m.U2)(n,["crosshairs","type"],"x");l==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(r,n)):l==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(r,n)):l==="xy"&&(this.renderXCrosshairs(r,n),this.renderYCrosshairs(r,n))},a.prototype.renderXCrosshairs=function(r,n){var l=this.getViewWithGeometry(this.view).getCoordinate(),u,v;if(l.isRect)l.isTransposed?(u={x:l.start.x,y:r.y},v={x:l.end.x,y:r.y}):(u={x:r.x,y:l.end.y},v={x:r.x,y:l.start.y});else{var p=Zo(l,r),y=l.getCenter(),C=l.getRadius();v=Ln(y.x,y.y,C,p),u=y}var T=(0,m.b$)({start:u,end:v,container:this.getTooltipCrosshairsGroup()},(0,m.U2)(n,"crosshairs",{}),this.getCrosshairsText("x",r,n));delete T.type;var _=this.xCrosshair;_?_.update(T):(_=new th(T),_.init()),_.render(),_.show(),this.xCrosshair=_},a.prototype.renderYCrosshairs=function(r,n){var l=this.getViewWithGeometry(this.view).getCoordinate(),u,v;if(l.isRect){var p=void 0,y=void 0;l.isTransposed?(p={x:r.x,y:l.end.y},y={x:r.x,y:l.start.y}):(p={x:l.start.x,y:r.y},y={x:l.end.x,y:r.y}),u={start:p,end:y},v="Line"}else u={center:l.getCenter(),radius:As(l,r),startAngle:l.startAngle,endAngle:l.endAngle},v="Circle";u=(0,m.b$)({container:this.getTooltipCrosshairsGroup()},u,(0,m.U2)(n,"crosshairs",{}),this.getCrosshairsText("y",r,n)),delete u.type;var C=this.yCrosshair;C?l.isRect&&C.get("type")==="circle"||!l.isRect&&C.get("type")==="line"?(C=new jt[v](u),C.init()):C.update(u):(C=new jt[v](u),C.init()),C.render(),C.show(),this.yCrosshair=C},a.prototype.getCrosshairsText=function(r,n,l){var u=(0,m.U2)(l,["crosshairs","text"]),v=(0,m.U2)(l,["crosshairs","follow"]),p=this.items;if(u){var y=this.getViewWithGeometry(this.view),C=p[0],T=y.getXScale(),_=y.getYScales()[0],L=void 0,B=void 0;if(v){var U=this.view.getCoordinate().invert(n);L=T.invert(U.x),B=_.invert(U.y)}else L=C.data[T.field],B=C.data[_.field];var nt=r==="x"?L:B;return(0,m.mf)(u)?u=u(r,nt,p,n):u.content=nt,{text:u}}},a.prototype.getGuideGroup=function(){if(!this.guideGroup){var r=this.view.foregroundGroup;this.guideGroup=r.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},a.prototype.getTooltipMarkersGroup=function(){var r=this.tooltipMarkersGroup;return r&&!r.destroyed?(r.clear(),r.show()):(r=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),r.toFront(),this.tooltipMarkersGroup=r),r},a.prototype.getTooltipCrosshairsGroup=function(){var r=this.tooltipCrosshairsGroup;return r||(r=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),r.toBack(),this.tooltipCrosshairsGroup=r),r},a.prototype.findItemsFromView=function(r,n){var l,u;if(r.getOptions().tooltip===!1)return[];var v=this.getTooltipCfg(),p=Du(r,n,v);try{for(var y=(0,I.XA)(r.views),C=y.next();!C.done;C=y.next()){var T=C.value;p=p.concat(this.findItemsFromView(T,n))}}catch(_){l={error:_}}finally{try{C&&!C.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}return p},a.prototype.getViewWithGeometry=function(r){var n=this;return r.geometries.length?r:(0,m.sE)(r.views,function(l){return n.getViewWithGeometry(l)})},a.prototype.getItemsAfterProcess=function(r){var n=this.getTooltipCfg().customItems,l=n||function(u){return u};return l(r)},a}(ts),Ls=Op,rf={};function nf(s){return rf[s.toLowerCase()]}function ui(s,a){rf[s.toLowerCase()]=a}var To={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},af={interval:function(s){return{enter:{animation:s.isRect?s.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:s.isPolar&&s.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Bu={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(s){var a;return s.isRect?a=s.isTransposed?"grow-in-x":"grow-in-y":(a="grow-in-xy",s.isPolar&&s.isTransposed&&(a="wave-in")),{animation:a}},schema:function(s){var a;return s.isRect?a=s.isTransposed?"grow-in-x":"grow-in-y":a="grow-in-xy",{animation:a}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function of(s,a){return{delay:(0,m.mf)(s.delay)?s.delay(a):s.delay,easing:(0,m.mf)(s.easing)?s.easing(a):s.easing,duration:(0,m.mf)(s.duration)?s.duration(a):s.duration,callback:s.callback,repeat:s.repeat}}function sf(s,a,r){var n=af[s];return n&&((0,m.mf)(n)&&(n=n(a)),n=(0,m.b$)({},To,n),r)?n[r]:n}function es(s,a,r){var n=(0,m.U2)(s.get("origin"),"data",ct),l=a.animation,u=of(a,n);if(l){var v=nf(l);v&&v(s,u,r)}else s.animate(r.toAttrs,u)}function Bp(s,a,r,n,l){if(Bu[r]){var u=Bu[r](n),v=nf((0,m.U2)(u,"animation",""));if(v){var p=(0,I.pi)((0,I.pi)((0,I.pi)({},To.appear),u),a);s.stopAnimate(),v(s,p,{coordinate:n,minYPoint:l,toAttrs:null})}}}var Ru="element-background",Rp=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.labelShape=[],n.states=[];var l=r.shapeFactory,u=r.container,v=r.offscreenGroup,p=r.elementIndex,y=r.visible,C=y===void 0?!0:y;return n.shapeFactory=l,n.container=u,n.offscreenGroup=v,n.visible=C,n.elementIndex=p,n}return a.prototype.draw=function(r,n){n===void 0&&(n=!1),this.model=r,this.data=r.data,this.shapeType=this.getShapeType(r),this.drawShape(r,n),this.visible===!1&&this.changeVisible(!1)},a.prototype.update=function(r){var n=this,l=n.shapeFactory,u=n.shape;if(u){this.model=r,this.data=r.data,this.shapeType=this.getShapeType(r),this.setShapeInfo(u,r);var v=this.getOffscreenGroup(),p=l.drawShape(this.shapeType,r,v);p.cfg.data=this.data,p.cfg.origin=r,p.cfg.element=this,this.syncShapeStyle(u,p,this.getStates(),this.getAnimateCfg("update"))}},a.prototype.destroy=function(){var r=this,n=r.shapeFactory,l=r.shape;if(l){var u=this.getAnimateCfg("leave");u?es(l,u,{coordinate:n.coordinate,toAttrs:(0,I.pi)({},l.attr())}):l.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,s.prototype.destroy.call(this)},a.prototype.changeVisible=function(r){s.prototype.changeVisible.call(this,r),r?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},a.prototype.setState=function(r,n){var l=this,u=l.states,v=l.shapeFactory,p=l.model,y=l.shape,C=l.shapeType,T=u.indexOf(r);if(n){if(T>-1)return;u.push(r),(r==="active"||r==="selected")&&(y==null||y.toFront())}else{if(T===-1)return;if(u.splice(T,1),r==="active"||r==="selected"){var _=this.geometry,L=_.sortZIndex,B=_.zIndexReversed,U=B?this.geometry.elements.length-this.elementIndex:this.elementIndex;L?y.setZIndex(U):y.set("zIndex",U)}}var nt=v.drawShape(C,p,this.getOffscreenGroup());u.length?this.syncShapeStyle(y,nt,u,null):this.syncShapeStyle(y,nt,["reset"],null),nt.remove(!0);var pt={state:r,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",pt),Dc(this.shape,"statechange",pt)},a.prototype.clearStates=function(){var r=this,n=this.states;(0,m.S6)(n,function(l){r.setState(l,!1)}),this.states=[]},a.prototype.hasState=function(r){return this.states.includes(r)},a.prototype.getStates=function(){return this.states},a.prototype.getData=function(){return this.data},a.prototype.getModel=function(){return this.model},a.prototype.getBBox=function(){var r=this,n=r.shape,l=r.labelShape,u={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(u=n.getCanvasBBox()),l&&l.forEach(function(v){var p=v.getCanvasBBox();u.x=Math.min(p.x,u.x),u.y=Math.min(p.y,u.y),u.minX=Math.min(p.minX,u.minX),u.minY=Math.min(p.minY,u.minY),u.maxX=Math.max(p.maxX,u.maxX),u.maxY=Math.max(p.maxY,u.maxY)}),u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,u},a.prototype.getStatesStyle=function(){if(!this.statesStyle){var r=this,n=r.shapeType,l=r.geometry,u=r.shapeFactory,v=l.stateOption,p=u.defaultShapeType,y=u.theme[n]||u.theme[p];this.statesStyle=(0,m.b$)({},y,v)}return this.statesStyle},a.prototype.getStateStyle=function(r,n){var l=this.getStatesStyle(),u=(0,m.U2)(l,[r,"style"],{}),v=u[n]||u;return(0,m.mf)(v)?v(this):v},a.prototype.getAnimateCfg=function(r){var n=this,l=this.animate;if(l){var u=l[r];return u&&(0,I.pi)((0,I.pi)({},u),{callback:function(){var v;(0,m.mf)(u.callback)&&u.callback(),(v=n.geometry)===null||v===void 0||v.emit(lt.AFTER_DRAW_ANIMATE)}})}return null},a.prototype.drawShape=function(r,n){var l;n===void 0&&(n=!1);var u=this,v=u.shapeFactory,p=u.container,y=u.shapeType;if(this.shape=v.drawShape(y,r,p),this.shape){this.setShapeInfo(this.shape,r);var C=this.shape.cfg.name;C?(0,m.HD)(C)&&(this.shape.cfg.name=["element",C]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var T=n?"enter":"appear",_=this.getAnimateCfg(T);_&&((l=this.geometry)===null||l===void 0||l.emit(lt.BEFORE_DRAW_ANIMATE),es(this.shape,_,{coordinate:v.coordinate,toAttrs:(0,I.pi)({},this.shape.attr())}))}},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var r=this.container.getGroupBase();this.offscreenGroup=new r({})}return this.offscreenGroup},a.prototype.setShapeInfo=function(r,n){var l=this;if(r.cfg.origin=n,r.cfg.element=this,r.isGroup()){var u=r.get("children");u.forEach(function(v){l.setShapeInfo(v,n)})}},a.prototype.syncShapeStyle=function(r,n,l,u,v){var p=this,y;if(l===void 0&&(l=[]),v===void 0&&(v=0),!(!r||!n)){var C=r.get("clipShape"),T=n.get("clipShape");if(this.syncShapeStyle(C,T,l,u),r.isGroup())for(var _=r.get("children"),L=n.get("children"),B=0;B<_.length;B++)this.syncShapeStyle(_[B],L[B],l,u,v+B);else{if(!(0,m.xb)(l)&&!(0,m.Xy)(l,["reset"])){var U=r.get("name");(0,m.kJ)(U)&&(U=U[1]),(0,m.S6)(l,function(pt){if(n.get("name")!==Ru){var Mt=p.getStateStyle(pt,U||v);n.attr(Mt)}})}var nt=ph(r,n);this.animate?u?((y=this.geometry)===null||y===void 0||y.emit(lt.BEFORE_DRAW_ANIMATE),es(r,u,{coordinate:this.shapeFactory.coordinate,toAttrs:nt,shapeModel:this.model})):(0,m.xb)(l)?r.attr(nt):(r.stopAnimate(),r.animate(nt,{duration:300})):r.attr(nt)}}},a.prototype.getShapeType=function(r){var n=(0,m.U2)(r,"shape");return(0,m.kJ)(n)?n[0]:n},a}(ee),Nu=Rp,zu={},lf={};function Np(s){return zu[s.toLowerCase()]}function Os(s,a){zu[s.toLowerCase()]=a}function zp(s){return lf[s.toLowerCase()]}function _i(s,a){lf[s.toLowerCase()]=a}var Vp={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(s,a){var r=this.getShape(s);return r.getPoints?r.getPoints(a):this.getDefaultPoints(a)},getShape:function(s){var a=this[s]||this[this.defaultShapeType];return a.coordinate=this.coordinate,a},getDefaultPoints:function(){return[]},getDefaultStyle:function(s){return(0,m.U2)(s,[this.defaultShapeType,"default","style"],{})},getMarker:function(s,a){var r=this.getShape(s);if(!r.getMarker){var n=this.defaultShapeType;r=this.getShape(n)}var l=this.theme,u=(0,m.U2)(l,[s,"default"],{}),v=r.getMarker(a);return(0,m.b$)({},u,v)},drawShape:function(s,a,r){var n=this.getShape(s);return n.draw(a,r)}},Up={coordinate:null,parsePath:function(s){var a=this.coordinate,r=(0,Wo.tr)(s);return a.isPolar?r=np(a,r):r=rp(a,r),r},parsePoint:function(s){var a=this.coordinate;return a.convert(s)},parsePoints:function(s){var a=this.coordinate;return s.map(function(r){return a.convert(r)})},draw:function(s,a){}},Vu={};function qa(s,a){var r=(0,m.jC)(s),n=(0,I.pi)((0,I.pi)((0,I.pi)({},Vp),a),{geometryType:s});return Vu[r]=n,n}function wn(s,a,r){var n=(0,m.jC)(s),l=Vu[n],u=(0,I.pi)((0,I.pi)({},Up),r);return l[a]=u,u}function Uu(s){var a=(0,m.jC)(s);return Vu[a]}function uf(s,a,r){var n,l;if(r===void 0&&(r={}),!a)return[s];var u=(0,m.Ms)(s,a),v=[];if(a.length===1&&r[a[0]]){var p=r[a[0]];try{for(var y=(0,I.XA)(p),C=y.next();!C.done;C=y.next()){var T=C.value,_=u["_".concat(T)];_&&v.push(_)}}catch(U){n={error:U}}finally{try{C&&!C.done&&(l=y.return)&&l.call(y)}finally{if(n)throw n.error}}}else for(var L in u)if(u.hasOwnProperty(L)){var B=u[L];v.push(B)}return v}function Al(s,a){return(0,m.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(r){return!(0,m.Xy)(s[r],a[r])})}function Bs(s){return(0,m.kJ)(s)?s:s.split("*")}function El(s,a){for(var r=[],n=[],l=[],u=new Map,v=0;v<a.length;v++){var p=a[v];s[p]?n.push(p):r.push(p),u.set(p,!0)}return Object.keys(s).forEach(function(y){u.has(y)||l.push(y)}),{added:r,updated:n,removed:l}}var Wp=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var l=r.container,u=r.labelsContainer,v=r.coordinate,p=r.data,y=r.sortable,C=y===void 0?!1:y,T=r.visible,_=T===void 0?!0:T,L=r.theme,B=r.scales,U=B===void 0?{}:B,nt=r.scaleDefs,pt=nt===void 0?{}:nt,Mt=r.intervalPadding,Yt=r.dodgePadding,Gt=r.maxColumnWidth,te=r.minColumnWidth,Me=r.columnWidthRatio,Ne=r.roseWidthRatio,Ye=r.multiplePieWidthRatio,Xe=r.zIndexReversed,Ke=r.sortZIndex,Qe=r.useDeferredLabel;return n.container=l,n.labelsContainer=u,n.coordinate=v,n.data=p,n.sortable=C,n.visible=_,n.userTheme=L,n.scales=U,n.scaleDefs=pt,n.intervalPadding=Mt,n.dodgePadding=Yt,n.maxColumnWidth=Gt,n.minColumnWidth=te,n.columnWidthRatio=Me,n.roseWidthRatio=Ne,n.multiplePieWidthRatio=Ye,n.zIndexReversed=Xe,n.sortZIndex=Ke,n.useDeferredLabel=Qe?typeof Qe=="number"?Qe:1/0:null,n}return a.prototype.position=function(r){var n=r;(0,m.PO)(r)||(n={fields:Bs(r)});var l=(0,m.U2)(n,"fields");return l.length===1&&(l.unshift("1"),(0,m.t8)(n,"fields",l)),(0,m.t8)(this.attributeOption,"position",n),this},a.prototype.color=function(r,n){return this.createAttrOption("color",r,n),this},a.prototype.shape=function(r,n){return this.createAttrOption("shape",r,n),this},a.prototype.size=function(r,n){return this.createAttrOption("size",r,n),this},a.prototype.adjust=function(r){var n=r;return((0,m.HD)(r)||(0,m.PO)(r))&&(n=[r]),(0,m.S6)(n,function(l,u){(0,m.Kn)(l)||(n[u]={type:l})}),this.adjustOption=n,this},a.prototype.style=function(r,n){if((0,m.HD)(r)){var l=Bs(r);this.styleOption={fields:l,callback:n}}else{var u=r,l=u.fields,v=u.callback,p=u.cfg;l||v||p?this.styleOption=r:this.styleOption={cfg:r}}return this},a.prototype.tooltip=function(r,n){if((0,m.HD)(r)){var l=Bs(r);this.tooltipOption={fields:l,callback:n}}else this.tooltipOption=r;return this},a.prototype.animate=function(r){return this.animateOption=r,this},a.prototype.label=function(r,n,l){if((0,m.HD)(r)){var u={},v=Bs(r);u.fields=v,(0,m.mf)(n)?u.callback=n:(0,m.PO)(n)&&(u.cfg=n),l&&(u.cfg=l),this.labelOption=u}else this.labelOption=r;return this},a.prototype.state=function(r){return this.stateOption=r,this},a.prototype.customInfo=function(r){return this.customOption=r,this},a.prototype.init=function(r){r===void 0&&(r={}),this.setCfg(r),this.initAttributes(),this.processData(this.data),this.adjustScale()},a.prototype.update=function(r){r===void 0&&(r={});var n=r.data,l=r.isDataChanged,u=r.isCoordinateChanged,v=this,p=v.attributeOption,y=v.lastAttributeOption;(0,m.Xy)(p,y)?n&&(l||!(0,m.Xy)(n,this.data))?(this.setCfg(r),this.initAttributes(),this.processData(n)):this.setCfg(r):this.init(r),this.adjustScale(),this.isCoordinateChanged=u},a.prototype.paint=function(r){var n=this;r===void 0&&(r=!1),this.animateOption&&(this.animateOption=(0,m.b$)({},sf(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var l=this.getOffscreenGroup();l.clear();var u=this.beforeMappingData,v=this.beforeMapping(u);this.dataArray=new Array(v.length);for(var p=0;p<v.length;p++){var y=v[p];this.dataArray[p]=this.mapping(y)}if(this.updateElements(this.dataArray,r),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(r)){var C=this.container,T=this.type,_=this.coordinate,L=(0,m.U2)(this.animateOption,"appear"),B=this.getYScale(),U=_.convert({x:0,y:B.scale(this.getYMinValue())});Bp(C,L,T,_,U)}if(this.labelOption){var nt=this.useDeferredLabel,pt=function(){return n.renderLabels((0,m.xH)(n.dataArray),r)}.bind(this);if(typeof nt=="number"){var Mt=typeof nt=="number"&&nt!==1/0?nt:0;if(!window.requestIdleCallback)setTimeout(pt,Mt);else{var Yt=Mt&&Mt!==1/0?{timeout:Mt}:void 0;window.requestIdleCallback(pt,Yt)}}else pt()}this.lastAttributeOption=(0,I.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},a.prototype.clear=function(){var r=this,n=r.container,l=r.geometryLabel,u=r.offscreenGroup;n&&n.clear(),l&&l.clear(),u&&u.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},a.prototype.destroy=function(){this.clear();var r=this.container;r.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,s.prototype.destroy.call(this)},a.prototype.getGroupScales=function(){return this.groupScales},a.prototype.getAttribute=function(r){return this.attributes[r]},a.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},a.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},a.prototype.getGroupAttributes=function(){var r=[];return(0,m.S6)(this.attributes,function(n){wt.includes(n.type)&&r.push(n)}),r},a.prototype.getDefaultValue=function(r){var n,l=this.getAttribute(r);return l&&(0,m.xb)(l.scales)&&(n=l.values[0]),n},a.prototype.getAttributeValues=function(r,n){for(var l=[],u=r.scales,v=0,p=u.length;v<p;v++){var y=u[v],C=y.field;y.isIdentity?l.push(y.values):l.push(n[C])}return r.mapping.apply(r,(0,I.ev)([],(0,I.CR)(l),!1))},a.prototype.getAdjust=function(r){return this.adjusts[r]},a.prototype.getCoordinate=function(){return this.coordinate},a.prototype.getData=function(){return this.data},a.prototype.getShapeMarker=function(r,n){var l=this.getShapeFactory();return l.getMarker(r,n)},a.prototype.getElementsBy=function(r){return this.elements.filter(function(n){return r(n)})},a.prototype.getElements=function(){return this.elements},a.prototype.getElementId=function(r){r=(0,m.kJ)(r)?r[0]:r;var n=r[ct];if(this.idFields.length){for(var l=n[this.idFields[0]],u=1;u<this.idFields.length;u++)l+="-"+n[this.idFields[u]];return l}var v=this.type,p=this.getXScale(),y=this.getYScale(),C=p.field||"x",T=y.field||"y",_=n[T],L;p.type==="identity"?L=p.values[0]:L=n[C];var B;v==="interval"||v==="schema"?B="".concat(L):v==="line"||v==="area"||v==="path"?B=v:B="".concat(L,"-").concat(_);for(var U=this.groupScales,u=0,nt=U.length;u<nt;u++){var pt=U[u],Mt=pt.field;B="".concat(B,"-").concat(n[Mt])}var Yt=this.getAdjust("dodge");if(Yt){var Gt=Yt.dodgeBy;Gt&&(B="".concat(B,"-").concat(n[Gt]))}return this.getAdjust("jitter")&&(B="".concat(B,"-").concat(r.x,"-").concat(r.y)),B},a.prototype.getScaleFields=function(){var r=[],n=new Map,l=this,u=l.attributeOption,v=l.labelOption,p=l.tooltipOption;for(var y in u)if(u.hasOwnProperty(y)){var C=u[y];C.fields?Ea(C.fields,r,n):C.values&&Ea(C.values,r,n)}return v&&v.fields&&Ea(v.fields,r,n),(0,m.Kn)(p)&&p.fields&&Ea(p.fields,r,n),r},a.prototype.changeVisible=function(r){s.prototype.changeVisible.call(this,r);for(var n=this.elements,l=0,u=n.length;l<u;l++){var v=n[l];v.changeVisible(r)}r?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},a.prototype.getFields=function(){var r=new Map,n=[];return Object.values(this.attributeOption).forEach(function(l){var u=(l==null?void 0:l.fields)||[];u.forEach(function(v){r.has(v)||n.push(v),r.set(v,!0)})},[]),n},a.prototype.getGroupFields=function(){for(var r=[],n=new Map,l=0,u=wt.length;l<u;l++){var v=wt[l],p=this.attributeOption[v];p&&p.fields&&Ea(p.fields,r,n)}return r},a.prototype.getXYFields=function(){var r=(0,I.CR)(this.attributeOption.position.fields,2),n=r[0],l=r[1];return[n,l]},a.prototype.getXField=function(){return(0,m.U2)(this.getXYFields(),[0])},a.prototype.getYField=function(){return(0,m.U2)(this.getXYFields(),[1])},a.prototype.getShapes=function(){return this.elements.map(function(r){return r.shape})},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var r=this.container.getGroupBase();this.offscreenGroup=new r({})}return this.offscreenGroup},a.prototype.sort=function(r){if(!this.hasSorted)for(var n=this.getXScale(),l=n.field,u=0;u<r.length;u++){var v=r[u];v.sort(function(p,y){return n.translate(p[ct][l])-n.translate(y[ct][l])})}this.hasSorted=!0},a.prototype.adjustScale=function(){var r=this.getYScale();r&&this.getAdjust("stack")&&this.updateStackRange(r,this.beforeMappingData)},a.prototype.getShapeFactory=function(){var r=this.shapeType;if(Uu(r))return this.shapeFactory||(this.shapeFactory=(0,m.d9)(Uu(r))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[r]||{},this.shapeFactory},a.prototype.createShapePointsCfg=function(r){var n=this.getXScale(),l=this.getYScale(),u=this.normalizeValues(r[n.field],n),v;return l?v=this.normalizeValues(r[l.field],l):v=r.y?r.y:.1,{x:u,y:v,y0:l?l.scale(this.getYMinValue()):void 0}},a.prototype.createElement=function(r,n,l){l===void 0&&(l=!1);var u=this.container,v=this.getDrawCfg(r),p=this.getShapeFactory(),y=new Nu({shapeFactory:p,container:u,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return y.animate=this.animateOption,y.geometry=this,y.draw(v,l),y},a.prototype.getDrawCfg=function(r){var n=r[ct],l={mappingData:r,data:n,x:r.x,y:r.y,color:r.color,size:r.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},u=r.shape;!u&&this.getShapeFactory()&&(u=this.getShapeFactory().defaultShapeType),l.shape=u;var v=this.theme.geometries[this.shapeType];l.defaultStyle=(0,m.U2)(v,[u,"default"],{}).style,!l.defaultStyle&&this.getShapeFactory()&&(l.defaultStyle=this.getShapeFactory().getDefaultStyle(v));var p=this.styleOption;return p&&(l.style=this.getStyleCfg(p,n)),this.generatePoints&&(l.points=r.points,l.nextPoints=r.nextPoints),l},a.prototype.updateElements=function(r,n){var l,u,v,p,y,C;n===void 0&&(n=!1);for(var T=new Map,_=[],L=new Map,B=0,U=0;U<r.length;U++)for(var nt=r[U],pt=0;pt<nt.length;pt++){var Mt=nt[pt],Yt=this.getElementId(Mt),Gt=T.has(Yt)?"".concat(Yt,"-").concat(U,"-").concat(pt):Yt;_.push(Gt),T.set(Gt,Mt),L.set(Gt,B),B++}this.elements=new Array(B);var te=El(this.lastElementsMap,_),Me=te.added,Ne=te.updated,Ye=te.removed;try{for(var Xe=(0,I.XA)(Me),Ke=Xe.next();!Ke.done;Ke=Xe.next()){var Yt=Ke.value,Mt=T.get(Yt),U=L.get(Yt),Qe=this.createElement(Mt,U,n);this.elements[U]=Qe,this.elementsMap[Yt]=Qe,Qe.shape&&Qe.shape.set("zIndex",this.zIndexReversed?this.elements.length-U:U)}}catch(jn){l={error:jn}}finally{try{Ke&&!Ke.done&&(u=Xe.return)&&u.call(Xe)}finally{if(l)throw l.error}}try{for(var xr=(0,I.XA)(Ne),mr=xr.next();!mr.done;mr=xr.next()){var Yt=mr.value,Qe=this.lastElementsMap[Yt],Mt=T.get(Yt),Lr=this.getDrawCfg(Mt),Zr=Qe.getModel(),U=L.get(Yt);(this.isCoordinateChanged||Al(Lr,Zr))&&(Qe.animate=this.animateOption,Qe.update(Lr)),this.elements[U]=Qe,this.elementsMap[Yt]=Qe,Qe.shape&&Qe.shape.set("zIndex",this.zIndexReversed?this.elements.length-U:U)}}catch(jn){v={error:jn}}finally{try{mr&&!mr.done&&(p=xr.return)&&p.call(xr)}finally{if(v)throw v.error}}this.container&&this.container.sort();try{for(var vn=(0,I.XA)(Ye),hi=vn.next();!hi.done;hi=vn.next()){var Yt=hi.value,Qe=this.lastElementsMap[Yt];Qe.animate=this.animateOption,Qe.destroy()}}catch(jn){y={error:jn}}finally{try{hi&&!hi.done&&(C=vn.return)&&C.call(vn)}finally{if(y)throw y.error}}},a.prototype.getLabelType=function(){var r=this,n=r.labelOption,l=r.coordinate,u=r.type,v=l.type,p=l.isTransposed,y=(0,m.U2)(n,["cfg","type"]);return y||(v==="polar"?y=p?"pie":"polar":v==="theta"?y="pie":u==="interval"||u==="polygon"?y="interval":y="base"),y},a.prototype.getYMinValue=function(){var r=this.getYScale(),n=r.min,l=r.max,u;return n>=0?u=n:l<=0?u=l:u=0,u},a.prototype.createAttrOption=function(r,n,l){if((0,m.UM)(n)||(0,m.Kn)(n))(0,m.Kn)(n)&&(0,m.Xy)(Object.keys(n),["values"])?(0,m.t8)(this.attributeOption,r,{fields:n.values}):(0,m.t8)(this.attributeOption,r,n);else{var u={};(0,m.hj)(n)?u.values=[n]:u.fields=Bs(n),l&&((0,m.mf)(l)?u.callback=l:u.values=l),(0,m.t8)(this.attributeOption,r,u)}},a.prototype.initAttributes=function(){var r=this,n=this,l=n.attributes,u=n.attributeOption,v=n.theme,p=n.shapeType;this.groupScales=[];var y={},C=function(L){if(u.hasOwnProperty(L)){var B=u[L];if(!B)return{value:void 0};var U=(0,I.pi)({},B),nt=U.callback,pt=U.values,Mt=U.fields,Yt=Mt===void 0?[]:Mt,Gt=Yt.map(function(Me){var Ne=r.scales[Me];if(!y[Me]&&wt.includes(L)){var Ye=mh(Ne,(0,m.U2)(r.scaleDefs,Me),L,r.type);Ye==="cat"&&(r.groupScales.push(Ne),y[Me]=!0)}return Ne});U.scales=Gt,L!=="position"&&Gt.length===1&&Gt[0].type==="identity"?U.values=Gt[0].values:!nt&&!pt&&(L==="size"?U.values=v.sizes:L==="shape"?U.values=v.shapes[p]||[]:L==="color"&&(Gt.length?U.values=Gt[0].values.length<=10?v.colors10:v.colors20:U.values=v.colors10));var te=aa(L);l[L]=new te(U)}};for(var T in u){var _=C(T);if(typeof _=="object")return _.value}},a.prototype.processData=function(r){var n,l;this.hasSorted=!1;for(var u=this.getAttribute("position").scales,v=u.filter(function(Ye){return Ye.isCategory}),p=this.groupData(r),y=[],C=0,T=p.length;C<T;C++){for(var _=p[C],L=[],B=0,U=_.length;B<U;B++){var nt=_[B],pt={};for(var Mt in nt)pt[Mt]=nt[Mt];pt[ct]=nt;try{for(var Yt=(n=void 0,(0,I.XA)(v)),Gt=Yt.next();!Gt.done;Gt=Yt.next()){var te=Gt.value,Me=te.field;pt[Me]=te.translate(pt[Me])}}catch(Ye){n={error:Ye}}finally{try{Gt&&!Gt.done&&(l=Yt.return)&&l.call(Yt)}finally{if(n)throw n.error}}L.push(pt)}y.push(L)}var Ne=this.adjustData(y);return this.beforeMappingData=Ne,Ne},a.prototype.adjustData=function(r){var n=this.adjustOption,l=this,u=l.intervalPadding,v=l.dodgePadding,p=l.theme,y=this.maxColumnWidth||p.maxColumnWidth,C=this.minColumnWidth||p.minColumnWidth,T=this.columnWidthRatio||p.columnWidthRatio,_=r;if(n){var L=this.getXScale(),B=this.getYScale(),U=L.field,nt=B?B.field:null,pt=Ts(this.coordinate),Mt=L.values.length,Yt=this.getAttribute("size"),Gt=void 0;Yt&&(Gt=Yt.values[0]);for(var te=0,Me=n.length;te<Me;te++){var Ne=n[te],Ye=(0,I.pi)({xField:U,yField:nt,intervalPadding:u,dodgePadding:v,xDimensionLength:pt,groupNum:Mt,defaultSize:Gt,maxColumnWidth:y,minColumnWidth:C,columnWidthRatio:T},Ne),Xe=Ne.type;if(Xe==="dodge"){var Ke=[];if(L.isCategory||L.type==="identity")Ke.push("x");else if(!B)Ke.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Ye.adjustNames=Ke,Ye.dodgeRatio=T}else if(Xe==="stack"){var Qe=this.coordinate;if(!B){Ye.height=Qe.getHeight();var xr=this.getDefaultValue("size")||3;Ye.size=xr}!Qe.isTransposed&&(0,m.UM)(Ye.reverseOrder)&&(Ye.reverseOrder=!0)}var mr=Kt(Xe);Ye.dimValuesMap={},L&&L.values&&(Ye.dimValuesMap[L.field]=L.values.map(function(Zr){return L.translate(Zr)}));var Lr=new mr(Ye);_=Lr.process(_),this.adjusts[Xe]=Lr}}return _},a.prototype.groupData=function(r){for(var n=this.getGroupScales(),l=this.scaleDefs,u={},v=[],p=0;p<n.length;p++){var y=n[p],C=y.field;v.push(C),(0,m.U2)(l,[C,"values"])&&(u[C]=l[C].values)}return uf(r,v,u)},a.prototype.updateStackRange=function(r,n){for(var l=(0,m.xH)(n),u=r.field,v=r.min,p=r.max,y=0;y<l.length;y++){var C=l[y],T=Math.min.apply(null,C[u]),_=Math.max.apply(null,C[u]);T<v&&(v=T),_>p&&(p=_)}var L=this.scaleDefs,B={};v<r.min&&!(0,m.U2)(L,[u,"min"])&&(B.min=v),p>r.max&&!(0,m.U2)(L,[u,"max"])&&(B.max=p),r.change(B)},a.prototype.beforeMapping=function(r){var n=r;if(this.sortable&&this.sort(n),this.generatePoints)for(var l=0,u=n.length;l<u;l++){var v=n[l];this.generateShapePoints(v);var p=n[l+1];p&&(this.generateShapePoints(p),v[0].nextPoints=p[0].points)}return n},a.prototype.generateShapePoints=function(r){for(var n=this.getShapeFactory(),l=this.getAttribute("shape"),u=0;u<r.length;u++){var v=r[u],p=this.createShapePointsCfg(v),y=l?this.getAttributeValues(l,v):null,C=n.getShapePoints(y,p);v.points=C}},a.prototype.normalizeValues=function(r,n){var l=[];if((0,m.kJ)(r))for(var u=0;u<r.length;u++){var v=r[u];l.push(n.scale(v))}else l=n.scale(r);return l},a.prototype.mapping=function(r){for(var n=this.attributes,l=[],u=0;u<r.length;u++){var v=r[u],p={_origin:v[ct],points:v.points,nextPoints:v.nextPoints};for(var y in n)if(n.hasOwnProperty(y)){var C=n[y],T=C.names,_=this.getAttributeValues(C,v);if(T.length>1)for(var L=0;L<_.length;L+=1){var B=_[L],U=T[L];p[U]=(0,m.kJ)(B)&&B.length===1?B[0]:B}else p[T[0]]=_.length===1?_[0]:_}this.convertPoint(p),l.push(p)}return l},a.prototype.convertPoint=function(r){var n=r.x,l=r.y,u,v,p,y=this.coordinate;if((0,m.kJ)(n)&&(0,m.kJ)(l)){u=[],v=[];for(var C=0,T=0,_=n.length,L=l.length;C<_&&T<L;C+=1,T+=1)p=y.convert({x:n[C],y:l[T]}),u.push(p.x),v.push(p.y)}else if((0,m.kJ)(l)){v=[];for(var B=0;B<l.length;B++){var U=l[B];p=y.convert({x:n,y:U}),u&&u!==p.x?((0,m.kJ)(u)||(u=[u]),u.push(p.x)):u=p.x,v.push(p.y)}}else if((0,m.kJ)(n)){u=[];for(var B=0;B<n.length;B++){var nt=n[B];p=y.convert({x:nt,y:l}),v&&v!==p.y?((0,m.kJ)(v)||(v=[v]),v.push(p.y)):v=p.y,u.push(p.x)}}else{var pt=y.convert({x:n,y:l});u=pt.x,v=pt.y}r.x=u,r.y=v},a.prototype.getStyleCfg=function(r,n){var l=r.fields,u=l===void 0?[]:l,v=r.callback,p=r.cfg;if(p)return p;var y=u.map(function(C){return n[C]});return v.apply(void 0,(0,I.ev)([],(0,I.CR)(y),!1))},a.prototype.setCfg=function(r){var n=this,l=r.coordinate,u=r.data,v=r.theme,p=r.scaleDefs;l&&(this.coordinate=l),u&&(this.data=u),p&&(this.scaleDefs=p,this.idFields=[],(0,m.S6)(p,function(y,C){y&&y.key&&n.idFields.push(C)})),v&&(this.theme=this.userTheme?(0,m.b$)({},v,this.userTheme):v)},a.prototype.renderLabels=function(r,n){return n===void 0&&(n=!1),(0,I.mG)(this,void 0,void 0,function(){var l,u,v,p,y,C,T,_,L,B,U,nt,pt=this;return(0,I.Jh)(this,function(Mt){switch(Mt.label){case 0:return l=this.geometryLabel,this.emit(lt.BEFORE_RENDER_LABEL),l||(u=this.getLabelType(),v=Np(u),l=new v(this),this.geometryLabel=l),[4,l.render(r,n)];case 1:Mt.sent(),p=l.labelsRenderer.shapesMap,y=new Map,(0,m.S6)(p,function(Yt,Gt){for(var te=Yt.getChildren()||[],Me=0;Me<te.length;Me++){var Ne=te[Me],Ye=pt.elementsMap[Ne.get("elementId")||Gt.split(" ")[0]];if(Ye){Ne.cfg.name=["element","label"],Ne.cfg.element=Ye;var Xe=y.get(Ye)||new Set;Xe.add(Yt),y.set(Ye,Xe)}}});try{for(C=(0,I.XA)(y.entries()),T=C.next();!T.done;T=C.next())_=(0,I.CR)(T.value,2),L=_[0],B=_[1],L.labelShape=(0,I.ev)([],(0,I.CR)(B),!1)}catch(Yt){U={error:Yt}}finally{try{T&&!T.done&&(nt=C.return)&&nt.call(C)}finally{if(U)throw U.error}}return this.emit(lt.AFTER_RENDER_LABEL),[2]}})})},a.prototype.canDoGroupAnimation=function(r){return!r&&this.animateOption&&((0,m.U2)(this.animateOption,"appear")===void 0||(0,m.U2)(this.animateOption,"appear")&&(0,m.U2)(this.animateOption,["appear","animation"])===void 0)},a}(ee),Ja=Wp,_l=gn.vs;function Rs(s,a,r){var n=_l(s.getMatrix(),[["t",a,r]]);s.setMatrix(n)}function Yp(s,a){var r=s.attr(),n=r.x,l=r.y,u=_l(s.getMatrix(),[["t",-n,-l],["r",a],["t",n,l]]);return u}function Wu(s,a){var r=Yp(s,a);s.setMatrix(r)}function oy(){return[1,0,0,0,1,0,0,0,1]}function sy(s,a){var r=s.getBBox(),n=(r.minX+r.maxX)/2,l=(r.minY+r.maxY)/2;s.applyToMatrix([n,l,1]);var u=_l(s.getMatrix(),[["t",-n,-l],["s",a,a],["t",n,l]]);s.setMatrix(u)}function ci(s){return s.find(function(a){return a.get("type")==="text"})}function Pl(s,a,r){r===void 0&&(r=[0,0,0,0]);var n=s&&s.getChildren()[0];if(n){var l=n.clone();a!=null&&a.rotate&&Wu(l,-a.rotate);var u=l.getCanvasBBox(),v=u.x,p=u.y,y=u.width,C=u.height;l.destroy();var T=r;return(0,m.UM)(T)?T=[2,2,2,2]:(0,m.hj)(T)&&(T=new Array(4).fill(T)),{x:v-T[3],y:p-T[0],width:y+T[1]+T[3],height:C+T[0]+T[2],rotation:(a==null?void 0:a.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Hp(s,a,r){r===void 0&&(r=0);var n=Math.max(0,Math.min(s.x+s.width+r,a.x+a.width+r)-Math.max(s.x-r,a.x-r)),l=Math.max(0,Math.min(s.y+s.height+r,a.y+a.height+r)-Math.max(s.y-r,a.y-r));return n*l}function Il(s,a){var r=s.getBBox();return(0,m.G)(a,function(n){var l=n.getBBox();return Hp(r,l,2)>0})}function cf(s,a,r){var n=r.data,l=r.origin,u=r.animateCfg,v=r.coordinate,p=(0,m.U2)(u,"update");s.set("data",n),s.set("origin",l),s.set("animateCfg",u),s.set("coordinate",v),s.set("visible",a.get("visible")),(s.getChildren()||[]).forEach(function(y,C){var T=a.getChildByIndex(C);if(!T)s.removeChild(y),y.remove(!0);else{y.set("data",n),y.set("origin",l),y.set("animateCfg",u),y.set("coordinate",v);var _=ph(y,T);p?es(y,p,{toAttrs:_,coordinate:v}):y.attr(_),T.isGroup()&&cf(y,T,r)}}),(0,m.S6)(a.getChildren(),function(y,C){C>=s.getCount()&&(y.destroyed||s.add(y))})}var Gp=function(){function s(a){this.shapesMap={};var r=a.layout,n=a.container;this.layout=r,this.container=n}return s.prototype.render=function(a,r,n){return n===void 0&&(n=!1),(0,I.mG)(this,void 0,void 0,function(){var l,u,v,p,y,C,T,_,L=this;return(0,I.Jh)(this,function(B){switch(B.label){case 0:if(l={},u=this.createOffscreenGroup(),!a.length)return[3,2];try{for(v=(0,I.XA)(a),p=v.next();!p.done;p=v.next())y=p.value,y&&(l[y.id]=this.renderLabel(y,u))}catch(U){T={error:U}}finally{try{p&&!p.done&&(_=v.return)&&_.call(v)}finally{if(T)throw T.error}}return[4,this.doLayout(a,r,l)];case 1:B.sent(),this.renderLabelLine(a,l),this.renderLabelBackground(a,l),this.adjustLabel(a,l),B.label=2;case 2:return C=this.shapesMap,(0,m.S6)(l,function(U,nt){if(U.destroyed)delete l[nt];else{if(C[nt]){var pt=U.get("data"),Mt=U.get("origin"),Yt=U.get("coordinate"),Gt=U.get("animateCfg"),te=C[nt];cf(te,l[nt],{data:pt,origin:Mt,animateCfg:Gt,coordinate:Yt}),l[nt]=te}else{if(L.container.destroyed)return;L.container.add(U);var Me=(0,m.U2)(U.get("animateCfg"),n?"enter":"appear");Me&&es(U,Me,{toAttrs:(0,I.pi)({},U.attr()),coordinate:U.get("coordinate")})}delete C[nt]}}),(0,m.S6)(C,function(U){var nt=(0,m.U2)(U.get("animateCfg"),"leave");nt?es(U,nt,{toAttrs:null,coordinate:U.get("coordinate")}):U.remove(!0)}),this.shapesMap=l,u.destroy(),[2]}})})},s.prototype.clear=function(){this.container.clear(),this.shapesMap={}},s.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},s.prototype.renderLabel=function(a,r){var n=a.id,l=a.elementId,u=a.data,v=a.mappingData,p=a.coordinate,y=a.animate,C=a.content,T=a.capture,_={id:n,elementId:l,capture:T,data:u,origin:(0,I.pi)((0,I.pi)({},v),{data:v[ct]}),coordinate:p},L=r.addGroup((0,I.pi)({name:"label",animateCfg:this.animate===!1||y===null||y===!1?!1:(0,m.b$)({},this.animate,y)},_)),B;if(C.isGroup&&C.isGroup()||C.isShape&&C.isShape()){var U=C.getCanvasBBox(),nt=U.width,pt=U.height,Mt=(0,m.U2)(a,"textAlign","left"),Yt=a.x,Gt=a.y-pt/2;Mt==="center"?Yt=Yt-nt/2:(Mt==="right"||Mt==="end")&&(Yt=Yt-nt),Rs(C,Yt,Gt),B=C,L.add(C)}else{var te=(0,m.U2)(a,["style","fill"]);B=L.addShape("text",(0,I.pi)({attrs:(0,I.pi)((0,I.pi)({x:a.x,y:a.y,textAlign:a.textAlign,textBaseline:(0,m.U2)(a,"textBaseline","middle"),text:a.content},a.style),{fill:(0,m.Ft)(te)?a.color:te})},_))}return a.rotate&&Wu(B,a.rotate),L},s.prototype.doLayout=function(a,r,n){return(0,I.mG)(this,void 0,void 0,function(){var l,u=this;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return this.layout?(l=(0,m.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(l.map(function(p){var y=zp((0,m.U2)(p,"type",""));if(y){var C=[],T=[];return(0,m.S6)(n,function(_,L){C.push(_),T.push(r[_.get("elementId")])}),y(a,C,T,u.region,p.cfg)}}))]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})},s.prototype.renderLabelLine=function(a,r){(0,m.S6)(a,function(n){var l=(0,m.U2)(n,"coordinate");if(!(!n||!l)){var u=l.getCenter(),v=l.getRadius();if(n.labelLine){var p=(0,m.U2)(n,"labelLine",{}),y=n.id,C=p.path;if(!C){var T=Ln(u.x,u.y,v,n.angle);C=[["M",T.x,T.y],["L",n.x,n.y]]}var _=r[y];_.destroyed||_.addShape("path",{capture:!1,attrs:(0,I.pi)({path:C,stroke:n.color?n.color:(0,m.U2)(n,["style","fill"],"#000"),fill:null},p.style),id:y,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},s.prototype.renderLabelBackground=function(a,r){(0,m.S6)(a,function(n){var l=(0,m.U2)(n,"coordinate"),u=(0,m.U2)(n,"background");if(!(!u||!l)){var v=n.id,p=r[v];if(!p.destroyed){var y=p.getChildren()[0];if(y){var C=Pl(p,n,u.padding),T=C.rotation,_=(0,I._T)(C,["rotation"]),L=p.addShape("rect",{attrs:(0,I.pi)((0,I.pi)({},_),u.style||{}),id:v,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(L.setZIndex(-1),T){var B=y.getMatrix();L.setMatrix(B)}}}}})},s.prototype.createOffscreenGroup=function(){var a=this.container,r=a.getGroupBase(),n=new r({});return n},s.prototype.adjustLabel=function(a,r){(0,m.S6)(a,function(n){if(n){var l=n.id,u=r[l];if(!u.destroyed){var v=u.findAll(function(p){return p.get("type")!=="path"});(0,m.S6)(v,function(p){p&&(n.offsetX&&p.attr("x",p.attr("x")+n.offsetX),n.offsetY&&p.attr("y",p.attr("y")+n.offsetY))})}}})},s}(),Xp=Gp;function hf(s){var a=0;return(0,m.S6)(s,function(r){a+=r}),a/s.length}var Zp=function(){function s(a){this.geometry=a}return s.prototype.getLabelItems=function(a){var r=this,n=[],l=this.getLabelCfgs(a);return(0,m.S6)(a,function(u,v){var p=l[v];if(!p||(0,m.UM)(u.x)||(0,m.UM)(u.y)){n.push(null);return}var y=(0,m.kJ)(p.content)?p.content:[p.content];p.content=y;var C=y.length;(0,m.S6)(y,function(T,_){if((0,m.UM)(T)||T===""){n.push(null);return}var L=(0,I.pi)((0,I.pi)({},p),r.getLabelPoint(p,u,_));L.textAlign||(L.textAlign=r.getLabelAlign(L,_,C)),L.offset<=0&&(L.labelLine=null),n.push(L)})}),n},s.prototype.render=function(a,r){return r===void 0&&(r=!1),(0,I.mG)(this,void 0,void 0,function(){var n,l,u;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return n=this.getLabelItems(a),l=this.getLabelsRenderer(),u=this.getGeometryShapes(),[4,l.render(n,u,r)];case 1:return v.sent(),[2]}})})},s.prototype.clear=function(){var a=this.labelsRenderer;a&&a.clear()},s.prototype.destroy=function(){var a=this.labelsRenderer;a&&a.destroy(),this.labelsRenderer=null},s.prototype.getCoordinate=function(){return this.geometry.coordinate},s.prototype.getDefaultLabelCfg=function(a,r){var n=this.geometry,l=n.type,u=n.theme;return l==="polygon"||l==="interval"&&r==="middle"||a<0&&!["line","point","path"].includes(l)?(0,m.U2)(u,"innerLabels",{}):(0,m.U2)(u,"labels",{})},s.prototype.getThemedLabelCfg=function(a){var r=this.geometry,n=this.getDefaultLabelCfg(),l=r.type,u=r.theme,v;return l==="polygon"||a.offset<0&&!["line","point","path"].includes(l)?v=(0,m.b$)({},n,u.innerLabels,a):v=(0,m.b$)({},n,u.labels,a),v},s.prototype.setLabelPosition=function(a,r,n,l){},s.prototype.getLabelOffset=function(a){var r=this.getCoordinate(),n=this.getOffsetVector(a);return r.isTransposed?n[0]:n[1]},s.prototype.getLabelOffsetPoint=function(a,r,n){var l=a.offset,u=this.getCoordinate(),v=u.isTransposed,p=v?"x":"y",y=v?1:-1,C={x:0,y:0};return r>0||n===1?C[p]=l*y:C[p]=l*y*-1,C},s.prototype.getLabelPoint=function(a,r,n){var l=this.getCoordinate(),u=a.content.length;function v(pt,Mt,Yt){Yt===void 0&&(Yt=!1);var Gt=pt;return(0,m.kJ)(Gt)&&(a.content.length===1?Yt?Gt=hf(Gt):Gt.length<=2?Gt=Gt[pt.length-1]:Gt=hf(Gt):Gt=Gt[Mt]),Gt}var p={content:a.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},y=(0,m.kJ)(r.shape)?r.shape[0]:r.shape,C=y==="funnel"||y==="pyramid";if(this.geometry.type==="polygon"){var T=Nd(r.x,r.y);p.x=T[0],p.y=T[1]}else this.geometry.type==="interval"&&!C?(p.x=v(r.x,n,!0),p.y=v(r.y,n)):(p.x=v(r.x,n),p.y=v(r.y,n));if(C){var _=(0,m.U2)(r,"nextPoints"),L=(0,m.U2)(r,"points");if(_){var B=l.convert(L[1]),U=l.convert(_[1]);p.x=(B.x+U.x)/2,p.y=(B.y+U.y)/2}else if(y==="pyramid"){var B=l.convert(L[1]),U=l.convert(L[2]);p.x=(B.x+U.x)/2,p.y=(B.y+U.y)/2}}a.position&&this.setLabelPosition(p,r,n,a.position);var nt=this.getLabelOffsetPoint(a,n,u);return p.start={x:p.x,y:p.y},p.x+=nt.x,p.y+=nt.y,p.color=r.color,p},s.prototype.getLabelAlign=function(a,r,n){var l="center",u=this.getCoordinate();if(u.isTransposed){var v=a.offset;v<0?l="right":v===0?l="center":l="left",n>1&&r===0&&(l==="right"?l="left":l==="left"&&(l="right"))}return l},s.prototype.getLabelId=function(a){var r=this.geometry,n=r.type,l=r.getXScale(),u=r.getYScale(),v=a[ct],p=r.getElementId(a);return n==="line"||n==="area"?p+=" ".concat(v[l.field]):n==="path"&&(p+=" ".concat(v[l.field],"-").concat(v[u.field])),p},s.prototype.getLabelsRenderer=function(){var a=this.geometry,r=a.labelsContainer,n=a.labelOption,l=a.canvasRegion,u=a.animateOption,v=this.geometry.coordinate,p=this.labelsRenderer;return p||(p=new Xp({container:r,layout:(0,m.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=p),p.region=l,p.animate=u?sf("label",v):!1,p},s.prototype.getLabelCfgs=function(a){var r=this,n=this.geometry,l=n.labelOption,u=n.scales,v=n.coordinate,p=l,y=p.fields,C=p.callback,T=p.cfg,_=y.map(function(B){return u[B]}),L=[];return(0,m.S6)(a,function(B,U){var nt=B[ct],pt=r.getLabelText(nt,_),Mt;if(C){var Yt=y.map(function(Ye){return nt[Ye]});if(Mt=C.apply(void 0,(0,I.ev)([],(0,I.CR)(Yt),!1)),(0,m.UM)(Mt)){L.push(null);return}}var Gt=(0,I.pi)((0,I.pi)({id:r.getLabelId(B),elementId:r.geometry.getElementId(B),data:nt,mappingData:B,coordinate:v},T),Mt);(0,m.mf)(Gt.position)&&(Gt.position=Gt.position(nt,B,U));var te=r.getLabelOffset(Gt.offset||0),Me=r.getDefaultLabelCfg(te,Gt.position);Gt=(0,m.b$)({},Me,Gt),Gt.offset=r.getLabelOffset(Gt.offset||0);var Ne=Gt.content;(0,m.mf)(Ne)?Gt.content=Ne(nt,B,U):(0,m.o8)(Ne)&&(Gt.content=pt[0]),L.push(Gt)}),L},s.prototype.getLabelText=function(a,r){var n=[];return(0,m.S6)(r,function(l){var u=a[l.field];(0,m.kJ)(u)?u=u.map(function(v){return l.getText(v)}):u=l.getText(u),(0,m.UM)(u)||u===""?n.push(null):n.push(u)}),n},s.prototype.getOffsetVector=function(a){a===void 0&&(a=0);var r=this.getCoordinate(),n=0;return(0,m.hj)(a)&&(n=a),r.isTransposed?r.applyMatrix(n,0):r.applyMatrix(0,n)},s.prototype.getGeometryShapes=function(){var a=this.geometry,r={};return(0,m.S6)(a.elementsMap,function(n,l){r[l]=n.shape}),(0,m.S6)(a.getOffscreenGroup().getChildren(),function(n){var l=a.getElementId(n.get("origin").mappingData);r[l]=n}),r},s}(),Fl=Zp;function Yu(s,a,r){if(!s)return r;var n;if(s.callback&&s.callback.length>1){var l=Array(s.callback.length-1).fill("");n=s.mapping.apply(s,(0,I.ev)([a],(0,I.CR)(l),!1)).join("")}else n=s.mapping(a).join("");return n||r}var Ao={hexagon:function(s,a,r){var n=r/2*Math.sqrt(3);return[["M",s,a-r],["L",s+n,a-r/2],["L",s+n,a+r/2],["L",s,a+r],["L",s-n,a+r/2],["L",s-n,a-r/2],["Z"]]},bowtie:function(s,a,r){var n=r-1.5;return[["M",s-r,a-n],["L",s+r,a+n],["L",s+r,a-n],["L",s-r,a+n],["Z"]]},cross:function(s,a,r){return[["M",s-r,a-r],["L",s+r,a+r],["M",s+r,a-r],["L",s-r,a+r]]},tick:function(s,a,r){return[["M",s-r/2,a-r],["L",s+r/2,a-r],["M",s,a-r],["L",s,a+r],["M",s-r/2,a+r],["L",s+r/2,a+r]]},plus:function(s,a,r){return[["M",s-r,a],["L",s+r,a],["M",s,a-r],["L",s,a+r]]},hyphen:function(s,a,r){return[["M",s-r,a],["L",s+r,a]]},line:function(s,a,r){return[["M",s,a-r],["L",s,a+r]]}},jp=["line","cross","tick","plus","hyphen"];function $p(s,a){return(0,m.mf)(a)?a(s):(0,m.b$)({},s,a)}function Kp(s,a){var r=s.symbol;if((0,m.HD)(r)&&jp.indexOf(r)!==-1){var n=(0,m.U2)(s,"style",{}),l=(0,m.U2)(n,"lineWidth",1),u=n.stroke||n.fill||a;s.style=(0,m.b$)({},s.style,{lineWidth:l,stroke:u,fill:null})}}function rs(s){var a=s.symbol;(0,m.HD)(a)&&Ao[a]&&(s.symbol=Ao[a])}function Hu(s){return s.startsWith(Et.LEFT)||s.startsWith(Et.RIGHT)?"vertical":"horizontal"}function ff(s,a,r,n,l){var u=r.getScale(r.type);if(u.isCategory){var v=u.field,p=a.getAttribute("color"),y=a.getAttribute("shape"),C=s.getTheme().defaultColor,T=a.coordinate.isPolar;return u.getTicks().map(function(_,L){var B,U=_.text,nt=_.value,pt=U,Mt=u.invert(nt),Yt=s.filterFieldData(v,[(B={},B[v]=Mt,B)]).length===0;(0,m.S6)(s.views,function(Ye){var Xe;Ye.filterFieldData(v,[(Xe={},Xe[v]=Mt,Xe)]).length||(Yt=!0)});var Gt=Yu(p,Mt,C),te=Yu(y,Mt,"point"),Me=a.getShapeMarker(te,{color:Gt,isInPolar:T}),Ne=l;return(0,m.mf)(Ne)&&(Ne=Ne(pt,L,(0,I.pi)({name:pt,value:Mt},(0,m.b$)({},n,Me)))),Me=(0,m.b$)({},n,Me,li((0,I.pi)({},Ne),["style"])),Kp(Me,Gt),Ne&&Ne.style&&(Me.style=$p(Me.style,Ne.style)),rs(Me),{id:Mt,name:pt,value:Mt,marker:Me,unchecked:Yt}})}return[]}function qp(s,a,r){return r.map(function(n,l){var u=a;(0,m.mf)(u)&&(u=u(n.name,l,(0,m.b$)({},s,n)));var v=(0,m.mf)(n.marker)?n.marker(n.name,l,(0,m.b$)({},s,n)):n.marker,p=(0,m.b$)({},s,u,v);return rs(p),n.marker=p,n})}function vf(s,a){var r=(0,m.U2)(s,["components","legend"],{});return(0,m.b$)({},(0,m.U2)(r,["common"],{}),(0,m.b$)({},(0,m.U2)(r,[a],{})))}function kl(s){return s?!1:s==null||isNaN(s)}function Jp(s){if((0,m.kJ)(s))return kl(s[1].y);var a=s.y;return(0,m.kJ)(a)?kl(a[0]):kl(a)}function Qa(s,a,r){if(a===void 0&&(a=!1),r===void 0&&(r=!0),!s.length||s.length===1&&!r)return[];if(a){for(var n=[],l=0,u=s.length;l<u;l++){var v=s[l];Jp(v)||n.push(v)}return[n]}for(var p=[],y=[],l=0,u=s.length;l<u;l++){var v=s[l];Jp(v)?y.length&&(y.length===1&&!r||p.push(y),y=[]):y.push(v)}return y.length&&p.push(y),p}function Dl(s){for(var a=[],r=0;r<s.length;r++){var n=s[r];if(n){var l=r===0?"M":"L";a.push([l,n.x,n.y])}}var u=s[0];return u&&(a.push(["L",u.x,u.y]),a.push(["z"])),a}function df(s){for(var a=s.length/2,r=[],n=[],l=0;l<s.length;l++)l<a?r.push(s[l]):n.push(s[l]);var u=dl(r,!1),v=dl(n,!1);n.length&&u.push(["L",n[0].x,n[0].y]),v.shift();var p=u.concat(v);return r.length&&p.push(["L",r[0].x,r[0].y]),p.push(["z"]),p}function _n(s,a,r,n){n===void 0&&(n="");var l=s.style,u=l===void 0?{}:l,v=s.defaultStyle,p=s.color,y=s.size,C=(0,I.pi)((0,I.pi)({},v),u);return p&&(a&&(u.stroke||(C.stroke=p)),r&&(u.fill||(C.fill=p))),n&&(0,m.UM)(u[n])&&!(0,m.UM)(y)&&(C[n]=y),C}function pf(s){return(0,m.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,m.U2)(s,["background","style"]))}function Gu(s){var a=s.x,r=(0,m.kJ)(s.y)?s.y:[s.y];return r.map(function(n,l){return{x:(0,m.kJ)(a)?a[l]:a,y:n}})}var ly={line:function(s,a,r){return[["M",s-r,a],["L",s+r,a]]},dot:function(s,a,r){return[["M",s-r,a],["L",s+r,a]]},dash:function(s,a,r){return[["M",s-r,a],["L",s+r,a]]},smooth:function(s,a,r){return[["M",s-r,a],["A",r/2,r/2,0,1,1,s,a],["A",r/2,r/2,0,1,0,s+r,a]]},hv:function(s,a,r){return[["M",s-r-1,a-2.5],["L",s,a-2.5],["L",s,a+2.5],["L",s+r+1,a+2.5]]},vh:function(s,a,r){return[["M",s-r-1,a+2.5],["L",s,a+2.5],["L",s,a-2.5],["L",s+r+1,a-2.5]]},hvh:function(s,a,r){return[["M",s-(r+1),a+2.5],["L",s-r/2,a+2.5],["L",s-r/2,a-2.5],["L",s+r/2,a-2.5],["L",s+r/2,a+2.5],["L",s+r+1,a+2.5]]},vhv:function(s,a){return[["M",s-5,a+2.5],["L",s-5,a],["L",s,a],["L",s,a-3],["L",s,a+3],["L",s+6.5,a+3]]}};function Qp(s,a){var r=s.color;return{symbol:ly[a],style:{lineWidth:2,r:6,stroke:r}}}function uy(s,a,r){for(var n=s.isStack,l=s.connectNulls,u=s.isInCircle,v=s.showSinglePoint,p=_n(s,!0,!1,"lineWidth"),y=Qa(s.points,l,v),C=[],T=0,_=y.length;T<_;T++){var L=y[T];C=C.concat(Zu(L,u,n,a,r,p))}return p.path=C,p}function Xu(s,a,r,n,l){if(s.length===1)return[["M",s[0].x,s[0].y-l.lineWidth/2],["L",s[0].x,s[0].y],["L",s[0].x,s[0].y+l.lineWidth/2]];var u;return r?(a&&s.length&&s.push({x:s[0].x,y:s[0].y}),u=dl(s,!1,n)):(u=Ps(s,!1),a&&u.push(["Z"])),u}function gf(s,a,r,n,l,u){var v=[],p=[];(0,m.S6)(s,function(T){var _=Gu(T);v.push(_[1]),p.push(_[0])});var y=Xu(v,a,n,l,u),C=Xu(p,a,n,l,u);return r?y:y.concat(C)}function Zu(s,a,r,n,l,u){if(s.length){var v=s[0];return(0,m.kJ)(v.y)?gf(s,a,r,n,l,u):Xu(s,a,n,l,u)}return[]}var cy=qa("line",{defaultShapeType:"line"});(0,m.S6)(["line","dot","dash","smooth"],function(s){wn("line",s,{draw:function(a,r){var n=s==="smooth",l;if(n){var u=this.coordinate,v=u.start,p=u.end;l=[[v.x,p.y],[p.x,v.y]]}var y=uy(a,n,l),C=r.addShape({type:"path",attrs:y,name:"line",capture:!n});return C},getMarker:function(a){return Qp(a,s)}})});var hy=null,Eo="4.2.10",ju={getLegendItems:ff,translate:Rs,rotate:Wu,zoom:sy,transform:_l,getAngle:Xo,getSectorPath:Nn,polarToCartesian:Ln,getDelegationObject:So,getTooltipItems:ks,getMappingValue:Yu,getPath:Zu,getPathPoints:Qa},to={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},un={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},qi=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],tg=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],eg=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],fy=function(s){s===void 0&&(s={});var a=s.paletteQualitative10,r=a===void 0?qi:a,n=s.paletteQualitative20,l=n===void 0?tg:n,u=s.brandColor,v=u===void 0?r[0]:u,p={backgroundColor:"#141414",brandColor:v,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:r,paletteQualitative20:l,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:eg,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:un[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:un[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:to[85],axisTickLineBorderColor:un[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:un[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:un[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:un[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:un[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:qi[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:un[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:un[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:un[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:un[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:un[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:un[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:to[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:to[25],annotationArcBorderColor:un[15],annotationArcBorder:1,annotationLineBorderColor:un[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:un[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:un[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:un[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:un[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:un[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:to[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:un[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:to[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:un[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:qi[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:to[100],pointBorderOpacity:1,pointActiveBorderColor:un[100],pointSelectedBorder:2,pointSelectedBorderColor:un[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:qi[0],hollowPointBorderOpacity:.95,hollowPointFillColor:to[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:un[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:un[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:qi[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:qi[0],areaFillOpacity:.25,areaActiveFillColor:qi[0],areaActiveFillOpacity:.5,areaSelectedFillColor:qi[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:qi[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:un[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:un[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:qi[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:un[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:un[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:qi[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:to[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:un[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:un[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,I.pi)((0,I.pi)({},p),s)},rg=fy();function $u(){return window?window.devicePixelRatio:1}function yf(s,a,r,n){var l=s-r,u=a-n;return Math.sqrt(l*l+u*u)}function eo(s,a,r,n,l,u){return l>=s&&l<=s+r&&u>=a&&u<=a+n}function Ns(s,a){return!(a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY)}function ng(s,a){return!s||!a?s||a:{minX:Math.min(s.minX,a.minX),minY:Math.min(s.minY,a.minY),maxX:Math.max(s.maxX,a.maxX),maxY:Math.max(s.maxY,a.maxY)}}function zs(s,a){return s[0]===a[0]&&s[1]===a[1]}var Pa=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,mf=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Ku=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,xf=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function bf(s,a){var r=s.match(xf);(0,m.S6)(r,function(n){var l=n.split(":");a.addColorStop(l[0],l[1])})}function qu(s,a,r){var n=Pa.exec(r),l=parseFloat(n[1])%360*(Math.PI/180),u=n[2],v=a.getBBox(),p,y;l>=0&&l<1/2*Math.PI?(p={x:v.minX,y:v.minY},y={x:v.maxX,y:v.maxY}):1/2*Math.PI<=l&&l<Math.PI?(p={x:v.maxX,y:v.minY},y={x:v.minX,y:v.maxY}):Math.PI<=l&&l<3/2*Math.PI?(p={x:v.maxX,y:v.maxY},y={x:v.minX,y:v.minY}):(p={x:v.minX,y:v.maxY},y={x:v.maxX,y:v.minY});var C=Math.tan(l),T=C*C,_=(y.x-p.x+C*(y.y-p.y))/(T+1)+p.x,L=C*(y.x-p.x+C*(y.y-p.y))/(T+1)+p.y,B=s.createLinearGradient(p.x,p.y,_,L);return bf(u,B),B}function ha(s,a,r){var n=mf.exec(r),l=parseFloat(n[1]),u=parseFloat(n[2]),v=parseFloat(n[3]),p=n[4];if(v===0){var y=p.match(xf);return y[y.length-1].split(":")[1]}var C=a.getBBox(),T=C.maxX-C.minX,_=C.maxY-C.minY,L=Math.sqrt(T*T+_*_)/2,B=s.createRadialGradient(C.minX+T*l,C.minY+_*u,0,C.minX+T/2,C.minY+_/2,v*L);return bf(p,B),B}function wf(s,a,r){if(a.get("patternSource")&&a.get("patternSource")===r)return a.get("pattern");var n,l,u=Ku.exec(r),v=u[1],p=u[2];function y(){n=s.createPattern(l,v),a.set("pattern",n),a.set("patternSource",r)}switch(v){case"a":v="repeat";break;case"x":v="repeat-x";break;case"y":v="repeat-y";break;case"n":v="no-repeat";break;default:v="no-repeat"}return l=new Image,p.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=p,l.complete?y():(l.onload=y,l.src=l.src),n}function Sf(s,a,r){var n=a.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return r;if((0,m.HD)(r)){if(r[1]==="("||r[2]==="("){if(r[0]==="l")return qu(s,a,r);if(r[0]==="r")return ha(s,a,r);if(r[0]==="p")return wf(s,a,r)}return r}if(r instanceof CanvasPattern)return r}function Cf(s){var a=0,r=0,n=0,l=0;return(0,m.kJ)(s)?s.length===1?a=r=n=l=s[0]:s.length===2?(a=n=s[0],r=l=s[1]):s.length===3?(a=s[0],r=l=s[1],n=s[2]):(a=s[0],r=s[1],n=s[2],l=s[3]):a=r=n=l=s,[a,r,n,l]}function ns(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Ll(s,a){return ns(s)*ns(a)?(s[0]*a[0]+s[1]*a[1])/(ns(s)*ns(a)):1}function Mf(s,a){return(s[0]*a[1]<s[1]*a[0]?-1:1)*Math.acos(Ll(s,a))}function Ol(s,a){var r=a[1],n=a[2],l=(0,m.wQ)((0,m.c$)(a[3]),Math.PI*2),u=a[4],v=a[5],p=s[0],y=s[1],C=a[6],T=a[7],_=Math.cos(l)*(p-C)/2+Math.sin(l)*(y-T)/2,L=-1*Math.sin(l)*(p-C)/2+Math.cos(l)*(y-T)/2,B=_*_/(r*r)+L*L/(n*n);B>1&&(r*=Math.sqrt(B),n*=Math.sqrt(B));var U=r*r*(L*L)+n*n*(_*_),nt=U?Math.sqrt((r*r*(n*n)-U)/U):1;u===v&&(nt*=-1),isNaN(nt)&&(nt=0);var pt=n?nt*r*L/n:0,Mt=r?nt*-n*_/r:0,Yt=(p+C)/2+Math.cos(l)*pt-Math.sin(l)*Mt,Gt=(y+T)/2+Math.sin(l)*pt+Math.cos(l)*Mt,te=[(_-pt)/r,(L-Mt)/n],Me=[(-1*_-pt)/r,(-1*L-Mt)/n],Ne=Mf([1,0],te),Ye=Mf(te,Me);return Ll(te,Me)<=-1&&(Ye=Math.PI),Ll(te,Me)>=1&&(Ye=0),v===0&&Ye>0&&(Ye=Ye-2*Math.PI),v===1&&Ye<0&&(Ye=Ye+2*Math.PI),{cx:Yt,cy:Gt,rx:zs(s,[C,T])?0:r,ry:zs(s,[C,T])?0:n,startAngle:Ne,endAngle:Ne+Ye,xRotation:l,arcFlag:u,sweepFlag:v}}var Bl=Math.sin,Ju=Math.cos,Qu=Math.atan2,Rl=Math.PI;function tc(s,a,r,n,l,u,v){var p=a.stroke,y=a.lineWidth,C=r-l,T=n-u,_=Qu(T,C),L=new Wl({type:"path",canvas:s.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Ju(Rl/6)+","+10*Bl(Rl/6)+" L0,0 L"+10*Ju(Rl/6)+",-"+10*Bl(Rl/6),stroke:p,lineWidth:y}});L.translate(l,u),L.rotateAtPoint(l,u,_),s.set(v?"startArrowShape":"endArrowShape",L)}function Nl(s,a,r,n,l,u,v){var p=a.startArrow,y=a.endArrow,C=a.stroke,T=a.lineWidth,_=v?p:y,L=_.d,B=_.fill,U=_.stroke,nt=_.lineWidth,pt=(0,I._T)(_,["d","fill","stroke","lineWidth"]),Mt=r-l,Yt=n-u,Gt=Qu(Yt,Mt);L&&(l=l-Ju(Gt)*L,u=u-Bl(Gt)*L);var te=new Wl({type:"path",canvas:s.get("canvas"),isArrowShape:!0,attrs:(0,I.pi)((0,I.pi)({},pt),{stroke:U||C,lineWidth:nt||T,fill:B})});te.translate(l,u),te.rotateAtPoint(l,u,Gt),s.set(v?"startArrowShape":"endArrowShape",te)}function _o(s,a,r,n,l){var u=Qu(n-a,r-s);return{dx:Ju(u)*l,dy:Bl(u)*l}}function ec(s,a,r,n,l,u){typeof a.startArrow=="object"?Nl(s,a,r,n,l,u,!0):a.startArrow?tc(s,a,r,n,l,u,!0):s.set("startArrowShape",null)}function rc(s,a,r,n,l,u){typeof a.endArrow=="object"?Nl(s,a,r,n,l,u,!1):a.endArrow?tc(s,a,r,n,l,u,!1):s.set("startArrowShape",null)}var Tf={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function is(s,a){var r=a.attr();for(var n in r){var l=r[n],u=Tf[n]?Tf[n]:n;u==="matrix"&&l?s.transform(l[0],l[1],l[3],l[4],l[6],l[7]):u==="lineDash"&&s.setLineDash?(0,m.kJ)(l)&&s.setLineDash(l):(u==="strokeStyle"||u==="fillStyle"?l=Sf(s,a,l):u==="globalAlpha"&&(l=l*s.globalAlpha),s[u]=l)}}function nc(s,a,r){for(var n=0;n<a.length;n++){var l=a[n];l.cfg.visible?l.draw(s,r):l.skipDraw()}}function ic(s,a,r){var n=s.get("refreshElements");(0,m.S6)(n,function(l){if(l!==s)for(var u=l.cfg.parent;u&&u!==s&&!u.cfg.refresh;)u.cfg.refresh=!0,u=u.cfg.parent}),n[0]===s?Vs(a,r):ac(a,r)}function ac(s,a){for(var r=0;r<s.length;r++){var n=s[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Vs(n.cfg.children,a);else if(n.cfg.refresh)n.isGroup()&&ac(n.cfg.children,a);else{var l=vy(n,a);n.cfg.refresh=l,l&&n.isGroup()&&ac(n.cfg.children,a)}}}function Af(s){for(var a=0;a<s.length;a++){var r=s[a];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&Af(r.cfg.children)}}function Vs(s,a){for(var r=0;r<s.length;r++){var n=s[r];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&Vs(n.get("children"),a))}}function vy(s,a){var r=s.cfg.cacheCanvasBBox,n=s.cfg.isInView&&r&&Ns(r,a);return n}function Ef(s,a,r,n){var l=r.path,u=r.startArrow,v=r.endArrow;if(l){var p=[0,0],y=[0,0],C={dx:0,dy:0};a.beginPath();for(var T=0;T<l.length;T++){var _=l[T],L=_[0];if(T===0&&u&&u.d){var B=s.getStartTangent();C=_o(B[0][0],B[0][1],B[1][0],B[1][1],u.d)}else if(T===l.length-2&&l[T+1][0]==="Z"&&v&&v.d){var U=l[T+1];if(U[0]==="Z"){var B=s.getEndTangent();C=_o(B[0][0],B[0][1],B[1][0],B[1][1],v.d)}}else if(T===l.length-1&&v&&v.d&&l[0]!=="Z"){var B=s.getEndTangent();C=_o(B[0][0],B[0][1],B[1][0],B[1][1],v.d)}var nt=C.dx,pt=C.dy;switch(L){case"M":a.moveTo(_[1]-nt,_[2]-pt),y=[_[1],_[2]];break;case"L":a.lineTo(_[1]-nt,_[2]-pt);break;case"Q":a.quadraticCurveTo(_[1],_[2],_[3]-nt,_[4]-pt);break;case"C":a.bezierCurveTo(_[1],_[2],_[3],_[4],_[5]-nt,_[6]-pt);break;case"A":{var Mt=void 0;n?(Mt=n[T],Mt||(Mt=Ol(p,_),n[T]=Mt)):Mt=Ol(p,_);var Yt=Mt.cx,Gt=Mt.cy,te=Mt.rx,Me=Mt.ry,Ne=Mt.startAngle,Ye=Mt.endAngle,Xe=Mt.xRotation,Ke=Mt.sweepFlag;if(a.ellipse)a.ellipse(Yt,Gt,te,Me,Xe,Ne,Ye,1-Ke);else{var Qe=te>Me?te:Me,xr=te>Me?1:te/Me,mr=te>Me?Me/te:1;a.translate(Yt,Gt),a.rotate(Xe),a.scale(xr,mr),a.arc(0,0,Qe,Ne,Ye,1-Ke),a.scale(1/xr,1/mr),a.rotate(-Xe),a.translate(-Yt,-Gt)}break}case"Z":a.closePath();break;default:break}if(L==="Z")p=y;else{var Lr=_.length;p=[_[Lr-2],_[Lr-1]]}}}}function _f(s,a){var r=s.get("canvas");r&&(a==="remove"&&(s._cacheCanvasBBox=s.get("cacheCanvasBBox")),s.get("hasChanged")||(s.set("hasChanged",!0),s.cfg.parent&&s.cfg.parent.get("hasChanged")||(r.refreshElement(s,a,r),r.get("autoDraw")&&r.draw())))}function ig(s){var a;if(s.destroyed)a=s._cacheCanvasBBox;else{var r=s.get("cacheCanvasBBox"),n=r&&!!(r.width&&r.height),l=s.getCanvasBBox(),u=l&&!!(l.width&&l.height);n&&u?a=ng(r,l):n?a=r:u&&(a=l)}return a}function ag(s){if(!s.length)return null;var a=[],r=[],n=[],l=[];return(0,m.S6)(s,function(u){var v=ig(u);v&&(a.push(v.minX),r.push(v.minY),n.push(v.maxX),l.push(v.maxY))}),{minX:(0,m.VV)(a),minY:(0,m.VV)(r),maxX:(0,m.Fp)(n),maxY:(0,m.Fp)(l)}}function og(s,a){return!s||!a||!Ns(s,a)?null:{minX:Math.max(s.minX,a.minX),minY:Math.max(s.minY,a.minY),maxX:Math.min(s.maxX,a.maxX),maxY:Math.min(s.maxY,a.maxY)}}var Pf=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.onCanvasChange=function(r){_f(this,r)},a.prototype.getShapeBase=function(){return ce},a.prototype.getGroupBase=function(){return a},a.prototype._applyClip=function(r,n){n&&(r.save(),is(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},a.prototype.cacheCanvasBBox=function(){var r=this.cfg.children,n=[],l=[];(0,m.S6)(r,function(L){var B=L.cfg.cacheCanvasBBox;B&&L.cfg.isInView&&(n.push(B.minX,B.maxX),l.push(B.minY,B.maxY))});var u=null;if(n.length){var v=(0,m.VV)(n),p=(0,m.Fp)(n),y=(0,m.VV)(l),C=(0,m.Fp)(l);u={minX:v,minY:y,x:v,y,maxX:p,maxY:C,width:p-v,height:C-y};var T=this.cfg.canvas;if(T){var _=T.getViewRange();this.set("isInView",Ns(u,_))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",u)},a.prototype.draw=function(r,n){var l=this.cfg.children,u=n?this.cfg.refresh:!0;l.length&&u&&(r.save(),is(r,this),this._applyClip(r,this.getClip()),nc(r,l,n),r.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},a}(at.AbstractGroup),oc=Pf,sg=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.getShapeBase=function(){return ce},a.prototype.getGroupBase=function(){return oc},a.prototype.onCanvasChange=function(r){_f(this,r)},a.prototype.calculateBBox=function(){var r=this.get("type"),n=this.getHitLineWidth(),l=(0,at.getBBoxMethod)(r),u=l(this),v=n/2,p=u.x-v,y=u.y-v,C=u.x+u.width+v,T=u.y+u.height+v;return{x:p,minX:p,y,minY:y,width:u.width+n,height:u.height+n,maxX:C,maxY:T}},a.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},a.prototype.isStroke=function(){return!!this.attrs.stroke},a.prototype._applyClip=function(r,n){n&&(r.save(),is(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},a.prototype.draw=function(r,n){var l=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var u=this.getCanvasBBox();if(!Ns(n,u)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}r.save(),is(r,this),this._applyClip(r,l),this.drawPath(r),r.restore(),this._afterDraw()},a.prototype.getCanvasViewBox=function(){var r=this.cfg.canvas;return r?r.getViewRange():null},a.prototype.cacheCanvasBBox=function(){var r=this.getCanvasViewBox();if(r){var n=this.getCanvasBBox(),l=Ns(n,r);this.set("isInView",l),l?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},a.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},a.prototype.drawPath=function(r){this.createPath(r),this.strokeAndFill(r),this.afterDrawPath(r)},a.prototype.fill=function(r){r.fill()},a.prototype.stroke=function(r){r.stroke()},a.prototype.strokeAndFill=function(r){var n=this.attrs,l=n.lineWidth,u=n.opacity,v=n.strokeOpacity,p=n.fillOpacity;this.isFill()&&(!(0,m.UM)(p)&&p!==1?(r.globalAlpha=p,this.fill(r),r.globalAlpha=u):this.fill(r)),this.isStroke()&&l>0&&(!(0,m.UM)(v)&&v!==1&&(r.globalAlpha=v),this.stroke(r)),this.afterDrawPath(r)},a.prototype.createPath=function(r){},a.prototype.afterDrawPath=function(r){},a.prototype.isInShape=function(r,n){var l=this.isStroke(),u=this.isFill(),v=this.getHitLineWidth();return this.isInStrokeOrPath(r,n,l,u,v)},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){return!1},a.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var r=this.attrs;return r.lineWidth+r.lineAppendWidth},a}(at.AbstractShape),fa=sg,lg=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,r:0})},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){var p=this.attr(),y=p.x,C=p.y,T=p.r,_=v/2,L=yf(y,C,r,n);return u&&l?L<=T+_:u?L<=T:l?L>=T-_&&L<=T+_:!1},a.prototype.createPath=function(r){var n=this.attr(),l=n.x,u=n.y,v=n.r;r.beginPath(),r.arc(l,u,v,0,Math.PI*2,!1),r.closePath()},a}(fa),ug=lg;function zl(s,a,r,n){return s/(r*r)+a/(n*n)}var cg=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,rx:0,ry:0})},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){var p=this.attr(),y=v/2,C=p.x,T=p.y,_=p.rx,L=p.ry,B=(r-C)*(r-C),U=(n-T)*(n-T);return u&&l?zl(B,U,_+y,L+y)<=1:u?zl(B,U,_,L)<=1:l?zl(B,U,_-y,L-y)>=1&&zl(B,U,_+y,L+y)<=1:!1},a.prototype.createPath=function(r){var n=this.attr(),l=n.x,u=n.y,v=n.rx,p=n.ry;if(r.beginPath(),r.ellipse)r.ellipse(l,u,v,p,0,0,Math.PI*2,!1);else{var y=v>p?v:p,C=v>p?1:v/p,T=v>p?p/v:1;r.save(),r.translate(l,u),r.scale(C,T),r.arc(0,0,y,0,Math.PI*2),r.restore(),r.closePath()}},a}(fa),hg=cg;function If(s){return s instanceof HTMLElement&&(0,m.HD)(s.nodeName)&&s.nodeName.toUpperCase()==="CANVAS"}var dy=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,width:0,height:0})},a.prototype.initAttrs=function(r){this._setImage(r.img)},a.prototype.isStroke=function(){return!1},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var r=this.get("canvas");r?r.draw():this.createPath(this.get("context"))}},a.prototype._setImage=function(r){var n=this,l=this.attrs;if((0,m.HD)(r)){var u=new Image;u.onload=function(){if(n.destroyed)return!1;n.attr("img",u),n.set("loading",!1),n._afterLoading();var v=n.get("callback");v&&v.call(n)},u.crossOrigin="Anonymous",u.src=r,this.set("loading",!0)}else r instanceof Image?(l.width||(l.width=r.width),l.height||(l.height=r.height)):If(r)&&(l.width||(l.width=Number(r.getAttribute("width"))),l.height||(l.height,Number(r.getAttribute("height"))))},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),r==="img"&&this._setImage(n)},a.prototype.createPath=function(r){if(this.get("loading")){this.set("toDraw",!0),this.set("context",r);return}var n=this.attr(),l=n.x,u=n.y,v=n.width,p=n.height,y=n.sx,C=n.sy,T=n.swidth,_=n.sheight,L=n.img;(L instanceof Image||If(L))&&(!(0,m.UM)(y)&&!(0,m.UM)(C)&&!(0,m.UM)(T)&&!(0,m.UM)(_)?r.drawImage(L,y,C,T,_,l,u,v,p):r.drawImage(L,l,u,v,p))},a}(fa),Ji=dy,kn=H(32793);function ro(s,a,r,n,l,u,v){var p=Math.min(s,r),y=Math.max(s,r),C=Math.min(a,n),T=Math.max(a,n),_=l/2;return u>=p-_&&u<=y+_&&v>=C-_&&v<=T+_?kn.x1.pointToLine(s,a,r,n,u,v)<=l/2:!1}var Ff=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(r){this.setArrow()},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),this.setArrow()},a.prototype.setArrow=function(){var r=this.attr(),n=r.x1,l=r.y1,u=r.x2,v=r.y2,p=r.startArrow,y=r.endArrow;p&&ec(this,r,u,v,n,l),y&&rc(this,r,n,l,u,v)},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){if(!l||!v)return!1;var p=this.attr(),y=p.x1,C=p.y1,T=p.x2,_=p.y2;return ro(y,C,T,_,v,r,n)},a.prototype.createPath=function(r){var n=this.attr(),l=n.x1,u=n.y1,v=n.x2,p=n.y2,y=n.startArrow,C=n.endArrow,T={dx:0,dy:0},_={dx:0,dy:0};y&&y.d&&(T=_o(l,u,v,p,n.startArrow.d)),C&&C.d&&(_=_o(l,u,v,p,n.endArrow.d)),r.beginPath(),r.moveTo(l+T.dx,u+T.dy),r.lineTo(v-_.dx,p-_.dy)},a.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),l=this.get("endArrowShape");n&&n.draw(r),l&&l.draw(r)},a.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,l=r.y1,u=r.x2,v=r.y2;return kn.x1.length(n,l,u,v)},a.prototype.getPoint=function(r){var n=this.attr(),l=n.x1,u=n.y1,v=n.x2,p=n.y2;return kn.x1.pointAt(l,u,v,p,r)},a}(fa),kf=Ff,Df={circle:function(s,a,r){return[["M",s-r,a],["A",r,r,0,1,0,s+r,a],["A",r,r,0,1,0,s-r,a]]},square:function(s,a,r){return[["M",s-r,a-r],["L",s+r,a-r],["L",s+r,a+r],["L",s-r,a+r],["Z"]]},diamond:function(s,a,r){return[["M",s-r,a],["L",s,a-r],["L",s+r,a],["L",s,a+r],["Z"]]},triangle:function(s,a,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",s-r,a+n],["L",s,a-n],["L",s+r,a+n],["Z"]]},"triangle-down":function(s,a,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",s-r,a-n],["L",s+r,a-n],["L",s,a+n],["Z"]]}},sc=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.initAttrs=function(r){this._resetParamsCache()},a.prototype._resetParamsCache=function(){this.set("paramsCache",{})},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),["symbol","x","y","r","radius"].indexOf(r)!==-1&&this._resetParamsCache()},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._getR=function(r){return(0,m.UM)(r.r)?r.radius:r.r},a.prototype._getPath=function(){var r=this.attr(),n=r.x,l=r.y,u=r.symbol||"circle",v=this._getR(r),p,y;if((0,m.mf)(u))p=u,y=p(n,l,v),y=(0,Wo.wb)(y);else{if(p=a.Symbols[u],!p)return console.warn(u+" marker is not supported."),null;y=p(n,l,v)}return y},a.prototype.createPath=function(r){var n=this._getPath(),l=this.get("paramsCache");Ef(this,r,{path:n},l)},a.Symbols=Df,a}(fa),fg=sc;function Lf(s,a,r){var n=(0,at.getOffScreenContext)();return s.createPath(n),n.isPointInPath(a,r)}var vg=1e-6;function lc(s){return Math.abs(s)<vg?0:s<0?-1:1}function dg(s,a,r){return(r[0]-s[0])*(a[1]-s[1])===(a[0]-s[0])*(r[1]-s[1])&&Math.min(s[0],a[0])<=r[0]&&r[0]<=Math.max(s[0],a[0])&&Math.min(s[1],a[1])<=r[1]&&r[1]<=Math.max(s[1],a[1])}function Of(s,a,r){var n=!1,l=s.length;if(l<=2)return!1;for(var u=0;u<l;u++){var v=s[u],p=s[(u+1)%l];if(dg(v,p,[a,r]))return!0;lc(v[1]-r)>0!=lc(p[1]-r)>0&&lc(a-(r-v[1])*(v[0]-p[0])/(v[1]-p[1])-v[0])<0&&(n=!n)}return n}function as(s,a,r,n,l,u,v,p){var y=(Math.atan2(p-a,v-s)+Math.PI*2)%(Math.PI*2);if(y<n||y>l)return!1;var C={x:s+r*Math.cos(y),y:a+r*Math.sin(y)};return yf(C.x,C.y,v,p)<=u/2}var Us=gn.vs;function Vl(s){for(var a=!1,r=s.length,n=0;n<r;n++){var l=s[n],u=l[0];if(u==="C"||u==="A"||u==="Q"){a=!0;break}}return a}function Ws(s,a,r,n,l){for(var u=!1,v=a/2,p=0;p<s.length;p++){var y=s[p],C=y.currentPoint,T=y.params,_=y.prePoint,L=y.box;if(!(L&&!eo(L.x-v,L.y-v,L.width+a,L.height+a,r,n))){switch(y.command){case"L":case"Z":u=ro(_[0],_[1],C[0],C[1],a,r,n);break;case"Q":var B=kn.lD.pointDistance(_[0],_[1],T[1],T[2],T[3],T[4],r,n);u=B<=a/2;break;case"C":var U=kn.Ll.pointDistance(_[0],_[1],T[1],T[2],T[3],T[4],T[5],T[6],r,n,l);u=U<=a/2;break;case"A":var nt=y.arcParams,pt=nt.cx,Mt=nt.cy,Yt=nt.rx,Gt=nt.ry,te=nt.startAngle,Me=nt.endAngle,Ne=nt.xRotation,Ye=[r,n,1],Xe=Yt>Gt?Yt:Gt,Ke=Yt>Gt?1:Yt/Gt,Qe=Yt>Gt?Gt/Yt:1,xr=Us(null,[["t",-pt,-Mt],["r",-Ne],["s",1/Ke,1/Qe]]);hs(Ye,Ye,xr),u=as(0,0,Xe,te,Me,a,Ye[0],Ye[1]);break;default:break}if(u)break}}return u}function Bf(s){for(var a=s.length,r=[],n=[],l=[],u=0;u<a;u++){var v=s[u],p=v[0];p==="M"?(l.length&&(n.push(l),l=[]),l.push([v[1],v[2]])):p==="Z"?l.length&&(r.push(l),l=[]):l.push([v[1],v[2]])}return l.length>0&&n.push(l),{polygons:r,polylines:n}}var Ul=(0,I.pi)({hasArc:Vl,extractPolygons:Bf,isPointInStroke:Ws},at.PathUtil);function Rf(s,a,r){for(var n=!1,l=0;l<s.length;l++){var u=s[l];if(n=Of(u,a,r),n)break}return n}var Nf=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(r){this._setPathArr(r.path),this.setArrow()},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),r==="path"&&this._setPathArr(n),this.setArrow()},a.prototype._setPathArr=function(r){this.attrs.path=(0,Wo.wb)(r);var n=Ul.hasArc(r);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},a.prototype.getSegments=function(){var r=this.get("segements");return r||(r=(0,Wo.zx)(this.attr("path")),this.set("segments",r)),r},a.prototype.setArrow=function(){var r=this.attr(),n=r.startArrow,l=r.endArrow;if(n){var u=this.getStartTangent();ec(this,r,u[0][0],u[0][1],u[1][0],u[1][1])}if(l){var u=this.getEndTangent();rc(this,r,u[0][0],u[0][1],u[1][0],u[1][1])}},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){var p=this.getSegments(),y=this.get("hasArc"),C=!1;if(l){var T=this.getTotalLength();C=Ul.isPointInStroke(p,v,r,n,T)}if(!C&&u)if(y)C=Lf(this,r,n);else{var _=this.attr("path"),L=Ul.extractPolygons(_);C=Rf(L.polygons,r,n)||Rf(L.polylines,r,n)}return C},a.prototype.createPath=function(r){var n=this.attr(),l=this.get("paramsCache");Ef(this,r,n,l)},a.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),l=this.get("endArrowShape");n&&n.draw(r),l&&l.draw(r)},a.prototype.getTotalLength=function(){var r=this.get("totalLength");return(0,m.UM)(r)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):r},a.prototype.getPoint=function(r){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var l,u,v=this.get("curve");if(!n||n.length===0)return v?{x:v[0][1],y:v[0][2]}:null;(0,m.S6)(n,function(T,_){r>=T[0]&&r<=T[1]&&(l=(r-T[0])/(T[1]-T[0]),u=_)});var p=v[u];if((0,m.UM)(p)||(0,m.UM)(u))return null;var y=p.length,C=v[u+1];return kn.Ll.pointAt(p[y-2],p[y-1],C[1],C[2],C[3],C[4],C[5],C[6],l)},a.prototype._calculateCurve=function(){var r=this.attr().path;this.set("curve",Ul.pathToCurve(r))},a.prototype._setTcache=function(){var r=0,n=0,l=[],u,v,p,y,C=this.get("curve");if(C){if((0,m.S6)(C,function(T,_){p=C[_+1],y=T.length,p&&(r+=kn.Ll.length(T[y-2],T[y-1],p[1],p[2],p[3],p[4],p[5],p[6])||0)}),this.set("totalLength",r),r===0){this.set("tCache",[]);return}(0,m.S6)(C,function(T,_){p=C[_+1],y=T.length,p&&(u=[],u[0]=n/r,v=kn.Ll.length(T[y-2],T[y-1],p[1],p[2],p[3],p[4],p[5],p[6]),n+=v||0,u[1]=n/r,l.push(u))}),this.set("tCache",l)}},a.prototype.getStartTangent=function(){var r=this.getSegments(),n;if(r.length>1){var l=r[0].currentPoint,u=r[1].currentPoint,v=r[1].startTangent;n=[],v?(n.push([l[0]-v[0],l[1]-v[1]]),n.push([l[0],l[1]])):(n.push([u[0],u[1]]),n.push([l[0],l[1]]))}return n},a.prototype.getEndTangent=function(){var r=this.getSegments(),n=r.length,l;if(n>1){var u=r[n-2].currentPoint,v=r[n-1].currentPoint,p=r[n-1].endTangent;l=[],p?(l.push([v[0]-p[0],v[1]-p[1]]),l.push([v[0],v[1]])):(l.push([u[0],u[1]]),l.push([v[0],v[1]]))}return l},a}(fa),Wl=Nf;function uc(s,a,r,n,l){var u=s.length;if(u<2)return!1;for(var v=0;v<u-1;v++){var p=s[v][0],y=s[v][1],C=s[v+1][0],T=s[v+1][1];if(ro(p,y,C,T,a,r,n))return!0}if(l){var _=s[0],L=s[u-1];if(ro(_[0],_[1],L[0],L[1],a,r,n))return!0}return!1}var zf=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.isInStrokeOrPath=function(r,n,l,u,v){var p=this.attr().points,y=!1;return l&&(y=uc(p,v,r,n,!0)),!y&&u&&(y=Of(p,r,n)),y},a.prototype.createPath=function(r){var n=this.attr(),l=n.points;if(!(l.length<2)){r.beginPath();for(var u=0;u<l.length;u++){var v=l[u];u===0?r.moveTo(v[0],v[1]):r.lineTo(v[0],v[1])}r.closePath()}},a}(fa),Yl=zf,Hl=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(r){this.setArrow()},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),this.setArrow(),["points"].indexOf(r)!==-1&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.setArrow=function(){var r=this.attr(),n=this.attrs,l=n.points,u=n.startArrow,v=n.endArrow,p=l.length,y=l[0][0],C=l[0][1],T=l[p-1][0],_=l[p-1][1];u&&ec(this,r,l[1][0],l[1][1],y,C),v&&rc(this,r,l[p-2][0],l[p-2][1],T,_)},a.prototype.isFill=function(){return!1},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){if(!l||!v)return!1;var p=this.attr().points;return uc(p,v,r,n,!1)},a.prototype.isStroke=function(){return!0},a.prototype.createPath=function(r){var n=this.attr(),l=n.points,u=n.startArrow,v=n.endArrow,p=l.length;if(!(l.length<2)){var y=l[0][0],C=l[0][1],T=l[p-1][0],_=l[p-1][1];if(u&&u.d){var L=_o(y,C,l[1][0],l[1][1],u.d);y+=L.dx,C+=L.dy}if(v&&v.d){var L=_o(l[p-2][0],l[p-2][1],T,_,v.d);T-=L.dx,_-=L.dy}r.beginPath(),r.moveTo(y,C);for(var B=0;B<p-1;B++){var U=l[B];r.lineTo(U[0],U[1])}r.lineTo(T,_)}},a.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),l=this.get("endArrowShape");n&&n.draw(r),l&&l.draw(r)},a.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return(0,m.UM)(n)?(this.set("totalLength",kn.aH.length(r)),this.get("totalLength")):n},a.prototype.getPoint=function(r){var n=this.attr().points,l=this.get("tCache");l||(this._setTcache(),l=this.get("tCache"));var u,v;return(0,m.S6)(l,function(p,y){r>=p[0]&&r<=p[1]&&(u=(r-p[0])/(p[1]-p[0]),v=y)}),kn.x1.pointAt(n[v][0],n[v][1],n[v+1][0],n[v+1][1],u)},a.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var l=0,u=[],v,p;(0,m.S6)(r,function(y,C){r[C+1]&&(v=[],v[0]=l/n,p=kn.x1.length(y[0],y[1],r[C+1][0],r[C+1][1]),l+=p,v[1]=l/n,u.push(v))}),this.set("tCache",u)}}},a.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},a.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,l=[];return l.push([r[n-1][0],r[n-1][1]]),l.push([r[n][0],r[n][1]]),l},a}(fa),pg=Hl;function gg(s,a,r,n,l,u,v){var p=l/2;return eo(s-p,a-p,r,l,u,v)||eo(s+r-p,a-p,l,n,u,v)||eo(s+p,a+n-p,r,l,u,v)||eo(s-p,a+p,l,n,u,v)}function yg(s,a,r,n,l,u,v,p){var y=u/2;return ro(s+l,a,s+r-l,a,u,v,p)||ro(s+r,a+l,s+r,a+n-l,u,v,p)||ro(s+r-l,a+n,s+l,a+n,u,v,p)||ro(s,a+n-l,s,a+l,u,v,p)||as(s+r-l,a+l,l,1.5*Math.PI,2*Math.PI,u,v,p)||as(s+r-l,a+n-l,l,0,.5*Math.PI,u,v,p)||as(s+l,a+n-l,l,.5*Math.PI,Math.PI,u,v,p)||as(s+l,a+l,l,Math.PI,1.5*Math.PI,u,v,p)}var mg=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.isInStrokeOrPath=function(r,n,l,u,v){var p=this.attr(),y=p.x,C=p.y,T=p.width,_=p.height,L=p.radius;if(L){var U=!1;return l&&(U=yg(y,C,T,_,L,v,r,n)),!U&&u&&(U=Lf(this,r,n)),U}else{var B=v/2;if(u&&l)return eo(y-B,C-B,T+B,_+B,r,n);if(u)return eo(y,C,T,_,r,n);if(l)return gg(y,C,T,_,v,r,n)}},a.prototype.createPath=function(r){var n=this.attr(),l=n.x,u=n.y,v=n.width,p=n.height,y=n.radius;if(r.beginPath(),y===0)r.rect(l,u,v,p);else{var C=Cf(y),T=C[0],_=C[1],L=C[2],B=C[3];r.moveTo(l+T,u),r.lineTo(l+v-_,u),_!==0&&r.arc(l+v-_,u+_,_,-Math.PI/2,0),r.lineTo(l+v,u+p-L),L!==0&&r.arc(l+v-L,u+p-L,L,0,Math.PI/2),r.lineTo(l+B,u+p),B!==0&&r.arc(l+B,u+p-B,B,Math.PI/2,Math.PI),r.lineTo(l,u+T),T!==0&&r.arc(l+T,u+T,T,Math.PI,Math.PI*1.5),r.closePath()}},a}(fa),xg=mg,bg=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.isOnlyHitBox=function(){return!0},a.prototype.initAttrs=function(r){this._assembleFont(),r.text&&this._setText(r.text)},a.prototype._assembleFont=function(){var r=this.attrs;r.font=(0,at.assembleFont)(r)},a.prototype._setText=function(r){var n=null;(0,m.HD)(r)&&r.indexOf(`
`)!==-1&&(n=r.split(`
`)),this.set("textArr",n)},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),r.startsWith("font")&&this._assembleFont(),r==="text"&&this._setText(n)},a.prototype._getSpaceingY=function(){var r=this.attrs,n=r.lineHeight,l=r.fontSize*1;return n?n-l:l*.14},a.prototype._drawTextArr=function(r,n,l){var u=this.attrs,v=u.textBaseline,p=u.x,y=u.y,C=u.fontSize*1,T=this._getSpaceingY(),_=(0,at.getTextHeight)(u.text,u.fontSize,u.lineHeight),L;(0,m.S6)(n,function(B,U){L=y+U*(T+C)-_+C,v==="middle"&&(L+=_-C-(_-C)/2),v==="top"&&(L+=_-C),(0,m.UM)(B)||(l?r.fillText(B,p,L):r.strokeText(B,p,L))})},a.prototype._drawText=function(r,n){var l=this.attr(),u=l.x,v=l.y,p=this.get("textArr");if(p)this._drawTextArr(r,p,n);else{var y=l.text;(0,m.UM)(y)||(n?r.fillText(y,u,v):r.strokeText(y,u,v))}},a.prototype.strokeAndFill=function(r){var n=this.attrs,l=n.lineWidth,u=n.opacity,v=n.strokeOpacity,p=n.fillOpacity;this.isStroke()&&l>0&&(!(0,m.UM)(v)&&v!==1&&(r.globalAlpha=u),this.stroke(r)),this.isFill()&&(!(0,m.UM)(p)&&p!==1?(r.globalAlpha=p,this.fill(r),r.globalAlpha=u):this.fill(r)),this.afterDrawPath(r)},a.prototype.fill=function(r){this._drawText(r,!0)},a.prototype.stroke=function(r){this._drawText(r,!1)},a}(fa),wg=bg;function Sg(s,a){if(a){var r=(0,at.invert)(a);return(0,at.multiplyVec2)(r,s)}return s}function Vf(s,a,r){var n=s.getTotalMatrix();if(n){var l=Sg([a,r,1],n),u=l[0],v=l[1];return[u,v]}return[a,r]}function Cg(s,a,r){if(s.isCanvas&&s.isCanvas())return!0;if(!(0,at.isAllowCapture)(s)||s.cfg.isInView===!1)return!1;if(s.cfg.clipShape){var n=Vf(s,a,r),l=n[0],u=n[1];if(s.isClipped(l,u))return!1}var v=s.cfg.cacheCanvasBBox||s.getCanvasBBox();return a>=v.minX&&a<=v.maxX&&r>=v.minY&&r<=v.maxY}function Hi(s,a,r){if(!Cg(s,a,r))return null;for(var n=null,l=s.getChildren(),u=l.length,v=u-1;v>=0;v--){var p=l[v];if(p.isGroup())n=Hi(p,a,r);else if(Cg(p,a,r)){var y=p,C=Vf(p,a,r),T=C[0],_=C[1];y.isInShape(T,_)&&(n=p)}if(n)break}return n}var Gl=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var r=s.prototype.getDefaultCfg.call(this);return r.renderer="canvas",r.autoDraw=!0,r.localRefresh=!0,r.refreshElements=[],r.clipView=!0,r.quickHit=!1,r},a.prototype.onCanvasChange=function(r){(r==="attr"||r==="sort"||r==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},a.prototype.getShapeBase=function(){return ce},a.prototype.getGroupBase=function(){return oc},a.prototype.getPixelRatio=function(){var r=this.get("pixelRatio")||$u();return r>=1?Math.ceil(r):1},a.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},a.prototype.createDom=function(){var r=document.createElement("canvas"),n=r.getContext("2d");return this.set("context",n),r},a.prototype.setDOMSize=function(r,n){s.prototype.setDOMSize.call(this,r,n);var l=this.get("context"),u=this.get("el"),v=this.getPixelRatio();u.width=v*r,u.height=v*n,v>1&&l.scale(v,v)},a.prototype.clear=function(){s.prototype.clear.call(this),this._clearFrame();var r=this.get("context"),n=this.get("el");r.clearRect(0,0,n.width,n.height)},a.prototype.getShape=function(r,n){var l;return this.get("quickHit")?l=Hi(this,r,n):l=s.prototype.getShape.call(this,r,n,null),l},a.prototype._getRefreshRegion=function(){var r=this.get("refreshElements"),n=this.getViewRange(),l;if(r.length&&r[0]===this)l=n;else if(l=ag(r),l){l.minX=Math.floor(l.minX),l.minY=Math.floor(l.minY),l.maxX=Math.ceil(l.maxX),l.maxY=Math.ceil(l.maxY),l.maxY+=1;var u=this.get("clipView");u&&(l=og(l,n))}return l},a.prototype.refreshElement=function(r){var n=this.get("refreshElements");n.push(r)},a.prototype._clearFrame=function(){var r=this.get("drawFrame");r&&((0,m.VS)(r),this.set("drawFrame",null),this.set("refreshElements",[]))},a.prototype.draw=function(){var r=this.get("drawFrame");this.get("autoDraw")&&r||this._startDraw()},a.prototype._drawAll=function(){var r=this.get("context"),n=this.get("el"),l=this.getChildren();r.clearRect(0,0,n.width,n.height),is(r,this),nc(r,l),this.set("refreshElements",[])},a.prototype._drawRegion=function(){var r=this.get("context"),n=this.get("refreshElements"),l=this.getChildren(),u=this._getRefreshRegion();u?(r.clearRect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),r.save(),r.beginPath(),r.rect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),r.clip(),is(r,this),ic(this,l,u),nc(r,l,u),r.restore()):n.length&&Af(n),(0,m.S6)(n,function(v){v.get("hasChanged")&&v.set("hasChanged",!1)}),this.set("refreshElements",[])},a.prototype._startDraw=function(){var r=this,n=this.get("drawFrame");n||(n=(0,m.U7)(function(){r.get("localRefresh")?r._drawRegion():r._drawAll(),r.set("drawFrame",null)}),this.set("drawFrame",n))},a.prototype.skipDraw=function(){},a.prototype.removeDom=function(){var r=this.get("el");r.width=0,r.height=0,r.parentNode.removeChild(r)},a}(at.AbstractCanvas),cc=Gl,hc="0.5.12",fc={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},tn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},py=null;function Qi(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function vc(s){var a=fc[s.type],r=s.getParent();if(!a)throw new Error("the type "+s.type+" is not supported by svg");var n=Qi(a);if(s.get("id")&&(n.id=s.get("id")),s.set("el",n),s.set("attrs",{}),r){var l=r.get("el");l||(l=r.createDom(),r.set("el",l)),l.appendChild(n)}return n}function Uf(s,a){var r=s.get("el"),n=(0,m.qo)(r.children).sort(a),l=document.createDocumentFragment();n.forEach(function(u){l.appendChild(u)}),r.appendChild(l)}function Mg(s,a){var r=s.parentNode,n=Array.from(r.childNodes).filter(function(p){return p.nodeType===1&&p.nodeName.toLowerCase()!=="defs"}),l=n[a],u=n.indexOf(s);if(l){if(u>a)r.insertBefore(s,l);else if(u<a){var v=n[a+1];v?r.insertBefore(s,v):r.appendChild(s)}}else r.appendChild(s)}function Tg(s,a){var r=s.cfg.el,n=s.attr(),l={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!l.dx&&!l.dy&&!l.blur&&!l.color)r.removeAttribute("filter");else{var u=a.find("filter",l);u||(u=a.addShadow(l)),r.setAttribute("filter","url(#"+u+")")}}function Ys(s){var a=s.attr().matrix;if(a){for(var r=s.cfg.el,n=[],l=0;l<9;l+=3)n.push(a[l]+","+a[l+1]);n=n.join(","),n.indexOf("NaN")===-1?r.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",a)}}function Hs(s,a){var r=s.getClip(),n=s.get("el");if(!r)n.removeAttribute("clip-path");else if(r&&!n.hasAttribute("clip-path")){vc(r),r.createPath(a);var l=a.addClip(r);n.setAttribute("clip-path","url(#"+l+")")}}function Wf(s,a){a.forEach(function(r){r.draw(s)})}function Yf(s,a){var r=s.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context"),l=s.getParent(),u=l?l.getChildren():[r],v=s.get("el");if(a==="remove"){var p=s.get("isClipShape");if(p){var y=v&&v.parentNode,C=y&&y.parentNode;y&&C&&C.removeChild(y)}else v&&v.parentNode&&v.parentNode.removeChild(v)}else if(a==="show")v.setAttribute("visibility","visible");else if(a==="hide")v.setAttribute("visibility","hidden");else if(a==="zIndex")Mg(v,u.indexOf(s));else if(a==="sort"){var T=s.get("children");T&&T.length&&Uf(s,function(_,L){return T.indexOf(_)-T.indexOf(L)?1:0})}else a==="clear"?v&&(v.innerHTML=""):a==="matrix"?Ys(s):a==="clip"?Hs(s,n):a==="attr"||a==="add"&&s.draw(n)}}var Ag=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.isEntityGroup=function(){return!0},a.prototype.createDom=function(){var r=Qi("g");this.set("el",r);var n=this.getParent();if(n){var l=n.get("el");l||(l=n.createDom(),n.set("el",l)),l.appendChild(r)}return r},a.prototype.afterAttrsChange=function(r){s.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var l=n.get("context");this.createPath(l,r)}},a.prototype.onCanvasChange=function(r){Yf(this,r)},a.prototype.getShapeBase=function(){return de},a.prototype.getGroupBase=function(){return a},a.prototype.draw=function(r){var n=this.getChildren(),l=this.get("el");this.get("destroyed")?l&&l.parentNode.removeChild(l):(l||this.createDom(),Hs(this,r),this.createPath(r),n.length&&Wf(r,n))},a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){tn[p]&&u.setAttribute(tn[p],v)}),Ys(this)},a}(at.AbstractGroup),Hf=Ag,dc=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="svg",r.canFill=!1,r.canStroke=!1,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.afterAttrsChange=function(r){s.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var l=n.get("context");this.draw(l,r)}},a.prototype.getShapeBase=function(){return de},a.prototype.getGroupBase=function(){return Hf},a.prototype.onCanvasChange=function(r){Yf(this,r)},a.prototype.calculateBBox=function(){var r=this.get("el"),n=null;if(r)n=r.getBBox();else{var l=(0,at.getBBoxMethod)(this.get("type"));l&&(n=l(this))}if(n){var u=n.x,v=n.y,p=n.width,y=n.height,C=this.getHitLineWidth(),T=C/2,_=u-T,L=v-T,B=u+p+T,U=v+y+T;return{x:_,y:L,minX:_,minY:L,maxX:B,maxY:U,width:p+C,height:y+C}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},a.prototype.isFill=function(){var r=this.attr(),n=r.fill,l=r.fillStyle;return(n||l||this.isClipShape())&&this.canFill},a.prototype.isStroke=function(){var r=this.attr(),n=r.stroke,l=r.strokeStyle;return(n||l)&&this.canStroke},a.prototype.draw=function(r,n){var l=this.get("el");this.get("destroyed")?l&&l.parentNode.removeChild(l):(l||vc(this),Hs(this,r),this.createPath(r,n),this.shadow(r,n),this.strokeAndFill(r,n),this.transform(n))},a.prototype.createPath=function(r,n){},a.prototype.strokeAndFill=function(r,n){var l=n||this.attr(),u=l.fill,v=l.fillStyle,p=l.stroke,y=l.strokeStyle,C=l.fillOpacity,T=l.strokeOpacity,_=l.lineWidth,L=this.get("el");this.canFill&&(n?"fill"in l?this._setColor(r,"fill",u):"fillStyle"in l&&this._setColor(r,"fill",v):this._setColor(r,"fill",u||v),C&&L.setAttribute(tn.fillOpacity,C)),this.canStroke&&_>0&&(n?"stroke"in l?this._setColor(r,"stroke",p):"strokeStyle"in l&&this._setColor(r,"stroke",y):this._setColor(r,"stroke",p||y),T&&L.setAttribute(tn.strokeOpacity,T),_&&L.setAttribute(tn.lineWidth,_))},a.prototype._setColor=function(r,n,l){var u=this.get("el");if(!l){u.setAttribute(tn[n],"none");return}if(l=l.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(l)){var v=r.find("gradient",l);v||(v=r.addGradient(l)),u.setAttribute(tn[n],"url(#"+v+")")}else if(/^[p,P]{1}[\s]*\(/.test(l)){var v=r.find("pattern",l);v||(v=r.addPattern(l)),u.setAttribute(tn[n],"url(#"+v+")")}else u.setAttribute(tn[n],l)},a.prototype.shadow=function(r,n){var l=this.attr(),u=n||l,v=u.shadowOffsetX,p=u.shadowOffsetY,y=u.shadowBlur,C=u.shadowColor;(v||p||y||C)&&Tg(this,r)},a.prototype.transform=function(r){var n=this.attr(),l=(r||n).matrix;l&&Ys(this)},a.prototype.isInShape=function(r,n){return this.isPointInPath(r,n)},a.prototype.isPointInPath=function(r,n){var l=this.get("el"),u=this.get("canvas"),v=u.get("el").getBoundingClientRect(),p=r+v.left,y=n+v.top,C=document.elementFromPoint(p,y);return!!(C&&C.isEqualNode(l))},a.prototype.getHitLineWidth=function(){var r=this.attrs,n=r.lineWidth,l=r.lineAppendWidth;return this.isStroke()?n+l:0},a}(at.AbstractShape),ta=dc,Eg=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="circle",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,r:0})},a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){p==="x"||p==="y"?u.setAttribute("c"+p,v):tn[p]&&u.setAttribute(tn[p],v)})},a}(ta),_g=Eg,Pg=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="dom",r.canFill=!1,r.canStroke=!1,r}return a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");if((0,m.S6)(n||l,function(C,T){tn[T]&&u.setAttribute(tn[T],C)}),typeof l.html=="function"){var v=l.html.call(this,l);if(v instanceof Element||v instanceof HTMLDocument){for(var p=u.childNodes,y=p.length-1;y>=0;y--)u.removeChild(p[y]);u.appendChild(v)}else u.innerHTML=v}else u.innerHTML=l.html},a}(ta),pc=Pg,Gs=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="ellipse",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,rx:0,ry:0})},a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){p==="x"||p==="y"?u.setAttribute("c"+p,v):tn[p]&&u.setAttribute(tn[p],v)})},a}(ta),Xl=Gs,Ig=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="image",r.canFill=!1,r.canStroke=!1,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,width:0,height:0})},a.prototype.createPath=function(r,n){var l=this,u=this.attr(),v=this.get("el");(0,m.S6)(n||u,function(p,y){y==="img"?l._setImage(u.img):tn[y]&&v.setAttribute(tn[y],p)})},a.prototype.setAttr=function(r,n){this.attrs[r]=n,r==="img"&&this._setImage(n)},a.prototype._setImage=function(r){var n=this.attr(),l=this.get("el");if((0,m.HD)(r))l.setAttribute("href",r);else if(r instanceof window.Image)n.width||(l.setAttribute("width",r.width),this.attr("width",r.width)),n.height||(l.setAttribute("height",r.height),this.attr("height",r.height)),l.setAttribute("href",r.src);else if(r instanceof HTMLElement&&(0,m.HD)(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS")l.setAttribute("href",r.toDataURL());else if(r instanceof ImageData){var u=document.createElement("canvas");u.setAttribute("width",""+r.width),u.setAttribute("height",""+r.height),u.getContext("2d").putImageData(r,0,0),n.width||(l.setAttribute("width",""+r.width),this.attr("width",r.width)),n.height||(l.setAttribute("height",""+r.height),this.attr("height",r.height)),l.setAttribute("href",u.toDataURL())}},a}(ta),Fg=Ig,Gf=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="line",r.canFill=!1,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){if(p==="startArrow"||p==="endArrow")if(v){var y=(0,m.Kn)(v)?r.addArrow(l,tn[p]):r.getDefaultArrow(l,tn[p]);u.setAttribute(tn[p],"url(#"+y+")")}else u.removeAttribute(tn[p]);else tn[p]&&u.setAttribute(tn[p],v)})},a.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,l=r.y1,u=r.x2,v=r.y2;return kn.x1.length(n,l,u,v)},a.prototype.getPoint=function(r){var n=this.attr(),l=n.x1,u=n.y1,v=n.x2,p=n.y2;return kn.x1.pointAt(l,u,v,p,r)},a}(ta),kg=Gf,Zl={circle:function(s,a,r){return[["M",s,a],["m",-r,0],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0]]},square:function(s,a,r){return[["M",s-r,a-r],["L",s+r,a-r],["L",s+r,a+r],["L",s-r,a+r],["Z"]]},diamond:function(s,a,r){return[["M",s-r,a],["L",s,a-r],["L",s+r,a],["L",s,a+r],["Z"]]},triangle:function(s,a,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",s-r,a+n],["L",s,a-n],["L",s+r,a+n],["z"]]},triangleDown:function(s,a,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",s-r,a-n],["L",s+r,a-n],["L",s,a+n],["Z"]]}},Xf={get:function(s){return Zl[s]},register:function(s,a){Zl[s]=a},remove:function(s){delete Zl[s]},getAll:function(){return Zl}},Dg=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="marker",r.canFill=!0,r.canStroke=!0,r}return a.prototype.createPath=function(r){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},a.prototype._assembleMarker=function(){var r=this._getPath();return(0,m.kJ)(r)?r.map(function(n){return n.join(" ")}).join(""):r},a.prototype._getPath=function(){var r=this.attr(),n=r.x,l=r.y,u=r.r||r.radius,v=r.symbol||"circle",p;return(0,m.mf)(v)?p=v:p=Xf.get(v),p?p(n,l,u):(console.warn(p+" symbol is not exist."),null)},a.symbolsFactory=Xf,a}(ta),Lg=Dg,Og=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="path",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{startArrow:!1,endArrow:!1})},a.prototype.createPath=function(r,n){var l=this,u=this.attr(),v=this.get("el");(0,m.S6)(n||u,function(p,y){if(y==="path"&&(0,m.kJ)(p))v.setAttribute("d",l._formatPath(p));else if(y==="startArrow"||y==="endArrow")if(p){var C=(0,m.Kn)(p)?r.addArrow(u,tn[y]):r.getDefaultArrow(u,tn[y]);v.setAttribute(tn[y],"url(#"+C+")")}else v.removeAttribute(tn[y]);else tn[y]&&v.setAttribute(tn[y],p)})},a.prototype._formatPath=function(r){var n=r.map(function(l){return l.join(" ")}).join("");return~n.indexOf("NaN")?"":n},a.prototype.getTotalLength=function(){var r=this.get("el");return r?r.getTotalLength():null},a.prototype.getPoint=function(r){var n=this.get("el"),l=this.getTotalLength();if(l===0)return null;var u=n?n.getPointAtLength(r*l):null;return u?{x:u.x,y:u.y}:null},a}(ta),Bg=Og,Zf=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="polygon",r.canFill=!0,r.canStroke=!0,r}return a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){p==="points"&&(0,m.kJ)(v)&&v.length>=2?u.setAttribute("points",v.map(function(y){return y[0]+","+y[1]}).join(" ")):tn[p]&&u.setAttribute(tn[p],v)})},a}(ta),Rg=Zf,jf=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="polyline",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{startArrow:!1,endArrow:!1})},a.prototype.onAttrChange=function(r,n,l){s.prototype.onAttrChange.call(this,r,n,l),["points"].indexOf(r)!==-1&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.createPath=function(r,n){var l=this.attr(),u=this.get("el");(0,m.S6)(n||l,function(v,p){p==="points"&&(0,m.kJ)(v)&&v.length>=2?u.setAttribute("points",v.map(function(y){return y[0]+","+y[1]}).join(" ")):tn[p]&&u.setAttribute(tn[p],v)})},a.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return(0,m.UM)(n)?(this.set("totalLength",kn.aH.length(r)),this.get("totalLength")):n},a.prototype.getPoint=function(r){var n=this.attr().points,l=this.get("tCache");l||(this._setTcache(),l=this.get("tCache"));var u,v;return(0,m.S6)(l,function(p,y){r>=p[0]&&r<=p[1]&&(u=(r-p[0])/(p[1]-p[0]),v=y)}),kn.x1.pointAt(n[v][0],n[v][1],n[v+1][0],n[v+1][1],u)},a.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var l=0,u=[],v,p;(0,m.S6)(r,function(y,C){r[C+1]&&(v=[],v[0]=l/n,p=kn.x1.length(y[0],y[1],r[C+1][0],r[C+1][1]),l+=p,v[1]=l/n,u.push(v))}),this.set("tCache",u)}}},a.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},a.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,l=[];return l.push([r[n-1][0],r[n-1][1]]),l.push([r[n][0],r[n][1]]),l},a}(ta),Ng=jf,Ia=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,zg=/[^\s,]+/gi;function Vg(s){var a=0,r=0,n=0,l=0;return(0,m.kJ)(s)?s.length===1?a=r=n=l=s[0]:s.length===2?(a=n=s[0],r=l=s[1]):s.length===3?(a=s[0],r=l=s[1],n=s[2]):(a=s[0],r=s[1],n=s[2],l=s[3]):a=r=n=l=s,{r1:a,r2:r,r3:n,r4:l}}function Ug(s){if(s=s||[],isArray(s))return s;if(isString(s))return s=s.match(Ia),each(s,function(a,r){if(a=a.match(zg),a[0].length>1){var n=a[0].charAt(0);a.splice(1,0,a[0].substr(1)),a[0]=n}each(a,function(l,u){isNaN(l)||(a[u]=+l)}),s[r]=a}),s}var Wg=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="rect",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.createPath=function(r,n){var l=this,u=this.attr(),v=this.get("el"),p=!1,y=["x","y","width","height","radius"];(0,m.S6)(n||u,function(C,T){y.indexOf(T)!==-1&&!p?(v.setAttribute("d",l._assembleRect(u)),p=!0):y.indexOf(T)===-1&&tn[T]&&v.setAttribute(tn[T],C)})},a.prototype._assembleRect=function(r){var n=r.x,l=r.y,u=r.width,v=r.height,p=r.radius;if(!p)return"M "+n+","+l+" l "+u+",0 l 0,"+v+" l"+-u+" 0 z";var y=Vg(p);(0,m.kJ)(p)?p.length===1?y.r1=y.r2=y.r3=y.r4=p[0]:p.length===2?(y.r1=y.r3=p[0],y.r2=y.r4=p[1]):p.length===3?(y.r1=p[0],y.r2=y.r4=p[1],y.r3=p[2]):(y.r1=p[0],y.r2=p[1],y.r3=p[2],y.r4=p[3]):y.r1=y.r2=y.r3=y.r4=p;var C=[["M "+(n+y.r1)+","+l],["l "+(u-y.r1-y.r2)+",0"],["a "+y.r2+","+y.r2+",0,0,1,"+y.r2+","+y.r2],["l 0,"+(v-y.r2-y.r3)],["a "+y.r3+","+y.r3+",0,0,1,"+-y.r3+","+y.r3],["l "+(y.r3+y.r4-u)+",0"],["a "+y.r4+","+y.r4+",0,0,1,"+-y.r4+","+-y.r4],["l 0,"+(y.r4+y.r1-v)],["a "+y.r1+","+y.r1+",0,0,1,"+y.r1+","+-y.r1],["z"]];return C.join(" ")},a}(ta),Yg=Wg,Hg=H(43631),$f=.3,Gg={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Xg={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Zg={left:"left",start:"left",center:"middle",right:"end",end:"end"},jg=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="text",r.canFill=!0,r.canStroke=!0,r}return a.prototype.getDefaultAttrs=function(){var r=s.prototype.getDefaultAttrs.call(this);return(0,I.pi)((0,I.pi)({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.createPath=function(r,n){var l=this,u=this.attr(),v=this.get("el");this._setFont(),(0,m.S6)(n||u,function(p,y){y==="text"?l._setText(""+p):y==="matrix"&&p?Ys(l):tn[y]&&v.setAttribute(tn[y],p)}),v.setAttribute("paint-order","stroke"),v.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},a.prototype._setFont=function(){var r=this.get("el"),n=this.attr(),l=n.textBaseline,u=n.textAlign,v=(0,Hg.qY)();v&&v.name==="firefox"?r.setAttribute("dominant-baseline",Xg[l]||"alphabetic"):r.setAttribute("alignment-baseline",Gg[l]||"baseline"),r.setAttribute("text-anchor",Zg[u]||"left")},a.prototype._setText=function(r){var n=this.get("el"),l=this.attr(),u=l.x,v=l.textBaseline,p=v===void 0?"bottom":v;if(!r)n.innerHTML="";else if(~r.indexOf(`
`)){var y=r.split(`
`),C=y.length-1,T="";(0,m.S6)(y,function(_,L){L===0?p==="alphabetic"?T+='<tspan x="'+u+'" dy="'+-C+'em">'+_+"</tspan>":p==="top"?T+='<tspan x="'+u+'" dy="0.9em">'+_+"</tspan>":p==="middle"?T+='<tspan x="'+u+'" dy="'+-(C-1)/2+'em">'+_+"</tspan>":p==="bottom"?T+='<tspan x="'+u+'" dy="-'+(C+$f)+'em">'+_+"</tspan>":p==="hanging"&&(T+='<tspan x="'+u+'" dy="'+(-(C-1)-$f)+'em">'+_+"</tspan>"):T+='<tspan x="'+u+'" dy="1em">'+_+"</tspan>"}),n.innerHTML=T}else n.innerHTML=r},a}(ta),$g=jg,Kg=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qg=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Jg=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Kf(s){var a=s.match(Jg);if(!a)return"";var r="";return a.sort(function(n,l){return n=n.split(":"),l=l.split(":"),Number(n[0])-Number(l[0])}),(0,m.S6)(a,function(n){n=n.split(":"),r+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),r}function Qg(s,a){var r=Kg.exec(s),n=(0,m.wQ)((0,m.c$)(parseFloat(r[1])),Math.PI*2),l=r[2],u,v;n>=0&&n<.5*Math.PI?(u={x:0,y:0},v={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(u={x:1,y:0},v={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(u={x:1,y:1},v={x:0,y:0}):(u={x:0,y:1},v={x:1,y:0});var p=Math.tan(n),y=p*p,C=(v.x-u.x+p*(v.y-u.y))/(y+1)+u.x,T=p*(v.x-u.x+p*(v.y-u.y))/(y+1)+u.y;a.setAttribute("x1",u.x),a.setAttribute("y1",u.y),a.setAttribute("x2",C),a.setAttribute("y2",T),a.innerHTML=Kf(l)}function gy(s,a){var r=qg.exec(s),n=parseFloat(r[1]),l=parseFloat(r[2]),u=parseFloat(r[3]),v=r[4];a.setAttribute("cx",n),a.setAttribute("cy",l),a.setAttribute("r",u),a.innerHTML=Kf(v)}var yy=function(){function s(a){this.cfg={};var r=null,n=(0,m.EL)("gradient_");return a.toLowerCase()[0]==="l"?(r=Qi("linearGradient"),Qg(a,r)):(r=Qi("radialGradient"),gy(a,r)),r.setAttribute("id",n),this.el=r,this.id=n,this.cfg=a,this}return s.prototype.match=function(a,r){return this.cfg===r},s}(),my=yy,xy={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},h={x:"-40%",y:"-40%",width:"200%",height:"200%"},f=function(){function s(a){this.type="filter",this.cfg={},this.type="filter";var r=Qi("filter");return(0,m.S6)(h,function(n,l){r.setAttribute(l,n)}),this.el=r,this.id=(0,m.EL)("filter_"),this.el.id=this.id,this.cfg=a,this._parseShadow(a,r),this}return s.prototype.match=function(a,r){if(this.type!==a)return!1;var n=!0,l=this.cfg;return(0,m.S6)(Object.keys(l),function(u){if(l[u]!==r[u])return n=!1,!1}),n},s.prototype.update=function(a,r){var n=this.cfg;return n[xy[a]]=r,this._parseShadow(n,this.el),this},s.prototype._parseShadow=function(a,r){var n=`<feDropShadow
      dx="`+(a.dx||0)+`"
      dy="`+(a.dy||0)+`"
      stdDeviation="`+(a.blur?a.blur/10:0)+`"
      flood-color="`+(a.color?a.color:"#000")+`"
      flood-opacity="`+(a.opacity?a.opacity:1)+`"
      />`;r.innerHTML=n},s}(),d=f,g=function(){function s(a,r){this.cfg={};var n=Qi("marker"),l=(0,m.EL)("marker_");n.setAttribute("id",l);var u=Qi("path");u.setAttribute("stroke",a.stroke||"none"),u.setAttribute("fill",a.fill||"none"),n.appendChild(u),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=u,this.id=l;var v=a[r==="marker-start"?"startArrow":"endArrow"];return this.stroke=a.stroke||"#000",v===!0?this._setDefaultPath(r,u):(this.cfg=v,this._setMarker(a.lineWidth,u)),this}return s.prototype.match=function(){return!1},s.prototype._setDefaultPath=function(a,r){var n=this.el;r.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},s.prototype._setMarker=function(a,r){var n=this.el,l=this.cfg.path,u=this.cfg.d;(0,m.kJ)(l)&&(l=l.map(function(v){return v.join(" ")}).join("")),r.setAttribute("d",l),n.appendChild(r),u&&n.setAttribute("refX",""+u/a)},s.prototype.update=function(a){var r=this.child;r.attr?r.attr("fill",a):r.setAttribute("fill",a)},s}(),x=g,w=function(){function s(a){this.type="clip",this.cfg={};var r=Qi("clipPath");this.el=r,this.id=(0,m.EL)("clip_"),r.id=this.id;var n=a.cfg.el;return r.appendChild(n),this.cfg=a,this}return s.prototype.match=function(){return!1},s.prototype.remove=function(){var a=this.el;a.parentNode.removeChild(a)},s}(),M=w,F=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,k=function(){function s(a){this.cfg={};var r=Qi("pattern");r.setAttribute("patternUnits","userSpaceOnUse");var n=Qi("image");r.appendChild(n);var l=(0,m.EL)("pattern_");r.id=l,this.el=r,this.id=l,this.cfg=a;var u=F.exec(a),v=u[2];n.setAttribute("href",v);var p=new Image;v.match(/^data:/i)||(p.crossOrigin="Anonymous"),p.src=v;function y(){r.setAttribute("width",""+p.width),r.setAttribute("height",""+p.height)}return p.complete?y():(p.onload=y,p.src=p.src),this}return s.prototype.match=function(a,r){return this.cfg===r},s}(),D=k,z=function(){function s(a){var r=Qi("defs"),n=(0,m.EL)("defs_");r.id=n,a.appendChild(r),this.children=[],this.defaultArrow={},this.el=r,this.canvas=a}return s.prototype.find=function(a,r){for(var n=this.children,l=null,u=0;u<n.length;u++)if(n[u].match(a,r)){l=n[u].id;break}return l},s.prototype.findById=function(a){for(var r=this.children,n=null,l=0;l<r.length;l++)if(r[l].id===a){n=r[l];break}return n},s.prototype.add=function(a){this.children.push(a),a.canvas=this.canvas,a.parent=this},s.prototype.getDefaultArrow=function(a,r){var n=a.stroke||a.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var l=new x(a,r);return this.defaultArrow[n]=l,this.el.appendChild(l.el),this.add(l),l.id},s.prototype.addGradient=function(a){var r=new my(a);return this.el.appendChild(r.el),this.add(r),r.id},s.prototype.addArrow=function(a,r){var n=new x(a,r);return this.el.appendChild(n.el),this.add(n),n.id},s.prototype.addShadow=function(a){var r=new d(a);return this.el.appendChild(r.el),this.add(r),r.id},s.prototype.addPattern=function(a){var r=new D(a);return this.el.appendChild(r.el),this.add(r),r.id},s.prototype.addClip=function(a){var r=new M(a);return this.el.appendChild(r.el),this.add(r),r.id},s}(),X=z,Y=function(s){(0,I.ZT)(a,s);function a(r){return s.call(this,(0,I.pi)((0,I.pi)({},r),{autoDraw:!0,renderer:"svg"}))||this}return a.prototype.getShapeBase=function(){return de},a.prototype.getGroupBase=function(){return Hf},a.prototype.getShape=function(r,n,l){var u=l.target||l.srcElement;if(!fc[u.tagName]){for(var v=u.parentNode;v&&!fc[v.tagName];)v=v.parentNode;u=v}return this.find(function(p){return p.get("el")===u})},a.prototype.createDom=function(){var r=Qi("svg"),n=new X(r);return r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")),this.set("context",n),r},a.prototype.onCanvasChange=function(r){var n=this.get("context"),l=this.get("el");if(r==="sort"){var u=this.get("children");u&&u.length&&Uf(this,function(p,y){return u.indexOf(p)-u.indexOf(y)?1:0})}else if(r==="clear"){if(l){l.innerHTML="";var v=n.el;v.innerHTML="",l.appendChild(v)}}else r==="matrix"?Ys(this):r==="clip"?Hs(this,n):r==="changeSize"&&(l.setAttribute("width",""+this.get("width")),l.setAttribute("height",""+this.get("height")))},a.prototype.draw=function(){var r=this.get("context"),n=this.getChildren();Hs(this,r),n.length&&Wf(r,n)},a}(at.AbstractCanvas),rt=Y,bt="0.5.6",_t=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.type="path",n.shapeType="line";var l=r.connectNulls,u=l===void 0?!1:l,v=r.showSinglePoint,p=v===void 0?!0:v;return n.connectNulls=u,n.showSinglePoint=p,n}return a.prototype.updateElements=function(r,n){var l,u,v,p,y,C;n===void 0&&(n=!1);for(var T=new Map,_=new Map,L=[],B=0,U=0;U<r.length;U++){var nt=r[U],pt=this.getElementId(nt);L.push(pt),T.set(pt,nt),_.set(pt,B),B++}this.elements=new Array(B);var Mt=El(this.lastElementsMap,L),Yt=Mt.added,Gt=Mt.updated,te=Mt.removed;try{for(var Me=(0,I.XA)(Yt),Ne=Me.next();!Ne.done;Ne=Me.next()){var pt=Ne.value,nt=T.get(pt),Ye=this.getShapeFactory(),Xe=this.getShapeInfo(nt),U=_.get(pt),Ke=new Nu({shapeFactory:Ye,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:U});Ke.geometry=this,Ke.animate=this.animateOption,Ke.draw(Xe,n),this.elementsMap[pt]=Ke,this.elements[U]=Ke}}catch(vn){l={error:vn}}finally{try{Ne&&!Ne.done&&(u=Me.return)&&u.call(Me)}finally{if(l)throw l.error}}try{for(var Qe=(0,I.XA)(Gt),xr=Qe.next();!xr.done;xr=Qe.next()){var pt=xr.value,nt=T.get(pt),Ke=this.lastElementsMap[pt],U=_.get(pt),Xe=this.getShapeInfo(nt),mr=Ke.getModel();(this.isCoordinateChanged||Al(mr,Xe))&&(Ke.animate=this.animateOption,Ke.update(Xe)),this.elementsMap[pt]=Ke,this.elements[U]=Ke}}catch(vn){v={error:vn}}finally{try{xr&&!xr.done&&(p=Qe.return)&&p.call(Qe)}finally{if(v)throw v.error}}try{for(var Lr=(0,I.XA)(te),Zr=Lr.next();!Zr.done;Zr=Lr.next()){var pt=Zr.value,Ke=this.lastElementsMap[pt];Ke.animate=this.animateOption,Ke.destroy()}}catch(vn){y={error:vn}}finally{try{Zr&&!Zr.done&&(C=Lr.return)&&C.call(Lr)}finally{if(y)throw y.error}}},a.prototype.getPointsAndData=function(r){for(var n=[],l=[],u=0,v=r.length;u<v;u++){var p=r[u];n.push({x:p.x,y:p.y}),l.push(p[ct])}return{points:n,data:l}},a.prototype.getShapeInfo=function(r){var n=this.getDrawCfg(r[0]),l=this.getPointsAndData(r),u=l.points,v=l.data;return n.mappingData=r,n.data=v,n.isStack=!!this.getAdjust("stack"),n.points=u,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},a}(Ja),Ut=_t;function Dt(s,a,r,n,l){var u=[];if(s.length){for(var v=[],p=[],y=0,C=s.length;y<C;y++){var T=s[y];v.push(T[1]),p.push(T[0])}p=p.reverse(),(0,m.S6)([v,p],function(_,L){var B=[],U=n.parsePoints(_),nt=U[0];v.length===1&&p.length===1?B=L===0?[["M",nt.x-.5,nt.y],["L",nt.x+.5,nt.y]]:[["L",nt.x+.5,nt.y],["L",nt.x-.5,nt.y]]:(a&&U.push({x:nt.x,y:nt.y}),r?B=dl(U,!1,l):B=Ps(U,!1),L>0&&(B[0][0]="L")),u=u.concat(B)}),u.push(["Z"])}return u}function Se(s,a,r,n,l){for(var u=_n(s,a,!a,"lineWidth"),v=s.connectNulls,p=s.isInCircle,y=s.points,C=s.showSinglePoint,T=Qa(y,v,C),_=[],L=0,B=T.length;L<B;L++){var U=T[L];_=_.concat(Dt(U,p,r,n,l))}return u.path=_,u}function ze(s){var a=s.start,r=s.end;return[[a.x,r.y],[r.x,a.y]]}var De=qa("area",{defaultShapeType:"area",getDefaultPoints:function(s){var a=s.x,r=s.y0,n=(0,m.kJ)(s.y)?s.y:[r,s.y];return n.map(function(l){return{x:a,y:l}})}});wn("area","area",{draw:function(s,a){var r=Se(s,!1,!1,this),n=a.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return l===void 0&&(l=5.5),[["M",r-l,n-4],["L",r+l,n-4],["L",r+l,n+4],["L",r-l,n+4],["Z"]]},style:{r:5,fill:a,fillOpacity:1}}}});var Re=null,ar=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var l=r.startOnZero,u=l===void 0?!0:l,v=r.sortable,p=v===void 0?!1:v,y=r.showSinglePoint,C=y===void 0?!1:y;return n.startOnZero=u,n.sortable=p,n.showSinglePoint=C,n}return a.prototype.getPointsAndData=function(r){for(var n=[],l=[],u=0,v=r.length;u<v;u++){var p=r[u];n.push(p.points),l.push(p[ct])}return{points:n,data:l}},a.prototype.getYMinValue=function(){if(this.startOnZero)return s.prototype.getYMinValue.call(this);var r=this.getYScale();return r.min},a}(Ut),pr=ar,Cr=qa("edge",{defaultShapeType:"line",getDefaultPoints:function(s){return Gu(s)}});wn("edge","line",{draw:function(s,a){var r=_n(s,!0,!1,"lineWidth"),n=Ps(this.parsePoints(s.points),this.coordinate.isPolar);return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n})})},getMarker:function(s){return{symbol:"circle",style:{r:4.5,fill:s.color}}}});var Gr=null,Fr=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="edge",r.shapeType="edge",r.generatePoints=!0,r}return a}(Ja),Ar=Fr,en=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="heatmap",r.paletteCache={},r}return a.prototype.updateElements=function(r,n){n===void 0&&(n=!1);for(var l=0;l<r.length;l++){var u=r[l],v=this.prepareRange(u),p=this.prepareSize(),y=(0,m.U2)(this.styleOption,["cfg","shadowBlur"]);(0,m.hj)(y)||(y=p/2),this.prepareGreyScaleBlurredCircle(p,y),this.drawWithRange(u,v,p,y)}},a.prototype.color=function(r,n){return this.createAttrOption("color",r,typeof n!="function"?n:""),this},a.prototype.clear=function(){s.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},a.prototype.prepareRange=function(r){var n=this.getAttribute("color"),l=n.getFields()[0],u=1/0,v=-1/0;return r.forEach(function(p){var y=p[ct][l];y>v&&(v=y),y<u&&(u=y)}),u===v&&(u=v-1),[u,v]},a.prototype.prepareSize=function(){var r=this.getDefaultValue("size");return(0,m.hj)(r)||(r=this.getDefaultSize()),r},a.prototype.prepareGreyScaleBlurredCircle=function(r,n){var l=this.getGrayScaleBlurredCanvas(),u=r+n,v=l.getContext("2d");l.width=l.height=u*2,v.clearRect(0,0,l.width,l.height),v.shadowOffsetX=v.shadowOffsetY=u*2,v.shadowBlur=n,v.shadowColor="black",v.beginPath(),v.arc(-u,-u,r,0,Math.PI*2,!0),v.closePath(),v.fill()},a.prototype.drawWithRange=function(r,n,l,u){var v,p,y=this.coordinate,C=y.start,T=y.end,_=this.coordinate.getWidth(),L=this.coordinate.getHeight(),B=this.getAttribute("color"),U=B.getFields()[0];this.clearShadowCanvasCtx();var nt=this.getShadowCanvasCtx();n&&(r=r.filter(function(Qe){return Qe[ct][U]<=n[1]&&Qe[ct][U]>=n[0]}));var pt=this.scales[U];try{for(var Mt=(0,I.XA)(r),Yt=Mt.next();!Yt.done;Yt=Mt.next()){var Gt=Yt.value,te=this.getDrawCfg(Gt),Me=te.x,Ne=te.y,Ye=pt.scale(Gt[ct][U]);this.drawGrayScaleBlurredCircle(Me-C.x,Ne-T.y,l+u,Ye,nt)}}catch(Qe){v={error:Qe}}finally{try{Yt&&!Yt.done&&(p=Mt.return)&&p.call(Mt)}finally{if(v)throw v.error}}var Xe=nt.getImageData(0,0,_,L);this.clearShadowCanvasCtx(),this.colorize(Xe),nt.putImageData(Xe,0,0);var Ke=this.getImageShape();Ke.attr("x",C.x),Ke.attr("y",T.y),Ke.attr("width",_),Ke.attr("height",L),Ke.attr("img",nt.canvas),Ke.set("origin",this.getShapeInfo(r))},a.prototype.getDefaultSize=function(){var r=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(r.scales[0].ticks.length*4),n.getHeight()/(r.scales[1].ticks.length*4))},a.prototype.clearShadowCanvasCtx=function(){var r=this.getShadowCanvasCtx();r.clearRect(0,0,r.canvas.width,r.canvas.height)},a.prototype.getShadowCanvasCtx=function(){var r=this.shadowCanvas;return r||(r=document.createElement("canvas"),this.shadowCanvas=r),r.width=this.coordinate.getWidth(),r.height=this.coordinate.getHeight(),r.getContext("2d")},a.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},a.prototype.drawGrayScaleBlurredCircle=function(r,n,l,u,v){var p=this.getGrayScaleBlurredCanvas();v.globalAlpha=u,v.drawImage(p,r-l,n-l)},a.prototype.colorize=function(r){for(var n=this.getAttribute("color"),l=r.data,u=this.paletteCache,v=3;v<l.length;v+=4){var p=l[v];if((0,m.hj)(p)){var y=u[p]?u[p]:hn.Z.rgb2arr(n.gradient(p/256));l[v-3]=y[0],l[v-2]=y[1],l[v-1]=y[2],l[v]=p}}},a.prototype.getImageShape=function(){var r=this.imageShape;if(r)return r;var n=this.container;return r=n.addShape({type:"image",attrs:{}}),this.imageShape=r,r},a.prototype.getShapeInfo=function(r){var n=this.getDrawCfg(r[0]),l=r.map(function(u){return u[ct]});return(0,I.pi)((0,I.pi)({},n),{mappingData:r,data:l})},a}(Ja),Mn=en;function yn(s){var a,r,n=s.x,l=s.y,u=s.y0,v=s.size,p,y;(0,m.kJ)(l)?(a=(0,I.CR)(l,2),p=a[0],y=a[1]):(p=u,y=l);var C,T;(0,m.kJ)(n)?(r=(0,I.CR)(n,2),C=r[0],T=r[1]):(C=n-v/2,T=n+v/2);var _=[{x:C,y:p},{x:C,y}];return _.push({x:T,y},{x:T,y:p}),_}function zn(s,a){a===void 0&&(a=!0);var r=[],n=s[0];r.push(["M",n.x,n.y]);for(var l=1,u=s.length;l<u;l++)r.push(["L",s[l].x,s[l].y]);return a&&(r.push(["L",n.x,n.y]),r.push(["z"])),r}function nr(s,a){var r=0,n=0,l=0,u=0;return(0,m.kJ)(s)?s.length===1?r=n=l=u=s[0]:s.length===2?(r=l=s[0],n=u=s[1]):s.length===3?(r=s[0],n=u=s[1],l=s[2]):(r=s[0],n=s[1],l=s[2],u=s[3]):r=n=l=u=s,r+n>a&&(r=r?a/(1+n/r):0,n=a-r),l+u>a&&(l=l?a/(1+u/l):0,u=a-l),[r||0,n||0,l||0,u||0]}function br(s,a,r){var n=[];if(r.isRect){var l=r.isTransposed?{x:r.start.x,y:a[0].y}:{x:a[0].x,y:r.start.y},u=r.isTransposed?{x:r.end.x,y:a[2].y}:{x:a[3].x,y:r.end.y},v=(0,m.U2)(s,["background","style","radius"]);if(v){var p=r.isTransposed?Math.abs(a[0].y-a[2].y):a[2].x-a[1].x,y=r.isTransposed?r.getWidth():r.getHeight(),C=(0,I.CR)(nr(v,Math.min(p,y)),4),T=C[0],_=C[1],L=C[2],B=C[3],U=r.isTransposed&&r.isReflect("y"),nt=U?0:1,pt=function(Ne){return U?-Ne:Ne};n.push(["M",l.x,u.y+pt(T)]),T!==0&&n.push(["A",T,T,0,0,nt,l.x+T,u.y]),n.push(["L",u.x-_,u.y]),_!==0&&n.push(["A",_,_,0,0,nt,u.x,u.y+pt(_)]),n.push(["L",u.x,l.y-pt(L)]),L!==0&&n.push(["A",L,L,0,0,nt,u.x-L,l.y]),n.push(["L",l.x+B,l.y]),B!==0&&n.push(["A",B,B,0,0,nt,l.x,l.y-pt(B)])}else n.push(["M",l.x,l.y]),n.push(["L",u.x,l.y]),n.push(["L",u.x,u.y]),n.push(["L",l.x,u.y]),n.push(["L",l.x,l.y]);n.push(["z"])}if(r.isPolar){var Mt=r.getCenter(),Yt=Xo(s,r),Gt=Yt.startAngle,te=Yt.endAngle;if(r.type!=="theta"&&!r.isTransposed)n=Nn(Mt.x,Mt.y,r.getRadius(),Gt,te);else{var Me=function(Xe){return Math.pow(Xe,2)},T=Math.sqrt(Me(Mt.x-a[0].x)+Me(Mt.y-a[0].y)),_=Math.sqrt(Me(Mt.x-a[2].x)+Me(Mt.y-a[2].y));n=Nn(Mt.x,Mt.y,T,r.startAngle,r.endAngle,_)}}return n}function Pr(s,a,r){var n=r.getWidth(),l=r.getHeight(),u=r.type==="rect",v=[],p=(s[2].x-s[1].x)/2,y=r.isTransposed?p*l/n:p*n/l;return a==="round"?(u?(v.push(["M",s[0].x,s[0].y+y]),v.push(["L",s[1].x,s[1].y-y]),v.push(["A",p,p,0,0,1,s[2].x,s[2].y-y]),v.push(["L",s[3].x,s[3].y+y]),v.push(["A",p,p,0,0,1,s[0].x,s[0].y+y])):(v.push(["M",s[0].x,s[0].y]),v.push(["L",s[1].x,s[1].y]),v.push(["A",p,p,0,0,1,s[2].x,s[2].y]),v.push(["L",s[3].x,s[3].y]),v.push(["A",p,p,0,0,1,s[0].x,s[0].y])),v.push(["z"])):v=zn(s),v}function Ir(s,a,r){var n=[];return(0,m.UM)(a)?r?n.push(["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["L",(s[2].x+s[3].x)/2,(s[2].y+s[3].y)/2],["Z"]):n.push(["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["L",s[2].x,s[2].y],["L",s[3].x,s[3].y],["Z"]):n.push(["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["Z"]),n}function Sr(s,a){return[a,s]}function Dr(s,a,r){var n,l,u,v,p,y,C,T=(0,I.CR)((0,I.ev)([],(0,I.CR)(s),!1),4),_=T[0],L=T[1],B=T[2],U=T[3],nt=(0,I.CR)(typeof r=="number"?Array(4).fill(r):r,4),pt=nt[0],Mt=nt[1],Yt=nt[2],Gt=nt[3];a.isTransposed&&(n=(0,I.CR)(Sr(L,U),2),L=n[0],U=n[1]),a.isReflect("y")&&(l=(0,I.CR)(Sr(_,L),2),_=l[0],L=l[1],u=(0,I.CR)(Sr(B,U),2),B=u[0],U=u[1]),a.isReflect("x")&&(v=(0,I.CR)(Sr(_,U),2),_=v[0],U=v[1],p=(0,I.CR)(Sr(L,B),2),L=p[0],B=p[1]);var te=[],Me=function(Ne){return Math.abs(Ne)};return y=(0,I.CR)(nr([pt,Mt,Yt,Gt],Math.min(Me(U.x-_.x),Me(L.y-_.y))).map(function(Ne){return Me(Ne)}),4),pt=y[0],Mt=y[1],Yt=y[2],Gt=y[3],a.isTransposed&&(C=(0,I.CR)([Gt,pt,Mt,Yt],4),pt=C[0],Mt=C[1],Yt=C[2],Gt=C[3]),_.y<L.y?(te.push(["M",U.x,U.y+Yt]),Yt!==0&&te.push(["A",Yt,Yt,0,0,0,U.x-Yt,U.y]),te.push(["L",_.x+Gt,_.y]),Gt!==0&&te.push(["A",Gt,Gt,0,0,0,_.x,_.y+Gt]),te.push(["L",L.x,L.y-pt]),pt!==0&&te.push(["A",pt,pt,0,0,0,L.x+pt,L.y]),te.push(["L",B.x-Mt,B.y]),Mt!==0&&te.push(["A",Mt,Mt,0,0,0,B.x,B.y-Mt]),te.push(["L",U.x,U.y+Yt]),te.push(["z"])):U.x<_.x?(te.push(["M",B.x+Mt,B.y]),Mt!==0&&te.push(["A",Mt,Mt,0,0,0,B.x,B.y+Mt]),te.push(["L",U.x,U.y-Yt]),Yt!==0&&te.push(["A",Yt,Yt,0,0,0,U.x+Yt,U.y]),te.push(["L",_.x-Gt,_.y]),Gt!==0&&te.push(["A",Gt,Gt,0,0,0,_.x,_.y-Gt]),te.push(["L",L.x,L.y+pt]),pt!==0&&te.push(["A",pt,pt,0,0,0,L.x-pt,L.y]),te.push(["L",B.x+Mt,B.y]),te.push(["z"])):(te.push(["M",L.x,L.y+pt]),pt!==0&&te.push(["A",pt,pt,0,0,1,L.x+pt,L.y]),te.push(["L",B.x-Mt,B.y]),Mt!==0&&te.push(["A",Mt,Mt,0,0,1,B.x,B.y+Mt]),te.push(["L",U.x,U.y-Yt]),Yt!==0&&te.push(["A",Yt,Yt,0,0,1,U.x-Yt,U.y]),te.push(["L",_.x+Gt,_.y]),Gt!==0&&te.push(["A",Gt,Gt,0,0,1,_.x,_.y-Gt]),te.push(["L",L.x,L.y+pt]),te.push(["z"])),te}var Qr=qa("interval",{defaultShapeType:"rect",getDefaultPoints:function(s){return yn(s)}});wn("interval","rect",{draw:function(s,a){var r=_n(s,!1,!0),n=a,l=s==null?void 0:s.background;if(l){n=a.addGroup({name:"interval-group"});var u=pf(s),v=br(s,this.parsePoints(s.points),this.coordinate);n.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},u),{path:v}),capture:!1,zIndex:-1,name:Ru})}var p;r.radius&&this.coordinate.isRect?p=Dr(this.parsePoints(s.points),this.coordinate,r.radius):p=this.parsePath(Pr(s.points,r.lineCap,this.coordinate));var y=n.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:p}),name:"interval"});return l?n:y},getMarker:function(s){var a=s.color,r=s.isInPolar;return r?{symbol:"circle",style:{r:4.5,fill:a}}:{symbol:"square",style:{r:4,fill:a}}}});var rn=null;function Vr(s,a){var r=s.length,n=s;(0,m.HD)(n[0])&&(n=s.map(function(p){return a.translate(p)}));for(var l=n[1]-n[0],u=2;u<r;u++){var v=n[u]-n[u-1];l>v&&(l=v)}return l}function Jr(s,a){if(a){var r=(0,m.xH)(s),n=(0,m.I)(r,a);return n.length}return s.length}function xn(s){var a=s.theme,r=s.coordinate,n=s.getXScale(),l=n.values,u=s.beforeMappingData,v=l.length,p=Ts(s.coordinate),y=s.intervalPadding,C=s.dodgePadding,T=s.maxColumnWidth||a.maxColumnWidth,_=s.minColumnWidth||a.minColumnWidth,L=s.columnWidthRatio||a.columnWidthRatio,B=s.multiplePieWidthRatio||a.multiplePieWidthRatio,U=s.roseWidthRatio||a.roseWidthRatio;if(n.isLinear&&l.length>1){l.sort();var nt=Vr(l,n);v=(n.max-n.min)/nt,l.length>v&&(v=l.length)}var pt=n.range,Mt=1/v,Yt=1;if(r.isPolar?r.isTransposed&&v>1?Yt=B:Yt=U:(n.isLinear&&(Mt*=pt[1]-pt[0]),Yt=L),!(0,m.UM)(y)&&y>=0){var Gt=y/p;Mt=(1-(v-1)*Gt)/v}else Mt*=Yt;if(s.getAdjust("dodge")){var te=s.getAdjust("dodge"),Me=te.dodgeBy,Ne=Jr(u,Me);if(!(0,m.UM)(C)&&C>=0){var Ye=C/p;Mt=(Mt-Ye*(Ne-1))/Ne}else!(0,m.UM)(y)&&y>=0&&(Mt*=Yt),Mt=Mt/Ne;Mt=Mt>=0?Mt:0}if(!(0,m.UM)(T)&&T>=0){var Xe=T/p;Mt>Xe&&(Mt=Xe)}if(!(0,m.UM)(_)&&_>=0){var Ke=_/p;Mt<Ke&&(Mt=Ke)}return Mt}var Vn=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var l=r.background;return n.background=l,n}return a.prototype.createShapePointsCfg=function(r){var n=s.prototype.createShapePointsCfg.call(this,r),l,u=this.getAttribute("size");if(u){l=this.getAttributeValues(u,r)[0];var v=this.coordinate,p=Ts(v);l=l/p}else this.defaultSize||(this.defaultSize=xn(this)),l=this.defaultSize;return n.size=l,n},a.prototype.adjustScale=function(){s.prototype.adjustScale.call(this);var r=this.getYScale();if(this.coordinate.type==="theta")r.change({nice:!1,min:0,max:Xd(r)});else{var n=this.scaleDefs,l=r.field,u=r.min,v=r.max,p=r.type;p!=="time"&&(u>0&&!(0,m.U2)(n,[l,"min"])&&r.change({min:0}),v<=0&&!(0,m.U2)(n,[l,"max"])&&r.change({max:0}))}},a.prototype.getDrawCfg=function(r){var n=s.prototype.getDrawCfg.call(this,r);return n.background=this.background,n},a}(Ja),Un=Vn,no=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;n.type="line";var l=r.sortable,u=l===void 0?!1:l;return n.sortable=u,n}return a}(Ut),Xs=no,jl=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Zs=["cross","tick","plus","hyphen","line"];function Po(s,a,r,n,l){var u,v,p=_n(a,l,!l,"r"),y=s.parsePoints(a.points),C=y[0];if(a.isStack)C=y[1];else if(y.length>1){var T=r.addGroup();try{for(var _=(0,I.XA)(y),L=_.next();!L.done;L=_.next()){var B=L.value;T.addShape({type:"marker",attrs:(0,I.pi)((0,I.pi)((0,I.pi)({},p),{symbol:Ao[n]||n}),B)})}}catch(U){u={error:U}}finally{try{L&&!L.done&&(v=_.return)&&v.call(_)}finally{if(u)throw u.error}}return T}return r.addShape({type:"marker",attrs:(0,I.pi)((0,I.pi)((0,I.pi)({},p),{symbol:Ao[n]||n}),C)})}var Rw=qa("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(s){return Gu(s)}});(0,m.S6)(jl,function(s){wn("point","hollow-".concat(s),{draw:function(a,r){return Po(this,a,r,s,!0)},getMarker:function(a){var r=a.color;return{symbol:Ao[s]||s,style:{r:4.5,stroke:r,fill:null}}}})});var Nw=null,_m=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="point",r.shapeType="point",r.generatePoints=!0,r}return a.prototype.getDrawCfg=function(r){var n=s.prototype.getDrawCfg.call(this,r);return(0,I.pi)((0,I.pi)({},n),{isStack:!!this.getAdjust("stack")})},a}(Ja),Pm=_m;function Im(s){for(var a=s[0],r=1,n=[["M",a.x,a.y]];r<s.length;){var l=s[r];(l.x!==s[r-1].x||l.y!==s[r-1].y)&&(n.push(["L",l.x,l.y]),l.x===a.x&&l.y===a.y&&r<s.length-1&&(a=s[r+1],n.push(["Z"]),n.push(["M",a.x,a.y]),r++)),r++}return(0,m.Xy)((0,m.Z$)(n),a)||n.push(["L",a.x,a.y]),n.push(["Z"]),n}var zw=qa("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(s){var a=[];return(0,m.S6)(s.x,function(r,n){var l=s.y[n];a.push({x:r,y:l})}),a}});wn("polygon","polygon",{draw:function(s,a){if(!(0,m.xb)(s.points)){var r=_n(s,!0,!0),n=this.parsePath(Im(s.points));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n}),name:"polygon"})}},getMarker:function(s){var a=s.color;return{symbol:"square",style:{r:4,fill:a}}}});var Vw=null,Fm=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="polygon",r.shapeType="polygon",r.generatePoints=!0,r}return a.prototype.createShapePointsCfg=function(r){var n=s.prototype.createShapePointsCfg.call(this,r),l=n.x,u=n.y,v;if(!((0,m.kJ)(l)&&(0,m.kJ)(u))){var p=this.getXScale(),y=this.getYScale(),C=p.values.length,T=y.values.length,_=.5*1/C,L=.5*1/T;p.isCategory&&y.isCategory?(l=[l-_,l-_,l+_,l+_],u=[u-L,u+L,u+L,u-L]):(0,m.kJ)(l)?(v=l,l=[v[0],v[0],v[1],v[1]],u=[u-L/2,u+L/2,u+L/2,u-L/2]):(0,m.kJ)(u)&&(v=u,u=[v[0],v[1],v[1],v[0]],l=[l-_/2,l-_/2,l+_/2,l+_/2]),n.x=l,n.y=u}return n},a}(Ja),km=Fm,Uw=qa("schema",{defaultShapeType:""}),Ww=null,Dm=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="schema",r.shapeType="schema",r.generatePoints=!0,r}return a.prototype.createShapePointsCfg=function(r){var n=s.prototype.createShapePointsCfg.call(this,r),l,u=this.getAttribute("size");if(u){l=this.getAttributeValues(u,r)[0];var v=this.coordinate,p=Ts(v);l=l/p}else this.defaultSize||(this.defaultSize=xn(this)),l=this.defaultSize;return n.size=l,n},a}(Ja),Lm=Dm;function Om(s){if(!(0,m.kJ)(s))return[];var a=(0,m.Fp)(s);return(0,m.UI)(s,function(r){return r/a})}var Yw=qa("violin",{defaultShapeType:"violin",getDefaultPoints:function(s){var a=s.size/2,r=[],n=Om(s._size);return(0,m.S6)(s.y,function(l,u){var v=n[u]*a,p=u===0,y=u===s.y.length-1;r.push({isMin:p,isMax:y,x:s.x-v,y:l}),r.unshift({isMin:p,isMax:y,x:s.x+v,y:l})}),r}});wn("violin","violin",{draw:function(s,a){var r=_n(s,!0,!0),n=this.parsePath(Dl(s.points));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n}),name:"violin"})},getMarker:function(s){var a=s.color;return{symbol:"circle",style:{r:4,fill:a}}}});var Hw=null,Bm=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.type="violin",r.shapeType="violin",r.generatePoints=!0,r}return a.prototype.createShapePointsCfg=function(r){var n=s.prototype.createShapePointsCfg.call(this,r),l,u=this.getAttribute("size");if(u){l=this.getAttributeValues(u,r)[0];var v=this.coordinate,p=Ts(v);l=l/p}else this.defaultSize||(this.defaultSize=xn(this)),l=this.defaultSize;return n.size=l,n._size=(0,m.U2)(r[ct],[this._sizeField]),n},a.prototype.initAttributes=function(){var r=this.attributeOption,n=r.size?r.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete r.size,s.prototype.initAttributes.call(this)},a}(Ja),Rm=Bm;wn("area","line",{draw:function(s,a){var r=Se(s,!0,!1,this),n=a.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return l===void 0&&(l=5.5),[["M",r-l,n-4],["L",r+l,n-4],["L",r+l,n+4],["L",r-l,n+4],["Z"]]},style:{r:5,stroke:a,fill:null}}}}),wn("area","smooth",{draw:function(s,a){var r=this.coordinate,n=Se(s,!1,!0,this,ze(r)),l=a.addShape({type:"path",attrs:n,name:"area"});return l},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return l===void 0&&(l=5.5),[["M",r-l,n-4],["L",r+l,n-4],["L",r+l,n+4],["L",r-l,n+4],["Z"]]},style:{r:5,fill:a,fillOpacity:1}}}}),wn("area","smooth-line",{draw:function(s,a){var r=this.coordinate,n=Se(s,!0,!0,this,ze(r)),l=a.addShape({type:"path",attrs:n,name:"area"});return l},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return l===void 0&&(l=5.5),[["M",r-l,n-4],["L",r+l,n-4],["L",r+l,n+4],["L",r-l,n+4],["Z"]]},style:{r:5,stroke:a,fill:null}}}});function t0(s,a){return["C",s.x*1/2+a.x*1/2,s.y,s.x*1/2+a.x*1/2,a.y,a.x,a.y]}function e0(s,a){var r=[];r.push({x:a.x,y:a.y}),r.push(s);var n=["Q"];return(0,m.S6)(r,function(l){n.push(l.x,l.y)}),n}function Nm(s,a,r){var n=e0(a,r),l=[["M",s.x,s.y]];return l.push(n),l}function zm(s,a){var r=e0(s[1],a),n=e0(s[3],a),l=[["M",s[0].x,s[0].y]];return l.push(n),l.push(["L",s[3].x,s[3].y]),l.push(["L",s[2].x,s[2].y]),l.push(r),l.push(["L",s[1].x,s[1].y]),l.push(["L",s[0].x,s[0].y]),l.push(["Z"]),l}wn("edge","arc",{draw:function(s,a){var r=_n(s,!0,!1,"lineWidth"),n=s.points,l=n.length>2?"weight":"normal",u;if(s.isInCircle){var v={x:0,y:1};return l==="normal"?u=Nm(n[0],n[1],v):(r.fill=r.stroke,u=zm(n,v)),u=this.parsePath(u),a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:u})})}else{if(l==="normal")return n=this.parsePoints(n),u=Ei((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:u})});var p=t0(n[1],n[3]),y=t0(n[2],n[0]);return u=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],p,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],y,["Z"]],u=this.parsePath(u),r.fill=r.stroke,a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:u})})}},getMarker:function(s){return{symbol:"circle",style:{r:4.5,fill:s.color}}}});function Vm(s,a){var r=t0(s,a),n=[["M",s.x,s.y]];return n.push(r),n}wn("edge","smooth",{draw:function(s,a){var r=_n(s,!0,!1,"lineWidth"),n=s.points,l=this.parsePath(Vm(n[0],n[1]));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:l})})},getMarker:function(s){return{symbol:"circle",style:{r:4.5,fill:s.color}}}});var qf=1/3;function Um(s,a){var r=[];r.push({x:s.x,y:s.y*(1-qf)+a.y*qf}),r.push({x:a.x,y:s.y*(1-qf)+a.y*qf}),r.push(a);var n=[["M",s.x,s.y]];return(0,m.S6)(r,function(l){n.push(["L",l.x,l.y])}),n}wn("edge","vhv",{draw:function(s,a){var r=_n(s,!0,!1,"lineWidth"),n=s.points,l=this.parsePath(Um(n[0],n[1]));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:l})})},getMarker:function(s){return{symbol:"circle",style:{r:4.5,fill:s.color}}}}),wn("interval","funnel",{getPoints:function(s){return s.size=s.size*2,yn(s)},draw:function(s,a){var r=_n(s,!1,!0),n=this.parsePath(Ir(s.points,s.nextPoints,!1)),l=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n}),name:"interval"});return l},getMarker:function(s){var a=s.color;return{symbol:"square",style:{r:4,fill:a}}}}),wn("interval","hollow-rect",{draw:function(s,a){var r=_n(s,!0,!1),n=a,l=s==null?void 0:s.background;if(l){n=a.addGroup();var u=pf(s),v=br(s,this.parsePoints(s.points),this.coordinate);n.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},u),{path:v}),capture:!1,zIndex:-1,name:Ru})}var p=this.parsePath(zn(s.points)),y=n.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:p}),name:"interval"});return l?n:y},getMarker:function(s){var a=s.color,r=s.isInPolar;return r?{symbol:"circle",style:{r:4.5,stroke:a,fill:null}}:{symbol:"square",style:{r:4,stroke:a,fill:null}}}});function Wm(s){var a=s.x,r=s.y,n=s.y0;return(0,m.kJ)(r)?r.map(function(l,u){return{x:(0,m.kJ)(a)?a[u]:a,y:l}}):[{x:a,y:n},{x:a,y:r}]}wn("interval","line",{getPoints:function(s){return Wm(s)},draw:function(s,a){var r=_n(s,!0,!1,"lineWidth"),n=li((0,I.pi)({},r),["fill"]),l=this.parsePath(zn(s.points,!1)),u=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},n),{path:l}),name:"interval"});return u},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return[["M",r,n-l],["L",r,n+l]]},style:{r:5,stroke:a}}}}),wn("interval","pyramid",{getPoints:function(s){return s.size=s.size*2,yn(s)},draw:function(s,a){var r=_n(s,!1,!0),n=this.parsePath(Ir(s.points,s.nextPoints,!0)),l=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n}),name:"interval"});return l},getMarker:function(s){var a=s.color;return{symbol:"square",style:{r:4,fill:a}}}});function Ym(s){var a,r=s.x,n=s.y,l=s.y0,u=s.size,v,p;(0,m.kJ)(n)?(a=(0,I.CR)(n,2),v=a[0],p=a[1]):(v=l,p=n);var y=r+u/2,C=r-u/2;return[{x:r,y:v},{x:r,y:p},{x:C,y:v},{x:y,y:v},{x:C,y:p},{x:y,y:p}]}function Hm(s){return[["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["M",s[2].x,s[2].y],["L",s[3].x,s[3].y],["M",s[4].x,s[4].y],["L",s[5].x,s[5].y]]}wn("interval","tick",{getPoints:function(s){return Ym(s)},draw:function(s,a){var r=_n(s,!0,!1),n=this.parsePath(Hm(s.points)),l=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n}),name:"interval"});return l},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){return[["M",r-l/2,n-l],["L",r+l/2,n-l],["M",r,n-l],["L",r,n+l],["M",r-l/2,n+l],["L",r+l/2,n+l]]},style:{r:5,stroke:a}}}});var Gm=function(s,a,r){var n=s.x,l=s.y,u=a.x,v=a.y,p;switch(r){case"hv":p=[{x:u,y:l}];break;case"vh":p=[{x:n,y:v}];break;case"hvh":var y=(u+n)/2;p=[{x:y,y:l},{x:y,y:v}];break;case"vhv":var C=(l+v)/2;p=[{x:n,y:C},{x:u,y:C}];break;default:break}return p};function Xm(s,a){var r=[];return(0,m.S6)(s,function(n,l){var u=s[l+1];if(r.push(n),u){var v=Gm(n,u,a);r=r.concat(v)}}),r}function Zm(s){return s.map(function(a,r){return r===0?["M",a.x,a.y]:["L",a.x,a.y]})}function jm(s,a){var r=Qa(s.points,s.connectNulls,s.showSinglePoint),n=[];return(0,m.S6)(r,function(l){var u=Xm(l,a);n=n.concat(Zm(u))}),(0,I.pi)((0,I.pi)({},_n(s,!0,!1,"lineWidth")),{path:n})}(0,m.S6)(["hv","vh","hvh","vhv"],function(s){wn("line",s,{draw:function(a,r){var n=jm(a,s),l=r.addShape({type:"path",attrs:n,name:"line"});return l},getMarker:function(a){return Qp(a,s)}})}),(0,m.S6)(Zs,function(s){wn("point",s,{draw:function(a,r){return Po(this,a,r,s,!0)},getMarker:function(a){var r=a.color;return{symbol:Ao[s],style:{r:4.5,stroke:r,fill:null}}}})}),wn("point","image",{draw:function(s,a){var r,n,l=_n(s,!1,!1,"r").r,u=this.parsePoints(s.points),v=u[0];if(s.isStack)v=u[1];else if(u.length>1){var p=a.addGroup();try{for(var y=(0,I.XA)(u),C=y.next();!C.done;C=y.next()){var T=C.value;p.addShape("image",{attrs:{x:T.x-l/2,y:T.y-l,width:l,height:l,img:s.shape[1]}})}}catch(_){r={error:_}}finally{try{C&&!C.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}return p}return a.addShape("image",{attrs:{x:v.x-l/2,y:v.y-l,width:l,height:l,img:s.shape[1]}})},getMarker:function(s){var a=s.color;return{symbol:"circle",style:{r:4.5,fill:a}}}}),(0,m.S6)(jl,function(s){wn("point",s,{draw:function(a,r){return Po(this,a,r,s,!1)},getMarker:function(a){var r=a.color;return{symbol:Ao[s]||s,style:{r:4.5,fill:r}}}})});function by(s){var a=(0,m.kJ)(s)?s:[s],r=a[0],n=a[a.length-1],l=a.length>1?a[1]:r,u=a.length>3?a[3]:n,v=a.length>2?a[2]:l;return{min:r,max:n,min1:l,max1:u,median:v}}function wy(s,a,r){var n=r/2,l;if((0,m.kJ)(a)){var u=by(a),v=u.min,p=u.max,y=u.median,C=u.min1,T=u.max1,_=s-n,L=s+n;l=[[_,p],[L,p],[s,p],[s,T],[_,C],[_,T],[L,T],[L,C],[s,C],[s,v],[_,v],[L,v],[_,y],[L,y]]}else{a=(0,m.UM)(a)?.5:a;var B=by(s),v=B.min,p=B.max,y=B.median,C=B.min1,T=B.max1,U=a-n,nt=a+n;l=[[v,U],[v,nt],[v,a],[C,a],[C,U],[C,nt],[T,nt],[T,U],[T,a],[p,a],[p,U],[p,nt],[y,U],[y,nt]]}return l.map(function(pt){return{x:pt[0],y:pt[1]}})}function $m(s){return[["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["M",s[2].x,s[2].y],["L",s[3].x,s[3].y],["M",s[4].x,s[4].y],["L",s[5].x,s[5].y],["L",s[6].x,s[6].y],["L",s[7].x,s[7].y],["L",s[4].x,s[4].y],["Z"],["M",s[8].x,s[8].y],["L",s[9].x,s[9].y],["M",s[10].x,s[10].y],["L",s[11].x,s[11].y],["M",s[12].x,s[12].y],["L",s[13].x,s[13].y]]}wn("schema","box",{getPoints:function(s){var a=s.x,r=s.y,n=s.size;return wy(a,r,n)},draw:function(s,a){var r=_n(s,!0,!1),n=this.parsePath($m(s.points)),l=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n,name:"schema"})});return l},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){var u=[n-6,n-3,n,n+3,n+6],v=wy(r,u,l);return[["M",v[0].x+1,v[0].y],["L",v[1].x-1,v[1].y],["M",v[2].x,v[2].y],["L",v[3].x,v[3].y],["M",v[4].x,v[4].y],["L",v[5].x,v[5].y],["L",v[6].x,v[6].y],["L",v[7].x,v[7].y],["L",v[4].x,v[4].y],["Z"],["M",v[8].x,v[8].y],["L",v[9].x,v[9].y],["M",v[10].x+1,v[10].y],["L",v[11].x-1,v[11].y],["M",v[12].x,v[12].y],["L",v[13].x,v[13].y]]},style:{r:6,lineWidth:1,stroke:a}}}});function Km(s){var a=(0,m.kJ)(s)?s:[s],r=a.sort(function(n,l){return l-n});return wo(r,4,r[r.length-1])}function Sy(s,a,r){var n=Km(a);return[{x:s,y:n[0]},{x:s,y:n[1]},{x:s-r/2,y:n[2]},{x:s-r/2,y:n[1]},{x:s+r/2,y:n[1]},{x:s+r/2,y:n[2]},{x:s,y:n[2]},{x:s,y:n[3]}]}function qm(s){return[["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],["M",s[2].x,s[2].y],["L",s[3].x,s[3].y],["L",s[4].x,s[4].y],["L",s[5].x,s[5].y],["Z"],["M",s[6].x,s[6].y],["L",s[7].x,s[7].y]]}wn("schema","candle",{getPoints:function(s){var a=s.x,r=s.y,n=s.size;return Sy(a,r,n)},draw:function(s,a){var r=_n(s,!0,!0),n=this.parsePath(qm(s.points)),l=a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n,name:"schema"})});return l},getMarker:function(s){var a=s.color;return{symbol:function(r,n,l){var u=[n+7.5,n+3,n-3,n-7.5],v=Sy(r,u,l);return[["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["M",v[2].x,v[2].y],["L",v[3].x,v[3].y],["L",v[4].x,v[4].y],["L",v[5].x,v[5].y],["Z"],["M",v[6].x,v[6].y],["L",v[7].x,v[7].y]]},style:{lineWidth:1,stroke:a,fill:a,r:6}}}});function Jm(s,a){var r=Math.abs(s[0].x-s[2].x),n=Math.abs(s[0].y-s[2].y),l=Math.min(r,n);a&&(l=(0,m.uZ)(a,0,Math.min(r,n))),l=l/2;var u=(s[0].x+s[2].x)/2,v=(s[0].y+s[2].y)/2;return{x:u-l,y:v-l,width:l*2,height:l*2}}wn("polygon","square",{draw:function(s,a){if(!(0,m.xb)(s.points)){var r=_n(s,!0,!0),n=this.parsePoints(s.points);return a.addShape("rect",{attrs:(0,I.pi)((0,I.pi)({},r),Jm(n,s.size)),name:"polygon"})}},getMarker:function(s){var a=s.color;return{symbol:"square",style:{r:4,fill:a}}}}),wn("violin","smooth",{draw:function(s,a){var r=_n(s,!0,!0),n=this.parsePath(df(s.points));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n})})},getMarker:function(s){var a=s.color;return{symbol:"circle",style:{stroke:null,r:4,fill:a}}}}),wn("violin","hollow",{draw:function(s,a){var r=_n(s,!0,!1),n=this.parsePath(Dl(s.points));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n})})},getMarker:function(s){var a=s.color;return{symbol:"circle",style:{r:4,fill:null,stroke:a}}}}),wn("violin","hollow-smooth",{draw:function(s,a){var r=_n(s,!0,!1),n=this.parsePath(df(s.points));return a.addShape("path",{attrs:(0,I.pi)((0,I.pi)({},r),{path:n})})},getMarker:function(s){var a=s.color;return{symbol:"circle",style:{r:4,fill:null,stroke:a}}}});var Qm=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getLabelValueDir=function(r){var n="y",l=r.points;return l[0][n]<=l[2][n]?1:-1},a.prototype.getLabelOffsetPoint=function(r,n,l,u){var v,p=s.prototype.getLabelOffsetPoint.call(this,r,n,l),y=this.getCoordinate(),C=y.isTransposed,T=C?"x":"y",_=this.getLabelValueDir(r.mappingData);return p=(0,I.pi)((0,I.pi)({},p),(v={},v[T]=p[T]*_,v)),y.isReflect("x")&&(p=(0,I.pi)((0,I.pi)({},p),{x:p.x*-1})),y.isReflect("y")&&(p=(0,I.pi)((0,I.pi)({},p),{y:p.y*-1})),p},a.prototype.getThemedLabelCfg=function(r){var n=this.geometry,l=this.getDefaultLabelCfg(),u=n.theme;return(0,m.b$)({},l,u.labels,r.position==="middle"?{offset:0}:{},r)},a.prototype.setLabelPosition=function(r,n,l,u){var v=this.getCoordinate(),p=v.isTransposed,y=n.points,C=v.convert(y[0]),T=v.convert(y[2]),_=this.getLabelValueDir(n),L,B,U,nt,pt=(0,m.kJ)(n.shape)?n.shape[0]:n.shape;if(pt==="funnel"||pt==="pyramid"){var Mt=(0,m.U2)(n,"nextPoints"),Yt=(0,m.U2)(n,"points");if(Mt){var Gt=v.convert(Yt[0]),te=v.convert(Yt[1]),Me=v.convert(Mt[0]),Ne=v.convert(Mt[1]);p?(L=Math.min(Me.y,Gt.y),U=Math.max(Me.y,Gt.y),B=(te.x+Ne.x)/2,nt=(Gt.x+Me.x)/2):(L=Math.min((te.y+Ne.y)/2,(Gt.y+Me.y)/2),U=Math.max((te.y+Ne.y)/2,(Gt.y+Me.y)/2),B=Ne.x,nt=Gt.x)}else L=Math.min(T.y,C.y),U=Math.max(T.y,C.y),B=T.x,nt=C.x}else L=Math.min(T.y,C.y),U=Math.max(T.y,C.y),B=T.x,nt=C.x;switch(u){case"right":r.x=B,r.y=(L+U)/2,r.textAlign=(0,m.U2)(r,"textAlign",_>0?"left":"right");break;case"left":r.x=nt,r.y=(L+U)/2,r.textAlign=(0,m.U2)(r,"textAlign",_>0?"left":"right");break;case"bottom":p&&(r.x=(B+nt)/2),r.y=U,r.textAlign=(0,m.U2)(r,"textAlign","center"),r.textBaseline=(0,m.U2)(r,"textBaseline",_>0?"bottom":"top");break;case"middle":p&&(r.x=(B+nt)/2),r.y=(L+U)/2,r.textAlign=(0,m.U2)(r,"textAlign","center"),r.textBaseline=(0,m.U2)(r,"textBaseline","middle");break;case"top":p&&(r.x=(B+nt)/2),r.y=L,r.textAlign=(0,m.U2)(r,"textAlign","center"),r.textBaseline=(0,m.U2)(r,"textBaseline",_>0?"bottom":"top");break;default:break}},a}(Fl),tx=Qm,Jf=Math.PI/2,ex=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getLabelOffset=function(r){var n=this.getCoordinate(),l=0;if((0,m.hj)(r))l=r;else if((0,m.HD)(r)&&r.indexOf("%")!==-1){var u=n.getRadius();n.innerRadius>0&&(u=u*(1-n.innerRadius)),l=parseFloat(r)*.01*u}return l},a.prototype.getLabelItems=function(r){var n=s.prototype.getLabelItems.call(this,r),l=this.geometry.getYScale();return(0,m.UI)(n,function(u){if(u&&l){var v=l.scale((0,m.U2)(u.data,l.field));return(0,I.pi)((0,I.pi)({},u),{percent:v})}return u})},a.prototype.getLabelAlign=function(r){var n=this.getCoordinate(),l;if(r.labelEmit)l=r.angle<=Math.PI/2&&r.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)l="center";else{var u=n.getCenter(),v=r.offset;Math.abs(r.x-u.x)<1?l="center":r.angle>Math.PI||r.angle<=0?l=v>0?"left":"right":l=v>0?"right":"left"}return l},a.prototype.getLabelPoint=function(r,n,l){var u=1,v,p=r.content[l];this.isToMiddle(n)?v=this.getMiddlePoint(n.points):(r.content.length===1&&l===0?l=1:l===0&&(u=-1),v=this.getArcPoint(n,l));var y=r.offset*u,C=this.getPointAngle(v),T=r.labelEmit,_=this.getCirclePoint(C,y,v,T);return _.r===0?_.content="":(_.content=p,_.angle=C,_.color=n.color),_.rotate=r.autoRotate?this.getLabelRotate(C,y,T):r.rotate,_.start={x:v.x,y:v.y},_},a.prototype.getArcPoint=function(r,n){return n===void 0&&(n=0),!(0,m.kJ)(r.x)&&!(0,m.kJ)(r.y)?{x:r.x,y:r.y}:{x:(0,m.kJ)(r.x)?r.x[n]:r.x,y:(0,m.kJ)(r.y)?r.y[n]:r.y}},a.prototype.getPointAngle=function(r){return Zo(this.getCoordinate(),r)},a.prototype.getCirclePoint=function(r,n,l,u){var v=this.getCoordinate(),p=v.getCenter(),y=As(v,l);if(y===0)return(0,I.pi)((0,I.pi)({},p),{r:y});var C=r;if(v.isTransposed&&y>n&&!u){var T=Math.asin(n/(2*y));C=r+T*2}else y=y+n;return{x:p.x+y*Math.cos(C),y:p.y+y*Math.sin(C),r:y}},a.prototype.getLabelRotate=function(r,n,l){var u=r+Jf;return l&&(u-=Jf),u&&(u>Jf?u=u-Math.PI:u<-Jf&&(u=u+Math.PI)),u},a.prototype.getMiddlePoint=function(r){var n=this.getCoordinate(),l=r.length,u={x:0,y:0};return(0,m.S6)(r,function(v){u.x+=v.x,u.y+=v.y}),u.x/=l,u.y/=l,u=n.convert(u),u},a.prototype.isToMiddle=function(r){return r.x.length>2},a}(Fl),Cy=ex,rx=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.defaultLayout="distribute",r}return a.prototype.getDefaultLabelCfg=function(r,n){var l=s.prototype.getDefaultLabelCfg.call(this,r,n);return(0,m.b$)({},l,(0,m.U2)(this.geometry.theme,"pieLabels",{}))},a.prototype.getLabelOffset=function(r){return s.prototype.getLabelOffset.call(this,r)||0},a.prototype.getLabelRotate=function(r,n,l){var u;return n<0&&(u=r,u>Math.PI/2&&(u=u-Math.PI),u<-Math.PI/2&&(u=u+Math.PI)),u},a.prototype.getLabelAlign=function(r){var n=this.getCoordinate(),l=n.getCenter(),u;return r.angle<=Math.PI/2&&r.x>=l.x?u="left":u="right",r.offset<=0&&(u==="right"?u="left":u="right"),u},a.prototype.getArcPoint=function(r){return r},a.prototype.getPointAngle=function(r){var n=this.getCoordinate(),l={x:(0,m.kJ)(r.x)?r.x[0]:r.x,y:r.y[0]},u={x:(0,m.kJ)(r.x)?r.x[1]:r.x,y:r.y[1]},v,p=Zo(n,l);if(r.points&&r.points[0].y===r.points[1].y)v=p;else{var y=Zo(n,u);p>=y&&(y=y+Math.PI*2),v=p+(y-p)/2}return v},a.prototype.getCirclePoint=function(r,n){var l=this.getCoordinate(),u=l.getCenter(),v=l.getRadius()+n;return(0,I.pi)((0,I.pi)({},Ln(u.x,u.y,v,r)),{angle:r,r:v})},a}(Cy),nx=rx,My=4;function ix(s,a,r,n,l,u){var v,p,y=!0,C=n.start,T=n.end,_=Math.min(C.y,T.y),L=Math.abs(C.y-T.y),B,U=0,nt=Number.MIN_VALUE,pt=a.map(function(Ye){return Ye.y>U&&(U=Ye.y),Ye.y<nt&&(nt=Ye.y),{size:r,targets:[Ye.y-_]}});for(nt-=_,U-_>L&&(L=U-_);y;)for(pt.forEach(function(Ye){var Xe=(Math.min.apply(nt,Ye.targets)+Math.max.apply(nt,Ye.targets))/2;Ye.pos=Math.min(Math.max(nt,Xe-Ye.size/2),L-Ye.size)}),y=!1,B=pt.length;B--;)if(B>0){var Mt=pt[B-1],Yt=pt[B];Mt.pos+Mt.size>Yt.pos&&(Mt.size+=Yt.size,Mt.targets=Mt.targets.concat(Yt.targets),Mt.pos+Mt.size>L&&(Mt.pos=L-Mt.size),pt.splice(B,1),y=!0)}B=0,pt.forEach(function(Ye){var Xe=_+r/2;Ye.targets.forEach(function(){a[B].y=Ye.pos+Xe,Xe+=r,B++})});var Gt={};try{for(var te=(0,I.XA)(s),Me=te.next();!Me.done;Me=te.next()){var Ne=Me.value;Gt[Ne.get("id")]=Ne}}catch(Ye){v={error:Ye}}finally{try{Me&&!Me.done&&(p=te.return)&&p.call(te)}finally{if(v)throw v.error}}a.forEach(function(Ye){var Xe=Ye.r*Ye.r,Ke=Math.pow(Math.abs(Ye.y-l.y),2);if(Xe<Ke)Ye.x=l.x;else{var Qe=Math.sqrt(Xe-Ke);u?Ye.x=l.x+Qe:Ye.x=l.x-Qe}var xr=Gt[Ye.id];xr.attr("x",Ye.x),xr.attr("y",Ye.y);var mr=(0,m.sE)(xr.getChildren(),function(Lr){return Lr.get("type")==="text"});mr&&(mr.attr("y",Ye.y),mr.attr("x",Ye.x))})}function ax(s,a,r,n){if(!(!s.length||!a.length)){var l=s[0]?s[0].offset:0,u=a[0].get("coordinate"),v=u.getRadius(),p=u.getCenter();if(l>0){var y=14,C=v+l,T=C*2+y*2,_={start:u.start,end:u.end},L=[[],[]];s.forEach(function(B){B&&(B.textAlign==="right"?L[0].push(B):L[1].push(B))}),L.forEach(function(B,U){var nt=T/y;B.length>nt&&(B.sort(function(pt,Mt){return Mt["..percent"]-pt["..percent"]}),B.splice(nt,B.length-nt)),B.sort(function(pt,Mt){return pt.y-Mt.y}),ix(a,B,y,_,p,U)})}(0,m.S6)(s,function(B){if(B&&B.labelLine){var U=B.offset,nt=B.angle,pt=Ln(p.x,p.y,v,nt),Mt=Ln(p.x,p.y,v+U/2,nt),Yt=B.x+(0,m.U2)(B,"offsetX",0),Gt=B.y+(0,m.U2)(B,"offsetY",0),te={x:Yt-Math.cos(nt)*My,y:Gt-Math.sin(nt)*My};(0,m.Kn)(B.labelLine)||(B.labelLine={}),B.labelLine.path=["M ".concat(pt.x),"".concat(pt.y," Q").concat(Mt.x),"".concat(Mt.y," ").concat(te.x),te.y].join(",")}})}}function Ty(s,a,r){var n=s.filter(function(U){return!U.invisible});n.sort(function(U,nt){return U.y-nt.y});var l=!0,u=r.minY,v=r.maxY,p=Math.abs(u-v),y,C=0,T=Number.MIN_VALUE,_=n.map(function(U){return U.y>C&&(C=U.y),U.y<T&&(T=U.y),{content:U.content,size:a,targets:[U.y-u],pos:null}});for(T-=u,C-u>p&&(p=C-u);l;)for(_.forEach(function(U){var nt=(Math.min.apply(T,U.targets)+Math.max.apply(T,U.targets))/2;U.pos=Math.min(Math.max(T,nt-U.size/2),p-U.size),U.pos=Math.max(0,U.pos)}),l=!1,y=_.length;y--;)if(y>0){var L=_[y-1],B=_[y];L.pos+L.size>B.pos&&(L.size+=B.size,L.targets=L.targets.concat(B.targets),L.pos+L.size>p&&(L.pos=p-L.size),_.splice(y,1),l=!0)}y=0,_.forEach(function(U){var nt=u+a/2;U.targets.forEach(function(){n[y].y=U.pos+nt,nt+=a,y++})})}var Ay=4;function ox(s,a){var r=a.getCenter(),n=a.getRadius();if(s&&s.labelLine){var l=s.angle,u=s.offset,v=Ln(r.x,r.y,n,l),p=s.x+(0,m.U2)(s,"offsetX",0)*(Math.cos(l)>0?1:-1),y=s.y+(0,m.U2)(s,"offsetY",0)*(Math.sin(l)>0?1:-1),C={x:p-Math.cos(l)*Ay,y:y-Math.sin(l)*Ay},T=s.labelLine.smooth,_=[],L=C.x-r.x,B=C.y-r.y,U=Math.atan(B/L);if(L<0&&(U+=Math.PI),T===!1){(0,m.Kn)(s.labelLine)||(s.labelLine={});var nt=0;(l<0&&l>-Math.PI/2||l>Math.PI*1.5)&&C.y>v.y&&(nt=1),l>=0&&l<Math.PI/2&&C.y>v.y&&(nt=1),l>=Math.PI/2&&l<Math.PI&&v.y>C.y&&(nt=1),(l<-Math.PI/2||l>=Math.PI&&l<Math.PI*1.5)&&v.y>C.y&&(nt=1);var pt=u/2>4?4:Math.max(u/2-1,0),Mt=Ln(r.x,r.y,n+pt,l),Yt=Ln(r.x,r.y,n+u/2,U),Gt=0;_.push("M ".concat(v.x," ").concat(v.y)),_.push("L ".concat(Mt.x," ").concat(Mt.y)),_.push("A ".concat(r.x," ").concat(r.y," 0 ").concat(Gt," ").concat(nt," ").concat(Yt.x," ").concat(Yt.y)),_.push("L ".concat(C.x," ").concat(C.y))}else{var Mt=Ln(r.x,r.y,n+(u/2>4?4:Math.max(u/2-1,0)),l),te=v.x<r.x?1:-1;_.push("M ".concat(C.x," ").concat(C.y));var Me=(v.y-r.y)/(v.x-r.x),Ne=(C.y-r.y)/(C.x-r.x);Math.abs(Me-Ne)>Math.pow(Math.E,-16)&&_.push.apply(_,["C",C.x+te*4,C.y,2*Mt.x-v.x,2*Mt.y-v.y,v.x,v.y]),_.push("L ".concat(v.x," ").concat(v.y))}s.labelLine.path=_.join(" ")}}function sx(s,a,r,n){var l,u,v=(0,m.hX)(s,function(Xe){return!(0,m.UM)(Xe)}),p=a[0]&&a[0].get("coordinate");if(p){var y=p.getCenter(),C=p.getRadius(),T={};try{for(var _=(0,I.XA)(a),L=_.next();!L.done;L=_.next()){var B=L.value;T[B.get("id")]=B}}catch(Xe){l={error:Xe}}finally{try{L&&!L.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}var U=(0,m.U2)(v[0],"labelHeight",14),nt=(0,m.U2)(v[0],"offset",0);if(!(nt<=0)){var pt="left",Mt="right",Yt=(0,m.vM)(v,function(Xe){return Xe.x<y.x?pt:Mt}),Gt=p.start,te=p.end,Me=Math.min((C+nt+U)*2,p.getHeight()),Ne=Me/2,Ye={minX:Gt.x,maxX:te.x,minY:y.y-Ne,maxY:y.y+Ne};(0,m.S6)(Yt,function(Xe,Ke){var Qe=Math.floor(Me/U);Xe.length>Qe&&(Xe.sort(function(xr,mr){return mr.percent-xr.percent}),(0,m.S6)(Xe,function(xr,mr){mr+1>Qe&&(T[xr.id].set("visible",!1),xr.invisible=!0)})),Ty(Xe,U,Ye)}),(0,m.S6)(Yt,function(Xe,Ke){(0,m.S6)(Xe,function(Qe){var xr=Ke===Mt,mr=T[Qe.id],Lr=mr.getChildByIndex(0);if(Lr){var Zr=C+nt,vn=Qe.y-y.y,hi=Math.pow(Zr,2),jn=Math.pow(vn,2),Pi=hi-jn>0?hi-jn:0,bn=Math.sqrt(Pi),Gi=Math.abs(Math.cos(Qe.angle)*Zr);xr?Qe.x=y.x+Math.max(bn,Gi):Qe.x=y.x-Math.max(bn,Gi)}Lr&&(Lr.attr("y",Qe.y),Lr.attr("x",Qe.x)),ox(Qe,p)})})}}}var r0=4,lx=4,Ey=4;function ux(s,a,r){var n=a.getCenter(),l=a.getRadius(),u={x:s.x-(r?Ey:-Ey),y:s.y},v=Ln(n.x,n.y,l+r0,s.angle),p={x:u.x,y:u.y},y={x:v.x,y:v.y},C=Ln(n.x,n.y,l,s.angle),T="";if(u.y!==v.y){var _=r?4:-4;p.y=u.y,s.angle<0&&s.angle>=-Math.PI/2&&(p.x=Math.max(v.x,u.x-_),u.y<v.y?y.y=p.y:(y.y=v.y,y.x=Math.max(y.x,p.x-_))),s.angle>0&&s.angle<Math.PI/2&&(p.x=Math.max(v.x,u.x-_),u.y>v.y?y.y=p.y:(y.y=v.y,y.x=Math.max(y.x,p.x-_))),s.angle>Math.PI/2&&(p.x=Math.min(v.x,u.x-_),u.y>v.y?y.y=p.y:(y.y=v.y,y.x=Math.min(y.x,p.x-_))),s.angle<-Math.PI/2&&(p.x=Math.min(v.x,u.x-_),u.y<v.y?y.y=p.y:(y.y=v.y,y.x=Math.min(y.x,p.x-_)))}T=["M ".concat(u.x,",").concat(u.y),"L ".concat(p.x,",").concat(p.y),"L ".concat(y.x,",").concat(y.y),"L ".concat(v.x,",").concat(v.y),"L ".concat(C.x,",").concat(C.y)].join(" "),s.labelLine=(0,m.b$)({},s.labelLine,{path:T})}function cx(s,a,r,n){var l,u,v=a[0]&&a[0].get("coordinate");if(v){var p=v.getCenter(),y=v.getRadius(),C={};try{for(var T=(0,I.XA)(a),_=T.next();!_.done;_=T.next()){var L=_.value;C[L.get("id")]=L}}catch(Xe){l={error:Xe}}finally{try{_&&!_.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}var B=(0,m.U2)(s[0],"labelHeight",14),U=Math.max((0,m.U2)(s[0],"offset",0),r0);(0,m.S6)(s,function(Xe){if(Xe){var Ke=(0,m.U2)(C,[Xe.id]);if(Ke){var Qe=Xe.x>p.x||Xe.x===p.x&&Xe.y>p.y,xr=(0,m.UM)(Xe.offsetX)?lx:Xe.offsetX,mr=Ln(p.x,p.y,y+r0,Xe.angle),Lr=U+xr;Xe.x=p.x+(Qe?1:-1)*(y+Lr),Xe.y=mr.y}}});var nt=v.start,pt=v.end,Mt="left",Yt="right",Gt=(0,m.vM)(s,function(Xe){return Xe.x<p.x?Mt:Yt}),te=(y+U)*2+B;(0,m.S6)(Gt,function(Xe){var Ke=Xe.length*B;Ke>te&&(te=Math.min(Ke,Math.abs(nt.y-pt.y)))});var Me={minX:nt.x,maxX:pt.x,minY:p.y-te/2,maxY:p.y+te/2};(0,m.S6)(Gt,function(Xe,Ke){var Qe=te/B;Xe.length>Qe&&(Xe.sort(function(xr,mr){return mr.percent-xr.percent}),(0,m.S6)(Xe,function(xr,mr){mr>Qe&&(C[xr.id].set("visible",!1),xr.invisible=!0)})),Ty(Xe,B,Me)});var Ne=Me.minY,Ye=Me.maxY;(0,m.S6)(Gt,function(Xe,Ke){var Qe=Ke===Yt;(0,m.S6)(Xe,function(xr){var mr=(0,m.U2)(C,xr&&[xr.id]);if(mr){if(xr.y<Ne||xr.y>Ye){mr.set("visible",!1);return}var Lr=mr.getChildByIndex(0),Zr=Lr.getCanvasBBox(),vn={x:Qe?Zr.x:Zr.maxX,y:Zr.y+Zr.height/2};Rs(Lr,xr.x-vn.x,xr.y-vn.y),xr.labelLine&&ux(xr,v,Qe)}})})}}function hx(s,a,r,n){(0,m.S6)(a,function(l){var u=n.minX,v=n.minY,p=n.maxX,y=n.maxY,C=l.getCanvasBBox(),T=C.minX,_=C.minY,L=C.maxX,B=C.maxY,U=C.x,nt=C.y,pt=C.width,Mt=C.height,Yt=U,Gt=nt;(T<u||L<u)&&(Yt=u),(_<v||B<v)&&(Gt=v),T>p?Yt=p-pt:L>p&&(Yt=Yt-(L-p)),_>y?Gt=y-Mt:B>y&&(Gt=Gt-(B-y)),(Yt!==U||Gt!==nt)&&Rs(l,Yt-U,Gt-nt)})}function fx(s,a,r,n){(0,m.S6)(a,function(l,u){var v=l.getCanvasBBox(),p=r[u].getBBox();(v.minX<p.minX||v.minY<p.minY||v.maxX>p.maxX||v.maxY>p.maxY)&&l.remove(!0)})}var vx=100,_y=function(){function s(a){a===void 0&&(a={}),this.bitmap={};var r=a.xGap,n=r===void 0?1:r,l=a.yGap,u=l===void 0?8:l;this.xGap=n,this.yGap=u}return s.prototype.hasGap=function(a){for(var r=!0,n=this.bitmap,l=Math.round(a.minX),u=Math.round(a.maxX),v=Math.round(a.minY),p=Math.round(a.maxY),y=l;y<=u;y+=1){if(!n[y]){n[y]={};continue}if(y===l||y===u){for(var C=v;C<=p;C++)if(n[y][C]){r=!1;break}}else if(n[y][v]||n[y][p]){r=!1;break}}return r},s.prototype.fillGap=function(a){for(var r=this.bitmap,n=Math.round(a.minX),l=Math.round(a.maxX),u=Math.round(a.minY),v=Math.round(a.maxY),p=n;p<=l;p+=1)r[p]||(r[p]={});for(var p=n;p<=l;p+=this.xGap){for(var y=u;y<=v;y+=this.yGap)r[p][y]=!0;r[p][v]=!0}if(this.yGap!==1)for(var p=u;p<=v;p+=1)r[n][p]=!0,r[l][p]=!0;if(this.xGap!==1)for(var p=n;p<=l;p+=1)r[p][u]=!0,r[p][v]=!0},s.prototype.destroy=function(){this.bitmap={}},s}();function dx(s,a,r){r===void 0&&(r=vx);var n=-1,l=s.attr(),u=l.x,v=l.y,p=s.getCanvasBBox(),y=Math.sqrt(p.width*p.width+p.height*p.height),C,T=-n,_=0,L=0,B=function(Mt){var Yt=Mt*.1;return[Yt*Math.cos(Yt),Yt*Math.sin(Yt)]};if(a.hasGap(p))return a.fillGap(p),!0;for(var U=!1,nt=0,pt={};Math.min(Math.abs(_),Math.abs(L))<y&&nt<r;)if(C=B(T+=n),_=~~C[0],L=~~C[1],!(!_&&!L||pt["".concat(_,"-").concat(L)])&&(s.attr({x:u+_,y:v+L}),_+L<0&&s.attr("textAlign","right"),nt++,a.hasGap(s.getCanvasBBox()))){a.fillGap(s.getCanvasBBox()),U=!0,pt["".concat(_,"-").concat(L)]=!0;break}return U}function px(s,a,r,n){var l=s.getCanvasBBox(),u=l.width,v=l.height,p={x:a,y:r,textAlign:"center"};switch(n){case 0:p.y-=v+1,p.x+=1,p.textAlign="left";break;case 1:p.y-=v+1,p.x-=1,p.textAlign="right";break;case 2:p.y+=v+1,p.x-=1,p.textAlign="right";break;case 3:p.y+=v+1,p.x+=1,p.textAlign="left";break;case 5:p.y-=v*2+2;break;case 6:p.y+=v*2+2;break;case 7:p.x+=u+1,p.textAlign="left";break;case 8:p.x-=u+1,p.textAlign="right";break;default:break}return s.attr(p),s.getCanvasBBox()}function gx(s,a,r,n){var l=new _y;(0,m.S6)(a,function(u){var v=u.find(function(p){return p.get("type")==="text"});dx(v,l)||u.remove(!0)}),l.destroy()}function yx(s,a,r,n){var l=new _y;(0,m.S6)(a,function(u){for(var v=u.find(function(B){return B.get("type")==="text"}),p=v.attr(),y=p.x,C=p.y,T=!1,_=0;_<=8;_++){var L=px(v,y,C,_);if(l.hasGap(L)){l.fillGap(L),T=!0;break}}T||u.remove(!0)}),l.destroy()}function mx(s,a){return(s[0]||0)*(a[0]||0)+(s[1]||0)*(a[1]||0)+(s[2]||0)*(a[2]||0)}function Py(s){if(s.length>4)return[];var a=function(l,u){return[u.x-l.x,u.y-l.y]},r=a(s[0],s[1]),n=a(s[1],s[2]);return[r,n]}function Qf(s,a,r){a===void 0&&(a=0),r===void 0&&(r={x:0,y:0});var n=s.x,l=s.y;return{x:(n-r.x)*Math.cos(-a)+(l-r.y)*Math.sin(-a)+r.x,y:(r.x-n)*Math.sin(-a)+(l-r.y)*Math.cos(-a)+r.y}}function Iy(s){var a=[{x:s.x,y:s.y},{x:s.x+s.width,y:s.y},{x:s.x+s.width,y:s.y+s.height},{x:s.x,y:s.y+s.height}],r=s.rotation;return r?[Qf(a[0],r,a[0]),Qf(a[1],r,a[0]),Qf(a[2],r,a[0]),Qf(a[3],r,a[0])]:a}function Fy(s,a){if(s.length>4)return{min:0,max:0};var r=[];return s.forEach(function(n){r.push(mx([n.x,n.y],a))}),{min:Math.min.apply(Math,(0,I.ev)([],(0,I.CR)(r),!1)),max:Math.max.apply(Math,(0,I.ev)([],(0,I.CR)(r),!1))}}function xx(s,a){return s.max>a.min&&s.min<a.max}function bx(s){return typeof s=="number"&&!Number.isNaN(s)&&s!==1/0&&s!==-1/0}function ky(s){return["x","y","width","height"].every(function(a){return bx(s[a])})}function wx(s,a,r){return r===void 0&&(r=0),!(a.x>s.x+s.width+r||a.x+a.width<s.x-r||a.y>s.y+s.height+r||a.y+a.height<s.y-r)}function Sx(s,a,r){if(r===void 0&&(r=0),!ky(s)||!ky(a))return!1;if(!s.rotation&&!a.rotation)return wx(s,a,r);for(var n=Iy(s),l=Iy(a),u=Py(n).concat(Py(l)),v=0;v<u.length;v++){var p=u[v],y=Fy(n,p),C=Fy(l,p);if(!xx(y,C))return!1}return!0}var Cx=function(){function s(a){var r=this;this.queue=[],this.worker=new Worker(a),this.worker.onmessage=function(n){var l;(l=r.queue.shift())===null||l===void 0||l.resolve(n)},this.worker.onmessageerror=function(n){var l;console.warn("[AntV G2] Web worker is not available"),(l=r.queue.shift())===null||l===void 0||l.reject(n)}}return s.prototype.post=function(a,r){var n=this;return new Promise(function(l,u){n.queue.push({resolve:l,reject:u});try{n.worker.postMessage(a)}catch(v){console.warn("[AntV G2] Web worker is not available"),(0,m.mf)(r)&&r()}})},s.prototype.destroy=function(){this.worker.terminate()},s}();function Mx(s){if(typeof window!="undefined"){var a;try{a=new Blob([s.toString()],{type:"application/javascript"})}catch(r){a=new window.BlobBuilder,a.append(s.toString()),a=a.getBlob()}return new Cx(URL.createObjectURL(a))}}var Tx=function(s){function a(){function C(Gt,te){return(Gt[0]||0)*(te[0]||0)+(Gt[1]||0)*(te[1]||0)+(Gt[2]||0)*(te[2]||0)}function T(Gt){if(Gt.length>4)return[];var te=function(Ye,Xe){return[Xe.x-Ye.x,Xe.y-Ye.y]},Me=te(Gt[0],Gt[1]),Ne=te(Gt[1],Gt[2]);return[Me,Ne]}function _(Gt,te,Me){te===void 0&&(te=0),Me===void 0&&(Me={x:0,y:0});var Ne=Gt.x,Ye=Gt.y;return{x:(Ne-Me.x)*Math.cos(-te)+(Ye-Me.y)*Math.sin(-te)+Me.x,y:(Me.x-Ne)*Math.sin(-te)+(Ye-Me.y)*Math.cos(-te)+Me.y}}function L(Gt){var te=[{x:Gt.x,y:Gt.y},{x:Gt.x+Gt.width,y:Gt.y},{x:Gt.x+Gt.width,y:Gt.y+Gt.height},{x:Gt.x,y:Gt.y+Gt.height}],Me=Gt.rotation;return Me?[_(te[0],Me,te[0]),_(te[1],Me,te[0]),_(te[2],Me,te[0]),_(te[3],Me,te[0])]:te}function B(Gt,te){if(Gt.length>4)return{min:0,max:0};var Me=[];return Gt.forEach(function(Ne){Me.push(C([Ne.x,Ne.y],te))}),{min:Math.min.apply(null,Me),max:Math.max.apply(null,Me)}}function U(Gt,te){return Gt.max>te.min&&Gt.min<te.max}function nt(Gt){return typeof Gt=="number"&&!Number.isNaN(Gt)&&Gt!==1/0&&Gt!==-1/0}function pt(Gt){return["x","y","width","height"].every(function(te){return nt(Gt[te])})}function Mt(Gt,te,Me){return Me===void 0&&(Me=0),!(te.x>Gt.x+Gt.width+Me||te.x+te.width<Gt.x-Me||te.y>Gt.y+Gt.height+Me||te.y+te.height<Gt.y-Me)}function Yt(Gt,te,Me){if(Me===void 0&&(Me=0),!pt(Gt)||!pt(te))return!1;if(!Gt.rotation&&!te.rotation)return Mt(Gt,te,Me);for(var Ne=L(Gt),Ye=L(te),Xe=T(Ne).concat(T(Ye)),Ke=0;Ke<Xe.length;Ke++){var Qe=Xe[Ke],xr=B(Ne,Qe),mr=B(Ye,Qe);if(!U(xr,mr))return!1}return!0}return{intersect:Yt}}var r=a().intersect;function n(C){for(var T=C.slice(),_=0;_<T.length;_++){var L=T[_];if(L.visible)for(var B=_+1;B<T.length;B++){var U=T[B];L!==U&&U.visible&&r(L,U)&&(U.visible=!1)}}return T}var l={"hide-overlap":n};try{var u=JSON.parse(s.data);if(!u||!u.type||!l[u.type])return;var v=u.type,p=u.items,y=l[v](p);self.postMessage(y)}catch(C){throw C}},Ax=`
   self.onmessage = `.concat(Tx.toString(),`
`),n0=function(s){for(var a=s.slice(),r=0;r<a.length;r++){var n=a[r];if(n.visible)for(var l=r+1;l<a.length;l++){var u=a[l];n!==u&&u.visible&&Sx(n,u)&&(u.visible=!1)}}return a},i0=new Map,Dy=Mx(Ax);function Ex(s,a,r,n){return(0,I.mG)(this,void 0,void 0,function(){var l,u,v,p,y,C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return l=a.map(function(_,L){return(0,I.pi)((0,I.pi)({},Pl(_,s[L],(0,m.U2)(s[L],"background.padding"))),{visible:!0})}),u=JSON.stringify(l),v=function(_){return i0.set(u,_),(0,m.S6)(_,function(L,B){var U=L.visible,nt=a[B];U?nt==null||nt.show():nt==null||nt.hide()}),_},i0.get(u)?(v(i0.get(u)),[3,7]):[3,1];case 1:if(!Dy)return[3,6];T.label=2;case 2:return T.trys.push([2,4,,5]),p=JSON.stringify({type:"hide-overlap",items:l}),[4,Dy.post(p,function(){return v(n0(l))})];case 3:return y=T.sent(),v(Array.isArray(y.data)?y.data:[]),[3,5];case 4:return C=T.sent(),console.error(C),v(n0(l)),[3,5];case 5:return[3,7];case 6:v(n0(l)),T.label=7;case 7:return[2]}})})}var Ly={"#5B8FF9":!0},_x=function(s){var a=hn.Z.toRGB(s).toUpperCase();if(Ly[a])return Ly[a];var r=(0,I.CR)(hn.Z.rgb2arr(a),3),n=r[0],l=r[1],u=r[2],v=(n*299+l*587+u*114)/1e3<128;return v};function Px(s,a,r){if(r.length!==0){var n=r[0].get("element"),l=n.geometry.theme,u=l.labels||{},v=u.fillColorLight,p=u.fillColorDark;r.forEach(function(y,C){var T=a[C],_=T.find(function(Mt){return Mt.get("type")==="text"}),L=ti.fromObject(y.getBBox()),B=ti.fromObject(_.getCanvasBBox()),U=!L.contains(B),nt=y.attr("fill"),pt=_x(nt);U?_.attr(l.overflowLabels.style):pt?v&&_.attr("fill",v):p&&_.attr("fill",p)})}}function Ix(s,a,r){var n=s.coordinate,l=ci(a),u=ti.fromObject(l.getCanvasBBox()),v=ti.fromObject(r.getBBox());return n.isTransposed?v.height>=u.height:v.width>=u.width}function Fx(s,a,r){var n=!!s.getAdjust("stack");return n||a.every(function(l,u){var v=r[u];return Ix(s,l,v)})}function kx(s,a,r){var n=s.coordinate,l=ti.fromObject(r.getBBox()),u=ci(a);n.isTransposed?u.attr({x:l.minX+l.width/2,textAlign:"center"}):u.attr({y:l.minY+l.height/2,textBaseline:"middle"})}function Dx(s,a,r){var n;if(r.length!==0){var l=(n=r[0])===null||n===void 0?void 0:n.get("element"),u=l==null?void 0:l.geometry;if(!(!u||u.type!=="interval")){var v=Fx(u,a,r);v&&r.forEach(function(p,y){var C=a[y];kx(u,C,p)})}}}function Lx(s){var a=500,r=[],n=Math.max(Math.floor(s.length/a),1);return(0,m.S6)(s,function(l,u){u%n===0?r.push(l):l.set("visible",!1)}),r}function Ox(s,a,r){var n;if(r.length!==0){var l=(n=r[0])===null||n===void 0?void 0:n.get("element"),u=l==null?void 0:l.geometry;if(!(!u||u.type!=="interval")){var v=Lx(a),p=(0,I.CR)(u.getXYFields(),1),y=p[0],C=[],T=[],_=(0,m.vM)(v,function(pt){return pt.get("data")[y]}),L=(0,m.jj)((0,m.UI)(v,function(pt){return pt.get("data")[y]})),B;v.forEach(function(pt){pt.set("visible",!0)});var U=function(pt){pt&&(pt.length&&T.push(pt.pop()),T.push.apply(T,(0,I.ev)([],(0,I.CR)(pt),!1)))};for((0,m.dp)(L)>0&&(B=L.shift(),U(_[B])),(0,m.dp)(L)>0&&(B=L.pop(),U(_[B])),(0,m.S6)(L.reverse(),function(pt){U(_[pt])});T.length>0;){var nt=T.shift();nt.get("visible")&&(Il(nt,C)?nt.set("visible",!1):C.push(nt))}}}}function Bx(s,a){var r=s.getXYFields()[1],n=[],l=a.sort(function(u,v){return u.get("data")[r]-u.get("data")[r]});return l.length>0&&n.push(l.shift()),l.length>0&&n.push(l.pop()),n.push.apply(n,(0,I.ev)([],(0,I.CR)(l),!1)),n}function Oy(s,a,r){return s.some(function(n){return r(n,a)})}function Rx(s,a,r){r===void 0&&(r=0);var n=Math.max(0,Math.min(s.x+s.width+r,a.x+a.width+r)-Math.max(s.x-r,a.x-r)),l=Math.max(0,Math.min(s.y+s.height+r,a.y+a.height+r)-Math.max(s.y-r,a.y-r));return n*l}function By(s,a){return Oy(s,a,function(r,n){var l=ci(r),u=ci(n);return Rx(l.getCanvasBBox(),u.getCanvasBBox(),2)>0})}function Nx(s,a,r,n,l){var u,v;if(r.length!==0){var p=(u=r[0])===null||u===void 0?void 0:u.get("element"),y=p==null?void 0:p.geometry;if(!(!y||y.type!=="point")){var C=(0,I.CR)(y.getXYFields(),2),T=C[0],_=C[1],L=(0,m.vM)(a,function(nt){return nt.get("data")[T]}),B=[],U=l&&l.offset||((v=s[0])===null||v===void 0?void 0:v.offset)||12;(0,m.UI)((0,m.XP)(L).reverse(),function(nt){for(var pt=Bx(y,L[nt]);pt.length;){var Mt=pt.shift(),Yt=ci(Mt);if(Oy(B,Mt,function(Me,Ne){return Me.get("data")[T]===Ne.get("data")[T]&&Me.get("data")[_]===Ne.get("data")[_]})){Yt.set("visible",!1);continue}var Gt=By(B,Mt),te=!1;if(Gt&&(Yt.attr("y",Yt.attr("y")+2*U),te=By(B,Mt)),te){Yt.set("visible",!1);continue}B.push(Mt)}})}}}function zx(s,a){var r=s.getXYFields()[1],n=[],l=a.sort(function(u,v){return u.get("data")[r]-u.get("data")[r]});return l.length>0&&n.push(l.shift()),l.length>0&&n.push(l.pop()),n.push.apply(n,(0,I.ev)([],(0,I.CR)(l),!1)),n}function Ry(s,a,r){return s.some(function(n){return r(n,a)})}function Vx(s,a,r){r===void 0&&(r=0);var n=Math.max(0,Math.min(s.x+s.width+r,a.x+a.width+r)-Math.max(s.x-r,a.x-r)),l=Math.max(0,Math.min(s.y+s.height+r,a.y+a.height+r)-Math.max(s.y-r,a.y-r));return n*l}function Ny(s,a){return Ry(s,a,function(r,n){var l=ci(r),u=ci(n);return Vx(l.getCanvasBBox(),u.getCanvasBBox(),2)>0})}function Ux(s,a,r,n,l){var u,v;if(r.length!==0){var p=(u=r[0])===null||u===void 0?void 0:u.get("element"),y=p==null?void 0:p.geometry;if(!(!y||["path","line","area"].indexOf(y.type)<0)){var C=(0,I.CR)(y.getXYFields(),2),T=C[0],_=C[1],L=(0,m.vM)(a,function(nt){return nt.get("data")[T]}),B=[],U=l&&l.offset||((v=s[0])===null||v===void 0?void 0:v.offset)||12;(0,m.UI)((0,m.XP)(L).reverse(),function(nt){for(var pt=zx(y,L[nt]);pt.length;){var Mt=pt.shift(),Yt=ci(Mt);if(Ry(B,Mt,function(Me,Ne){return Me.get("data")[T]===Ne.get("data")[T]&&Me.get("data")[_]===Ne.get("data")[_]})){Yt.set("visible",!1);continue}var Gt=Ny(B,Mt),te=!1;if(Gt&&(Yt.attr("y",Yt.attr("y")+2*U),te=Ny(B,Mt)),te){Yt.set("visible",!1);continue}B.push(Mt)}})}}}var a0;function Wx(){return a0||(a0=document.createElement("canvas").getContext("2d")),a0}var tv=(0,m.HP)(function(s,a){a===void 0&&(a={});var r=a.fontSize,n=a.fontFamily,l=a.fontWeight,u=a.fontStyle,v=a.fontVariant,p=Wx();return p.font=[u,v,l,"".concat(r,"px"),n].join(" "),p.measureText((0,m.HD)(s)?s:"").width},function(s,a){return a===void 0&&(a={}),(0,I.ev)([s],(0,I.CR)((0,m.VO)(a)),!1).join("")}),Yx=function(s,a,r){var n=16,l=tv("...",r),u;(0,m.HD)(s)?u=s:u=(0,m.BB)(s);var v=a,p=[],y,C;if(tv(s,r)<=a)return s;for(;y=u.substr(0,n),C=tv(y,r),!(C+l>v&&C>v);)if(p.push(y),v-=C,u=u.substr(n),!u)return p.join("");for(;y=u.substr(0,1),C=tv(y,r),!(C+l>v);)if(p.push(y),v-=C,u=u.substr(1),!u)return p.join("");return"".concat(p.join(""),"...")};function Hx(s,a,r,n,l){if(!(a.length<=0)){var u=(l==null?void 0:l.direction)||["top","right","bottom","left"],v=(l==null?void 0:l.action)||"translate",p=(l==null?void 0:l.margin)||0,y=a[0].get("coordinate");if(y){var C=Ud(y,p),T=C.minX,_=C.minY,L=C.maxX,B=C.maxY;(0,m.S6)(a,function(U){var nt=U.getCanvasBBox(),pt=nt.minX,Mt=nt.minY,Yt=nt.maxX,Gt=nt.maxY,te=nt.x,Me=nt.y,Ne=nt.width,Ye=nt.height,Xe=te,Ke=Me;if(u.indexOf("left")>=0&&(pt<T||Yt<T)&&(Xe=T),u.indexOf("top")>=0&&(Mt<_||Gt<_)&&(Ke=_),u.indexOf("right")>=0&&(pt>L?Xe=L-Ne:Yt>L&&(Xe=Xe-(Yt-L))),u.indexOf("bottom")>=0&&(Mt>B?Ke=B-Ye:Gt>B&&(Ke=Ke-(Gt-B))),Xe!==te||Ke!==Me){var Qe=Xe-te;if(v==="translate")Rs(U,Qe,Ke-Me);else if(v==="ellipsis"){var xr=U.findAll(function(mr){return mr.get("type")==="text"});xr.forEach(function(mr){var Lr=(0,m.ei)(mr.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Zr=mr.getCanvasBBox(),vn=Yx(mr.attr("text"),Zr.width-Math.abs(Qe),Lr);mr.attr("text",vn)})}else U.hide()}})}}}function Gx(s,a,r){var n={fillOpacity:(0,m.UM)(s.attr("fillOpacity"))?1:s.attr("fillOpacity"),strokeOpacity:(0,m.UM)(s.attr("strokeOpacity"))?1:s.attr("strokeOpacity"),opacity:(0,m.UM)(s.attr("opacity"))?1:s.attr("opacity")};s.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),s.animate(n,a)}function Xx(s,a,r){var n={fillOpacity:0,strokeOpacity:0,opacity:0},l=a.easing,u=a.duration,v=a.delay;s.animate(n,u,l,function(){s.remove(!0)},v)}function Zx(s,a,r){var n,l=(0,I.CR)(a,2),u=l[0],v=l[1];return s.applyToMatrix([u,v,1]),r==="x"?(s.setMatrix(gn.vs(s.getMatrix(),[["t",-u,-v],["s",.01,1],["t",u,v]])),n=gn.vs(s.getMatrix(),[["t",-u,-v],["s",100,1],["t",u,v]])):r==="y"?(s.setMatrix(gn.vs(s.getMatrix(),[["t",-u,-v],["s",1,.01],["t",u,v]])),n=gn.vs(s.getMatrix(),[["t",-u,-v],["s",1,100],["t",u,v]])):r==="xy"&&(s.setMatrix(gn.vs(s.getMatrix(),[["t",-u,-v],["s",.01,.01],["t",u,v]])),n=gn.vs(s.getMatrix(),[["t",-u,-v],["s",100,100],["t",u,v]])),n}function o0(s,a,r,n,l){var u=r.start,v=r.end,p=r.getWidth(),y=r.getHeight(),C,T;l==="y"?(C=u.x+p/2,T=n.y<u.y?n.y:u.y):l==="x"?(C=n.x>u.x?n.x:u.x,T=u.y+y/2):l==="xy"&&(r.isPolar?(C=r.getCenter().x,T=r.getCenter().y):(C=(u.x+v.x)/2,T=(u.y+v.y)/2));var _=Zx(s,[C,T],l);s.animate({matrix:_},a)}function jx(s,a,r){var n=r.coordinate,l=r.minYPoint;o0(s,a,n,l,"x")}function $x(s,a,r){var n=r.coordinate,l=r.minYPoint;o0(s,a,n,l,"y")}function Kx(s,a,r){var n=r.coordinate,l=r.minYPoint;o0(s,a,n,l,"xy")}function qx(s,a,r){var n=s.getTotalLength();s.attr("lineDash",[n]),s.animate(function(l){return{lineDashOffset:(1-l)*n}},a)}function Jx(s,a,r){var n=r.toAttrs,l=n.x,u=n.y;delete n.x,delete n.y,s.attr(n),s.animate({x:l,y:u},a)}function Qx(s,a,r){var n=s.getBBox(),l=s.get("origin").mappingData,u=l.points,v=u[0].y-u[1].y>0?n.maxX:n.minX,p=(n.minY+n.maxY)/2;s.applyToMatrix([v,p,1]);var y=gn.vs(s.getMatrix(),[["t",-v,-p],["s",.01,1],["t",v,p]]);s.setMatrix(y),s.animate({matrix:gn.vs(s.getMatrix(),[["t",-v,-p],["s",100,1],["t",v,p]])},a)}function t1(s,a,r){var n=s.getBBox(),l=s.get("origin").mappingData,u=(n.minX+n.maxX)/2,v=l.points,p=v[0].y-v[1].y<=0?n.maxY:n.minY;s.applyToMatrix([u,p,1]);var y=gn.vs(s.getMatrix(),[["t",-u,-p],["s",1,.01],["t",u,p]]);s.setMatrix(y),s.animate({matrix:gn.vs(s.getMatrix(),[["t",-u,-p],["s",1,100],["t",u,p]])},a)}function zy(s,a){var r,n=Ol(s,a),l=n.startAngle,u=n.endAngle;return!(0,m.vQ)(l,-Math.PI*.5)&&l<-Math.PI*.5&&(l+=Math.PI*2),!(0,m.vQ)(u,-Math.PI*.5)&&u<-Math.PI*.5&&(u+=Math.PI*2),a[5]===0&&(r=(0,I.CR)([u,l],2),l=r[0],u=r[1]),(0,m.vQ)(l,Math.PI*1.5)&&(l=Math.PI*-.5),(0,m.vQ)(u,Math.PI*-.5)&&!(0,m.vQ)(l,u)&&(u=Math.PI*1.5),{startAngle:l,endAngle:u}}function Vy(s){var a;return s[0]==="M"||s[0]==="L"?a=[s[1],s[2]]:(s[0]==="a"||s[0]==="A"||s[0]==="C")&&(a=[s[s.length-2],s[s.length-1]]),a}function Uy(s){var a,r,n,l=s.filter(function(Gt){return Gt[0]==="A"||Gt[0]==="a"});if(l.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var u=l[0],v=l.length>1?l[1]:l[0],p=s.indexOf(u),y=s.indexOf(v),C=Vy(s[p-1]),T=Vy(s[y-1]),_=zy(C,u),L=_.startAngle,B=_.endAngle,U=zy(T,v),nt=U.startAngle,pt=U.endAngle;(0,m.vQ)(L,nt)&&(0,m.vQ)(B,pt)?(r=L,n=B):(r=Math.min(L,nt),n=Math.max(B,pt));var Mt=u[1],Yt=l[l.length-1][1];return Mt<Yt?(a=(0,I.CR)([Yt,Mt],2),Mt=a[0],Yt=a[1]):Mt===Yt&&(Yt=0),{startAngle:r,endAngle:n,radius:Mt,innerRadius:Yt}}function e1(s,a,r){var n=r.toAttrs,l=r.coordinate,u=n.path||[],v=u.map(function(Yt){return Yt[0]});if(!(u.length<1)){var p=Uy(u),y=p.startAngle,C=p.endAngle,T=p.radius,_=p.innerRadius,L=Uy(s.attr("path")),B=L.startAngle,U=L.endAngle,nt=l.getCenter(),pt=y-B,Mt=C-U;if(pt===0&&Mt===0){s.attr("path",u);return}s.animate(function(Yt){var Gt=B+Yt*pt,te=U+Yt*Mt;return(0,I.pi)((0,I.pi)({},n),{path:(0,m.Xy)(v,["M","A","A","Z"])?Ei(nt.x,nt.y,T,Gt,te):Nn(nt.x,nt.y,T,Gt,te,_)})},(0,I.pi)((0,I.pi)({},a),{callback:function(){s.attr("path",u),(0,m.mf)(a.callback)&&a.callback()}}))}}function r1(s,a,r){var n=Su(r.coordinate,20),l=n.type,u=n.startState,v=n.endState,p=s.setClip({type:l,attrs:u});r.toAttrs&&s.attr(r.toAttrs),p.animate(v,(0,I.pi)((0,I.pi)({},a),{callback:function(){s&&!s.get("destroyed")&&s.set("clipShape",null),p.remove(!0),(0,m.mf)(a.callback)&&a.callback()}}))}function s0(s,a,r){if(s.isGroup())(0,m.S6)(s.getChildren(),function(p){s0(p,a,r)});else{var n=s.getBBox(),l=(n.minX+n.maxX)/2,u=(n.minY+n.maxY)/2;if(s.applyToMatrix([l,u,1]),r==="zoomIn"){var v=gn.vs(s.getMatrix(),[["t",-l,-u],["s",.01,.01],["t",l,u]]);s.setMatrix(v),s.animate({matrix:gn.vs(s.getMatrix(),[["t",-l,-u],["s",100,100],["t",l,u]])},a)}else s.animate({matrix:gn.vs(s.getMatrix(),[["t",-l,-u],["s",.01,.01],["t",l,u]])},(0,I.pi)((0,I.pi)({},a),{callback:function(){s.remove(!0),(0,m.mf)(a.callback)&&a.callback()}}))}}function n1(s,a,r){s0(s,a,"zoomIn")}function i1(s,a,r){s0(s,a,"zoomOut")}function Io(s){return[Et.TOP,Et.BOTTOM].includes(s)?{offsetX:0,offsetY:s===Et.TOP?-8:8,style:{textAlign:"center",textBaseline:s===Et.TOP?"bottom":"top"}}:[Et.LEFT,Et.RIGHT].includes(s)?{offsetX:s===Et.LEFT?-8:8,offsetY:0,style:{textAlign:s===Et.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function l0(s,a,r){return{x:s.x+a*Math.cos(r),y:s.y+a*Math.sin(r)}}var a1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:s.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.getRegion=function(r,n){var l=.5,u={x:.5,y:.5},v=Math.PI*2/r,p=-1*Math.PI/2+v*n,y=l/(1+1/Math.sin(v/2)),C=l0(u,l-y,p),T=Math.PI*5/4,_=Math.PI*1/4;return{start:l0(C,y,T),end:l0(C,y,_)}},a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.beforeEachView=function(r,n){},a.prototype.generateFacets=function(r){var n=this,l=this.cfg,u=l.fields,v=l.type,p=(0,I.CR)(u,1),y=p[0];if(!y)throw new Error("No `fields` specified!");var C=this.getFieldValues(r,y),T=C.length,_=[];return C.forEach(function(L,B){var U=[{field:y,value:L,values:C}],nt=(0,m.hX)(r,n.getFacetDataFilter(U)),pt={type:v,data:nt,region:n.getRegion(T,B),columnValue:L,columnField:y,columnIndex:B,columnValuesLength:T,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};_.push(pt)}),_},a.prototype.getXAxisOption=function(r,n,l,u){return l},a.prototype.getYAxisOption=function(r,n,l,u){return l},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n){var l=n.columnValue,u=n.view,v=(0,m.U2)(r.cfg.title,"formatter"),p=(0,m.b$)({position:["50%","0%"],content:v?v(l):l},Io(Et.TOP),r.cfg.title);u.annotation().text(p)})},a}(jo),o1=a1,s1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:s.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.beforeEachView=function(r,n){},a.prototype.generateFacets=function(r){var n=this,l=this.cfg.fields,u=this.cfg.cols,v=(0,I.CR)(l,1),p=v[0];if(!p)throw new Error("No `fields` specified!");var y=this.getFieldValues(r,p),C=y.length;u=u||C;var T=this.getPageCount(C,u),_=[];return y.forEach(function(L,B){var U=n.getRowCol(B,u),nt=U.row,pt=U.col,Mt=[{field:p,value:L,values:y}],Yt=(0,m.hX)(r,n.getFacetDataFilter(Mt)),Gt={type:n.cfg.type,data:Yt,region:n.getRegion(T,u,pt,nt),columnValue:L,rowValue:L,columnField:p,rowField:null,columnIndex:pt,rowIndex:nt,columnValuesLength:u,rowValuesLength:T,total:C};_.push(Gt)}),_},a.prototype.getXAxisOption=function(r,n,l,u){return u.rowIndex!==u.rowValuesLength-1&&u.columnValuesLength*u.rowIndex+u.columnIndex+1+u.columnValuesLength<=u.total?(0,I.pi)((0,I.pi)({},l),{label:null,title:null}):l},a.prototype.getYAxisOption=function(r,n,l,u){return u.columnIndex!==0?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):l},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n){var l=n.columnValue,u=n.view,v=(0,m.U2)(r.cfg.title,"formatter"),p=(0,m.b$)({position:["50%","0%"],content:v?v(l):l},Io(Et.TOP),r.cfg.title);u.annotation().text(p)})},a.prototype.getPageCount=function(r,n){return Math.floor((r+n-1)/n)},a.prototype.getRowCol=function(r,n){var l=Math.floor(r/n),u=r%n;return{row:l,col:u}},a}(jo),l1=s1,u1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,I.pi)({},s.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.pi)({},s.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.beforeEachView=function(r,n){},a.prototype.generateFacets=function(r){for(var n=this.cfg,l=n.fields,u=n.type,v=l.length,p=v,y=[],C=0;C<p;C++)for(var T=l[C],_=0;_<v;_++){var L=l[_],B={type:u,data:r,region:this.getRegion(v,p,C,_),columnValue:T,rowValue:L,columnField:T,rowField:L,columnIndex:C,rowIndex:_,columnValuesLength:p,rowValuesLength:v};y.push(B)}return y},a.prototype.getXAxisOption=function(r,n,l,u){return u.rowIndex!==u.rowValuesLength-1?(0,I.pi)((0,I.pi)({},l),{label:null,title:null}):l},a.prototype.getYAxisOption=function(r,n,l,u){return u.columnIndex!==0?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):l},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n,l){var u=n.columnIndex,v=n.rowIndex,p=n.columnValuesLength,y=n.rowValuesLength,C=n.columnValue,T=n.rowValue,_=n.view;if(v===0){var L=(0,m.U2)(r.cfg.columnTitle,"formatter"),B=(0,m.b$)({position:["50%","0%"],content:L?L(C):C},Io(Et.TOP),r.cfg.columnTitle);_.annotation().text(B)}if(u===p-1){var L=(0,m.U2)(r.cfg.rowTitle,"formatter"),B=(0,m.b$)({position:["100%","50%"],content:L?L(T):T},Io(Et.RIGHT),r.cfg.rowTitle);_.annotation().text(B)}})},a}(jo),c1=u1,h1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:s.prototype.getDefaultTitleCfg.call(this),transpose:!1})},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.beforeEachView=function(r,n){this.cfg.transpose?n.columnIndex%2===0?r.coordinate().transpose().reflect("x"):r.coordinate().transpose():n.rowIndex%2!==0&&r.coordinate().reflect("y")},a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.generateFacets=function(r){var n=this,l=(0,I.CR)(this.cfg.fields,1),u=l[0],v=[],p=1,y=1,C=[""],T=[""],_,L;return this.cfg.transpose?(_=u,C=this.getFieldValues(r,_).slice(0,2),p=C.length):(L=u,T=this.getFieldValues(r,L).slice(0,2),y=T.length),C.forEach(function(B,U){T.forEach(function(nt,pt){var Mt=[{field:_,value:B,values:C},{field:L,value:nt,values:T}],Yt=(0,m.hX)(r,n.getFacetDataFilter(Mt)),Gt={type:n.cfg.type,data:Yt,region:n.getRegion(y,p,U,pt),columnValue:B,rowValue:nt,columnField:_,rowField:L,columnIndex:U,rowIndex:pt,columnValuesLength:p,rowValuesLength:y};v.push(Gt)})}),v},a.prototype.getXAxisOption=function(r,n,l,u){return u.columnIndex===1||u.rowIndex===1?(0,I.pi)((0,I.pi)({},l),{label:null,title:null}):l},a.prototype.getYAxisOption=function(r,n,l,u){return l},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n,l){var u=n.columnValue,v=n.rowValue,p=n.view,y=(0,m.U2)(r.cfg.title,"formatter");if(r.cfg.transpose){var C=(0,m.b$)({position:["50%","0%"],content:y?y(u):u},Io(Et.TOP),r.cfg.title);p.annotation().text(C)}else{var C=(0,m.b$)({position:["100%","50%"],content:y?y(v):v},Io(Et.RIGHT),r.cfg.title);p.annotation().text(C)}})},a}(jo),f1=h1,v1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.beforeEachView=function(r,n){},a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,I.pi)({},s.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.pi)({},s.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.generateFacets=function(r){var n=this,l=(0,I.CR)(this.cfg.fields,2),u=l[0],v=l[1],p=[],y=1,C=1,T=[""],_=[""];return u&&(T=this.getFieldValues(r,u),y=T.length),v&&(_=this.getFieldValues(r,v),C=_.length),T.forEach(function(L,B){_.forEach(function(U,nt){var pt=[{field:u,value:L,values:T},{field:v,value:U,values:_}],Mt=(0,m.hX)(r,n.getFacetDataFilter(pt)),Yt={type:n.cfg.type,data:Mt,region:n.getRegion(C,y,B,nt),columnValue:L,rowValue:U,columnField:u,rowField:v,columnIndex:B,rowIndex:nt,columnValuesLength:y,rowValuesLength:C};p.push(Yt)})}),p},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n,l){var u=n.columnIndex,v=n.rowIndex,p=n.columnValuesLength,y=n.columnValue,C=n.rowValue,T=n.view;if(v===0){var _=(0,m.U2)(r.cfg.columnTitle,"formatter"),L=(0,m.b$)({position:["50%","0%"],content:_?_(y):y},Io(Et.TOP),r.cfg.columnTitle);T.annotation().text(L)}if(u===p-1){var _=(0,m.U2)(r.cfg.rowTitle,"formatter"),L=(0,m.b$)({position:["100%","50%"],content:_?_(C):C},Io(Et.RIGHT),r.cfg.rowTitle);T.annotation().text(L)}})},a.prototype.getXAxisOption=function(r,n,l,u){return u.rowIndex!==u.rowValuesLength-1?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):u.columnIndex!==Math.floor((u.columnValuesLength-1)/2)?(0,I.pi)((0,I.pi)({},l),{title:null}):l},a.prototype.getYAxisOption=function(r,n,l,u){return u.columnIndex!==0?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):u.rowIndex!==Math.floor((u.rowValuesLength-1)/2)?(0,I.pi)((0,I.pi)({},l),{title:null}):l},a}(jo),d1=v1,p1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.afterChartRender=function(){r.facets&&r.cfg.line&&(r.container.clear(),r.drawLines(r.facets))},r}return a.prototype.afterEachView=function(r,n){this.processAxis(r,n)},a.prototype.beforeEachView=function(r,n){},a.prototype.init=function(){s.prototype.init.call(this),this.view.on(Ct.AFTER_RENDER,this.afterChartRender)},a.prototype.getDefaultCfg=function(){return(0,m.b$)({},s.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:s.prototype.getDefaultTitleCfg.call(this)})},a.prototype.generateFacets=function(r){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var l=[],u={type:this.cfg.type,data:r,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return l.push(u),u.children=this.getChildFacets(r,1,l),this.setRegion(l),l},a.prototype.setRegion=function(r){var n=this;this.forceColIndex(r),r.forEach(function(l){l.region=n.getRegion(l.rowValuesLength,l.columnValuesLength,l.columnIndex,l.rowIndex)})},a.prototype.getRegion=function(r,n,l,u){var v=1/n,p=1/r,y={x:v*l,y:p*u},C={x:y.x+v,y:y.y+p*2/3};return{start:y,end:C}},a.prototype.forceColIndex=function(r){var n,l,u=this,v=[],p=0;r.forEach(function(U){u.isLeaf(U)&&(v.push(U),U.columnIndex=p,p++)}),v.forEach(function(U){U.columnValuesLength=v.length});for(var y=this.cfg.fields.length,C=y-1;C>=0;C--){var T=this.getFacetsByLevel(r,C);try{for(var _=(n=void 0,(0,I.XA)(T)),L=_.next();!L.done;L=_.next()){var B=L.value;this.isLeaf(B)||(B.originColIndex=B.columnIndex,B.columnIndex=this.getRegionIndex(B.children),B.columnValuesLength=v.length)}}catch(U){n={error:U}}finally{try{L&&!L.done&&(l=_.return)&&l.call(_)}finally{if(n)throw n.error}}}},a.prototype.getFacetsByLevel=function(r,n){var l=[];return r.forEach(function(u){u.rowIndex===n&&l.push(u)}),l},a.prototype.getRegionIndex=function(r){var n=r[0],l=r[r.length-1];return(l.columnIndex-n.columnIndex)/2+n.columnIndex},a.prototype.isLeaf=function(r){return!r.children||!r.children.length},a.prototype.getRows=function(){return this.cfg.fields.length+1},a.prototype.getChildFacets=function(r,n,l){var u=this,v=this.cfg.fields,p=v.length;if(!(p<n)){var y=[],C=v[n-1],T=this.getFieldValues(r,C);return T.forEach(function(_,L){var B=[{field:C,value:_,values:T}],U=r.filter(u.getFacetDataFilter(B));if(U.length){var nt={type:u.cfg.type,data:U,region:null,columnValue:_,rowValue:"",columnField:C,rowField:"",columnIndex:L,rowValuesLength:u.getRows(),columnValuesLength:1,rowIndex:n,children:u.getChildFacets(U,n+1,l)};y.push(nt),l.push(nt)}}),y}},a.prototype.render=function(){s.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.renderTitle=function(){var r=this;(0,m.S6)(this.facets,function(n){var l=n.columnValue,u=n.view,v=(0,m.U2)(r.cfg.title,"formatter"),p=(0,m.b$)({position:["50%","0%"],content:v?v(l):l},Io(Et.TOP),r.cfg.title);u.annotation().text(p)})},a.prototype.drawLines=function(r){var n=this;r.forEach(function(l){if(!n.isLeaf(l)){var u=l.children;n.addFacetLines(l,u)}})},a.prototype.addFacetLines=function(r,n){var l=this,u=r.view,v=u.coordinateBBox,p={x:v.x+v.width/2,y:v.y+v.height};n.forEach(function(y){var C=y.view.coordinateBBox,T={x:C.bl.x+(C.tr.x-C.bl.x)/2,y:C.tr.y},_={x:p.x,y:p.y+(T.y-p.y)/2},L={x:T.x,y:_.y};l.drawLine([p,_,L,T])})},a.prototype.getPath=function(r){var n=[],l=this.cfg.line.smooth;return l?(n.push(["M",r[0].x,r[0].y]),n.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y])):r.forEach(function(u,v){v===0?n.push(["M",u.x,u.y]):n.push(["L",u.x,u.y])}),n},a.prototype.drawLine=function(r){var n=this.getPath(r),l=this.cfg.line.style;this.container.addShape("path",{attrs:(0,m.f0)({path:n},l)})},a.prototype.getXAxisOption=function(r,n,l,u){return u.rowIndex!==u.rowValuesLength-1?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):l},a.prototype.getYAxisOption=function(r,n,l,u){return u.originColIndex!==0&&u.columnIndex!==0?(0,I.pi)((0,I.pi)({},l),{title:null,label:null}):l},a}(jo),g1=p1;function Wy(s){var a=(0,I.ev)([],(0,I.CR)(s),!1);a.sort(function(n,l){return n-l});var r=a.length;return r===0?0:r%2===1?a[(r-1)/2]:(a[r/2]+a[r/2-1])/2}function y1(s){var a=(0,m.u4)(s,function(r,n){return r+=isNaN(n)||!(0,m.hj)(n)?0:n},0);return s.length===0?0:a/s.length}function ev(s,a){if(!a)return null;var r;switch(s){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{r=a.isCategory?Wy(a.values.map(function(n,l){return l})):Wy(a.values);break}case"mean":{r=a.isCategory?(a.values.length-1)/2:y1(a.values);break}case"min":r=a.isCategory?0:a[s];break;case"max":r=a.isCategory?a.values.length-1:a[s];break;default:r=s;break}return a.scale(r)}var rv=["regionFilter","shape"],m1=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Bt.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Bt.BG).addGroup(),n.option=[],n}return Object.defineProperty(a.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.layout=function(){this.update()},a.prototype.render=function(){},a.prototype.update=function(){var r=this;this.onAfterRender(function(){var l=new Map;(0,m.S6)(r.option,function(u){if((0,m.q9)(rv,u.type)){var v=r.updateOrCreate(u);v&&l.set(r.getCacheKey(u),v)}}),r.cache=r.syncCache(l)});var n=new Map;(0,m.S6)(this.option,function(l){if(!(0,m.q9)(rv,l.type)){var u=r.updateOrCreate(l);u&&n.set(r.getCacheKey(l),u)}}),this.cache=this.syncCache(n)},a.prototype.clear=function(r){r===void 0&&(r=!1),s.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),r&&(this.option=[])},a.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},a.prototype.getComponents=function(){var r=[];return this.cache.forEach(function(n){r.push(n)}),r},a.prototype.clearComponents=function(){this.getComponents().forEach(function(r){r.component.destroy()}),this.cache.clear()},a.prototype.onAfterRender=function(r){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(l){l.animateOption&&(l.once(lt.AFTER_DRAW_ANIMATE,function(){r()}),n=!0)}),n||this.view.getRootView().once(Ct.AFTER_RENDER,function(){r()})},a.prototype.createAnnotation=function(r){var n=r.type,l=St[(0,m.jC)(n)];if(l){var u=this.getAnnotationTheme(n),v=this.getAnnotationCfg(n,r,u);if(!v)return null;var p=new l(v);return{component:p,layer:this.isTop(v)?Bt.FORE:Bt.BG,direction:Et.NONE,type:Vt.ANNOTATION,extra:r}}},a.prototype.annotation=function(r){this.option.push(r)},a.prototype.arc=function(r){return this.annotation((0,I.pi)({type:"arc"},r)),this},a.prototype.image=function(r){return this.annotation((0,I.pi)({type:"image"},r)),this},a.prototype.line=function(r){return this.annotation((0,I.pi)({type:"line"},r)),this},a.prototype.region=function(r){return this.annotation((0,I.pi)({type:"region"},r)),this},a.prototype.text=function(r){return this.annotation((0,I.pi)({type:"text"},r)),this},a.prototype.dataMarker=function(r){return this.annotation((0,I.pi)({type:"dataMarker"},r)),this},a.prototype.dataRegion=function(r){this.annotation((0,I.pi)({type:"dataRegion"},r))},a.prototype.regionFilter=function(r){this.annotation((0,I.pi)({type:"regionFilter"},r))},a.prototype.shape=function(r){this.annotation((0,I.pi)({type:"shape"},r))},a.prototype.html=function(r){this.annotation((0,I.pi)({type:"html"},r))},a.prototype.parsePosition=function(r){var n,l,u=this.view.getXScale(),v=this.view.getScalesByDim("y"),p=(0,m.mf)(r)?r.call(null,u,v):r,y=0,C=0;if((0,m.kJ)(p)){var T=(0,I.CR)(p,2),_=T[0],L=T[1];if((0,m.HD)(_)&&_.indexOf("%")!==-1&&!isNaN(_.slice(0,-1)))return this.parsePercentPosition(p);y=ev(_,u),C=ev(L,Object.values(v)[0])}else if(!(0,m.UM)(p))try{for(var B=(0,I.XA)((0,m.XP)(p)),U=B.next();!U.done;U=B.next()){var nt=U.value,pt=p[nt];nt===u.field&&(y=ev(pt,u)),v[nt]&&(C=ev(pt,v[nt]))}}catch(Mt){n={error:Mt}}finally{try{U&&!U.done&&(l=B.return)&&l.call(B)}finally{if(n)throw n.error}}return isNaN(y)||isNaN(C)?null:this.view.getCoordinate().convert({x:y,y:C})},a.prototype.getRegionPoints=function(r,n){var l=this,u=this.view.getXScale(),v=this.view.getScalesByDim("y"),p=Object.values(v)[0],y=u.field,C=this.view.getData(),T=(0,m.kJ)(r)?r[0]:r[y],_=(0,m.kJ)(n)?n[0]:n[y],L=[],B;return(0,m.S6)(C,function(U,nt){if(U[y]===T&&(B=nt),nt>=B){var pt=l.parsePosition([U[y],U[p.field]]);pt&&L.push(pt)}if(U[y]===_)return!1}),L},a.prototype.parsePercentPosition=function(r){var n=parseFloat(r[0])/100,l=parseFloat(r[1])/100,u=this.view.getCoordinate(),v=u.start,p=u.end,y={x:Math.min(v.x,p.x),y:Math.min(v.y,p.y)},C=u.getWidth()*n+y.x,T=u.getHeight()*l+y.y;return{x:C,y:T}},a.prototype.getCoordinateBBox=function(){var r=this.view.getCoordinate(),n=r.start,l=r.end,u=r.getWidth(),v=r.getHeight(),p={x:Math.min(n.x,l.x),y:Math.min(n.y,l.y)};return{x:p.x,y:p.y,minX:p.x,minY:p.y,maxX:p.x+u,maxY:p.y+v,width:u,height:v}},a.prototype.getAnnotationCfg=function(r,n,l){var u=this,v=this.view.getCoordinate(),p=this.view.getCanvas(),y={};if((0,m.UM)(n))return null;var C=n.start,T=n.end,_=n.position,L=this.parsePosition(C),B=this.parsePosition(T),U=this.parsePosition(_);if(["arc","image","line","region","regionFilter"].includes(r)&&(!L||!B))return null;if(["text","dataMarker","html"].includes(r)&&!U)return null;if(r==="arc"){var nt=n,pt=nt.start,Mt=nt.end,Yt=(0,I._T)(nt,["start","end"]),Gt=Zo(v,L),te=Zo(v,B);Gt>te&&(te=Math.PI*2+te),y=(0,I.pi)((0,I.pi)({},Yt),{center:v.getCenter(),radius:As(v,L),startAngle:Gt,endAngle:te})}else if(r==="image"){var Me=n,Ne=Me.start,Ye=Me.end,Yt=(0,I._T)(Me,["start","end"]);y=(0,I.pi)((0,I.pi)({},Yt),{start:L,end:B,src:n.src})}else if(r==="line"){var Xe=n,Ke=Xe.start,Qe=Xe.end,Yt=(0,I._T)(Xe,["start","end"]);y=(0,I.pi)((0,I.pi)({},Yt),{start:L,end:B,text:(0,m.U2)(n,"text",null)})}else if(r==="region"){var xr=n,mr=xr.start,Lr=xr.end,Yt=(0,I._T)(xr,["start","end"]);y=(0,I.pi)((0,I.pi)({},Yt),{start:L,end:B})}else if(r==="text"){var Zr=this.view.getData(),vn=n,hi=vn.position,jn=vn.content,Yt=(0,I._T)(vn,["position","content"]),Pi=jn;(0,m.mf)(jn)&&(Pi=jn(Zr)),y=(0,I.pi)((0,I.pi)((0,I.pi)({},U),Yt),{content:Pi})}else if(r==="dataMarker"){var bn=n,Gi=bn.position,qs=bn.point,xc=bn.line,bc=bn.text,Sw=bn.autoAdjust,Cw=bn.direction,Yt=(0,I._T)(bn,["position","point","line","text","autoAdjust","direction"]);y=(0,I.pi)((0,I.pi)((0,I.pi)({},Yt),U),{coordinateBBox:this.getCoordinateBBox(),point:qs,line:xc,text:bc,autoAdjust:Sw,direction:Cw})}else if(r==="dataRegion"){var ql=n,Mw=ql.start,Tw=ql.end,Aw=ql.region,bc=ql.text,Ew=ql.lineLength,Yt=(0,I._T)(ql,["start","end","region","text","lineLength"]);y=(0,I.pi)((0,I.pi)({},Yt),{points:this.getRegionPoints(Mw,Tw),region:Aw,text:bc,lineLength:Ew})}else if(r==="regionFilter"){var wc=n,Xw=wc.start,Zw=wc.end,Sm=wc.apply,_w=wc.color,Yt=(0,I._T)(wc,["start","end","apply","color"]),Pw=this.view.geometries,Cm=[],C0=function(ao){ao&&(ao.isGroup()?ao.getChildren().forEach(function(Sc){return C0(Sc)}):Cm.push(ao))};(0,m.S6)(Pw,function(ao){Sm?(0,m.FX)(Sm,ao.type)&&(0,m.S6)(ao.elements,function(Sc){C0(Sc.shape)}):(0,m.S6)(ao.elements,function(Sc){C0(Sc.shape)})}),y=(0,I.pi)((0,I.pi)({},Yt),{color:_w,shapes:Cm,start:L,end:B})}else if(r==="shape"){var Mm=n,Iw=Mm.render,M0=(0,I._T)(Mm,["render"]),Fw=function(Dw){if((0,m.mf)(n.render))return Iw(Dw,u.view,{parsePosition:u.parsePosition.bind(u)})};y=(0,I.pi)((0,I.pi)({},M0),{render:Fw})}else if(r==="html"){var T0=n,A0=T0.html,jw=T0.position,M0=(0,I._T)(T0,["html","position"]),kw=function(ao){return(0,m.mf)(A0)?A0(ao,u.view):A0};y=(0,I.pi)((0,I.pi)((0,I.pi)({},M0),U),{parent:p.get("el").parentNode,html:kw})}var ls=(0,m.b$)({},l,(0,I.pi)((0,I.pi)({},y),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return r!=="html"&&(ls.container=this.getComponentContainer(ls)),ls.animate=this.view.getOptions().animate&&ls.animate&&(0,m.U2)(n,"animate",ls.animate),ls.animateOption=(0,m.b$)({},To,ls.animateOption,n.animateOption),ls},a.prototype.isTop=function(r){return(0,m.U2)(r,"top",!0)},a.prototype.getComponentContainer=function(r){return this.isTop(r)?this.foregroundContainer:this.backgroundContainer},a.prototype.getAnnotationTheme=function(r){return(0,m.U2)(this.view.getTheme(),["components","annotation",r],{})},a.prototype.updateOrCreate=function(r){var n=this.cache.get(this.getCacheKey(r));if(n){var l=r.type,u=this.getAnnotationTheme(l),v=this.getAnnotationCfg(l,r,u);v&&li(v,["container"]),n.component.update((0,I.pi)((0,I.pi)({},v||{}),{visible:!!v})),(0,m.q9)(rv,r.type)&&n.component.render()}else n=this.createAnnotation(r),n&&(n.component.init(),(0,m.q9)(rv,r.type)&&n.component.render());return n},a.prototype.syncCache=function(r){var n=this,l=new Map(this.cache);return r.forEach(function(u,v){l.set(v,u)}),l.forEach(function(u,v){(0,m.sE)(n.option,function(p){return v===n.getCacheKey(p)})||(u.component.destroy(),l.delete(v))}),l},a.prototype.getCacheKey=function(r){return r},a}(ts),x1=m1;function Yy(s,a){var r=(0,m.b$)({},(0,m.U2)(s,["components","axis","common"]),(0,m.U2)(s,["components","axis",a]));return(0,m.U2)(r,["grid"],{})}function nv(s,a,r,n){var l=[],u=a.getTicks();return s.isPolar&&u.push({value:1,text:"",tickValue:""}),u.reduce(function(v,p,y){var C=p.value;if(n)l.push({points:[s.convert(r==="y"?{x:0,y:C}:{x:C,y:0}),s.convert(r==="y"?{x:1,y:C}:{x:C,y:1})]});else if(y){var T=v.value,_=(T+C)/2;l.push({points:[s.convert(r==="y"?{x:0,y:_}:{x:_,y:0}),s.convert(r==="y"?{x:1,y:_}:{x:_,y:1})]})}return p},u[0]),l}function u0(s,a,r,n,l){var u=a.values.length,v=[],p=r.getTicks();return p.reduce(function(y,C){var T=y?y.value:C.value,_=C.value,L=(T+_)/2;return l==="x"?v.push({points:[s.convert({x:n?_:L,y:0}),s.convert({x:n?_:L,y:1})]}):v.push({points:(0,m.UI)(Array(u+1),function(B,U){return s.convert({x:U/u,y:n?_:L})})}),C},p[0]),v}function Hy(s,a){var r=(0,m.U2)(a,"grid");if(r===null)return!1;var n=(0,m.U2)(s,"grid");return!(r===void 0&&n===null)}var os=["container"],Gy=(0,I.pi)((0,I.pi)({},To),{appear:null}),b1=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Bt.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Bt.FORE).addGroup(),n.axisContainer=n.view.getLayer(Bt.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Bt.FORE).addGroup(),n}return Object.defineProperty(a.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var r=this,n=this.view.getCoordinate();(0,m.S6)(this.getComponents(),function(l){var u=l.component,v=l.direction,p=l.type,y=l.extra,C=y.dim,T=y.scale,_=y.alignTick,L;if(p===Vt.AXIS)n.isPolar?C==="x"?L=n.isTransposed?fl(n,v):Cu(n):C==="y"&&(L=n.isTransposed?Cu(n):fl(n,v)):L=fl(n,v);else if(p===Vt.GRID)if(n.isPolar){var B=void 0;n.isTransposed?B=C==="x"?u0(n,r.view.getYScales()[0],T,_,C):nv(n,T,C,_):B=C==="x"?nv(n,T,C,_):u0(n,r.view.getXScale(),T,_,C),L={items:B,center:r.view.getCoordinate().getCenter()}}else L={items:nv(n,T,C,_)};u.update(L)})},a.prototype.update=function(){this.option=this.view.getOptions().axes;var r=new Map;this.updateXAxes(r),this.updateYAxes(r);var n=new Map;this.cache.forEach(function(l,u){r.has(u)?n.set(u,l):l.component.destroy()}),this.cache=n},a.prototype.clear=function(){s.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},a.prototype.getComponents=function(){var r=[];return this.cache.forEach(function(n){r.push(n)}),r},a.prototype.updateXAxes=function(r){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var l=Mu(this.option,n.field);if(l!==!1){var u=Ch(l,Et.BOTTOM),v=Bt.BG,p="x",y=this.view.getCoordinate(),C=this.getId("axis",n.field),T=this.getId("grid",n.field);if(y.isRect){var _=this.cache.get(C);if(_){var L=this.getLineAxisCfg(n,l,u);li(L,os),_.component.update(L),r.set(C,_)}else _=this.createLineAxis(n,l,v,u,p),this.cache.set(C,_),r.set(C,_);var B=this.cache.get(T);if(B){var L=this.getLineGridCfg(n,l,u,p);li(L,os),B.component.update(L),r.set(T,B)}else B=this.createLineGrid(n,l,v,u,p),B&&(this.cache.set(T,B),r.set(T,B))}else if(y.isPolar){var _=this.cache.get(C);if(_){var L=y.isTransposed?this.getLineAxisCfg(n,l,Et.RADIUS):this.getCircleAxisCfg(n,l,u);li(L,os),_.component.update(L),r.set(C,_)}else{if(y.isTransposed){if((0,m.o8)(l))return;_=this.createLineAxis(n,l,v,Et.RADIUS,p)}else _=this.createCircleAxis(n,l,v,u,p);this.cache.set(C,_),r.set(C,_)}var B=this.cache.get(T);if(B){var L=y.isTransposed?this.getCircleGridCfg(n,l,Et.RADIUS,p):this.getLineGridCfg(n,l,Et.CIRCLE,p);li(L,os),B.component.update(L),r.set(T,B)}else{if(y.isTransposed){if((0,m.o8)(l))return;B=this.createCircleGrid(n,l,v,Et.RADIUS,p)}else B=this.createLineGrid(n,l,v,Et.CIRCLE,p);B&&(this.cache.set(T,B),r.set(T,B))}}}}},a.prototype.updateYAxes=function(r){var n=this,l=this.view.getYScales();(0,m.S6)(l,function(u,v){if(!(!u||u.isIdentity)){var p=u.field,y=Mu(n.option,p);if(y!==!1){var C=Bt.BG,T="y",_=n.getId("axis",p),L=n.getId("grid",p),B=n.view.getCoordinate();if(B.isRect){var U=Ch(y,v===0?Et.LEFT:Et.RIGHT),nt=n.cache.get(_);if(nt){var pt=n.getLineAxisCfg(u,y,U);li(pt,os),nt.component.update(pt),r.set(_,nt)}else nt=n.createLineAxis(u,y,C,U,T),n.cache.set(_,nt),r.set(_,nt);var Mt=n.cache.get(L);if(Mt){var pt=n.getLineGridCfg(u,y,U,T);li(pt,os),Mt.component.update(pt),r.set(L,Mt)}else Mt=n.createLineGrid(u,y,C,U,T),Mt&&(n.cache.set(L,Mt),r.set(L,Mt))}else if(B.isPolar){var nt=n.cache.get(_);if(nt){var pt=B.isTransposed?n.getCircleAxisCfg(u,y,Et.CIRCLE):n.getLineAxisCfg(u,y,Et.RADIUS);li(pt,os),nt.component.update(pt),r.set(_,nt)}else{if(B.isTransposed){if((0,m.o8)(y))return;nt=n.createCircleAxis(u,y,C,Et.CIRCLE,T)}else nt=n.createLineAxis(u,y,C,Et.RADIUS,T);n.cache.set(_,nt),r.set(_,nt)}var Mt=n.cache.get(L);if(Mt){var pt=B.isTransposed?n.getLineGridCfg(u,y,Et.CIRCLE,T):n.getCircleGridCfg(u,y,Et.RADIUS,T);li(pt,os),Mt.component.update(pt),r.set(L,Mt)}else{if(B.isTransposed){if((0,m.o8)(y))return;Mt=n.createLineGrid(u,y,C,Et.CIRCLE,T)}else Mt=n.createCircleGrid(u,y,C,Et.RADIUS,T);Mt&&(n.cache.set(L,Mt),r.set(L,Mt))}}}}})},a.prototype.createLineAxis=function(r,n,l,u,v){var p={component:new kd(this.getLineAxisCfg(r,n,u)),layer:l,direction:u===Et.RADIUS?Et.NONE:u,type:Vt.AXIS,extra:{dim:v,scale:r}};return p.component.set("field",r.field),p.component.init(),p},a.prototype.createLineGrid=function(r,n,l,u,v){var p=this.getLineGridCfg(r,n,u,v);if(p){var y={component:new Ld(p),layer:l,direction:Et.NONE,type:Vt.GRID,extra:{dim:v,scale:r,alignTick:(0,m.U2)(p,"alignTick",!0)}};return y.component.init(),y}},a.prototype.createCircleAxis=function(r,n,l,u,v){var p={component:new Dd(this.getCircleAxisCfg(r,n,u)),layer:l,direction:u,type:Vt.AXIS,extra:{dim:v,scale:r}};return p.component.set("field",r.field),p.component.init(),p},a.prototype.createCircleGrid=function(r,n,l,u,v){var p=this.getCircleGridCfg(r,n,u,v);if(p){var y={component:new Od(p),layer:l,direction:Et.NONE,type:Vt.GRID,extra:{dim:v,scale:r,alignTick:(0,m.U2)(p,"alignTick",!0)}};return y.component.init(),y}},a.prototype.getLineAxisCfg=function(r,n,l){var u=(0,m.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,v=this.view.getCoordinate(),p=fl(v,l),y=Mh(r,n),C=vl(this.view.getTheme(),l),T=(0,m.U2)(n,["title"])?(0,m.b$)({title:{style:{text:y}}},{title:Sh(this.view.getTheme(),l,n.title)},n):n,_=(0,m.b$)((0,I.pi)((0,I.pi)({container:u},p),{ticks:r.getTicks().map(function(Gt){return{id:"".concat(Gt.tickValue),name:Gt.text,value:Gt.value}}),verticalFactor:v.isPolar?wh(p,v.getCenter())*-1:wh(p,v.getCenter()),theme:C}),C,T),L=this.getAnimateCfg(_),B=L.animate,U=L.animateOption;_.animateOption=U,_.animate=B;var nt=bh(p),pt=(0,m.U2)(_,"verticalLimitLength",nt?1/3:1/2);if(pt<=1){var Mt=this.view.getCanvas().get("width"),Yt=this.view.getCanvas().get("height");_.verticalLimitLength=pt*(nt?Mt:Yt)}return _},a.prototype.getLineGridCfg=function(r,n,l,u){if(Hy(vl(this.view.getTheme(),l),n)){var v=Yy(this.view.getTheme(),l),p=(0,m.b$)({container:(0,m.U2)(n,["top"])?this.gridForeContainer:this.gridContainer},v,(0,m.U2)(n,"grid"),this.getAnimateCfg(n));return p.items=nv(this.view.getCoordinate(),r,u,(0,m.U2)(p,"alignTick",!0)),p}},a.prototype.getCircleAxisCfg=function(r,n,l){var u=(0,m.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,v=this.view.getCoordinate(),p=r.getTicks().map(function(nt){return{id:"".concat(nt.tickValue),name:nt.text,value:nt.value}});!r.isCategory&&Math.abs(v.endAngle-v.startAngle)===Math.PI*2&&p.length&&(p[p.length-1].name="");var y=Mh(r,n),C=vl(this.view.getTheme(),Et.CIRCLE),T=(0,m.U2)(n,["title"])?(0,m.b$)({title:{style:{text:y}}},{title:Sh(this.view.getTheme(),l,n.title)},n):n,_=(0,m.b$)((0,I.pi)((0,I.pi)({container:u},Cu(this.view.getCoordinate())),{ticks:p,verticalFactor:1,theme:C}),C,T),L=this.getAnimateCfg(_),B=L.animate,U=L.animateOption;return _.animate=B,_.animateOption=U,_},a.prototype.getCircleGridCfg=function(r,n,l,u){if(Hy(vl(this.view.getTheme(),l),n)){var v=Yy(this.view.getTheme(),Et.RADIUS),p=(0,m.b$)({container:(0,m.U2)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},v,(0,m.U2)(n,"grid"),this.getAnimateCfg(n)),y=(0,m.U2)(p,"alignTick",!0),C=u==="x"?this.view.getYScales()[0]:this.view.getXScale();return p.items=u0(this.view.getCoordinate(),C,r,y,u),p}},a.prototype.getId=function(r,n){var l=this.view.getCoordinate();return"".concat(r,"-").concat(n,"-").concat(l.type)},a.prototype.getAnimateCfg=function(r){return{animate:this.view.getOptions().animate&&(0,m.U2)(r,"animate"),animateOption:r&&r.animateOption?(0,m.b$)({},Gy,r.animateOption):Gy}},a}(ts),w1=b1;function ss(s,a,r){return r===Et.TOP?[s.minX+s.width/2-a.width/2,s.minY]:r===Et.BOTTOM?[s.minX+s.width/2-a.width/2,s.maxY-a.height]:r===Et.LEFT?[s.minX,s.minY+s.height/2-a.height/2]:r===Et.RIGHT?[s.maxX-a.width,s.minY+s.height/2-a.height/2]:r===Et.TOP_LEFT||r===Et.LEFT_TOP?[s.tl.x,s.tl.y]:r===Et.TOP_RIGHT||r===Et.RIGHT_TOP?[s.tr.x-a.width,s.tr.y]:r===Et.BOTTOM_LEFT||r===Et.LEFT_BOTTOM?[s.bl.x,s.bl.y-a.height]:r===Et.BOTTOM_RIGHT||r===Et.RIGHT_BOTTOM?[s.br.x-a.width,s.br.y-a.height]:[0,0]}function S1(s,a){if(a.isTransposed)switch(s){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return s}function Xy(s){return s===DIRECTION.LEFT?DIRECTION.RIGHT:s===DIRECTION.RIGHT?DIRECTION.LEFT:s}function Zy(s){return s===DIRECTION.TOP?DIRECTION.BOTTOM:s===DIRECTION.BOTTOM?DIRECTION.TOP:s}function C1(s,a){var r=a.matrix[0],n=a.matrix[4],l=s;return r<0&&(l=Xy(l)),n<0&&(l=Zy(l)),l}function M1(s,a){var r=s;return a.isReflect("x")&&(r=Xy(r)),a.isReflect("y")&&(r=Zy(r)),r}function Gw(s,a){var r=s;return r=S1(r,a),r=C1(r,a),r=M1(r,a),r}function jy(s,a){return(0,m.jn)(s)?s===!1?!1:{}:(0,m.U2)(s,[a],s)}function iv(s){return(0,m.U2)(s,"position",Et.BOTTOM)}var T1=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.container=n.view.getLayer(Bt.FORE).addGroup(),n}return Object.defineProperty(a.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var r=this;this.layoutBBox=this.view.viewBBox,(0,m.S6)(this.components,function(n){var l=n.component,u=n.direction,v=Hu(u),p=l.get("maxWidthRatio"),y=l.get("maxHeightRatio"),C=r.getCategoryLegendSizeCfg(v,p,y),T=l.get("maxWidth"),_=l.get("maxHeight");l.update({maxWidth:Math.min(C.maxWidth,T||0),maxHeight:Math.min(C.maxHeight,_||0)});var L=l.get("padding"),B=l.getLayoutBBox(),U=new ti(B.x,B.y,B.width,B.height).expand(L),nt=(0,I.CR)(ss(r.view.viewBBox,U,u),2),pt=nt[0],Mt=nt[1],Yt=(0,I.CR)(ss(r.layoutBBox,U,u),2),Gt=Yt[0],te=Yt[1],Me=0,Ne=0;u.startsWith("top")||u.startsWith("bottom")?(Me=pt,Ne=te):(Me=Gt,Ne=Mt),l.setLocation({x:Me+L[3],y:Ne+L[0]}),r.layoutBBox=r.layoutBBox.cut(U,u)})},a.prototype.update=function(){var r=this;this.option=this.view.getOptions().legends;var n={},l=function(L,B,U){var nt=r.getId(U.field),pt=r.getComponentById(nt);if(pt){var Mt=void 0,Yt=jy(r.option,U.field);Yt!==!1&&((0,m.U2)(Yt,"custom")?Mt=r.getCategoryCfg(L,B,U,Yt,!0):U.isLinear?Mt=r.getContinuousCfg(L,B,U,Yt):U.isCategory&&(Mt=r.getCategoryCfg(L,B,U,Yt))),Mt&&(li(Mt,["container"]),pt.direction=iv(Yt),pt.component.update(Mt),n[nt]=!0)}else{var Gt=r.createFieldLegend(L,B,U);Gt&&(Gt.component.init(),r.components.push(Gt),n[nt]=!0)}};if((0,m.U2)(this.option,"custom")){var u="global-custom",v=this.getComponentById(u);if(v){var p=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);li(p,["container"]),v.component.update(p),n[u]=!0}else{var y=this.createCustomLegend(void 0,void 0,void 0,this.option);if(y){y.init();var C=Bt.FORE,T=iv(this.option);this.components.push({id:u,component:y,layer:C,direction:T,type:Vt.LEGEND,extra:void 0}),n[u]=!0}}}else this.loopLegends(l);var _=[];(0,m.S6)(this.getComponents(),function(L){n[L.id]?_.push(L):L.component.destroy()}),this.components=_},a.prototype.clear=function(){s.prototype.clear.call(this),this.container.clear()},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.container.remove(!0)},a.prototype.getGeometries=function(r){var n=this,l=r.geometries;return(0,m.S6)(r.views,function(u){l=l.concat(n.getGeometries(u))}),l},a.prototype.loopLegends=function(r){var n=this.view.getRootView()===this.view;if(n){var l=this.getGeometries(this.view),u={};(0,m.S6)(l,function(v){var p=v.getGroupAttributes();(0,m.S6)(p,function(y){var C=y.getScale(y.type);!C||C.type==="identity"||u[C.field]||(r(v,y,C),u[C.field]=!0)})})}},a.prototype.createFieldLegend=function(r,n,l){var u,v=jy(this.option,l.field),p=Bt.FORE,y=iv(v);if(v!==!1&&((0,m.U2)(v,"custom")?u=this.createCustomLegend(r,n,l,v):l.isLinear?u=this.createContinuousLegend(r,n,l,v):l.isCategory&&(u=this.createCategoryLegend(r,n,l,v))),u)return u.set("field",l.field),{id:this.getId(l.field),component:u,layer:p,direction:y,type:Vt.LEGEND,extra:{scale:l}}},a.prototype.createCustomLegend=function(r,n,l,u){var v=this.getCategoryCfg(r,n,l,u,!0);return new dh(v)},a.prototype.createContinuousLegend=function(r,n,l,u){var v=this.getContinuousCfg(r,n,l,li(u,["value"]));return new Bd(v)},a.prototype.createCategoryLegend=function(r,n,l,u){var v=this.getCategoryCfg(r,n,l,u);return new dh(v)},a.prototype.getContinuousCfg=function(r,n,l,u){var v=l.getTicks(),p=(0,m.sE)(v,function(nt){return nt.value===0}),y=(0,m.sE)(v,function(nt){return nt.value===1}),C=v.map(function(nt){var pt=nt.value,Mt=nt.tickValue,Yt=n.mapping(l.invert(pt)).join("");return{value:Mt,attrValue:Yt,color:Yt,scaleValue:pt}});p||C.push({value:l.min,attrValue:n.mapping(l.invert(0)).join(""),color:n.mapping(l.invert(0)).join(""),scaleValue:0}),y||C.push({value:l.max,attrValue:n.mapping(l.invert(1)).join(""),color:n.mapping(l.invert(1)).join(""),scaleValue:1}),C.sort(function(nt,pt){return nt.value-pt.value});var T={min:(0,m.YM)(C).value,max:(0,m.Z$)(C).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(T.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(T.colors=C.map(function(nt){return nt.attrValue}));var _=this.container,L=iv(u),B=Hu(L),U=(0,m.U2)(u,"title");return U&&(U=(0,m.b$)({text:Es(l)},U)),T.container=_,T.layout=B,T.title=U,T.animateOption=To,this.mergeLegendCfg(T,u,"continuous")},a.prototype.getCategoryCfg=function(r,n,l,u,v){var p=this.container,y=(0,m.U2)(u,"position",Et.BOTTOM),C=vf(this.view.getTheme(),y),T=(0,m.U2)(C,["marker"]),_=(0,m.U2)(u,"marker"),L=Hu(y),B=(0,m.U2)(C,["pageNavigator"]),U=(0,m.U2)(u,"pageNavigator"),nt=v?qp(T,_,u.items):ff(this.view,r,n,T,_),pt=(0,m.U2)(u,"title");pt&&(pt=(0,m.b$)({text:l?Es(l):""},pt));var Mt=(0,m.U2)(u,"maxWidthRatio"),Yt=(0,m.U2)(u,"maxHeightRatio"),Gt=this.getCategoryLegendSizeCfg(L,Mt,Yt);Gt.container=p,Gt.layout=L,Gt.items=nt,Gt.title=pt,Gt.animateOption=To,Gt.pageNavigator=(0,m.b$)({},B,U);var te=this.mergeLegendCfg(Gt,u,y);te.reversed&&te.items.reverse();var Me=(0,m.U2)(te,"maxItemWidth");return Me&&Me<=1&&(te.maxItemWidth=this.view.viewBBox.width*Me),te},a.prototype.mergeLegendCfg=function(r,n,l){var u=l.split("-")[0],v=vf(this.view.getTheme(),u);return(0,m.b$)({},v,r,n)},a.prototype.getId=function(r){return"".concat(this.name,"-").concat(r)},a.prototype.getComponentById=function(r){return(0,m.sE)(this.components,function(n){return n.id===r})},a.prototype.getCategoryLegendSizeCfg=function(r,n,l){n===void 0&&(n=Ht),l===void 0&&(l=Ht);var u=this.view.viewBBox,v=u.width,p=u.height;return r==="vertical"?{maxWidth:v*n,maxHeight:p}:{maxWidth:v,maxHeight:p*l}},a}(ts),A1=T1,E1=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.onChangeFn=m.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(l){var u=(0,I.CR)(l,2),v=u[0],p=u[1];n.start=v,n.end=p,n.changeViewData(v,p)},n.container=n.view.getLayer(Bt.FORE).addGroup(),n.onChangeFn=(0,m.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(Ct.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Ct.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(a.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){s.prototype.destroy.call(this),this.view.off(Ct.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Ct.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().slider;var r=this.getSliderCfg(),n=r.start,l=r.end;(0,m.UM)(this.start)&&(this.start=n,this.end=l);var u=this.view.getOptions().data;this.option&&!(0,m.xb)(u)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},a.prototype.layout=function(){var r=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){r.view.destroyed||r.changeViewData(r.start,r.end)},0)),this.slider){var n=this.view.coordinateBBox.width,l=this.slider.component.get("padding"),u=(0,I.CR)(l,4),v=u[0],p=u[1],y=u[2],C=u[3],T=this.slider.component.getLayoutBBox(),_=new ti(T.x,T.y,Math.min(T.width,n),T.height).expand(l),L=this.getMinMaxText(this.start,this.end),B=L.minText,U=L.maxText,nt=(0,I.CR)(ss(this.view.viewBBox,_,Et.BOTTOM),2),pt=nt[0],Mt=nt[1],Yt=(0,I.CR)(ss(this.view.coordinateBBox,_,Et.BOTTOM),2),Gt=Yt[0],te=Yt[1];this.slider.component.update((0,I.pi)((0,I.pi)({},this.getSliderCfg()),{x:Gt+C,y:Mt+v,width:this.width,start:this.start,end:this.end,minText:B,maxText:U})),this.view.viewBBox=this.view.viewBBox.cut(_,Et.BOTTOM)}},a.prototype.update=function(){this.render()},a.prototype.createSlider=function(){var r=this.getSliderCfg(),n=new xu((0,I.pi)({container:this.container},r));return n.init(),{component:n,layer:Bt.FORE,direction:Et.BOTTOM,type:Vt.SLIDER}},a.prototype.updateSlider=function(){var r=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),l=n.minText,u=n.maxText;r=(0,I.pi)((0,I.pi)({},r),{width:this.width,start:this.start,end:this.end,minText:l,maxText:u})}return this.slider.component.update(r),this.slider},a.prototype.measureSlider=function(){var r=this.getSliderCfg().width;this.width=r},a.prototype.getSliderCfg=function(){var r={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,m.Kn)(this.option)){var n=(0,I.pi)({data:this.getData()},(0,m.U2)(this.option,"trendCfg",{}));r=(0,m.b$)({},r,this.getThemeOptions(),this.option),r=(0,I.pi)((0,I.pi)({},r),{trendCfg:n})}return r.start=(0,m.uZ)(Math.min((0,m.UM)(r.start)?0:r.start,(0,m.UM)(r.end)?1:r.end),0,1),r.end=(0,m.uZ)(Math.max((0,m.UM)(r.start)?0:r.start,(0,m.UM)(r.end)?1:r.end),0,1),r},a.prototype.getData=function(){var r=this.view.getOptions().data,n=(0,I.CR)(this.view.getYScales(),1),l=n[0],u=this.view.getGroupScales();if(u.length){var v=u[0],p=v.field,y=v.ticks;return r.reduce(function(C,T){return T[p]===y[0]&&C.push(T[l.field]),C},[])}return r.map(function(C){return C[l.field]||0})},a.prototype.getThemeOptions=function(){var r=this.view.getTheme();return(0,m.U2)(r,["components","slider","common"],{})},a.prototype.getMinMaxText=function(r,n){var l=this.view.getOptions().data,u=this.view.getXScale(),v=!0,p=(0,m.I)(l,u.field);u.isLinear&&(p=p.sort());var y=v?p:p.reverse(),C=(0,m.dp)(l);if(!u||!C)return{};var T=(0,m.dp)(y),_=Math.round(r*(T-1)),L=Math.round(n*(T-1)),B=(0,m.U2)(y,[_]),U=(0,m.U2)(y,[L]),nt=this.getSliderCfg().formatter;return nt&&(B=nt(B,l[_],_),U=nt(U,l[L],L)),{minText:B,maxText:U}},a.prototype.changeViewData=function(r,n){var l=this.view.getOptions().data,u=this.view.getXScale(),v=(0,m.dp)(l);if(!(!u||!v)){var p=!0,y=(0,m.I)(l,u.field),C=this.view.getXScale().isLinear?y.sort(function(U,nt){return Number(U)-Number(nt)}):y,T=p?C:C.reverse(),_=(0,m.dp)(T),L=Math.round(r*(_-1)),B=Math.round(n*(_-1));this.view.filter(u.field,function(U,nt){var pt=T.indexOf(U);return pt>-1?la(pt,L,B):!0}),this.view.render(!0)}},a.prototype.getComponents=function(){return this.slider?[this.slider]:[]},a.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},a}(ts),_1=E1,av=0,$y=8,P1=32,I1=20,F1=function(s){(0,I.ZT)(a,s);function a(r){var n=s.call(this,r)||this;return n.onChangeFn=m.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(l){var u=l.ratio,v=n.getValidScrollbarCfg().animate;n.ratio=(0,m.uZ)(u,0,1);var p=n.view.getOptions().animate;v||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(p)},n.container=n.view.getLayer(Bt.FORE).addGroup(),n.onChangeFn=(0,m.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(Ct.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Ct.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(a.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){s.prototype.destroy.call(this),this.view.off(Ct.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Ct.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},a.prototype.layout=function(){var r=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){r.view.destroyed||r.changeViewData(r.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,l=this.scrollbar.component.get("padding"),u=this.scrollbar.component.getLayoutBBox(),v=new ti(u.x,u.y,Math.min(u.width,n),u.height).expand(l),p=this.getScrollbarComponentCfg(),y=void 0,C=void 0;if(p.isHorizontal){var T=(0,I.CR)(ss(this.view.viewBBox,v,Et.BOTTOM),2),_=T[0],L=T[1],B=(0,I.CR)(ss(this.view.coordinateBBox,v,Et.BOTTOM),2),U=B[0],nt=B[1];y=U,C=L}else{var pt=(0,I.CR)(ss(this.view.viewBBox,v,Et.RIGHT),2),_=pt[0],L=pt[1],Mt=(0,I.CR)(ss(this.view.viewBBox,v,Et.RIGHT),2),U=Mt[0],nt=Mt[1];y=U,C=L}y+=l[3],C+=l[0],this.trackLen?this.scrollbar.component.update((0,I.pi)((0,I.pi)({},p),{x:y,y:C,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,I.pi)((0,I.pi)({},p),{x:y,y:C})),this.view.viewBBox=this.view.viewBBox.cut(v,p.isHorizontal?Et.BOTTOM:Et.RIGHT)}},a.prototype.update=function(){this.render()},a.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},a.prototype.setValue=function(r){this.onValueChange({ratio:r})},a.prototype.getValue=function(){return this.ratio},a.prototype.getThemeOptions=function(){var r=this.view.getTheme();return(0,m.U2)(r,["components","scrollbar","common"],{})},a.prototype.getScrollbarTheme=function(r){var n=(0,m.U2)(this.view.getTheme(),["components","scrollbar"]),l=r||{},u=l.thumbHighlightColor,v=(0,I._T)(l,["thumbHighlightColor"]);return{default:(0,m.b$)({},(0,m.U2)(n,["default","style"],{}),v),hover:(0,m.b$)({},(0,m.U2)(n,["hover","style"],{}),{thumbColor:u})}},a.prototype.measureScrollbar=function(){var r=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var l=this.getScrollbarComponentCfg(),u=l.trackLen,v=l.thumbLen;this.trackLen=u,this.thumbLen=v,this.xScaleCfg={field:r.field,values:r.values||[]},this.yScalesCfg=n},a.prototype.getScrollRange=function(){var r=Math.floor((this.cnt-this.step)*(0,m.uZ)(this.ratio,0,1)),n=Math.min(r+this.step-1,this.cnt-1);return[r,n]},a.prototype.changeViewData=function(r,n){var l=this,u=(0,I.CR)(r,2),v=u[0],p=u[1],y=this.getValidScrollbarCfg().type,C=y!=="vertical",T=(0,m.I)(this.data,this.xScaleCfg.field),_=this.view.getXScale().isLinear?T.sort(function(B,U){return Number(B)-Number(U)}):T,L=C?_:_.reverse();this.yScalesCfg.forEach(function(B){l.view.scale(B.field,{formatter:B.formatter,type:B.type,min:B.min,max:B.max,tickMethod:B.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(B){var U=L.indexOf(B);return U>-1?la(U,v,p):!0}),this.view.render(!0)},a.prototype.createScrollbar=function(){var r=this.getValidScrollbarCfg().type,n=r!=="vertical",l=new Fd((0,I.pi)((0,I.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return l.init(),{component:l,layer:Bt.FORE,direction:n?Et.BOTTOM:Et.RIGHT,type:Vt.SCROLLBAR}},a.prototype.updateScrollbar=function(){var r=this.getScrollbarComponentCfg(),n=this.trackLen?(0,I.pi)((0,I.pi)({},r),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,I.pi)({},r);return this.scrollbar.component.update(n),this.scrollbar},a.prototype.getStep=function(){if(this.step)return this.step;var r=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),l=n.type,u=n.categorySize,v=l!=="vertical";return Math.floor((v?r.width:r.height)/u)},a.prototype.getCnt=function(){if(this.cnt)return this.cnt;var r=this.view.getXScale(),n=this.getScrollbarData(),l=(0,m.I)(n,r.field);return(0,m.dp)(l)},a.prototype.getScrollbarComponentCfg=function(){var r=this.view,n=r.coordinateBBox,l=r.viewBBox,u=this.getValidScrollbarCfg(),v=u.type,p=u.padding,y=u.width,C=u.height,T=u.style,_=v!=="vertical",L=(0,I.CR)(p,4),B=L[0],U=L[1],nt=L[2],pt=L[3],Mt=_?{x:n.minX+pt,y:l.maxY-C-nt}:{x:l.maxX-y-U,y:n.minY+B},Yt=this.getStep(),Gt=this.getCnt(),te=_?n.width-pt-U:n.height-B-nt,Me=Math.max(te*(0,m.uZ)(Yt/Gt,0,1),I1);return(0,I.pi)((0,I.pi)({},this.getThemeOptions()),{x:Mt.x,y:Mt.y,size:_?C:y,isHorizontal:_,trackLen:te,thumbLen:Me,thumbOffset:0,theme:this.getScrollbarTheme(T)})},a.prototype.getValidScrollbarCfg=function(){var r={type:"horizontal",categorySize:P1,width:$y,height:$y,padding:[0,0,0,0],animate:!0,style:{}};return(0,m.Kn)(this.option)&&(r=(0,I.pi)((0,I.pi)({},r),this.option)),(!(0,m.Kn)(this.option)||!this.option.padding)&&(r.padding=r.type==="horizontal"?[av,0,av,0]:[0,av,0,av]),r},a.prototype.getScrollbarData=function(){var r=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),l=this.view.getOptions().data||[];return r.isReflect("y")&&n.type==="vertical"&&(l=(0,I.ev)([],(0,I.CR)(l),!1).reverse()),l},a}(ts),k1=F1,D1={fill:"#CCD6EC",opacity:.3};function L1(s,a,r){var n,l,u,v,p,y,C=Mp(s,a,r);if(C.length){C=(0,m.xH)(C);try{for(var T=(0,I.XA)(C),_=T.next();!_.done;_=T.next()){var L=_.value;try{for(var B=(u=void 0,(0,I.XA)(L)),U=B.next();!U.done;U=B.next()){var nt=U.value,pt=nt.mappingData,Mt=pt.x,Yt=pt.y;nt.x=(0,m.kJ)(Mt)?Mt[Mt.length-1]:Mt,nt.y=(0,m.kJ)(Yt)?Yt[Yt.length-1]:Yt}}catch(Qe){u={error:Qe}}finally{try{U&&!U.done&&(v=B.return)&&v.call(B)}finally{if(u)throw u.error}}}}catch(Qe){n={error:Qe}}finally{try{_&&!_.done&&(l=T.return)&&l.call(T)}finally{if(n)throw n.error}}var Gt=r.shared;if(Gt===!1&&C.length>1){var te=C[0],Me=Math.abs(a.y-te[0].y);try{for(var Ne=(0,I.XA)(C),Ye=Ne.next();!Ye.done;Ye=Ne.next()){var Xe=Ye.value,Ke=Math.abs(a.y-Xe[0].y);Ke<=Me&&(te=Xe,Me=Ke)}}catch(Qe){p={error:Qe}}finally{try{Ye&&!Ye.done&&(y=Ne.return)&&y.call(Ne)}finally{if(p)throw p.error}}C=[te]}return(0,m.jj)((0,m.xH)(C))}return[]}var O1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.show=function(r){var n=this.context.view,l=this.context.event,u=n.getController("tooltip").getTooltipCfg(),v=L1(n,{x:l.x,y:l.y},u);if(!(0,m.Xy)(v,this.items)&&(this.items=v,v.length)){var p=n.getXScale().field,y=v[0].data[p],C=[],T=n.geometries;if((0,m.S6)(T,function(Pi){if(Pi.type==="interval"||Pi.type==="schema"){var bn=Pi.getElementsBy(function(Gi){var qs=Gi.getData();return qs[p]===y});C=C.concat(bn)}}),C.length){var _=n.getCoordinate(),L=C[0].shape.getCanvasBBox(),B=C[0].shape.getCanvasBBox(),U=L;(0,m.S6)(C,function(Pi){var bn=Pi.shape.getCanvasBBox();_.isTransposed?(bn.minY<L.minY&&(L=bn),bn.maxY>B.maxY&&(B=bn)):(bn.minX<L.minX&&(L=bn),bn.maxX>B.maxX&&(B=bn)),U.x=Math.min(bn.minX,U.minX),U.y=Math.min(bn.minY,U.minY),U.width=Math.max(bn.maxX,U.maxX)-U.x,U.height=Math.max(bn.maxY,U.maxY)-U.y});var nt=n.backgroundGroup,pt=n.coordinateBBox,Mt=void 0;if(_.isRect){var Yt=n.getXScale(),Gt=r||{},te=Gt.appendRatio,Me=Gt.appendWidth;(0,m.UM)(Me)&&(te=(0,m.UM)(te)?Yt.isLinear?0:.25:te,Me=_.isTransposed?te*B.height:te*L.width);var Ne=void 0,Ye=void 0,Xe=void 0,Ke=void 0;_.isTransposed?(Ne=pt.minX,Ye=Math.min(B.minY,L.minY)-Me,Xe=pt.width,Ke=U.height+Me*2):(Ne=Math.min(L.minX,B.minX)-Me,Ye=pt.minY,Xe=U.width+Me*2,Ke=pt.height),Mt=[["M",Ne,Ye],["L",Ne+Xe,Ye],["L",Ne+Xe,Ye+Ke],["L",Ne,Ye+Ke],["Z"]]}else{var Qe=(0,m.YM)(C),xr=(0,m.Z$)(C),mr=Xo(Qe.getModel(),_).startAngle,Lr=Xo(xr.getModel(),_).endAngle,Zr=_.getCenter(),vn=_.getRadius(),hi=_.innerRadius*vn;Mt=Nn(Zr.x,Zr.y,vn,mr,Lr,hi)}if(this.regionPath)this.regionPath.attr("path",Mt),this.regionPath.show();else{var jn=(0,m.U2)(r,"style",D1);this.regionPath=nt.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,I.pi)((0,I.pi)({},jn),{path:Mt})})}}}},a.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},a.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),s.prototype.destroy.call(this)},a}(Fn),B1=O1,R1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.timeStamp=0,r}return a.prototype.show=function(){var r=this.context,n=r.event,l=r.view,u=l.isTooltipLocked();if(!u){var v=this.timeStamp,p=+new Date,y=(0,m.U2)(r.view.getOptions(),"tooltip.showDelay",16);if(p-v>y){var C=this.location,T={x:n.x,y:n.y};(!C||!(0,m.Xy)(C,T))&&this.showTooltip(l,T),this.timeStamp=p,this.location=T}}},a.prototype.hide=function(){var r=this.context.view,n=r.getController("tooltip"),l=this.context.event,u=l.clientX,v=l.clientY;n.isCursorEntered({x:u,y:v})||r.isTooltipLocked()||(this.hideTooltip(r),this.location=null)},a.prototype.showTooltip=function(r,n){r.showTooltip(n)},a.prototype.hideTooltip=function(r){r.hideTooltip()},a}(Fn),Ky=R1,N1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.showTooltip=function(r,n){var l=ca(r);(0,m.S6)(l,function(u){var v=Ko(r,u,n);u.showTooltip(v)})},a.prototype.hideTooltip=function(r){var n=ca(r);(0,m.S6)(n,function(l){l.hideTooltip()})},a}(Ky),z1=N1,V1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.timeStamp=0,r}return a.prototype.destroy=function(){s.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.show=function(){var r=this.context,n=r.event,l=this.timeStamp,u=+new Date;if(u-l>16){var v=this.location,p={x:n.x,y:n.y};(!v||!(0,m.Xy)(v,p))&&this.showTooltip(p),this.timeStamp=u,this.location=p}},a.prototype.hide=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(r){var n=this.context,l=n.event,u=l.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var v=u.get("tip");this.tooltip.update((0,I.pi)({title:v},r)),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var r,n=this.context.view,l=n.canvas,u={start:{x:0,y:0},end:{x:l.get("width"),y:l.get("height")}},v=n.getTheme(),p=(0,m.U2)(v,["components","tooltip","domStyles"],{}),y=new hl({parent:l.get("el").parentNode,region:u,visible:!1,crosshairs:null,domStyles:(0,I.pi)({},(0,m.b$)({},p,(r={},r[Ta]={"max-width":"50%"},r[Aa]={"word-break":"break-all"},r)))});y.init(),y.setCapture(!1),this.tooltip=y},a}(Fn),U1=V1,W1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="",r}return a.prototype.hasState=function(r){return r.hasState(this.stateName)},a.prototype.setElementState=function(r,n){r.setState(this.stateName,n)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.clear=function(){var r=this.context.view;this.clearViewState(r)},a.prototype.clearViewState=function(r){var n=this,l=Nh(r,this.stateName);(0,m.S6)(l,function(u){n.setElementState(u,!1)})},a}(Fn),c0=W1;function qy(s){return(0,m.U2)(s.get("delegateObject"),"item")}var Y1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.ignoreListItemStates=["unchecked"],r}return a.prototype.isItemIgnore=function(r,n){var l=this.ignoreListItemStates,u=l.filter(function(v){return n.hasState(r,v)});return!!u.length},a.prototype.setStateByComponent=function(r,n,l){var u=this.context.view,v=r.get("field"),p=Zn(u);this.setElementsStateByItem(p,v,n,l)},a.prototype.setStateByElement=function(r,n){this.setElementState(r,n)},a.prototype.isMathItem=function(r,n,l){var u=this.context.view,v=qo(u,n),p=ua(r,n);return!(0,m.UM)(p)&&l.name===v.getText(p)},a.prototype.setElementsStateByItem=function(r,n,l,u){var v=this;(0,m.S6)(r,function(p){v.isMathItem(p,n,l)&&p.setState(v.stateName,u)})},a.prototype.setStateEnable=function(r){var n=Ka(this.context);if(n)Lh(this.context)&&this.setStateByElement(n,r);else{var l=So(this.context);if(pl(l)){var u=l.item,v=l.component;if(u&&v&&!this.isItemIgnore(u,v)){var p=this.context.event.gEvent;if(p&&p.fromShape&&p.toShape&&qy(p.fromShape)===qy(p.toShape))return;this.setStateByComponent(v,u,r)}}}},a.prototype.toggle=function(){var r=Ka(this.context);if(r){var n=r.hasState(this.stateName);this.setElementState(r,!n)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(c0),h0=Y1,H1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.active=function(){this.setState()},a}(h0),G1=H1,X1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.cache={},r}return a.prototype.getColorScale=function(r,n){var l=n.geometry.getAttribute("color");if(!l)return null;var u=r.getScaleByField(l.getFields()[0]);return u},a.prototype.getLinkPath=function(r,n){var l=this.context.view,u=l.getCoordinate().isTransposed,v=r.shape.getCanvasBBox(),p=n.shape.getCanvasBBox(),y=u?[["M",v.minX,v.minY],["L",p.minX,p.maxY],["L",p.maxX,p.maxY],["L",v.maxX,v.minY],["Z"]]:[["M",v.maxX,v.minY],["L",p.minX,p.minY],["L",p.minX,p.maxY],["L",v.maxX,v.maxY],["Z"]];return y},a.prototype.addLinkShape=function(r,n,l,u){var v={opacity:.4,fill:n.shape.attr("fill")};r.addShape({type:"path",attrs:(0,I.pi)((0,I.pi)({},(0,m.b$)({},v,(0,m.mf)(u)?u(v,n):u)),{path:this.getLinkPath(n,l)})})},a.prototype.linkByElement=function(r,n){var l=this,u=this.context.view,v=this.getColorScale(u,r);if(v){var p=ua(r,v.field);if(!this.cache[p]){var y=ry(u,v.field,p),C=this.linkGroup,T=C.addGroup();this.cache[p]=T;var _=y.length;(0,m.S6)(y,function(L,B){if(B<_-1){var U=y[B+1];l.addLinkShape(T,L,U,n)}})}}},a.prototype.removeLink=function(r){var n=this.getColorScale(this.context.view,r);if(n){var l=ua(r,n.field);this.cache[l]&&(this.cache[l].remove(),this.cache[l]=null)}},a.prototype.link=function(r){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var l=Ka(n);l&&this.linkByElement(l,r==null?void 0:r.style)},a.prototype.unlink=function(){var r=Ka(this.context);r&&this.removeLink(r)},a.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},a}(Fn),Z1=X1,j1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.startPoint=null,r.endPoint=null,r.isStarted=!1,r.effectSiblings=!1,r.effectByRecord=!1,r}return a.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},a.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},a.prototype.getIntersectElements=function(){var r=null;if(Is(this.context))r=yl(this.context,10);else{var n=this.startPoint,l=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!l)return;var u={minX:Math.min(n.x,l.x),minY:Math.min(n.y,l.y),maxX:Math.max(n.x,l.x),maxY:Math.max(n.y,l.y)},v=this.context.view;r=ml(v,u)}return r},a.prototype.setStateEnable=function(r){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(r);else{var n=Zn(this.context.view),l=this.getIntersectElements();l&&l.length?this.effectByRecord?this.setSiblingsStateByRecord(l,r):this.setElementsState(l,r,n):this.clear()}},a.prototype.setSiblingsStateByRecord=function(r,n){var l=this,u=this.context.view,v=ca(u),p=r.map(function(T){return T.getModel().data}),y=u.getXScale().field,C=u.getYScales()[0].field;(0,m.S6)(v,function(T){var _=Zn(T),L=_.filter(function(B){var U=B.getModel().data;return Fs(p,U,y,C)});l.setElementsState(L,n,_)})},a.prototype.setSiblingsState=function(r){var n=this,l=this.context.view,u=ca(l);Is(this.context)&&(0,m.S6)(u,function(v){var p=Zn(v),y=Bh(n.context,v,10);y&&y.length?n.setElementsState(y,r,p):n.clearViewState(v)})},a.prototype.setElementsState=function(r,n,l){var u=this;(0,m.S6)(l,function(v){r.includes(v)?u.setElementState(v,n):u.setElementState(v,!1)})},a.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},a.prototype.clear=function(){var r=this,n=this.context.view;if(this.effectSiblings){var l=ca(n);(0,m.S6)(l,function(u){r.clearViewState(u)})}else this.clearViewState(n)},a}(c0),f0=j1,$1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.active=function(){this.setState()},a}(f0),K1=$1,q1=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.setStateEnable=function(r){var n=Ka(this.context);if(n){if(!Lh(this.context))return;r?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},a.prototype.toggle=function(){var r=Ka(this.context);if(r){var n=this.hasState(r);n||this.clear(),this.setElementState(r,!n)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(c0),v0=q1,J1=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.active=function(){this.setState()},a}(v0),Q1=J1,gc="inactive",yc="active";function d0(s){var a=Zn(s);(0,m.S6)(a,function(r){r.hasState(yc)&&r.setState(yc,!1),r.hasState(gc)&&r.setState(gc,!1)})}function Jy(s,a,r){(0,m.S6)(s,function(n){a(n)?(n.hasState(gc)&&n.setState(gc,!1),n.setState(yc,r)):(n.hasState(yc)&&n.setState(yc,!1),n.setState(gc,r))})}var js=Z.INACTIVE,Fo=Z.ACTIVE,tb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName=Fo,r}return a.prototype.setElementsStateByItem=function(r,n,l,u){var v=this,p=function(y){return v.isMathItem(y,n,l)};this.setHighlightBy(r,p,u)},a.prototype.setElementHighlight=function(r,n){n(r)?(r.hasState(js)&&r.setState(js,!1),r.setState(Fo,!0)):r.hasState(Fo)||r.setState(js,!0)},a.prototype.setHighlightBy=function(r,n,l){var u=this;if(l)(0,m.S6)(r,function(y){u.setElementHighlight(y,n)});else{var v=Nh(this.context.view,Fo),p=!0;(0,m.S6)(v,function(y){if(!n(y))return p=!1,!1}),p?this.clear():(0,m.S6)(r,function(y){n(y)&&(y.hasState(Fo)&&y.setState(Fo,!1),y.setState(js,!0))})}},a.prototype.setElementState=function(r,n){var l=this.context.view,u=Zn(l);this.setHighlightBy(u,function(v){return r===v},n)},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){var r=this.context.view;d0(r)},a}(h0),p0=tb,eb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.setStateByElement=function(r,n){var l=this.context.view,u=r.geometry.getAttribute("color");if(u){var v=l.getScaleByField(u.getFields()[0]),p=ua(r,v.field),y=Zn(l),C=y.filter(function(T){return ua(T,v.field)===p});this.setHighlightBy(y,function(T){return C.includes(T)},n)}},a}(p0),rb=eb,nb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.setElementHighlight=function(r,n){n(r)?(r.hasState(js)&&r.setState(js,!1),r.setState(Fo,!0)):(r.setState(js,!0),r.hasState(Fo)&&r.setState(Fo,!1))},a.prototype.setStateByElement=function(r,n){var l=this.context.view,u=l.getXScale(),v=ua(r,u.field),p=Zn(l),y=p.filter(function(C){return ua(C,u.field)===v});this.setHighlightBy(p,function(C){return y.includes(C)},n)},a.prototype.toggle=function(){var r=Ka(this.context);if(r){var n=r.hasState(this.stateName);this.setStateByElement(r,!n)}},a}(p0),ib=nb,io;(function(s){s.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",s.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",s.BEFORE_CLEAR="element-range-highlight:beforeclear",s.AFTER_CLEAR="element-range-highlight:afterclear"})(io||(io={}));var ab=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.clearViewState=function(r){d0(r)},a.prototype.highlight=function(){var r=this.context,n=r.view,l=r.event,u=this.getIntersectElements(),v={view:n,event:l,highlightElements:u};n.emit(io.BEFORE_HIGHLIGHT,ei.fromData(n,io.BEFORE_HIGHLIGHT,v)),this.setState(),n.emit(io.AFTER_HIGHLIGHT,ei.fromData(n,io.AFTER_HIGHLIGHT,v))},a.prototype.clear=function(){var r=this.context.view;r.emit(io.BEFORE_CLEAR,ei.fromData(r,io.BEFORE_CLEAR,{})),s.prototype.clear.call(this),r.emit(io.AFTER_CLEAR,ei.fromData(r,io.AFTER_CLEAR,{}))},a.prototype.setElementsState=function(r,n,l){Jy(l,function(u){return r.indexOf(u)>=0},n)},a}(f0),Qy=ab,ob=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.highlight=function(){this.setState()},a.prototype.setElementState=function(r,n){var l=this.context.view,u=Zn(l);Jy(u,function(v){return r===v},n)},a.prototype.clear=function(){var r=this.context.view;d0(r)},a}(v0),sb=ob,lb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="selected",r}return a.prototype.selected=function(){this.setState()},a}(f0),ub=lb,cb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="selected",r}return a.prototype.selected=function(){this.setState()},a}(h0),hb=cb,fb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="selected",r}return a.prototype.selected=function(){this.setState()},a}(v0),vb=fb,db=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="",r.ignoreItemStates=[],r}return a.prototype.getTriggerListInfo=function(){var r=So(this.context),n=null;return pl(r)&&(n={item:r.item,list:r.component}),n},a.prototype.getAllowComponents=function(){var r=this,n=this.context.view,l=Uh(n),u=[];return(0,m.S6)(l,function(v){v.isList()&&r.allowSetStateByElement(v)&&u.push(v)}),u},a.prototype.hasState=function(r,n){return r.hasState(n,this.stateName)},a.prototype.clearAllComponentsState=function(){var r=this,n=this.getAllowComponents();(0,m.S6)(n,function(l){l.clearItemsState(r.stateName)})},a.prototype.allowSetStateByElement=function(r){var n=r.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var l=r.get("name");if(this.cfg.componentNames.indexOf(l)===-1)return!1}var u=this.context.view,v=qo(u,n);return v&&v.isCategory},a.prototype.allowSetStateByItem=function(r,n){var l=this.ignoreItemStates;if(l.length){var u=l.filter(function(v){return n.hasState(r,v)});return u.length===0}return!0},a.prototype.setStateByElement=function(r,n,l){var u=r.get("field"),v=this.context.view,p=qo(v,u),y=ua(n,u),C=p.getText(y);this.setItemsState(r,C,l)},a.prototype.setStateEnable=function(r){var n=this,l=Ka(this.context);if(l){var u=this.getAllowComponents();(0,m.S6)(u,function(C){n.setStateByElement(C,l,r)})}else{var v=So(this.context);if(pl(v)){var p=v.item,y=v.component;this.allowSetStateByElement(y)&&this.allowSetStateByItem(p,y)&&this.setItemState(y,p,r)}}},a.prototype.setItemsState=function(r,n,l){var u=this,v=r.getItems();(0,m.S6)(v,function(p){p.name===n&&u.setItemState(r,p,l)})},a.prototype.setItemState=function(r,n,l){r.setItemState(n,this.stateName,l)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.reset=function(){this.setStateEnable(!1)},a.prototype.toggle=function(){var r=this.getTriggerListInfo();if(r&&r.item){var n=r.list,l=r.item,u=this.hasState(n,l);this.setItemState(n,l,!u)}},a.prototype.clear=function(){var r=this.getTriggerListInfo();r?r.list.clearItemsState(this.stateName):this.clearAllComponentsState()},a}(Fn),$s=db,pb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="active",r}return a.prototype.active=function(){this.setState()},a}($s),gb=pb,tm="inactive",em="active";function yb(s){var a=s.getItems();(0,m.S6)(a,function(r){s.hasState(r,em)&&s.setItemState(r,em,!1),s.hasState(r,tm)&&s.setItemState(r,tm,!1)})}var mc="inactive",Ks="active",mb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName=Ks,r.ignoreItemStates=["unchecked"],r}return a.prototype.setItemsState=function(r,n,l){this.setHighlightBy(r,function(u){return u.name===n},l)},a.prototype.setItemState=function(r,n,l){var u=r.getItems();this.setHighlightBy(r,function(v){return v===n},l)},a.prototype.setHighlightBy=function(r,n,l){var u=r.getItems();if(l)(0,m.S6)(u,function(y){n(y)?(r.hasState(y,mc)&&r.setItemState(y,mc,!1),r.setItemState(y,Ks,!0)):r.hasState(y,Ks)||r.setItemState(y,mc,!0)});else{var v=r.getItemsByState(Ks),p=!0;(0,m.S6)(v,function(y){if(!n(y))return p=!1,!1}),p?this.clear():(0,m.S6)(u,function(y){n(y)&&(r.hasState(y,Ks)&&r.setItemState(y,Ks,!1),r.setItemState(y,mc,!0))})}},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){var r=this.getTriggerListInfo();if(r)yb(r.list);else{var n=this.getAllowComponents();(0,m.S6)(n,function(l){l.clearItemsState(Ks),l.clearItemsState(mc)})}},a}($s),g0=mb,xb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="selected",r}return a.prototype.selected=function(){this.setState()},a}($s),bb=xb,wb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName="unchecked",r}return a.prototype.unchecked=function(){this.setState()},a}($s),Sb=wb,$l="unchecked",ov="checked",Cb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.stateName=ov,r}return a.prototype.setItemState=function(r,n,l){this.setCheckedBy(r,function(u){return u===n},l)},a.prototype.setCheckedBy=function(r,n,l){var u=r.getItems();l&&(0,m.S6)(u,function(v){n(v)?(r.hasState(v,$l)&&r.setItemState(v,$l,!1),r.setItemState(v,ov,!0)):r.hasState(v,ov)||r.setItemState(v,$l,!0)})},a.prototype.toggle=function(){var r=this.getTriggerListInfo();if(r&&r.item){var n=r.list,l=r.item,u=!(0,m.G)(n.getItems(),function(v){return n.hasState(v,$l)});u||n.hasState(l,$l)?this.setItemState(n,l,!0):this.reset()}},a.prototype.checked=function(){this.setState()},a.prototype.reset=function(){var r=this.getAllowComponents();(0,m.S6)(r,function(n){n.clearItemsState(ov),n.clearItemsState($l)})},a}($s),Mb=Cb,Kl="unchecked",Tb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.toggle=function(){var r,n,l,u,v,p,y,C,T=this.getTriggerListInfo();if(T!=null&&T.item){var _=T.list,L=T.item,B=_.getItems(),U=B.filter(function(Qe){return!_.hasState(Qe,Kl)}),nt=B.filter(function(Qe){return _.hasState(Qe,Kl)}),pt=U[0];if(B.length===U.length)try{for(var Mt=(0,I.XA)(B),Yt=Mt.next();!Yt.done;Yt=Mt.next()){var Gt=Yt.value;_.setItemState(Gt,Kl,Gt.id!==L.id)}}catch(Qe){r={error:Qe}}finally{try{Yt&&!Yt.done&&(n=Mt.return)&&n.call(Mt)}finally{if(r)throw r.error}}else if(B.length-nt.length===1)if(pt.id===L.id)try{for(var te=(0,I.XA)(B),Me=te.next();!Me.done;Me=te.next()){var Gt=Me.value;_.setItemState(Gt,Kl,!1)}}catch(Qe){l={error:Qe}}finally{try{Me&&!Me.done&&(u=te.return)&&u.call(te)}finally{if(l)throw l.error}}else try{for(var Ne=(0,I.XA)(B),Ye=Ne.next();!Ye.done;Ye=Ne.next()){var Gt=Ye.value;_.setItemState(Gt,Kl,Gt.id!==L.id)}}catch(Qe){v={error:Qe}}finally{try{Ye&&!Ye.done&&(p=Ne.return)&&p.call(Ne)}finally{if(v)throw v.error}}else try{for(var Xe=(0,I.XA)(B),Ke=Xe.next();!Ke.done;Ke=Xe.next()){var Gt=Ke.value;_.setItemState(Gt,Kl,Gt.id!==L.id)}}catch(Qe){y={error:Qe}}finally{try{Ke&&!Ke.done&&(C=Xe.return)&&C.call(Xe)}finally{if(y)throw y.error}}}},a}($s),Ab=Tb,rm="showRadio",y0="legend-radio-tip",Eb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.timeStamp=0,r}return a.prototype.show=function(){var r=this.getTriggerListInfo();if(r!=null&&r.item){var n=r.list,l=r.item;n.setItemState(l,rm,!0)}},a.prototype.hide=function(){var r=this.getTriggerListInfo();if(r!=null&&r.item){var n=r.list,l=r.item;n.setItemState(l,rm,!1)}},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.showTip=function(){var r=this.context,n=r.event,l=this.timeStamp,u=+new Date,v=this.context.event.target;if(u-l>16&&v.get("name")==="legend-item-radio"){var p=this.location,y={x:n.x,y:n.y};this.timeStamp=u,this.location=y,(!p||!(0,m.Xy)(p,y))&&this.showTooltip(y)}},a.prototype.hideTip=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(r){var n=this.context,l=n.event,u=l.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var v=n.view.getCanvas().get("el").getBoundingClientRect(),p=v.x,y=v.y;this.tooltip.update((0,I.pi)((0,I.pi)({title:u.get("tip")},r),{x:r.x+p,y:r.y+y})),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var r,n=(r={},r[Ta]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},r[Aa]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},r);document.getElementById(y0)&&document.body.removeChild(document.getElementById(y0));var l=new hl({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:y0});l.init(),l.setCapture(!1),this.tooltip=l},a}($s),_b=Eb,Pb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.maskShape=null,r.points=[],r.starting=!1,r.moving=!1,r.preMovePoint=null,r.shapeType="path",r}return a.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},a.prototype.emitEvent=function(r){var n="mask:".concat(r),l=this.context.view,u=this.context.event;l.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:u.x,y:u.y})},a.prototype.createMask=function(){var r=this.context.view,n=this.getMaskAttrs(),l=r.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,I.pi)({fill:"#C5D4EB",opacity:.3},n)});return l},a.prototype.getMaskPath=function(){return[]},a.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},a.prototype.start=function(r){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(r==null?void 0:r.maskStyle),this.emitEvent("start")},a.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},a.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var r=this.getCurrentPoint(),n=this.preMovePoint,l=r.x-n.x,u=r.y-n.y,v=this.points;(0,m.S6)(v,function(p){p.x+=l,p.y+=u}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=r}},a.prototype.updateMask=function(r){var n=(0,m.b$)({},this.getMaskAttrs(),r);this.maskShape.attr(n)},a.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},a.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},a.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},a.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},a.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,s.prototype.destroy.call(this)},a}(Fn),m0=Pb;function nm(s){var a=(0,m.Z$)(s),r=0,n=0,l=0;if(s.length){var u=s[0];r=Eu(u,a)/2,n=(a.x+u.x)/2,l=(a.y+u.y)/2}return{x:n,y:l,r}}var Ib=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.shapeType="circle",r}return a.prototype.getMaskAttrs=function(){return nm(this.points)},a}(m0),Fb=Ib;function im(s){return{start:(0,m.YM)(s),end:(0,m.Z$)(s)}}function am(s,a){var r=Math.min(s.x,a.x),n=Math.min(s.y,a.y),l=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);return{x:r,y:n,width:l,height:u}}var kb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.shapeType="rect",r}return a.prototype.getRegion=function(){return im(this.points)},a.prototype.getMaskAttrs=function(){var r=this.getRegion(),n=r.start,l=r.end;return am(n,l)},a}(m0),om=kb;function sm(s){s.x=(0,m.uZ)(s.x,0,1),s.y=(0,m.uZ)(s.y,0,1)}function lm(s,a,r,n){var l=null,u=null,v=n.invert((0,m.YM)(s)),p=n.invert((0,m.Z$)(s));return r&&(sm(v),sm(p)),a==="x"?(l=n.convert({x:v.x,y:0}),u=n.convert({x:p.x,y:1})):(l=n.convert({x:0,y:v.y}),u=n.convert({x:1,y:p.y})),{start:l,end:u}}var Db=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.dim="x",r.inPlot=!0,r}return a.prototype.getRegion=function(){var r=this.context.view.getCoordinate();return lm(this.points,this.dim,this.inPlot,r)},a}(om),um=Db;function x0(s){var a=[];return s.length&&((0,m.S6)(s,function(r,n){n===0?a.push(["M",r.x,r.y]):a.push(["L",r.x,r.y])}),a.push(["L",s[0].x,s[0].y])),a}function cm(s){return{path:x0(s)}}var Lb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getMaskPath=function(){return x0(this.points)},a.prototype.getMaskAttrs=function(){return cm(this.points)},a.prototype.addPoint=function(){this.resize()},a}(m0),hm=Lb;function b0(s){return ny(s,!0)}function fm(s){return{path:b0(s)}}var Ob=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getMaskPath=function(){return b0(this.points)},a.prototype.getMaskAttrs=function(){return fm(this.points)},a}(hm),Bb=Ob,Rb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.maskShapes=[],r.starting=!1,r.moving=!1,r.recordPoints=null,r.preMovePoint=null,r.shapeType="path",r.maskType="multi-mask",r}return a.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},a.prototype.emitEvent=function(r){var n="".concat(this.maskType,":").concat(r),l=this.context.view,u=this.context.event,v={type:this.shapeType,name:this.maskType,get:function(p){return v.hasOwnProperty(p)?v[p]:void 0}};l.emit(n,{target:v,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:u.x,y:u.y})},a.prototype.createMask=function(r){var n=this.context.view,l=this.recordPoints[r],u=this.getMaskAttrs(l),v=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,I.pi)({fill:"#C5D4EB",opacity:.3},u)});this.maskShapes.push(v)},a.prototype.getMaskPath=function(r){return[]},a.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(r){return r.show()}),this.emitEvent("show"))},a.prototype.start=function(r){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(r==null?void 0:r.maskStyle),this.emitEvent("start")},a.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},a.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var r=this.getCurrentPoint(),n=this.preMovePoint,l=r.x-n.x,u=r.y-n.y,v=this.getCurMaskShapeIndex();v>-1&&(this.recordPoints[v].forEach(function(p){p.x+=l,p.y+=u}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=r)}},a.prototype.updateMask=function(r){var n=this;this.recordPoints.forEach(function(l,u){var v=(0,m.b$)({},n.getMaskAttrs(l),r);n.maskShapes[u].attr(v)})},a.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},a.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},a.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},a.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(r){return r.hide()}),this.emitEvent("hide"))},a.prototype.remove=function(){var r=this.getCurMaskShapeIndex();r>-1&&(this.recordPoints.splice(r,1),this.maskShapes[r].remove(),this.maskShapes.splice(r,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},a.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(r){return r.remove()}),this.maskShapes=[],this.preMovePoint=null},a.prototype.clear=function(){var r=this.getCurMaskShapeIndex();r===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(r,1),this.maskShapes[r].remove(),this.maskShapes.splice(r,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},a.prototype.destroy=function(){this.clear(),s.prototype.destroy.call(this)},a.prototype.getRecordPoints=function(){var r;return(0,I.ev)([],(0,I.CR)((r=this.recordPoints)!==null&&r!==void 0?r:[]),!1)},a.prototype.recordPointStart=function(){var r=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=(0,I.ev)((0,I.ev)([],(0,I.CR)(r),!1),[[n]],!1)},a.prototype.recordPointContinue=function(){var r=this.getRecordPoints(),n=this.getCurrentPoint(),l=r.splice(-1,1)[0]||[];l.push(n),this.recordPoints=(0,I.ev)((0,I.ev)([],(0,I.CR)(r),!1),[l],!1)},a.prototype.recordPointClear=function(){this.recordPoints=[]},a.prototype.updateShapesCapture=function(r){this.maskShapes.forEach(function(n){return n.set("capture",r)})},a.prototype.getCurMaskShapeIndex=function(){var r=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var l=n.attrs,u=l.width,v=l.height,p=l.r,y=u===0||v===0||p===0;return!y&&n.isHit(r.x,r.y)})},a}(Fn),w0=Rb,Nb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.shapeType="rect",r}return a.prototype.getRegion=function(r){return im(r)},a.prototype.getMaskAttrs=function(r){var n=this.getRegion(r),l=n.start,u=n.end;return am(l,u)},a}(w0),vm=Nb,zb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.dim="x",r.inPlot=!0,r}return a.prototype.getRegion=function(r){var n=this.context.view.getCoordinate();return lm(r,this.dim,this.inPlot,n)},a}(vm),dm=zb,Vb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.shapeType="circle",r.getMaskAttrs=nm,r}return a}(w0),Ub=Vb,Wb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.getMaskPath=x0,r.getMaskAttrs=cm,r}return a.prototype.addPoint=function(){this.resize()},a}(w0),pm=Wb,Yb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.getMaskPath=b0,r.getMaskAttrs=fm,r}return a}(pm),Hb=Yb,Gb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.setCursor=function(r){var n=this.context.view;n.getCanvas().setCursor(r)},a.prototype.default=function(){this.setCursor("default")},a.prototype.pointer=function(){this.setCursor("pointer")},a.prototype.move=function(){this.setCursor("move")},a.prototype.crosshair=function(){this.setCursor("crosshair")},a.prototype.wait=function(){this.setCursor("wait")},a.prototype.help=function(){this.setCursor("help")},a.prototype.text=function(){this.setCursor("text")},a.prototype.eResize=function(){this.setCursor("e-resize")},a.prototype.wResize=function(){this.setCursor("w-resize")},a.prototype.nResize=function(){this.setCursor("n-resize")},a.prototype.sResize=function(){this.setCursor("s-resize")},a.prototype.neResize=function(){this.setCursor("ne-resize")},a.prototype.nwResize=function(){this.setCursor("nw-resize")},a.prototype.seResize=function(){this.setCursor("se-resize")},a.prototype.swResize=function(){this.setCursor("sw-resize")},a.prototype.nsResize=function(){this.setCursor("ns-resize")},a.prototype.ewResize=function(){this.setCursor("ew-resize")},a.prototype.zoomIn=function(){this.setCursor("zoom-in")},a.prototype.zoomOut=function(){this.setCursor("zoom-out")},a}(Fn),Xb=Gb,Zb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.filterView=function(r,n,l){var u=this;r.getScaleByField(n)&&r.filter(n,l),r.views&&r.views.length&&(0,m.S6)(r.views,function(v){u.filterView(v,n,l)})},a.prototype.filter=function(){var r=So(this.context);if(r){var n=this.context.view,l=r.component,u=l.get("field");if(pl(r)){if(u){var v=l.getItemsByState("unchecked"),p=qo(n,u),y=v.map(function(B){return B.name});y.length?this.filterView(n,u,function(B){var U=p.getText(B);return!y.includes(U)}):this.filterView(n,u,null),n.render(!0)}}else if(Oh(r)){var C=l.getValue(),T=(0,I.CR)(C,2),_=T[0],L=T[1];this.filterView(n,u,function(B){return B>=_&&B<=L}),n.render(!0)}}},a}(Fn),jb=Zb;function gm(s,a,r,n){var l=Math.min(r[a],n[a]),u=Math.max(r[a],n[a]),v=(0,I.CR)(s.range,2),p=v[0],y=v[1];if(l<p&&(l=p),u>y&&(u=y),l===y&&u===y)return null;var C=s.invert(l),T=s.invert(u);if(s.isCategory){var _=s.values.indexOf(C),L=s.values.indexOf(T),B=s.values.slice(_,L+1);return function(U){return B.includes(U)}}else return function(U){return U>=C&&U<=T}}var va;(function(s){s.FILTER="brush-filter-processing",s.RESET="brush-filter-reset",s.BEFORE_FILTER="brush-filter:beforefilter",s.AFTER_FILTER="brush-filter:afterfilter",s.BEFORE_RESET="brush-filter:beforereset",s.AFTER_RESET="brush-filter:afterreset"})(va||(va={}));var $b=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.dims=["x","y"],r.startPoint=null,r.isStarted=!1,r}return a.prototype.hasDim=function(r){return this.dims.includes(r)},a.prototype.start=function(){var r=this.context;this.isStarted=!0,this.startPoint=r.getCurrentPoint()},a.prototype.filter=function(){var r,n;if(Is(this.context)){var l=this.context.event.target,u=l.getCanvasBBox();r={x:u.x,y:u.y},n={x:u.maxX,y:u.maxY}}else{if(!this.isStarted)return;r=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(r.x-n.x)<5||Math.abs(r.x-n.y)<5)){var v=this.context,p=v.view,y=v.event,C={view:p,event:y,dims:this.dims};p.emit(va.BEFORE_FILTER,ei.fromData(p,va.BEFORE_FILTER,C));var T=p.getCoordinate(),_=T.invert(n),L=T.invert(r);if(this.hasDim("x")){var B=p.getXScale(),U=gm(B,"x",_,L);this.filterView(p,B.field,U)}if(this.hasDim("y")){var nt=p.getYScales()[0],U=gm(nt,"y",_,L);this.filterView(p,nt.field,U)}this.reRender(p,{source:va.FILTER}),p.emit(va.AFTER_FILTER,ei.fromData(p,va.AFTER_FILTER,C))}},a.prototype.end=function(){this.isStarted=!1},a.prototype.reset=function(){var r=this.context.view;if(r.emit(va.BEFORE_RESET,ei.fromData(r,va.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=r.getXScale();this.filterView(r,n.field,null)}if(this.hasDim("y")){var l=r.getYScales()[0];this.filterView(r,l.field,null)}this.reRender(r,{source:va.RESET}),r.emit(va.AFTER_RESET,ei.fromData(r,va.AFTER_RESET,{}))},a.prototype.filterView=function(r,n,l){r.filter(n,l)},a.prototype.reRender=function(r,n){r.render(!0,n)},a}(Fn),sv=$b,Kb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.filterView=function(r,n,l){var u=ca(r);(0,m.S6)(u,function(v){v.filter(n,l)})},a.prototype.reRender=function(r){var n=ca(r);(0,m.S6)(n,function(l){l.render(!0)})},a}(sv),S0=Kb,qb=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.filter=function(){var r=So(this.context),n=this.context.view,l=Zn(n);if(Is(this.context)){var u=yl(this.context,10);u&&(0,m.S6)(l,function(nt){u.includes(nt)?nt.show():nt.hide()})}else if(r){var v=r.component,p=v.get("field");if(pl(r)){if(p){var y=v.getItemsByState("unchecked"),C=qo(n,p),T=y.map(function(nt){return nt.name});(0,m.S6)(l,function(nt){var pt=ua(nt,p),Mt=C.getText(pt);T.indexOf(Mt)>=0?nt.hide():nt.show()})}}else if(Oh(r)){var _=v.getValue(),L=(0,I.CR)(_,2),B=L[0],U=L[1];(0,m.S6)(l,function(nt){var pt=ua(nt,p);pt>=B&&pt<=U?nt.show():nt.hide()})}}},a.prototype.clear=function(){var r=Zn(this.context.view);(0,m.S6)(r,function(n){n.show()})},a.prototype.reset=function(){this.clear()},a}(Fn),Jb=qb,Qb=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.byRecord=!1,r}return a.prototype.filter=function(){Is(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},a.prototype.filterByRecord=function(){var r=this.context.view,n=yl(this.context,10);if(n){var l=r.getXScale().field,u=r.getYScales()[0].field,v=n.map(function(y){return y.getModel().data}),p=ca(r);(0,m.S6)(p,function(y){var C=Zn(y);(0,m.S6)(C,function(T){var _=T.getModel().data;Fs(v,_,l,u)?T.show():T.hide()})})}},a.prototype.filterByBBox=function(){var r=this,n=this.context.view,l=ca(n);(0,m.S6)(l,function(u){var v=Bh(r.context,u,10),p=Zn(u);v&&(0,m.S6)(p,function(y){v.includes(y)?y.show():y.hide()})})},a.prototype.reset=function(){var r=ca(this.context.view);(0,m.S6)(r,function(n){var l=Zn(n);(0,m.S6)(l,function(u){u.show()})})},a}(Fn),ym=Qb,tw=10,ew=5,rw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.buttonGroup=null,r.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},r}return a.prototype.getButtonCfg=function(){return(0,m.b$)(this.buttonCfg,this.cfg)},a.prototype.drawButton=function(){var r=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:r.name}),l=n.addShape({type:"text",name:"button-text",attrs:(0,I.pi)({text:r.text},r.textStyle)}),u=l.getBBox(),v=Co(r.padding),p=n.addShape({type:"rect",name:"button-rect",attrs:(0,I.pi)({x:u.x-v[3],y:u.y-v[0],width:u.width+v[1]+v[3],height:u.height+v[0]+v[2]},r.style)});p.toBack(),n.on("mouseenter",function(){p.attr(r.activeStyle)}),n.on("mouseleave",function(){p.attr(r.style)}),this.buttonGroup=n},a.prototype.resetPosition=function(){var r=this.context.view,n=r.getCoordinate(),l=n.convert({x:1,y:1}),u=this.buttonGroup,v=u.getBBox(),p=gn.vs(null,[["t",l.x-v.width-tw,l.y+v.height+ew]]);u.setMatrix(p)},a.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},a.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},a.prototype.destroy=function(){var r=this.buttonGroup;r&&r.remove(),s.prototype.destroy.call(this)},a}(Fn),nw=rw,iw=4,aw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.starting=!1,r.dragStart=!1,r}return a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},a.prototype.drag=function(){if(this.startPoint){var r=this.context.getCurrentPoint(),n=this.context.view,l=this.context.event;this.dragStart?n.emit("drag",{target:l.target,x:l.x,y:l.y}):Eu(r,this.startPoint)>iw&&(n.emit("dragstart",{target:l.target,x:l.x,y:l.y}),this.dragStart=!0)}},a.prototype.end=function(){if(this.dragStart){var r=this.context.view,n=this.context.event;r.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},a}(Fn),ow=aw,sw=5,lw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.starting=!1,r.isMoving=!1,r.startPoint=null,r.startMatrix=null,r}return a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},a.prototype.move=function(){if(this.starting){var r=this.startPoint,n=this.context.getCurrentPoint(),l=Eu(r,n);if(l>sw&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var u=this.context.view,v=gn.vs(this.startMatrix,[["t",n.x-r.x,n.y-r.y]]);u.backgroundGroup.setMatrix(v),u.foregroundGroup.setMatrix(v),u.middleGroup.setMatrix(v)}}},a.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},a.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var r=this.context.view;r.backgroundGroup.resetMatrix(),r.foregroundGroup.resetMatrix(),r.middleGroup.resetMatrix(),this.isMoving=!1},a}(Fn),uw=lw,mm="x",xm="y",cw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.dims=[mm,xm],r.cfgFields=["dims"],r.cacheScaleDefs={},r}return a.prototype.hasDim=function(r){return this.dims.includes(r)},a.prototype.getScale=function(r){var n=this.context.view;return r==="x"?n.getXScale():n.getYScales()[0]},a.prototype.resetDim=function(r){var n=this.context.view;if(this.hasDim(r)&&this.cacheScaleDefs[r]){var l=this.getScale(r);n.scale(l.field,this.cacheScaleDefs[r]),this.cacheScaleDefs[r]=null}},a.prototype.reset=function(){this.resetDim(mm),this.resetDim(xm);var r=this.context.view;r.render(!0)},a}(Fn),bm=cw,hw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.startPoint=null,r.starting=!1,r.startCache={},r}return a.prototype.start=function(){var r=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;(0,m.S6)(n,function(l){var u=r.getScale(l),v=u.min,p=u.max,y=u.values;r.startCache[l]={min:v,max:p,values:y}})},a.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},a.prototype.translate=function(){var r=this;if(this.starting){var n=this.startPoint,l=this.context.view.getCoordinate(),u=this.context.getCurrentPoint(),v=l.invert(n),p=l.invert(u),y=p.x-v.x,C=p.y-v.y,T=this.context.view,_=this.dims;(0,m.S6)(_,function(L){r.translateDim(L,{x:y*-1,y:C*-1})}),T.render(!0)}},a.prototype.translateDim=function(r,n){if(this.hasDim(r)){var l=this.getScale(r);l.isLinear&&this.translateLinear(r,l,n)}},a.prototype.translateLinear=function(r,n,l){var u=this.context.view,v=this.startCache[r],p=v.min,y=v.max,C=y-p,T=l[r]*C;this.cacheScaleDefs[r]||(this.cacheScaleDefs[r]={nice:n.nice,min:p,max:y}),u.scale(n.field,{nice:!1,min:p+T,max:y+T})},a.prototype.reset=function(){s.prototype.reset.call(this),this.startPoint=null,this.starting=!1},a}(bm),fw=hw,vw=function(s){(0,I.ZT)(a,s);function a(){var r=s!==null&&s.apply(this,arguments)||this;return r.zoomRatio=.05,r}return a.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},a.prototype.zoom=function(r){var n=this,l=this.dims;(0,m.S6)(l,function(u){n.zoomDim(u,r)}),this.context.view.render(!0)},a.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},a.prototype.zoomDim=function(r,n){if(this.hasDim(r)){var l=this.getScale(r);l.isLinear&&this.zoomLinear(r,l,n)}},a.prototype.zoomLinear=function(r,n,l){var u=this.context.view;this.cacheScaleDefs[r]||(this.cacheScaleDefs[r]={nice:n.nice,min:n.min,max:n.max});var v=this.cacheScaleDefs[r],p=v.max-v.min,y=n.min,C=n.max,T=l*p,_=y-T,L=C+T,B=L-_,U=B/p;L>_&&U<100&&U>.01&&u.scale(n.field,{nice:!1,min:y-T,max:C+T})},a}(bm),dw=vw;function pw(s){var a=s.gEvent.originalEvent;return a.deltaY>0}var gw=1,yw=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.scroll=function(r){var n=this.context,l=n.view,u=n.event;if(l.getOptions().scrollbar){var v=(r==null?void 0:r.wheelDelta)||gw,p=l.getController("scrollbar"),y=l.getXScale(),C=l.getOptions().data,T=(0,m.dp)((0,m.I)(C,y.field)),_=(0,m.dp)(y.values),L=p.getValue(),B=Math.floor((T-_)*L),U=B+(pw(u)?v:-v),nt=v/(T-_)/1e4,pt=(0,m.uZ)(U/(T-_)+nt,0,1);p.setValue(pt)}},a}(Fn),mw=yw,xw="aixs-description-tooltip",bw=function(s){(0,I.ZT)(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.show=function(){var r=this.context,n=So(r).axis,l=n.cfg.title,u=l.description,v=l.text,p=l.descriptionTooltipStyle,y=r.event,C=y.x,T=y.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:v||"",customContent:function(){return`
          <div class="`.concat(Ta,'" style={').concat(p,`}>
            <div class="`).concat(Aa,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(u,`
            </div>
          </div>
        `)},x:C,y:T}),this.tooltip.show()},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var r,n=this.context.view,l=n.canvas,u={start:{x:0,y:0},end:{x:l.get("width"),y:l.get("height")}},v=new hl({parent:l.get("el").parentNode,region:u,visible:!1,containerId:xw,domStyles:(0,I.pi)({},(0,m.b$)({},(r={},r[Ta]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},r[Aa]={"word-break":"break-all","margin-bottom":"3px"},r)))});v.init(),v.setCapture(!1),this.tooltip=v},a}(Fn),ww=bw;yp("dark",Gh(rg)),Ot("canvas",Pe),Ot("svg",Te),_a("Polygon",km),_a("Interval",Un),_a("Schema",Lm),_a("Path",Ut),_a("Point",Pm),_a("Line",Xs),_a("Area",pr),_a("Edge",Ar),_a("Heatmap",Mn),_a("Violin",Rm),Os("base",Fl),Os("interval",tx),Os("pie",nx),Os("polar",Cy),_i("overlap",yx),_i("distribute",ax),_i("fixed-overlap",gx),_i("hide-overlap",Ex),_i("limit-in-shape",fx),_i("limit-in-canvas",hx),_i("limit-in-plot",Hx),_i("pie-outer",sx),_i("adjust-color",Px),_i("interval-adjust-position",Dx),_i("interval-hide-overlap",Ox),_i("point-adjust-position",Nx),_i("pie-spider",cx),_i("path-adjust-position",Ux),ui("fade-in",Gx),ui("fade-out",Xx),ui("grow-in-x",jx),ui("grow-in-xy",Kx),ui("grow-in-y",$x),ui("scale-in-x",Qx),ui("scale-in-y",t1),ui("wave-in",r1),ui("zoom-in",n1),ui("zoom-out",i1),ui("position-update",Jx),ui("sector-path-update",e1),ui("path-in",qx),$o("rect",d1),$o("mirror",f1),$o("list",l1),$o("matrix",c1),$o("circle",o1),$o("tree",g1),Mo("axis",w1),Mo("legend",A1),Mo("tooltip",Ls),Mo("annotation",x1),Mo("slider",_1),Mo("scrollbar",k1),_r("tooltip",Ky),_r("sibling-tooltip",z1),_r("ellipsis-text",U1),_r("element-active",G1),_r("element-single-active",Q1),_r("element-range-active",K1),_r("element-highlight",p0),_r("element-highlight-by-x",ib),_r("element-highlight-by-color",rb),_r("element-single-highlight",sb),_r("element-range-highlight",Qy),_r("element-sibling-highlight",Qy,{effectSiblings:!0,effectByRecord:!0}),_r("element-selected",hb),_r("element-single-selected",vb),_r("element-range-selected",ub),_r("element-link-by-color",Z1),_r("active-region",B1),_r("list-active",gb),_r("list-selected",bb),_r("list-highlight",g0),_r("list-unchecked",Sb),_r("list-checked",Mb),_r("list-focus",Ab),_r("list-radio",_b),_r("legend-item-highlight",g0,{componentNames:["legend"]}),_r("axis-label-highlight",g0,{componentNames:["axis"]}),_r("axis-description",ww),_r("rect-mask",om),_r("x-rect-mask",um,{dim:"x"}),_r("y-rect-mask",um,{dim:"y"}),_r("circle-mask",Fb),_r("path-mask",hm),_r("smooth-path-mask",Bb),_r("rect-multi-mask",vm),_r("x-rect-multi-mask",dm,{dim:"x"}),_r("y-rect-multi-mask",dm,{dim:"y"}),_r("circle-multi-mask",Ub),_r("path-multi-mask",pm),_r("smooth-path-multi-mask",Hb),_r("cursor",Xb),_r("data-filter",jb),_r("brush",sv),_r("brush-x",sv,{dims:["x"]}),_r("brush-y",sv,{dims:["y"]}),_r("sibling-filter",S0),_r("sibling-x-filter",S0,{dims:"x"}),_r("sibling-y-filter",S0,{dims:"y"}),_r("element-filter",Jb),_r("element-sibling-filter",ym),_r("element-sibling-filter-record",ym,{byRecord:!0}),_r("view-drag",ow),_r("view-move",uw),_r("scale-translate",fw),_r("scale-zoom",dw),_r("reset-button",nw,{name:"reset-button",text:"reset"}),_r("mousewheel-scroll",mw);function ko(s){return s.isInPlot()}mn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),mn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),mn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),mn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),mn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),mn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),mn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),mn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),mn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),mn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),mn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),mn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(s){return!s.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),mn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ko,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ko,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ko,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),mn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),mn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ko,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ko,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ko,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),mn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ko,action:"path-mask:start"},{trigger:"mousedown",isEnable:ko,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),mn("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:ko,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(s){return!gl(s)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),mn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),mn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(s){return!s.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),mn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),mn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),mn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),mn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),mn("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function wm(s){return s.gEvent.preventDefault(),s.gEvent.originalEvent.deltaY>0}mn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(s){return wm(s.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(s){return!wm(s.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),mn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),mn("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]})},75383:function(sr,Ue,H){"use strict";H.d(Ue,{uN:function(){return ir},sg:function(){return Ya},VT:function(){return Q0},aC:function(){return Do},x1:function(){return Vi},by:function(){return Ac}});var Pt={};H.r(Pt),H.d(Pt,{cluster:function(){return Fp},hierarchy:function(){return Yo},pack:function(){return Ta},packEnclose:function(){return nh},packSiblings:function(){return dd},partition:function(){return Ds},stratify:function(){return _a},tree:function(){return nf},treemap:function(){return of},treemapBinary:function(){return sf},treemapDice:function(){return Co},treemapResquarify:function(){return Bp},treemapSlice:function(){return ui},treemapSliceDice:function(){return es},treemapSquarify:function(){return Bu}});var St=H(26002),q=H(97582),j=H(45098),re=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],le;(function(h){h.ERROR="error",h.WARN="warn",h.INFO="log"})(le||(le={}));var jt="AntV/G2Plot";function fe(h){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var g=0;return"".concat(jt,": ").concat(h.replace(/%s/g,function(){return"".concat(f[g++])}))}function ce(h,f){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(!h){var x=new Error(fe.apply(void 0,__spreadArray([f],d,!1)));throw x.name=jt,x}}function Pe(h,f,d){for(var g=[],x=3;x<arguments.length;x++)g[x-3]=arguments[x];f||console[h](fe.apply(void 0,(0,q.ev)([d],g,!1)))}function de(h,f){var d={};return h!==null&&typeof h=="object"&&f.forEach(function(g){var x=h[g];x!==void 0&&(d[g]=x)}),d}function Te(h,f){if(!h)return{};var d=h.filter(function(w){var M=(0,j.U2)(w,[f]);return(0,j.hj)(M)&&!isNaN(M)}),g=d.every(function(w){return(0,j.U2)(w,[f])>=0}),x=d.every(function(w){return(0,j.U2)(w,[f])<=0});return g?{min:0}:x?{max:0}:{}}function I(h,f,d,g,x){if(x===void 0&&(x=[]),!Array.isArray(h))return{nodes:[],links:[]};var w=[],M={},F=-1;return h.forEach(function(k){var D=k[f],z=k[d],X=k[g],Y=de(k,x);M[D]||(M[D]=(0,q.pi)({id:++F,name:D},Y)),M[z]||(M[z]=(0,q.pi)({id:++F,name:z},Y)),w.push((0,q.pi)({source:M[D].id,target:M[z].id,value:X},Y))}),{nodes:Object.values(M).sort(function(k,D){return k.id-D.id}),links:w}}function m(h,f){var d=(0,j.hX)(h,function(g){var x=g[f];return x===null||typeof x=="number"&&!isNaN(x)});return Pe(le.WARN,d.length===h.length,"illegal data existed in chart data."),d}var Bt=5,Et={}.toString,Vt=function(h,f){return Et.call(h)==="[object "+f+"]"},Rt=function(h){return Vt(h,"Array")},Ct=function(h){return typeof h=="object"&&h!==null},lt=function(h){if(!Ct(h)||!Vt(h,"Object"))return!1;for(var f=h;Object.getPrototypeOf(f)!==null;)f=Object.getPrototypeOf(f);return Object.getPrototypeOf(h)===f},J=function(h,f,d,g){d=d||0,g=g||Bt;for(var x in f)if(Object.prototype.hasOwnProperty.call(f,x)){var w=f[x];w?lt(w)?(lt(h[x])||(h[x]={}),d<g?J(h[x],w,d+1,g):h[x]=f[x]):Rt(w)?(h[x]=[],h[x]=h[x].concat(w)):h[x]=w:h[x]=w}},Z=function(h){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];for(var g=0;g<f.length;g+=1)J(h,f[g]);return h};function wt(h){if(!h)return{width:0,height:0};var f=getComputedStyle(h);return{width:(h.clientWidth||parseInt(f.width,10))-parseInt(f.paddingLeft,10)-parseInt(f.paddingRight,10),height:(h.clientHeight||parseInt(f.height,10))-parseInt(f.paddingTop,10)-parseInt(f.paddingBottom,10)}}function ct(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return function(d){return h.reduce(function(g,x){return x(g)},d)}}function ue(h,f){return h.geometries.find(function(d){return d.type===f})}function ve(h){return(0,j.u4)(h.geometries,function(f,d){return f.concat(d.elements)},[])}function Ht(h){return(0,j.U2)(h,["views","length"],0)<=0?ve(h):(0,j.u4)(h.views,function(f,d){return f.concat(Ht(d))},ve(h))}function Qt(h){return(0,j.U2)(h,["views","length"],0)<=0?h.geometries:(0,j.u4)(h.views,function(f,d){return f.concat(d.geometries)},h.geometries)}function ge(h){if(!(0,j.P9)(h,"Object"))return h;var f=(0,q.pi)({},h);return f.formatter&&!f.content&&(f.content=f.formatter),f}var Ot;function oe(){return Ot||(Ot=document.createElement("canvas").getContext("2d")),Ot}var ie=(0,j.HP)(function(h,f){f===void 0&&(f={});var d=f.fontSize,g=f.fontFamily,x=g===void 0?"sans-serif":g,w=f.fontWeight,M=f.fontStyle,F=f.fontVariant,k=oe();k.font=[M,w,F,"".concat(d,"px"),x].join(" ");var D=k.measureText((0,j.HD)(h)?h:"");return D.width},function(h,f){return f===void 0&&(f={}),(0,q.ev)([h],(0,j.VO)(f),!0).join("")});function et(h){return typeof h=="number"&&!isNaN(h)}function vt(h,f,d){var g=Math.min(f,d),x=Math.max(f,d);return h>=g&&h<=x}function me(h){if((0,j.hj)(h))return[h,h,h,h];if((0,j.kJ)(h)){var f=h.length;if(f===1)return[h[0],h[0],h[0],h[0]];if(f===2)return[h[0],h[1],h[0],h[1]];if(f===3)return[h[0],h[1],h[2],h[1]];if(f===4)return h}return[0,0,0,0]}function Ae(h,f,d){f===void 0&&(f="bottom"),d===void 0&&(d=25);var g=me(h),x=[f.startsWith("top")?d:0,f.startsWith("right")?d:0,f.startsWith("bottom")?d:0,f.startsWith("left")?d:0];return[g[0]+x[0],g[1]+x[1],g[2]+x[2],g[3]+x[3]]}function ye(h){var f=h.map(function(g){return me(g)}),d=[0,0,0,0];return f.length>0&&(d=d.map(function(g,x){return f.forEach(function(w,M){g+=f[M][x]}),g})),d}var be=H(31437);function ut(h,f){var d=[];if(h.length){d.push(["M",h[0].x,h[0].y]);for(var g=1,x=h.length;g<x;g+=1){var w=h[g];d.push(["L",w.x,w.y])}f&&d.push(["Z"])}return d}var Tt=function(h,f,d,g){var x=[],w,M,F=!!g,k,D;if(F){k=[1/0,1/0],D=[-1/0,-1/0];for(var z=0,X=h.length;z<X;z++){var Y=h[z];k=be.VV([0,0],k,Y),D=be.Fp([0,0],D,Y)}k=be.VV([0,0],k,g[0]),D=be.Fp([0,0],D,g[1])}for(var z=0,rt=h.length;z<rt;z++){var Y=h[z];if(d)w=h[z?z-1:rt-1],M=h[(z+1)%rt];else if(z===0||z===rt-1){x.push(Y);continue}else w=h[z-1],M=h[z+1];var bt=[0,0];bt=be.lu(bt,M,w),bt=be.bA(bt,bt,f);var _t=be.TE(Y,w),Ut=be.TE(Y,M),Dt=_t+Ut;Dt!==0&&(_t/=Dt,Ut/=Dt);var Se=be.bA([0,0],bt,-_t),ze=be.bA([0,0],bt,Ut),De=be.IH([0,0],Y,Se),Re=be.IH([0,0],Y,ze);F&&(De=be.Fp([0,0],De,k),De=be.VV([0,0],De,D),Re=be.Fp([0,0],Re,k),Re=be.VV([0,0],Re,D)),x.push(De),x.push(Re)}return d&&x.push(x.shift()),x};function It(h,f,d){for(var g=!!f,x=[],w=0,M=h.length;w<M;w+=2)x.push([h[w],h[w+1]]);for(var F=Tt(x,.4,g,d),k=x.length,D=[],z,X,Y,w=0;w<k-1;w++)z=F[w*2],X=F[w*2+1],Y=x[w+1],D.push(["C",z[0],z[1],X[0],X[1],Y[0],Y[1]]);return g&&(z=F[k],X=F[k+1],Y=x[0],D.push(["C",z[0],z[1],X[0],X[1],Y[0],Y[1]])),D}function ft(h,f,d){var g=[],x=h[0],w=null;if(h.length<=2)return ut(h,f);for(var M=0,F=h.length;M<F;M++){var k=h[M];(!w||!(w.x===k.x&&w.y===k.y))&&(g.push(k.x),g.push(k.y),w=k)}var D=d||[[0,0],[1,1]],z=It(g,f,D);return z.unshift(["M",x.x,x.y]),z}function Jt(h){if(!h)return h;var f=h.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return f.map(function(d){return d.toLowerCase()}).join("-")}function ee(h){var f={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},d=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,j.U2)(h,"fill")&&(f.color=h.fill);var g=de(h,d),x=g.shadowColor,w=g.shadowBlur,M=w===void 0?0:w,F=g.shadowOffsetX,k=F===void 0?0:F,D=g.shadowOffsetY,z=D===void 0?0:D;f["text-shadow"]="".concat([x,"".concat(k,"px"),"".concat(z,"px"),"".concat(M,"px")].join(" "));var X=de(h,d),Y=X.stroke,rt=X.lineWidth,bt=rt===void 0?0:rt;return f["-webkit-text-stroke"]="".concat(["".concat(bt,"px"),Y].join(" ")),(0,j.S6)(h,function(_t,Ut){["fontSize"].includes(Ut)&&(0,j.hj)(_t)?f[Jt(Ut)]="".concat(_t,"px"):Ut&&!d.includes(Ut)&&(f[Jt(Ut)]="".concat(_t))}),f}function at(h,f){h.style["pointer-events"]="none",(0,j.S6)(f,function(d,g){g&&d&&(h.style[g]=d)})}var K=function(h,f,d){var g=f.statistic,x=f.plotType,w=g.title,M=g.content;[w,M].forEach(function(F,k){if(F){var D="";k===0?D=M?"translate(-50%, -100%)":"translate(-50%, -50%)":D=w?"translate(-50%, 0)":"translate(-50%, -50%)";var z=(0,j.mf)(F.style)?F.style(d):F.style;h.annotation().html((0,q.pi)({position:["50%","50%"],html:function(X,Y){var rt=Y.getCoordinate(),bt=0;if(x==="pie"||x==="ring-progress")bt=rt.getRadius()*rt.innerRadius*2;else if(x==="liquid"){var _t=(0,j.U2)(Y.geometries,[0,"elements",0,"shape"]);if(_t){var Ut=_t.find(function(De){return De.get("name")==="wrap"}),Dt=Ut.getCanvasBBox().width;bt=Dt}}else bt||(bt=rt.getWidth());at(X,(0,q.pi)({width:"".concat(bt,"px"),transform:D},ee(z)));var Se=Y.getData();if(F.customHtml)return F.customHtml(X,Y,d,Se);var ze=F.content;return F.formatter&&(ze=F.formatter(d,Se)),ze?(0,j.HD)(ze)?ze:"".concat(ze):"<div></div>"},key:"".concat(k===0?"top":"bottom","-statistic")},de(F,["offsetX","offsetY","rotate","style","formatter"])))}})},W=function(h,f,d){var g=f.statistic,x=g.title,w=g.content;[x,w].forEach(function(M){if(M){var F=(0,j.mf)(M.style)?M.style(d):M.style;h.annotation().html((0,q.pi)({position:["50%","100%"],html:function(k,D){var z=D.getCoordinate(),X=D.views[0].getCoordinate(),Y=X.getCenter(),rt=X.getRadius(),bt=Math.max(Math.sin(X.startAngle),Math.sin(X.endAngle))*rt,_t=Y.y+bt-z.y.start-parseFloat((0,j.U2)(F,"fontSize",0)),Ut=z.getRadius()*z.innerRadius*2;at(k,(0,q.pi)({width:"".concat(Ut,"px"),transform:"translate(-50%, ".concat(_t,"px)")},ee(F)));var Dt=D.getData();if(M.customHtml)return M.customHtml(k,D,d,Dt);var Se=M.content;return M.formatter&&(Se=M.formatter(d,Dt)),Se?(0,j.HD)(Se)?Se:"".concat(Se):"<div></div>"}},de(M,["offsetX","offsetY","rotate","style","formatter"])))}})};function it(h,f){return f?(0,j.u4)(f,function(d,g,x){return d.replace(new RegExp("{\\s*".concat(x,"\\s*}"),"g"),g)},h):h}function tt(h,f){return h.views.find(function(d){return d.id===f})}function yt(h){var f=h.parent;return f?f.views:[]}function gt(h){return yt(h).filter(function(f){return f!==h})}function Wt(h,f,d){d===void 0&&(d=h.geometries),typeof f=="boolean"?h.animate(f):h.animate(!0),(0,j.S6)(d,function(g){var x;(0,j.mf)(f)?x=f(g.type||g.shapeType,g)||!0:x=f,g.animate(x)})}function Kt(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function Ce(h,f){f===void 0&&(f=h);var d=document.createElement("canvas"),g=Kt();d.width=h*g,d.height=f*g,d.style.width="".concat(h,"px"),d.style.height="".concat(f,"px");var x=d.getContext("2d");return x.scale(g,g),d}function He(h,f,d,g){g===void 0&&(g=d);var x=f.backgroundColor,w=f.opacity;h.globalAlpha=w,h.fillStyle=x,h.beginPath(),h.fillRect(0,0,d,g),h.closePath()}function We(h,f,d){var g=h+f;return d?g*2:g}function Je(h,f){var d=f?[[h*.25,h*.25],[h*.75,h*.75]]:[[h*.5,h*.5]];return d}function ke(h,f){var d=f*Math.PI/180,g={a:Math.cos(d)*(1/h),b:Math.sin(d)*(1/h),c:-Math.sin(d)*(1/h),d:Math.cos(d)*(1/h),e:0,f:0};return g}var Fe={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function At(h,f,d,g){var x=f.size,w=f.fill,M=f.lineWidth,F=f.stroke,k=f.fillOpacity;h.beginPath(),h.globalAlpha=k,h.fillStyle=w,h.strokeStyle=F,h.lineWidth=M,h.arc(d,g,x/2,0,2*Math.PI,!1),h.fill(),M&&h.stroke(),h.closePath()}function Xt(h){var f=Z({},Fe,h),d=f.size,g=f.padding,x=f.isStagger,w=f.rotation,M=We(d,g,x),F=Je(M,x),k=Ce(M,M),D=k.getContext("2d");He(D,f,M);for(var z=0,X=F;z<X.length;z++){var Y=X[z],rt=Y[0],bt=Y[1];At(D,f,rt,bt)}var _t=D.createPattern(k,"repeat");if(_t){var Ut=Kt(),Dt=ke(Ut,w);_t.setTransform(Dt)}return _t}var $t={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function pe(h,f,d){var g=f.stroke,x=f.lineWidth,w=f.strokeOpacity,M=new Path2D(d);h.globalAlpha=w,h.lineCap="square",h.strokeStyle=x?g:"transparent",h.lineWidth=x,h.stroke(M)}function _e(h){var f=Z({},$t,h),d=f.spacing,g=f.rotation,x=f.lineWidth,w=d+x||1,M=d+x||1,F=`
            M 0 0 L `.concat(w,` 0
            M 0 `).concat(M," L ").concat(w," ").concat(M,`
            `),k=Ce(w,M),D=k.getContext("2d");He(D,f,w,M),pe(D,f,F);var z=D.createPattern(k,"repeat");if(z){var X=Kt(),Y=ke(X,g);z.setTransform(Y)}return z}var Ve={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function Be(h,f,d,g){var x=f.stroke,w=f.size,M=f.fill,F=f.lineWidth,k=f.fillOpacity;h.globalAlpha=k,h.strokeStyle=x,h.lineWidth=F,h.fillStyle=M,h.strokeRect(d-w/2,g-w/2,w,w),h.fillRect(d-w/2,g-w/2,w,w)}function Le(h){var f=Z({},Ve,h),d=f.size,g=f.padding,x=f.isStagger,w=f.rotation,M=We(d,g,x),F=Je(M,x),k=Ce(M,M),D=k.getContext("2d");He(D,f,M);for(var z=0,X=F;z<X.length;z++){var Y=X[z],rt=Y[0],bt=Y[1];Be(D,f,rt,bt)}var _t=D.createPattern(k,"repeat");if(_t){var Ut=Kt(),Dt=ke(Ut,w);_t.setTransform(Dt)}return _t}function Ie(h){var f=h.type,d=h.cfg,g;switch(f){case"dot":g=Xt(d);break;case"line":g=_e(d);break;case"square":g=Le(d);break;default:break}return g}function $e(h){var f=this;return function(d){var g,x=d.options,w=d.chart,M=x.pattern;if(!M)return d;var F=function(k){for(var D,z,X,Y=[],rt=1;rt<arguments.length;rt++)Y[rt-1]=arguments[rt];var bt=w.getTheme().defaultColor,_t=bt,Ut=(z=(D=w.geometries)===null||D===void 0?void 0:D[0])===null||z===void 0?void 0:z.getAttribute("color");if(Ut){var Dt=Ut.getFields()[0],Se=(0,j.U2)(k,Dt);_t=St.Zr.getMappingValue(Ut,Se,((X=Ut.values)===null||X===void 0?void 0:X[0])||bt)}var ze=M;typeof M=="function"&&(ze=M.call(f,k,_t)),ze instanceof CanvasPattern||(ze=Ie(Z({},{cfg:{backgroundColor:_t}},ze)));var De=x[h];return(0,q.pi)((0,q.pi)({},typeof De=="function"?De.call.apply(De,(0,q.ev)([f,k],Y,!1)):De||{}),{fill:ze||_t})};return Z({},d,{options:(g={},g[h]=F,g)})}}function Ze(h){var f=h.chart,d=h.options,g=d.legend,x=d.colorField,w=d.seriesField;return g===!1?f.legend(!1):(x||w)&&f.legend(x||w,g),h}function er(h){var f=h.chart,d=h.options,g=d.tooltip;return g!==void 0&&f.tooltip(g),h}function or(h){var f=h.chart,d=h.options,g=d.interactions;return(0,j.S6)(g,function(x){x.enable===!1?f.removeInteraction(x.type):f.interaction(x.type,x.cfg||{})}),h}function je(h){var f=h.chart,d=h.options,g=d.animation;return Wt(f,g),h}function qe(h){var f=h.chart,d=h.options,g=d.theme;return g&&f.theme(g),h}function hr(h){var f=h.chart,d=h.options,g=d.state;return g&&(0,j.S6)(f.geometries,function(x){x.state(g)}),h}function dr(h){var f=h.chart,d=h.options,g=d.slider;return f.option("slider",g),h}function ur(h){var f=h.chart,d=h.options,g=d.scrollbar;return f.option("scrollbar",g),h}function fr(h,f){return function(d){var g=d.chart,x=d.options,w={};return(0,j.S6)(h,function(M,F){w[F]=de(M,re)}),w=Z({},f,x.meta,w),g.scale(w),d}}function cr(h){return function(f){var d=f.chart,g=f.options,x=d.getController("annotation");return(0,j.S6)((0,q.ev)((0,q.ev)([],g.annotations||[],!0),h||[],!0),function(w){x.annotation(w)}),f}}function gr(h){var f=h.chart,d=h.options,g=d.yAxis,x=d.limitInPlot,w=x;return(0,j.Kn)(g)&&(0,j.UM)(x)&&(Object.values(de(g,["min","max","minLimit","maxLimit"])).some(function(M){return!(0,j.UM)(M)})?w=!0:w=!1),f.limitInPlot=w,h}function Tr(h){return h===void 0&&(h="rect"),function(f){var d=f.chart,g=f.options,x=g.coordinate,w=Array.from(x||[]).map(function(M){return M.type==="reflectX"?["reflect","x"]:M.type==="reflectY"?["reflect","y"]:M.type==="transpose"?["transpose"]:null}).filter(function(M){return!!M});return w.length!==0&&d.coordinate({type:h,actions:w}),f}}var Or={locale:"en-US"};function Nr(h){each(h,function(f,d){return Or[d]=f})}var cn={};function On(h,f){cn[h]=f}function Cn(h){return{get:function(f,d){return it((0,j.U2)(cn[h],f)||(0,j.U2)(cn[Or.locale],f)||(0,j.U2)(cn["en-US"],f)||f,d)}}}var Tn={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},Wn={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}};function Sn(h,f){if(h===!1)return{fields:!1};var d=(0,j.U2)(h,"fields"),g=(0,j.U2)(h,"formatter");return g&&!d&&(d=f),{fields:d,formatter:g}}function dn(h,f){var d=h.type,g=h.xField,x=h.yField,w=h.colorField,M=h.shapeField,F=h.sizeField,k=h.styleField,D=h.rawFields,z=[];if(D=((0,j.mf)(D)?D(d,f):D)||[],f==="color")z=(0,q.ev)([w||g],D,!0);else if(f==="shape")z=(0,q.ev)([M||g],D,!0);else if(f==="size")z=(0,q.ev)([F||g],D,!0);else{z=(0,q.ev)([g,x,w,M,F,k],D,!0);var X=["x","y","color","shape","size","style"].indexOf(f),Y=z[X];z.splice(X,1),z.unshift(Y)}var rt=(0,j.jj)(z.filter(function(_t){return!!_t})),bt=d==="line"&&[g,x].includes(rt.join("*"))?"":rt.join("*");return{mappingFields:rt,tileMappingField:bt}}function pn(h,f){if(f)return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];var x={};return h.forEach(function(w,M){x[w]=d[M]}),delete x.undefined,f(x)}}function Xr(h){var f=h.chart,d=h.options,g=d.type,x=d.args,w=d.mapping,M=d.xField,F=d.yField,k=d.colorField,D=d.shapeField,z=d.sizeField,X=d.tooltipFields,Y=d.label,rt=d.state,bt=d.customInfo;if(!w)return h;var _t=w.color,Ut=w.shape,Dt=w.size,Se=w.style,ze=w.tooltip,De=f[g](x).position("".concat(M,"*").concat(F));if((0,j.HD)(_t))k?De.color(k,_t):De.color(_t);else if((0,j.mf)(_t)){var Re=dn(d,"color"),ar=Re.mappingFields,pr=Re.tileMappingField;De.color(pr,pn(ar,_t))}else k&&De.color(k,_t);if((0,j.HD)(Ut))D?De.shape(D,[Ut]):De.shape(Ut);else if((0,j.mf)(Ut)){var Cr=dn(d,"shape"),ar=Cr.mappingFields,pr=Cr.tileMappingField;De.shape(pr,pn(ar,Ut))}else D&&De.shape(D,Ut);if((0,j.hj)(Dt))z?De.size(z,Dt):De.size(Dt);else if((0,j.mf)(Dt)){var Gr=dn(d,"size"),ar=Gr.mappingFields,pr=Gr.tileMappingField;De.size(pr,pn(ar,Dt))}else z&&De.size(z,Dt);if((0,j.mf)(Se)){var Fr=dn(d,"style"),ar=Fr.mappingFields,pr=Fr.tileMappingField;De.style(pr,pn(ar,Se))}else(0,j.Kn)(Se)&&De.style(Se);if(X===!1?De.tooltip(!1):(0,j.xb)(X)||De.tooltip(X.join("*"),pn(X,ze)),Y===!1)De.label(!1);else if(Y){var Ar=Y.callback,en=Y.fields,Mn=(0,q._T)(Y,["callback","fields"]);De.label({fields:en||[F],callback:Ar,cfg:ge(Mn)})}return rt&&De.state(rt),bt&&De.customInfo(bt),[M,F].filter(function(yn){return yn!==k}).forEach(function(yn){f.legend(yn,!1)}),(0,q.pi)((0,q.pi)({},h),{ext:{geometry:De}})}function hn(h){var f=h.options,d=f.area,g=f.xField,x=f.yField,w=f.seriesField,M=f.smooth,F=f.tooltip,k=f.useDeferredLabel,D=Sn(F,[g,x,w]),z=D.fields,X=D.formatter;return d?Xr(Z({},h,{options:{type:"area",colorField:w,tooltipFields:z,mapping:(0,j.b$)({shape:M?"smooth":"area",tooltip:X},d),args:{useDeferredLabel:k}}})):h}function ri(h){var f=h.options,d=f.edge,g=f.xField,x=f.yField,w=f.seriesField,M=f.tooltip,F=f.useDeferredLabel,k=Sn(M,[g,x,w]),D=k.fields,z=k.formatter;return d?Xr(Z({},h,{options:{type:"edge",colorField:w,tooltipFields:D,mapping:(0,q.pi)({tooltip:z},d),args:{useDeferredLabel:F}}})):h}function Ii(h){var f=h.chart,d=h.options,g=h.ext,x=d.seriesField,w=d.isGroup,M=d.isStack,F=d.marginRatio,k=d.widthRatio,D=d.groupField,z=d.theme,X=[];if(x&&(w&&X.push({type:"dodge",dodgeBy:D||x,marginRatio:F}),M&&X.push({type:"stack",marginRatio:F})),X.length&&(g!=null&&g.geometry)){var Y=g==null?void 0:g.geometry;Y.adjust(X)}return(0,j.UM)(k)||f.theme(Z({},(0,j.Kn)(z)?z:(0,St.gh)(z),{columnWidthRatio:k})),h}function Yr(h){var f=h.options,d=f.xField,g=f.yField,x=f.interval,w=f.seriesField,M=f.tooltip,F=f.minColumnWidth,k=f.maxColumnWidth,D=f.columnBackground,z=f.dodgePadding,X=f.intervalPadding,Y=f.useDeferredLabel,rt=Sn(M,[d,g,w]),bt=rt.fields,_t=rt.formatter,Ut=(x?Xr(Z({},h,{options:{type:"interval",colorField:w,tooltipFields:bt,mapping:(0,q.pi)({tooltip:_t},x),args:{dodgePadding:z,intervalPadding:X,minColumnWidth:F,maxColumnWidth:k,background:D,useDeferredLabel:Y}}})):h).ext;return Ii((0,q.pi)((0,q.pi)({},h),{ext:Ut}))}function $n(h){var f=h.options,d=f.line,g=f.stepType,x=f.xField,w=f.yField,M=f.seriesField,F=f.smooth,k=f.connectNulls,D=f.tooltip,z=f.useDeferredLabel,X=Sn(D,[x,w,M]),Y=X.fields,rt=X.formatter;return d?Xr(Z({},h,{options:{type:"line",colorField:M,tooltipFields:Y,mapping:(0,j.b$)({shape:g||(F?"smooth":"line"),tooltip:rt},d),args:{connectNulls:k,useDeferredLabel:z}}})):h}function jr(h){var f=h.options,d=f.point,g=f.xField,x=f.yField,w=f.seriesField,M=f.sizeField,F=f.shapeField,k=f.tooltip,D=f.useDeferredLabel,z=Sn(k,[g,x,w,M,F]),X=z.fields,Y=z.formatter;return d?Xr(Z({},h,{options:{type:"point",colorField:w,shapeField:F,tooltipFields:X,mapping:(0,q.pi)({tooltip:Y},d),args:{useDeferredLabel:D}}})):h}function gi(h){var f=h.options,d=f.polygon,g=f.xField,x=f.yField,w=f.seriesField,M=f.tooltip,F=f.useDeferredLabel,k=Sn(M,[g,x,w]),D=k.fields,z=k.formatter;return d?Xr(Z({},h,{options:{type:"polygon",colorField:w,tooltipFields:D,mapping:(0,q.pi)({tooltip:z},d),args:{useDeferredLabel:F}}})):h}function Fi(h){var f=h.options,d=f.schema,g=f.xField,x=f.yField,w=f.seriesField,M=f.tooltip,F=f.useDeferredLabel,k=Sn(M,[g,x,w]),D=k.fields,z=k.formatter;return d?Xr(Z({},h,{options:{type:"schema",colorField:w,tooltipFields:D,mapping:(0,q.pi)({tooltip:z},d),args:{useDeferredLabel:F}}})):h}function da(h){var f=h.options,d=f.violin,g=f.xField,x=f.yField,w=f.seriesField,M=f.sizeField,F=f.tooltip,k=Sn(F,[g,x,w,M]),D=k.fields,z=k.formatter;return d?Xr(Z({},h,{options:{type:"violin",colorField:w,tooltipFields:D,mapping:(0,q.pi)({tooltip:z},d)}})):h}var Xi=H(90494),ea=H(18587),ra="data-chart-source-type",Zi=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],wr=function(h){(0,q.ZT)(f,h);function f(d,g){var x=h.call(this)||this;return x.container=typeof d=="string"?document.getElementById(d):d,x.options=Z({},x.getDefaultOptions(),g),x.createG2(),x.bindEvents(),x}return f.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},f.prototype.createG2=function(){var d=this.options,g=d.width,x=d.height,w=d.defaultInteractions;this.chart=new St.kL((0,q.pi)((0,q.pi)((0,q.pi)((0,q.pi)({container:this.container,autoFit:!1},this.getChartSize(g,x)),{localRefresh:!1}),de(this.options,Zi)),{defaultInteractions:w})),this.container.setAttribute(ra,"G2Plot")},f.prototype.getChartSize=function(d,g){var x=wt(this.container);return{width:d||x.width||400,height:g||x.height||400}},f.prototype.bindEvents=function(){var d=this;this.chart&&this.chart.on("*",function(g){g!=null&&g.type&&d.emit(g.type,g)})},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},f.prototype.update=function(d){this.updateOption(d),this.render()},f.prototype.updateOption=function(d){this.options=Z({},this.options,d)},f.prototype.setState=function(d,g,x){x===void 0&&(x=!0);var w=Ht(this.chart);(0,j.S6)(w,function(M){g(M.getData())&&M.setState(d,x)})},f.prototype.getStates=function(){var d=Ht(this.chart),g=[];return(0,j.S6)(d,function(x){var w=x.getData(),M=x.getStates();(0,j.S6)(M,function(F){g.push({data:w,state:F,geometry:x.geometry,element:x})})}),g},f.prototype.changeData=function(d){this.update({data:d})},f.prototype.changeSize=function(d,g){this.chart.changeSize(d,g)},f.prototype.addAnnotations=function(d,g){g=g||this.chart;var x=(0,q.ev)([],d,!0),w=g.getController("annotation"),M=w.getComponents().map(function(D){return D.extra});w.clear(!0);for(var F=function(D){var z=M[D],X=x.findIndex(function(Y){return Y.id&&Y.id===z.id});X!==-1&&(z=Z({},z,x[X]),x.splice(X,1)),w.annotation(z)},k=0;k<M.length;k++)F(k);x.forEach(function(D){return w.annotation(D)}),g.render(!0)},f.prototype.removeAnnotations=function(d){var g=this.chart.getController("annotation"),x=g.getComponents().map(function(F){return F.extra});g.clear(!0);for(var w=function(F){var k=x[F];d.find(function(D){return D.id&&D.id===k.id})||g.annotation(k)},M=0;M<x.length;M++)w(M);this.chart.render(!0)},f.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(ra)},f.prototype.execAdaptor=function(){var d=this.getSchemaAdaptor(),g=this.options,x=g.padding,w=g.appendPadding;this.chart.padding=x,this.chart.appendPadding=w,d({chart:this.chart,options:this.options})},f.prototype.triggerResize=function(){this.chart.forceFit()},f.prototype.bindSizeSensor=function(){var d=this;if(!this.unbind){var g=this.options.autoFit,x=g===void 0?!0:g;x&&(this.unbind=(0,ea.ak)(this.container,function(){var w=wt(d.container),M=w.width,F=w.height;(M!==d.chart.width||F!==d.chart.height)&&d.triggerResize()}))}},f.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},f}(Xi.Z);function ni(h,f,d,g){var x=(0,j.u4)(h,function(w,M){var F=M[d],k=w.has(F)?w.get(F):0,D=M[f];return k=et(D)?k+D:k,w.set(F,k),w},new Map);return(0,j.UI)(h,function(w){var M,F=w[f],k=w[d],D=et(F)&&x.get(k)!==0?F/x.get(k):0;return(0,q.pi)((0,q.pi)({},w),(M={},M[g]=D,M))})}function yi(h,f,d,g){var x=(0,j.u4)(h,function(w,M){var F=(0,j.u4)(d,function(z,X){return"".concat(z).concat(M[X])},""),k=w.has(F)?w.get(F):0,D=M[f];return k=et(D)?k+D:k,w.set(F,k),w},new Map);return(0,j.UI)(h,function(w){var M,F=w[f],k=(0,j.u4)(d,function(z,X){return"".concat(z).concat(w[X])},""),D=et(F)&&x.get(k)!==0?F/x.get(k):0;return(0,q.pi)((0,q.pi)({},w),(M={},M[g]=D,M))})}function mi(h,f,d,g,x){return x?ni(h,f,d,g):h}function xi(h){var f=h.chart,d=h.options,g=d.data,x=d.color,w=d.lineStyle,M=d.lineShape,F=d.point,k=d.area,D=d.seriesField,z=F==null?void 0:F.state,X=k==null?void 0:k.state;f.data(g);var Y=Z({},h,{options:{shapeField:D,line:{color:x,style:w,shape:M},point:F&&(0,q.pi)({color:x,shape:"circle"},F),area:k&&(0,q.pi)({color:x},k),label:void 0}}),rt=Z({},Y,{options:{tooltip:!1,state:z}}),bt=Z({},Y,{options:{tooltip:!1,state:X}});return $n(Y),jr(rt),hn(bt),h}function bi(h){var f,d,g=h.options,x=g.xAxis,w=g.yAxis,M=g.xField,F=g.yField,k=g.data;return ct(fr((f={},f[M]=x,f[F]=w,f),(d={},d[M]={type:"cat"},d[F]=Te(k,F),d)))(h)}function Gn(h){var f=h.chart,d=h.options,g=d.reflect;if(g){var x=g;(0,j.kJ)(x)||(x=[x]);var w=x.map(function(M){return["reflect",M]});f.coordinate({type:"rect",actions:w})}return h}function Bn(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?f.axis(M,!1):f.axis(M,x),h}function Fa(h){var f=h.chart,d=h.options,g=d.legend,x=d.seriesField;return g&&x?f.legend(x,g):g===!1&&f.legend(!1),h}function ki(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=ue(f,"line");if(!g)w.label(!1);else{var M=g.callback,F=(0,q._T)(g,["callback"]);w.label({fields:[x],callback:M,cfg:(0,q.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ge(F))})}return h}function qt(h){var f=h.chart,d=h.options,g=d.isStack;return g&&(0,j.S6)(f.geometries,function(x){x.adjust("stack")}),h}function mt(h){return ct(xi,bi,qt,qe,Gn,Bn,Fa,er,ki,dr,ur,or,je,cr(),gr)(h)}function Zt(h){var f=h.chart,d=h.options,g=d.data,x=d.areaStyle,w=d.areaShape,M=d.color,F=d.point,k=d.line,D=d.isPercent,z=d.xField,X=d.yField,Y=d.tooltip,rt=d.seriesField,bt=d.startOnZero,_t=F==null?void 0:F.state,Ut=mi(g,X,z,X,D);f.data(Ut);var Dt=D?(0,q.pi)({formatter:function(Re){return{name:Re[rt]||Re[z],value:(Number(Re[X])*100).toFixed(2)+"%"}}},Y):Y,Se=Z({},h,{options:{area:{color:M,style:x,shape:w},point:F&&(0,q.pi)({color:M},F),tooltip:Dt,label:void 0,args:{startOnZero:bt}}}),ze={chart:f,options:Z({line:{size:2}},(0,j.CE)(d,["state"]),{line:k&&(0,q.pi)({color:M},k),sizeField:rt,state:k==null?void 0:k.state,tooltip:!1,label:void 0,args:{startOnZero:bt}})},De=Z({},Se,{options:{tooltip:!1,state:_t}});return hn(Se),$n(ze),jr(De),h}function xe(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=ue(f,"area");if(!g)w.label(!1);else{var M=g.callback,F=(0,q._T)(g,["callback"]);w.label({fields:[x],callback:M,cfg:(0,q.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ge(F))})}return h}function Oe(h){var f=h.chart,d=h.options,g=d.isStack,x=d.isPercent,w=d.seriesField;return(x||g)&&w&&(0,j.S6)(f.geometries,function(M){M.adjust("stack")}),h}function tr(h){return ct(qe,$e("areaStyle"),Tr("rect"),Zt,bi,Oe,Bn,Fa,er,xe,dr,cr(),or,je,gr)(h)}var lr=Z({},wr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),ir=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="area",d}return f.getDefaultOptions=function(){return lr},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this.options,x=g.isPercent,w=g.xField,M=g.yField,F=this,k=F.chart,D=F.options;bi({chart:k,options:D}),this.chart.changeData(mi(d,M,w,M,x))},f.prototype.getSchemaAdaptor=function(){return tr},f}(wr),Er=10,nn=5,An={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},on=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.buttonGroup=null,d.buttonCfg=(0,q.pi)({name:"button"},An),d}return f.prototype.getButtonCfg=function(){var d=this.context.view,g=(0,j.U2)(d,["interactions","filter-action","cfg","buttonConfig"]);return Z(this.buttonCfg,g,this.cfg)},f.prototype.drawButton=function(){var d=this.getButtonCfg(),g=this.context.view.foregroundGroup.addGroup({name:d.name}),x=this.drawText(g);this.drawBackground(g,x.getBBox()),this.buttonGroup=g},f.prototype.drawText=function(d){var g,x=this.getButtonCfg();return d.addShape({type:"text",name:"button-text",attrs:(0,q.pi)({text:x.text},(g=x.textStyle)===null||g===void 0?void 0:g.default)})},f.prototype.drawBackground=function(d,g){var x,w=this.getButtonCfg(),M=me(w.padding),F=d.addShape({type:"rect",name:"button-rect",attrs:(0,q.pi)({x:g.x-M[3],y:g.y-M[0],width:g.width+M[1]+M[3],height:g.height+M[0]+M[2]},(x=w.buttonStyle)===null||x===void 0?void 0:x.default)});return F.toBack(),d.on("mouseenter",function(){var k;F.attr((k=w.buttonStyle)===null||k===void 0?void 0:k.active)}),d.on("mouseleave",function(){var k;F.attr((k=w.buttonStyle)===null||k===void 0?void 0:k.default)}),F},f.prototype.resetPosition=function(){var d=this.context.view,g=d.getCoordinate(),x=g.convert({x:1,y:1}),w=this.buttonGroup,M=w.getBBox(),F=St.Zr.transform(null,[["t",x.x-M.width-Er,x.y+M.height+nn]]);w.setMatrix(F)},f.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},f.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},f.prototype.destroy=function(){var d=this.buttonGroup;d&&d.remove(),h.prototype.destroy.call(this)},f}(St.aU);(0,St.zl)("brush-reset-button",on,{name:"brush-reset-button"}),(0,St.w_)("filter-action",{});function fn(h){return h.isInPlot()}function an(h,f,d){var g=d||{},x=g.mask,w=g.isStartEnable,M=f||"rect";switch(h){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:w||fn,action:["brush:start","".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[null,{maskStyle:x==null?void 0:x.style}]}],processing:[{trigger:"mousemove",isEnable:fn,action:["".concat(M,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:fn,action:["brush:filter","brush:end","".concat(M,"-mask:end"),"".concat(M,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(F){return w?!w(F):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:w||function(F){return!F.isInShape("mask")},action:["".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[{maskStyle:x==null?void 0:x.style}]},{trigger:"mask:dragstart",action:["".concat(M,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(M,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(M,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(M,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(M,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(F){return!F.isInPlot()},action:["element-range-highlight:clear","".concat(M,"-mask:end"),"".concat(M,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(M,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:w||fn,action:["brush-x:start","".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[null,{maskStyle:x==null?void 0:x.style}]}],processing:[{trigger:"mousemove",isEnable:fn,action:["".concat(M,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:fn,action:["brush-x:filter","brush-x:end","".concat(M,"-mask:end"),"".concat(M,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:w||function(F){return!F.isInShape("mask")},action:["".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[{maskStyle:x==null?void 0:x.style}]},{trigger:"mask:dragstart",action:["".concat(M,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(M,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(M,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(M,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(M,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(F){return!F.isInPlot()},action:["element-range-highlight:clear","".concat(M,"-mask:end"),"".concat(M,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(M,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:w||fn,action:["brush-y:start","".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[null,{maskStyle:x==null?void 0:x.style}]}],processing:[{trigger:"mousemove",isEnable:fn,action:["".concat(M,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:fn,action:["brush-y:filter","brush-y:end","".concat(M,"-mask:end"),"".concat(M,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:w||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:w||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:w||function(F){return!F.isInShape("mask")},action:["".concat(M,"-mask:start"),"".concat(M,"-mask:show")],arg:[{maskStyle:x==null?void 0:x.style}]},{trigger:"mask:dragstart",action:["".concat(M,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(M,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(M,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(M,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(M,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(F){return!F.isInPlot()},action:["element-range-highlight:clear","".concat(M,"-mask:end"),"".concat(M,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(M,"-mask:hide")]}]};default:return{}}}(0,St.w_)("brush",an("brush")),(0,St.w_)("brush-highlight",an("brush-highlight")),(0,St.w_)("brush-x",an("brush-x","x-rect")),(0,St.w_)("brush-y",an("brush-y","y-rect")),(0,St.w_)("brush-x-highlight",an("brush-x-highlight","x-rect")),(0,St.w_)("brush-y-highlight",an("brush-y-highlight","y-rect"));var Dn=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function wi(h){var f=h.options,d=f.brush,g=(0,j.hX)(f.interactions||[],function(x){return Dn.indexOf(x.type)===-1});return d!=null&&d.enabled&&(Dn.forEach(function(x){var w=!1;switch(d.type){case"x-rect":w=x===(d.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":w=x===(d.action==="highlight"?"brush-y-highlight":"brush-y");break;default:w=x===(d.action==="highlight"?"brush-highlight":"brush");break}var M={type:x,enable:w};d&&(M.cfg=an(x,d.type,d)),g.push(M)}),(d==null?void 0:d.action)!=="highlight"&&g.push({type:"filter-action",cfg:{buttonConfig:d.button}})),Z({},h,{options:{interactions:g}})}var Xn={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},ka=function(h,f){return h==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:f}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:f}]}]};(0,St.w_)(Xn.hover,{start:ka(Xn.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),(0,St.w_)(Xn.click,{start:ka(Xn.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function Da(h){return h===void 0&&(h=!1),function(f){var d=f.chart,g=f.options,x=g.connectedArea,w=function(){d.removeInteraction(Xn.hover),d.removeInteraction(Xn.click)};if(!h&&x){var M=x.trigger||"hover";w(),d.interaction(Xn[M],{start:ka(M,x.style)})}else w();return f}}function pa(h,f){return!(0,j.hj)(h)||!(0,j.hj)(f)||h===0&&f===0?"-":h===f?"100%":h===0?"\u221E":"".concat((100*f/h).toFixed(2),"%")}function za(h,f){return Z({size:f?32:80,spacing:f?8:12,offset:f?32:0,arrow:h.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:h.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:pa}},h)}function Di(h,f){return(0,j.UI)(f.getModel().points,function(d){return h.convertPoint(d)})}function ga(h,f,d){var g=h.view,x=h.geometry,w=h.group,M=h.options,F=h.horizontal,k=M.offset,D=M.size,z=M.arrow,X=g.getCoordinate(),Y=Di(X,f)[3],rt=Di(X,d)[0],bt=rt.y-Y.y,_t=rt.x-Y.x;if(typeof z!="boolean"){var Ut=z.headSize,Dt=M.spacing,Se;F?(_t-Ut)/2<Dt?(Dt=Math.max(1,(_t-Ut)/2),Se=[[Y.x+Dt,Y.y-k],[Y.x+Dt,Y.y-k-D],[rt.x-Dt,rt.y-k-D/2]]):Se=[[Y.x+Dt,Y.y-k],[Y.x+Dt,Y.y-k-D],[rt.x-Dt-Ut,rt.y-k-D],[rt.x-Dt,rt.y-k-D/2],[rt.x-Dt-Ut,rt.y-k]]:(bt-Ut)/2<Dt?(Dt=Math.max(1,(bt-Ut)/2),Se=[[Y.x+k,Y.y+Dt],[Y.x+k+D,Y.y+Dt],[rt.x+k+D/2,rt.y-Dt]]):Se=[[Y.x+k,Y.y+Dt],[Y.x+k+D,Y.y+Dt],[rt.x+k+D,rt.y-Dt-Ut],[rt.x+k+D/2,rt.y-Dt],[rt.x+k,rt.y-Dt-Ut]],w.addShape("polygon",{id:"".concat(g.id,"-conversion-tag-arrow-").concat(x.getElementId(f.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:f,nextElement:d},attrs:(0,q.pi)((0,q.pi)({},z.style||{}),{points:Se})})}}function Va(h,f,d){var g,x,w,M=h.view,F=h.geometry,k=h.group,D=h.options,z=h.field,X=h.horizontal,Y=D.offset,rt=D.size;if(typeof D.text!="boolean"){var bt=M.getCoordinate(),_t=((g=D.text)===null||g===void 0?void 0:g.formatter)&&((x=D.text)===null||x===void 0?void 0:x.formatter(f.getData()[z],d.getData()[z])),Ut=Di(bt,f)[X?3:0],Dt=Di(bt,d)[X?0:3],Se=k.addShape("text",{id:"".concat(M.id,"-conversion-tag-text-").concat(F.getElementId(f.getModel().mappingData)),name:"conversion-tag-text",origin:{element:f,nextElement:d},attrs:(0,q.pi)((0,q.pi)({},((w=D.text)===null||w===void 0?void 0:w.style)||{}),{text:_t,x:X?(Ut.x+Dt.x)/2:Ut.x+Y+rt/2,y:X?Ut.y-Y-rt/2:(Ut.y+Dt.y)/2})});if(X){var ze=Dt.x-Ut.x,De=Se.getBBox().width;if(De>ze){var Re=De/_t.length,ar=Math.max(1,Math.ceil(ze/Re)-1),pr="".concat(_t.slice(0,ar),"...");Se.attr("text",pr)}}}}function ya(h,f,d){ga(h,f,d),Va(h,f,d)}function oo(h,f,d){return f===void 0&&(f=!0),d===void 0&&(d=!1),function(g){var x=g.options,w=g.chart,M=x.conversionTag,F=x.theme;return M&&!d&&(w.theme(Z({},(0,j.Kn)(F)?F:(0,St.gh)(F),{columnWidthRatio:1/3})),w.annotation().shape({render:function(k,D){var z=k.addGroup({id:"".concat(w.id,"-conversion-tag-group"),name:"conversion-tag-group"}),X=(0,j.sE)(w.geometries,function(bt){return bt.type==="interval"}),Y={view:D,geometry:X,group:z,field:h,horizontal:f,options:za(M,f)},rt=X.elements;(0,j.S6)(rt,function(bt,_t){_t>0&&ya(Y,rt[_t-1],bt)})}})),g}}function Ua(h){var f=h.options,d=f.legend,g=f.seriesField,x=f.isStack;return g?d!==!1&&(d=(0,q.pi)({position:x?"right-top":"top-left"},d)):d=!1,h.options.legend=d,h}function La(h){var f=h.chart,d=h.options,g=d.data,x=d.columnStyle,w=d.color,M=d.columnWidthRatio,F=d.isPercent,k=d.isGroup,D=d.isStack,z=d.xField,X=d.yField,Y=d.seriesField,rt=d.groupField,bt=d.tooltip,_t=d.shape,Ut=F&&k&&D?yi(g,X,[z,rt],X):mi(g,X,z,X,F),Dt=[];D&&Y&&!k?Ut.forEach(function(De){var Re=Dt.find(function(ar){return ar[z]===De[z]&&ar[Y]===De[Y]});Re?Re[X]+=De[X]||0:Dt.push((0,q.pi)({},De))}):Dt=Ut,f.data(Dt);var Se=F?(0,q.pi)({formatter:function(De){var Re;return{name:k&&D?"".concat(De[Y]," - ").concat(De[rt]):(Re=De[Y])!==null&&Re!==void 0?Re:De[z],value:(Number(De[X])*100).toFixed(2)+"%"}}},bt):bt,ze=Z({},h,{options:{data:Dt,widthRatio:M,tooltip:Se,interval:{shape:_t,style:x,color:w}}});return Yr(ze),ze}function ma(h){var f,d,g=h.options,x=g.xAxis,w=g.yAxis,M=g.xField,F=g.yField,k=g.data,D=g.isPercent,z=D?{max:1,min:0,minLimit:0,maxLimit:1}:{};return ct(fr((f={},f[M]=x,f[F]=w,f),(d={},d[M]={type:"cat"},d[F]=(0,q.pi)((0,q.pi)({},Te(k,F)),z),d)))(h)}function Li(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?f.axis(M,!1):f.axis(M,x),h}function xa(h){var f=h.chart,d=h.options,g=d.legend,x=d.seriesField;return g&&x?f.legend(x,g):g===!1&&f.legend(!1),h}function Kn(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=d.isRange,M=ue(f,"interval");if(!g)M.label(!1);else{var F=g.callback,k=(0,q._T)(g,["callback"]);M.label({fields:[x],callback:F,cfg:(0,q.pi)({layout:k!=null&&k.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ge(w?(0,q.pi)({content:function(D){var z;return(z=D[x])===null||z===void 0?void 0:z.join("-")}},k):k))})}return h}function Si(h){var f=h.chart,d=h.options,g=d.tooltip,x=d.isGroup,w=d.isStack,M=d.groupField,F=d.data,k=d.xField,D=d.yField,z=d.seriesField;if(g===!1)f.tooltip(!1);else{var X=g;if(x&&w){var Y=X.customItems,rt=(X==null?void 0:X.formatter)||function(bt){return{name:"".concat(bt[z]," - ").concat(bt[M]),value:bt[D]}};X=(0,q.pi)((0,q.pi)({},X),{customItems:function(bt){var _t=[];return(0,j.S6)(bt,function(Ut){var Dt=(0,j.hX)(F,function(Se){return(0,j.BD)(Se,de(Ut.data,[k,z]))});Dt.forEach(function(Se){_t.push((0,q.pi)((0,q.pi)((0,q.pi)({},Ut),{value:Se[D],data:Se,mappingData:{_origin:Se}}),rt(Se)))})}),Y?Y(_t):_t}})}f.tooltip(X)}return h}function Yn(h,f){f===void 0&&(f=!1);var d=h.options,g=d.seriesField;return ct(Ua,qe,$e("columnStyle"),hr,Tr("rect"),La,ma,Li,xa,Si,dr,ur,Kn,wi,or,je,cr(),oo(d.yField,!f,!!g),Da(!d.isStack),gr)(h)}function qn(h){var f=h.options,d=f.xField,g=f.yField,x=f.xAxis,w=f.yAxis,M={left:"bottom",right:"top",top:"left",bottom:"right"},F=w!==!1?(0,q.pi)({position:M[(w==null?void 0:w.position)||"left"]},w):!1,k=x!==!1?(0,q.pi)({position:M[(x==null?void 0:x.position)||"bottom"]},x):!1;return(0,q.pi)((0,q.pi)({},h),{options:(0,q.pi)((0,q.pi)({},f),{xField:g,yField:d,xAxis:F,yAxis:k})})}function Oi(h){var f=h.options,d=f.label;return d&&!d.position&&(d.position="left",d.layout||(d.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Z({},h,{options:{label:d}})}function na(h){var f=h.options,d=f.seriesField,g=f.isStack,x=f.legend;return d?x!==!1&&(x=(0,q.pi)({position:g?"top-left":"right-top"},x||{})):x=!1,Z({},h,{options:{legend:x}})}function ia(h){var f=h.options,d=[{type:"transpose"},{type:"reflectY"}].concat(f.coordinate||[]);return Z({},h,{options:{coordinate:d}})}function so(h){var f=h.chart,d=h.options,g=d.barStyle,x=d.barWidthRatio,w=d.minBarWidth,M=d.maxBarWidth,F=d.barBackground;return Yn({chart:f,options:(0,q.pi)((0,q.pi)({},d),{columnStyle:g,columnWidthRatio:x,minColumnWidth:w,maxColumnWidth:M,columnBackground:F})},!0)}function ji(h){return ct(qn,Oi,na,er,ia,so)(h)}var lo=Z({},wr.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Wa=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="bar",d}return f.getDefaultOptions=function(){return lo},f.prototype.changeData=function(d){var g,x;this.updateOption({data:d});var w=this,M=w.chart,F=w.options,k=F.isPercent,D=F.xField,z=F.yField,X=F.xAxis,Y=F.yAxis;g=[z,D],D=g[0],z=g[1],x=[Y,X],X=x[0],Y=x[1];var rt=(0,q.pi)((0,q.pi)({},F),{xField:D,yField:z,yAxis:Y,xAxis:X});ma({chart:M,options:rt}),M.changeData(mi(d,D,z,D,k))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return ji},f}(wr),Oa=Z({},wr.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Ya=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="column",d}return f.getDefaultOptions=function(){return Oa},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this.options,x=g.yField,w=g.xField,M=g.isPercent,F=this,k=F.chart,D=F.options;ma({chart:k,options:D}),this.chart.changeData(mi(d,x,w,x,M))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Yn},f}(wr),Ci,En="$$percentage$$",sn="$$mappingValue$$",Jn="$$conversion$$",ba="$$totalPercentage$$",Bi="$$x$$",Rn="$$y$$",us={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Ci={},Ci[sn]={min:0,max:1,nice:!1},Ci),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},uo="CONVERSION_TAG_NAME";function P(h,f,d){var g=[],x=d.yField,w=d.maxSize,M=d.minSize,F=(0,j.U2)((0,j.UT)(f,x),[x]),k=(0,j.hj)(w)?w:1,D=(0,j.hj)(M)?M:0;return g=(0,j.UI)(h,function(z,X){var Y=(z[x]||0)/F;return z[En]=Y,z[sn]=(k-D)*Y+D,z[Jn]=[(0,j.U2)(h,[X-1,x]),z[x]],z}),g}function b(h){return function(f){var d=f.chart,g=f.options,x=g.conversionTag,w=g.filteredData,M=w||d.getOptions().data;if(x){var F=x.formatter;M.forEach(function(k,D){if(!(D<=0||Number.isNaN(k[sn]))){var z=h(k,D,M,{top:!0,name:uo,text:{content:(0,j.mf)(F)?F(k,M):F,offsetX:x.offsetX,offsetY:x.offsetY,position:"end",autoRotate:!1,style:(0,q.pi)({textAlign:"start",textBaseline:"middle"},x.style)}});d.annotation().line(z)}})}return f}}function S(h){var f=h.chart,d=h.options,g=d.data,x=g===void 0?[]:g,w=d.yField,M=d.maxSize,F=d.minSize,k=P(x,x,{yField:w,maxSize:M,minSize:F});return f.data(k),h}function E(h){var f=h.chart,d=h.options,g=d.xField,x=d.yField,w=d.color,M=d.tooltip,F=d.label,k=d.shape,D=k===void 0?"funnel":k,z=d.funnelStyle,X=d.state,Y=Sn(M,[g,x]),rt=Y.fields,bt=Y.formatter;Xr({chart:f,options:{type:"interval",xField:g,yField:sn,colorField:g,tooltipFields:(0,j.kJ)(rt)&&rt.concat([En,Jn]),mapping:{shape:D,tooltip:bt,color:w,style:z},label:F,state:X}});var _t=ue(h.chart,"interval");return _t.adjust("symmetric"),h}function A(h){var f=h.chart,d=h.options,g=d.isTransposed;return f.coordinate({type:"rect",actions:g?[]:[["transpose"],["scale",1,-1]]}),h}function O(h){var f=h.options,d=h.chart,g=f.maxSize,x=(0,j.U2)(d,["geometries","0","dataArray"],[]),w=(0,j.U2)(d,["options","data","length"]),M=(0,j.UI)(x,function(k){return(0,j.U2)(k,["0","nextPoints","0","x"])*w-.5}),F=function(k,D,z,X){var Y=g-(g-k[sn])/2;return(0,q.pi)((0,q.pi)({},X),{start:[M[D-1]||D-.5,Y],end:[M[D-1]||D-.5,Y+.05]})};return b(F)(h),h}function R(h){return ct(S,E,A,O)(h)}function V(h){var f,d=h.chart,g=h.options,x=g.data,w=x===void 0?[]:x,M=g.yField;return d.data(w),d.scale((f={},f[M]={sync:!0},f)),h}function $(h){var f=h.chart,d=h.options,g=d.data,x=d.xField,w=d.yField,M=d.color,F=d.compareField,k=d.isTransposed,D=d.tooltip,z=d.maxSize,X=d.minSize,Y=d.label,rt=d.funnelStyle,bt=d.state,_t=d.showFacetTitle;return f.facet("mirror",{fields:[F],transpose:!k,padding:k?0:[32,0,0,0],showTitle:_t,eachView:function(Ut,Dt){var Se=k?Dt.rowIndex:Dt.columnIndex;k||Ut.coordinate({type:"rect",actions:[["transpose"],["scale",Se===0?-1:1,-1]]});var ze=P(Dt.data,g,{yField:w,maxSize:z,minSize:X});Ut.data(ze);var De=Sn(D,[x,w,F]),Re=De.fields,ar=De.formatter,pr=k?{offset:Se===0?10:-23,position:Se===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:Se===0?"end":"start"}};Xr({chart:Ut,options:{type:"interval",xField:x,yField:sn,colorField:x,tooltipFields:(0,j.kJ)(Re)&&Re.concat([En,Jn]),mapping:{shape:"funnel",tooltip:ar,color:M,style:rt},label:Y===!1?!1:Z({},pr,Y),state:bt}})}}),h}function Q(h){var f=h.chart,d=h.index,g=h.options,x=g.conversionTag,w=g.isTransposed;((0,j.hj)(d)?[f]:f.views).forEach(function(M,F){var k=(0,j.U2)(M,["geometries","0","dataArray"],[]),D=(0,j.U2)(M,["options","data","length"]),z=(0,j.UI)(k,function(Y){return(0,j.U2)(Y,["0","nextPoints","0","x"])*D-.5}),X=function(Y,rt,bt,_t){var Ut=(d||F)===0?-1:1;return Z({},_t,{start:[z[rt-1]||rt-.5,Y[sn]],end:[z[rt-1]||rt-.5,Y[sn]+.05],text:w?{style:{textAlign:"start"}}:{offsetX:x!==!1?Ut*x.offsetX:0,style:{textAlign:(d||F)===0?"end":"start"}}})};b(X)(Z({},{chart:M,options:g}))})}function ot(h){var f=h.chart;return f.once("beforepaint",function(){return Q(h)}),h}function xt(h){return ct(V,$,ot)(h)}function Ft(h){var f=h.chart,d=h.options,g=d.data,x=g===void 0?[]:g,w=d.yField,M=(0,j.u4)(x,function(D,z){return D+(z[w]||0)},0),F=(0,j.UT)(x,w)[w],k=(0,j.UI)(x,function(D,z){var X=[],Y=[];if(D[ba]=(D[w]||0)/M,z){var rt=x[z-1][Bi],bt=x[z-1][Rn];X[0]=rt[3],Y[0]=bt[3],X[1]=rt[2],Y[1]=bt[2]}else X[0]=-.5,Y[0]=1,X[1]=.5,Y[1]=1;return Y[2]=Y[1]-D[ba],X[2]=(Y[2]+1)/4,Y[3]=Y[2],X[3]=-X[2],D[Bi]=X,D[Rn]=Y,D[En]=(D[w]||0)/F,D[Jn]=[(0,j.U2)(x,[z-1,w]),D[w]],D});return f.data(k),h}function zt(h){var f=h.chart,d=h.options,g=d.xField,x=d.yField,w=d.color,M=d.tooltip,F=d.label,k=d.funnelStyle,D=d.state,z=Sn(M,[g,x]),X=z.fields,Y=z.formatter;return Xr({chart:f,options:{type:"polygon",xField:Bi,yField:Rn,colorField:g,tooltipFields:(0,j.kJ)(X)&&X.concat([En,Jn]),label:F,state:D,mapping:{tooltip:Y,color:w,style:k}}}),h}function ne(h){var f=h.chart,d=h.options,g=d.isTransposed;return f.coordinate({type:"rect",actions:g?[["transpose"],["reflect","x"]]:[]}),h}function se(h){var f=function(d,g,x,w){return(0,q.pi)((0,q.pi)({},w),{start:[d[Bi][1],d[Rn][1]],end:[d[Bi][1]+.05,d[Rn][1]]})};return b(f)(h),h}function we(h){return ct(Ft,zt,ne,se)(h)}function N(h){var f,d=h.chart,g=h.options,x=g.data,w=x===void 0?[]:x,M=g.yField;return d.data(w),d.scale((f={},f[M]={sync:!0},f)),h}function st(h){var f=h.chart,d=h.options,g=d.seriesField,x=d.isTransposed,w=d.showFacetTitle;return f.facet("rect",{fields:[g],padding:[x?0:32,10,0,10],showTitle:w,eachView:function(M,F){R(Z({},h,{chart:M,options:{data:F.data}}))}}),h}function dt(h){return ct(N,st)(h)}var Lt=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.rendering=!1,d}return f.prototype.change=function(d){var g=this;if(!this.rendering){var x=d.seriesField,w=d.compareField,M=w?Q:O,F=this.context.view,k=x||w?F.views:[F];(0,j.UI)(k,function(D,z){var X=D.getController("annotation"),Y=(0,j.hX)((0,j.U2)(X,["option"],[]),function(bt){var _t=bt.name;return _t!==uo});X.clear(!0),(0,j.S6)(Y,function(bt){typeof bt=="object"&&D.annotation()[bt.type](bt)});var rt=(0,j.U2)(D,["filteredData"],D.getOptions().data);M({chart:D,index:z,options:(0,q.pi)((0,q.pi)({},d),{filteredData:P(rt,rt,d)})}),D.filterData(rt),g.rendering=!0,D.render(!0)})}this.rendering=!1},f}(St.aU),ae="funnel-conversion-tag",G="funnel-afterrender",ht={trigger:"afterrender",action:"".concat(ae,":change")};(0,St.zl)(ae,Lt),(0,St.w_)(G,{start:[ht]});function kt(h){var f=h.options,d=f.compareField,g=f.xField,x=f.yField,w=f.locale,M=f.funnelStyle,F=f.data,k=Cn(w),D={label:d?{fields:[g,x,d,En,Jn],formatter:function(X){return"".concat(X[x])}}:{fields:[g,x,En,Jn],offset:0,position:"middle",formatter:function(X){return"".concat(X[g]," ").concat(X[x])}},tooltip:{title:g,formatter:function(X){return{name:X[g],value:X[x]}}},conversionTag:{formatter:function(X){return"".concat(k.get(["conversionTag","label"]),": ").concat(pa.apply(void 0,X[Jn]))}}},z;return(d||M)&&(z=function(X){return Z({},d&&{lineWidth:1,stroke:"#fff"},(0,j.mf)(M)?M(X):M)}),Z({options:D},h,{options:{funnelStyle:z,data:(0,j.d9)(F)}})}function Nt(h){var f=h.options,d=f.compareField,g=f.dynamicHeight,x=f.seriesField;return x?dt(h):d?xt(h):g?we(h):R(h)}function he(h){var f,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return ct(fr((f={},f[w]=g,f[M]=x,f)))(h)}function Ee(h){var f=h.chart;return f.axis(!1),h}function Ge(h){var f=h.chart,d=h.options,g=d.legend;return g===!1?f.legend(!1):f.legend(g),h}function rr(h){var f=h.chart,d=h.options,g=d.interactions,x=d.dynamicHeight;return(0,j.S6)(g,function(w){w.enable===!1?f.removeInteraction(w.type):f.interaction(w.type,w.cfg||{})}),x?f.removeInteraction(G):f.interaction(G,{start:[(0,q.pi)((0,q.pi)({},ht),{arg:d})]}),h}function vr(h){return ct(kt,Nt,he,Ee,er,rr,Ge,je,qe,cr())(h)}var yr=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="funnel",d}return f.getDefaultOptions=function(){return us},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return vr},f.prototype.setState=function(d,g,x){x===void 0&&(x=!0);var w=Ht(this.chart);(0,j.S6)(w,function(M){g(M.getData())&&M.setState(d,x)})},f.prototype.getStates=function(){var d=Ht(this.chart),g=[];return(0,j.S6)(d,function(x){var w=x.getData(),M=x.getStates();(0,j.S6)(M,function(F){g.push({data:w,state:F,geometry:x.geometry,element:x})})}),g},f.CONVERSATION_FIELD=Jn,f.PERCENT_FIELD=En,f.TOTAL_PERCENT_FIELD=ba,f}(wr),Mr,zr="range",$r="type",Ur="percent",Kr="#f0f0f0",Br="indicator-view",Rr="range-view",Wr={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(Mr={},Mr[zr]={sync:"v"},Mr[Ur]={sync:"v",tickCount:5,tickInterval:.2},Mr),animation:!1};function kr(h,f){return h.map(function(d,g){var x;return x={},x[zr]=d-(h[g-1]||0),x[$r]="".concat(g),x[Ur]=f,x})}function Pn(h){var f;return[(f={},f[Ur]=(0,j.uZ)(h,0,1),f)]}function ii(h,f){var d=(0,j.U2)(f,["ticks"],[]),g=(0,j.dp)(d)?(0,j.jj)(d):[0,(0,j.uZ)(h,0,1),1];return g[0]||g.shift(),kr(g,h)}function fi(h){var f=h.chart,d=h.options,g=d.percent,x=d.range,w=d.radius,M=d.innerRadius,F=d.startAngle,k=d.endAngle,D=d.axis,z=d.indicator,X=d.gaugeStyle,Y=d.type,rt=d.meter,bt=x.color,_t=x.width;if(z){var Ut=Pn(g),Dt=f.createView({id:Br});Dt.data(Ut),Dt.point().position("".concat(Ur,"*1")).shape(z.shape||"gauge-indicator").customInfo({defaultColor:f.getTheme().defaultColor,indicator:z}),Dt.coordinate("polar",{startAngle:F,endAngle:k,radius:M*w}),Dt.axis(Ur,D),Dt.scale(Ur,de(D,re))}var Se=ii(g,d.range),ze=f.createView({id:Rr});ze.data(Se);var De=(0,j.HD)(bt)?[bt,Kr]:bt,Re=Yr({chart:ze,options:{xField:"1",yField:zr,seriesField:$r,rawFields:[Ur],isStack:!0,interval:{color:De,style:X,shape:Y==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:_t,maxColumnWidth:_t}}).ext,ar=Re.geometry;return ar.customInfo({meter:rt}),ze.coordinate("polar",{innerRadius:M,radius:w,startAngle:F,endAngle:k}).transpose(),h}function vi(h){var f;return ct(fr((f={range:{min:0,max:1,maxLimit:1,minLimit:0}},f[Ur]={},f)))(h)}function Ri(h,f){var d=h.chart,g=h.options,x=g.statistic,w=g.percent;if(d.getController("annotation").clear(!0),x){var M=x.content,F=void 0;M&&(F=Z({},{content:"".concat((w*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},M)),W(d,{statistic:(0,q.pi)((0,q.pi)({},x),{content:F})},{percent:w})}return f&&d.render(!0),h}function Mi(h){var f=h.chart,d=h.options,g=d.tooltip;return g?f.tooltip(Z({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(x,w){var M=(0,j.U2)(w,[0,"data",Ur],0);return"".concat((M*100).toFixed(2),"%")}},g)):f.tooltip(!1),h}function ai(h){var f=h.chart;return f.legend(!1),h}function $i(h){return ct(qe,je,fi,vi,Mi,Ri,or,cr(),ai)(h)}(0,St.Fj)("point","gauge-indicator",{draw:function(h,f){var d=h.customInfo,g=d.indicator,x=d.defaultColor,w=g,M=w.pointer,F=w.pin,k=f.addGroup(),D=this.parsePoint({x:0,y:0});return M&&k.addShape("line",{name:"pointer",attrs:(0,q.pi)({x1:D.x,y1:D.y,x2:h.x,y2:h.y,stroke:x},M.style)}),F&&k.addShape("circle",{name:"pin",attrs:(0,q.pi)({x:D.x,y:D.y,stroke:x},F.style)}),k}}),(0,St.Fj)("interval","meter-gauge",{draw:function(h,f){var d=h.customInfo.meter,g=d===void 0?{}:d,x=g.steps,w=x===void 0?50:x,M=g.stepRatio,F=M===void 0?.5:M;w=w<1?1:w,F=(0,j.uZ)(F,0,1);var k=this.coordinate,D=k.startAngle,z=k.endAngle,X=0;if(F>0&&F<1){var Y=z-D;X=Y/w/(F/(1-F)+1-1/w)}for(var rt=X/(1-F)*F,bt=f.addGroup(),_t=this.coordinate.getCenter(),Ut=this.coordinate.getRadius(),Dt=St.Zr.getAngle(h,this.coordinate),Se=Dt.startAngle,ze=Dt.endAngle,De=Se;De<ze;){var Re=void 0,ar=(De-D)%(rt+X);ar<rt?Re=De+(rt-ar):(De+=rt+X-ar,Re=De+rt);var pr=St.Zr.getSectorPath(_t.x,_t.y,Ut,De,Math.min(Re,ze),Ut*this.coordinate.innerRadius);bt.addShape("path",{name:"meter-gauge",attrs:{path:pr,fill:h.color,stroke:h.color,lineWidth:.5}}),De=Re+X}return bt}});var Do=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="gauge",d}return f.getDefaultOptions=function(){return Wr},f.prototype.changeData=function(d){this.chart.emit(St.ld.BEFORE_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:d});var g=this.chart.views.find(function(w){return w.id===Br});g&&g.data(Pn(d));var x=this.chart.views.find(function(w){return w.id===Rr});x&&x.data(ii(d,this.options.range)),Ri({chart:this.chart,options:this.options},!0),this.chart.emit(St.ld.AFTER_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.AFTER_CHANGE_DATA,null))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return $i},f}(wr);function wa(h,f,d){if(d===1)return[0,f];var g=Math.floor(h/f);return[f*g,f*(g+1)]}function oi(h){return Math.ceil(Math.log(h.length)/Math.LN2)+1}function di(h,f,d,g,x){var w=(0,j.d9)(h);(0,j.MR)(w,f);var M=(0,j.I)(w,f),F=(0,j.rx)(M),k=F.max-F.min,D=d;if(!d&&g&&(D=g>1?k/(g-1):F.max),!d&&!g){var z=oi(M);D=k/z}var X={},Y=(0,j.vM)(w,x);(0,j.xb)(Y)?(0,j.S6)(w,function(bt){var _t=bt[f],Ut=wa(_t,D,g),Dt="".concat(Ut[0],"-").concat(Ut[1]);(0,j.wH)(X,Dt)||(X[Dt]={range:Ut,count:0}),X[Dt].count+=1}):Object.keys(Y).forEach(function(bt){(0,j.S6)(Y[bt],function(_t){var Ut=_t[f],Dt=wa(Ut,D,g),Se="".concat(Dt[0],"-").concat(Dt[1]),ze="".concat(Se,"-").concat(bt);(0,j.wH)(X,ze)||(X[ze]={range:Dt,count:0},X[ze][x]=bt),X[ze].count+=1})});var rt=[];return(0,j.S6)(X,function(bt){rt.push(bt)}),rt}var Hn="range",In="count",co=Z({},wr.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Ha(h){var f=h.chart,d=h.options,g=d.data,x=d.binField,w=d.binNumber,M=d.binWidth,F=d.color,k=d.stackField,D=d.legend,z=d.columnStyle,X=di(g,x,M,w,k);f.data(X);var Y=Z({},h,{options:{xField:Hn,yField:In,seriesField:k,isStack:!0,interval:{color:F,style:z}}});return Yr(Y),D&&k?f.legend(k,D):f.legend(!1),h}function Sa(h){var f,d=h.options,g=d.xAxis,x=d.yAxis;return ct(fr((f={},f[Hn]=g,f[In]=x,f)))(h)}function aa(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis;return g===!1?f.axis(Hn,!1):f.axis(Hn,g),x===!1?f.axis(In,!1):f.axis(In,x),h}function si(h){var f=h.chart,d=h.options,g=d.label,x=ue(f,"interval");if(!g)x.label(!1);else{var w=g.callback,M=(0,q._T)(g,["callback"]);x.label({fields:[In],callback:w,cfg:ge(M)})}return h}function Ni(h){return ct(qe,$e("columnStyle"),Ha,Sa,aa,hr,si,er,or,je)(h)}var zi=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="histogram",d}return f.getDefaultOptions=function(){return co},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this.options,x=g.binField,w=g.binNumber,M=g.binWidth,F=g.stackField;this.chart.changeData(di(d,x,M,w,F))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Ni},f}(wr),ho=Z({},wr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),Ga=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.active=function(){var d=this.getView(),g=this.context.event;if(g.data){var x=g.data.items,w=d.geometries.filter(function(M){return M.type==="point"});(0,j.S6)(w,function(M){(0,j.S6)(M.elements,function(F){var k=(0,j.cx)(x,function(D){return D.data===F.data})!==-1;F.setState("active",k)})})}},f.prototype.reset=function(){var d=this.getView(),g=d.geometries.filter(function(x){return x.type==="point"});(0,j.S6)(g,function(x){(0,j.S6)(x.elements,function(w){w.setState("active",!1)})})},f.prototype.getView=function(){return this.context.view},f}(St.Mx);(0,St.zl)("marker-active",Ga),(0,St.w_)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Vi=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="line",d}return f.getDefaultOptions=function(){return ho},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this,x=g.chart,w=g.options;bi({chart:x,options:w}),this.chart.changeData(d)},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return mt},f}(wr),Ki=Z({},wr.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),Ql=[1,0,0,0,1,0,0,0,1];function Ba(h,f){var d=f?(0,q.ev)([],f,!0):(0,q.ev)([],Ql,!0);return St.Zr.transform(d,h)}var Cc=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getActiveElements=function(){var d=St.Zr.getDelegationObject(this.context);if(d){var g=this.context.view,x=d.component,w=d.item,M=x.get("field");if(M){var F=g.geometries[0].elements;return F.filter(function(k){return k.getModel().data[M]===w.value})}}return[]},f.prototype.getActiveElementLabels=function(){var d=this.context.view,g=this.getActiveElements(),x=d.geometries[0].labelsContainer.getChildren();return x.filter(function(w){return g.find(function(M){return(0,j.Xy)(M.getData(),w.get("data"))})})},f.prototype.transfrom=function(d){d===void 0&&(d=7.5);var g=this.getActiveElements(),x=this.getActiveElementLabels();g.forEach(function(w,M){var F=x[M],k=w.geometry.coordinate;if(k.isPolar&&k.isTransposed){var D=St.Zr.getAngle(w.getModel(),k),z=D.startAngle,X=D.endAngle,Y=(z+X)/2,rt=d,bt=rt*Math.cos(Y),_t=rt*Math.sin(Y);w.shape.setMatrix(Ba([["t",bt,_t]])),F.setMatrix(Ba([["t",bt,_t]]))}})},f.prototype.active=function(){this.transfrom()},f.prototype.reset=function(){this.transfrom(0)},f}(St.aU);function fo(h){var f=h.event,d,g=f.target;return g&&(d=g.get("element")),d}var Mc=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getAnnotations=function(d){var g=d||this.context.view;return g.getController("annotation").option},f.prototype.getInitialAnnotation=function(){return this.initialAnnotation},f.prototype.init=function(){var d=this,g=this.context.view;g.removeInteraction("tooltip"),g.on("afterchangesize",function(){var x=d.getAnnotations(g);d.initialAnnotation=x})},f.prototype.change=function(d){var g=this.context,x=g.view,w=g.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var M=(0,j.U2)(w,["data","data"]);if(w.type.match("legend-item")){var F=St.Zr.getDelegationObject(this.context),k=x.getGroupedFields()[0];if(F&&k){var D=F.item;M=x.getData().find(function(rt){return rt[k]===D.value})}}if(M){var z=(0,j.U2)(d,"annotations",[]),X=(0,j.U2)(d,"statistic",{});x.getController("annotation").clear(!0),(0,j.S6)(z,function(rt){typeof rt=="object"&&x.annotation()[rt.type](rt)}),K(x,{statistic:X,plotType:"pie"},M),x.render(!0)}var Y=fo(this.context);Y&&Y.shape.toFront()},f.prototype.reset=function(){var d=this.context.view,g=d.getController("annotation");g.clear(!0);var x=this.getInitialAnnotation();(0,j.S6)(x,function(w){d.annotation()[w.type](w)}),d.render(!0)},f}(St.aU),oa="pie-statistic";(0,St.zl)(oa,Mc),(0,St.w_)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),(0,St.zl)("pie-legend",Cc),(0,St.w_)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function Ui(h,f){var d=null;return(0,j.S6)(h,function(g){typeof g[f]=="number"&&(d+=g[f])}),d}function Wi(h,f){var d;switch(h){case"inner":return d="-30%",(0,j.HD)(f)&&f.endsWith("%")?parseFloat(f)*.01>0?d:f:f<0?f:d;case"outer":return d=12,(0,j.HD)(f)&&f.endsWith("%")?parseFloat(f)*.01<0?d:f:f>0?f:d;default:return f}}function pi(h,f){return(0,j.yW)(m(h,f),function(d){return d[f]===0})}function Xa(h){var f=h.chart,d=h.options,g=d.data,x=d.angleField,w=d.colorField,M=d.color,F=d.pieStyle,k=d.shape,D=m(g,x);if(pi(D,x)){var z="$$percentage$$";D=D.map(function(Y){var rt;return(0,q.pi)((0,q.pi)({},Y),(rt={},rt[z]=1/D.length,rt))}),f.data(D);var X=Z({},h,{options:{xField:"1",yField:z,seriesField:w,isStack:!0,interval:{color:M,shape:k,style:F},args:{zIndexReversed:!0,sortZIndex:!0}}});Yr(X)}else{f.data(D);var X=Z({},h,{options:{xField:"1",yField:x,seriesField:w,isStack:!0,interval:{color:M,shape:k,style:F},args:{zIndexReversed:!0,sortZIndex:!0}}});Yr(X)}return h}function cs(h){var f,d=h.chart,g=h.options,x=g.meta,w=g.colorField,M=Z({},x);return d.scale(M,(f={},f[w]={type:"cat"},f)),h}function Tc(h){var f=h.chart,d=h.options,g=d.radius,x=d.innerRadius,w=d.startAngle,M=d.endAngle;return f.coordinate({type:"theta",cfg:{radius:g,innerRadius:x,startAngle:w,endAngle:M}}),h}function _0(h){var f=h.chart,d=h.options,g=d.label,x=d.colorField,w=d.angleField,M=f.geometries[0];if(!g)M.label(!1);else{var F=g.callback,k=(0,q._T)(g,["callback"]),D=ge(k);if(D.content){var z=D.content;D.content=function(bt,_t,Ut){var Dt=bt[x],Se=bt[w],ze=f.getScaleByField(w),De=ze==null?void 0:ze.scale(Se);return(0,j.mf)(z)?z((0,q.pi)((0,q.pi)({},bt),{percent:De}),_t,Ut):(0,j.HD)(z)?it(z,{value:Se,name:Dt,percentage:(0,j.hj)(De)&&!(0,j.UM)(Se)?"".concat((De*100).toFixed(2),"%"):null}):z}}var X={inner:"",outer:"pie-outer",spider:"pie-spider"},Y=D.type?X[D.type]:"pie-outer",rt=D.layout?(0,j.kJ)(D.layout)?D.layout:[D.layout]:[];D.layout=(Y?[{type:Y}]:[]).concat(rt),M.label({fields:x?[w,x]:[w],callback:F,cfg:(0,q.pi)((0,q.pi)({},D),{offset:Wi(D.type,D.offset),type:"pie"})})}return h}function uv(h){var f=h.innerRadius,d=h.statistic,g=h.angleField,x=h.colorField,w=h.meta,M=h.locale,F=Cn(M);if(f&&d){var k=Z({},Ki.statistic,d),D=k.title,z=k.content;return D!==!1&&(D=Z({},{formatter:function(X){var Y=X?X[x]:(0,j.UM)(D.content)?F.get(["statistic","total"]):D.content,rt=(0,j.U2)(w,[x,"formatter"])||function(bt){return bt};return rt(Y)}},D)),z!==!1&&(z=Z({},{formatter:function(X,Y){var rt=X?X[g]:Ui(Y,g),bt=(0,j.U2)(w,[g,"formatter"])||function(_t){return _t};return X||(0,j.UM)(z.content)?bt(rt):z.content}},z)),Z({},{statistic:{title:D,content:z}},h)}return h}function cv(h){var f=h.chart,d=h.options,g=uv(d),x=g.innerRadius,w=g.statistic;return f.getController("annotation").clear(!0),ct(cr())(h),x&&w&&K(f,{statistic:w,plotType:"pie"}),h}function P0(h){var f=h.chart,d=h.options,g=d.tooltip,x=d.colorField,w=d.angleField,M=d.data;if(g===!1)f.tooltip(g);else if(f.tooltip(Z({},g,{shared:!1})),pi(M,w)){var F=(0,j.U2)(g,"fields"),k=(0,j.U2)(g,"formatter");(0,j.xb)((0,j.U2)(g,"fields"))&&(F=[x,w],k=k||function(D){return{name:D[x],value:(0,j.BB)(D[w])}}),f.geometries[0].tooltip(F.join("*"),pn(F,k))}return h}function I0(h){var f=h.chart,d=h.options,g=uv(d),x=g.interactions,w=g.statistic,M=g.annotations;return(0,j.S6)(x,function(F){var k,D;if(F.enable===!1)f.removeInteraction(F.type);else if(F.type==="pie-statistic-active"){var z=[];!((k=F.cfg)===null||k===void 0)&&k.start||(z=[{trigger:"element:mouseenter",action:"".concat(oa,":change"),arg:{statistic:w,annotations:M}}]),(0,j.S6)((D=F.cfg)===null||D===void 0?void 0:D.start,function(X){z.push((0,q.pi)((0,q.pi)({},X),{arg:{statistic:w,annotations:M}}))}),f.interaction(F.type,Z({},F.cfg,{start:z}))}else f.interaction(F.type,F.cfg||{})}),h}function hv(h){return ct($e("pieStyle"),Xa,cs,qe,Tc,Ze,P0,_0,hr,cv,I0,je)(h)}var Ac=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="pie",d}return f.getDefaultOptions=function(){return Ki},f.prototype.changeData=function(d){this.chart.emit(St.ld.BEFORE_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.BEFORE_CHANGE_DATA,null));var g=this.options,x=this.options.angleField,w=m(g.data,x),M=m(d,x);pi(w,x)||pi(M,x)?this.update({data:d}):(this.updateOption({data:d}),this.chart.data(M),cv({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(St.ld.AFTER_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.AFTER_CHANGE_DATA,null))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return hv},f}(wr),fv=["#FAAD14","#E8EDF3"],F0={percent:.2,color:fv,animation:{}};function Ec(h){var f=(0,j.uZ)(et(h)?h:0,0,1);return[{current:"".concat(f),type:"current",percent:f},{current:"".concat(f),type:"target",percent:1}]}function vv(h){var f=h.chart,d=h.options,g=d.percent,x=d.progressStyle,w=d.color,M=d.barWidthRatio;f.data(Ec(g));var F=Z({},h,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:M,interval:{style:x,color:(0,j.HD)(w)?[w,fv[1]]:w},args:{zIndexReversed:!0,sortZIndex:!0}}});return Yr(F),f.tooltip(!1),f.axis(!1),f.legend(!1),h}function k0(h){var f=h.chart;return f.coordinate("rect").transpose(),h}function dv(h){return ct(vv,fr({}),k0,je,qe,cr())(h)}var hs=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="process",d}return f.getDefaultOptions=function(){return F0},f.prototype.changeData=function(d){this.updateOption({percent:d}),this.chart.changeData(Ec(d))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return dv},f}(wr);function D0(h){var f=h.chart,d=h.options,g=d.innerRadius,x=d.radius;return f.coordinate("theta",{innerRadius:g,radius:x}),h}function pv(h,f){var d=h.chart,g=h.options,x=g.innerRadius,w=g.statistic,M=g.percent,F=g.meta;if(d.getController("annotation").clear(!0),x&&w){var k=(0,j.U2)(F,["percent","formatter"])||function(z){return"".concat((z*100).toFixed(2),"%")},D=w.content;D&&(D=Z({},D,{content:(0,j.UM)(D.content)?k(M):D.content})),K(d,{statistic:(0,q.pi)((0,q.pi)({},w),{content:D}),plotType:"ring-progress"},{percent:M})}return f&&d.render(!0),h}function gv(h){return ct(vv,fr({}),D0,pv,je,qe,cr())(h)}var L0={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},O0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="ring-process",d}return f.getDefaultOptions=function(){return L0},f.prototype.changeData=function(d){this.chart.emit(St.ld.BEFORE_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:d}),this.chart.data(Ec(d)),pv({chart:this.chart,options:this.options},!0),this.chart.emit(St.ld.AFTER_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.AFTER_CHANGE_DATA,null))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return gv},f}(wr),Lo=H(56645),B0={exp:Lo.regressionExp,linear:Lo.regressionLinear,loess:Lo.regressionLoess,log:Lo.regressionLog,poly:Lo.regressionPoly,pow:Lo.regressionPow,quad:Lo.regressionQuad};function R0(h,f){var d=10,g={regionStyle:[{position:{start:[h,"max"],end:["max",f]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[h,f]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",f],end:[h,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[h,f],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",f],offsetX:-d,offsetY:-d,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",f],offsetX:d,offsetY:-d,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",f],offsetX:d,offsetY:d,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",f],offsetX:-d,offsetY:d,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return g}var N0=function(h,f){var d=f.view,g=f.options,x=g.xField,w=g.yField,M=d.getScaleByField(x),F=d.getScaleByField(w),k=h.map(function(D){return d.getCoordinate().convert({x:M.scale(D[0]),y:F.scale(D[1])})});return ft(k,!1)},z0=function(h){var f=h.options,d=f.xField,g=f.yField,x=f.data,w=f.regressionLine,M=w.type,F=M===void 0?"linear":M,k=w.algorithm,D=w.equation,z,X=null;if(k)z=(0,j.kJ)(k)?k:k(x),X=D;else{var Y=B0[F]().x(function(rt){return rt[d]}).y(function(rt){return rt[g]});z=Y(x),X=U0(F,z)}return[N0(z,h),X]},V0=function(h){var f,d=h.meta,g=d===void 0?{}:d,x=h.xField,w=h.yField,M=h.data,F=M[0][x],k=M[0][w],D=F>0,z=k>0;function X(Y,rt){var bt=(0,j.U2)(g,[Y]);function _t(Dt){return(0,j.U2)(bt,Dt)}var Ut={};return rt==="x"?((0,j.hj)(F)&&((0,j.hj)(_t("min"))||(Ut.min=D?0:F*2),(0,j.hj)(_t("max"))||(Ut.max=D?F*2:0)),Ut):((0,j.hj)(k)&&((0,j.hj)(_t("min"))||(Ut.min=z?0:k*2),(0,j.hj)(_t("max"))||(Ut.max=z?k*2:0)),Ut)}return(0,q.pi)((0,q.pi)({},g),(f={},f[x]=(0,q.pi)((0,q.pi)({},g[x]),X(x,"x")),f[w]=(0,q.pi)((0,q.pi)({},g[w]),X(w,"y")),f))};function U0(h,f){var d,g,x,w=function(D,z){return z===void 0&&(z=4),Math.round(D*Math.pow(10,z))/Math.pow(10,z)},M=function(D){return Number.isFinite(D)?w(D):"?"};switch(h){case"linear":return"y = ".concat(M(f.a),"x + ").concat(M(f.b),", R^2 = ").concat(M(f.rSquared));case"exp":return"y = ".concat(M(f.a),"e^(").concat(M(f.b),"x), R^2 = ").concat(M(f.rSquared));case"log":return"y = ".concat(M(f.a),"ln(x) + ").concat(M(f.b),", R^2 = ").concat(M(f.rSquared));case"quad":return"y = ".concat(M(f.a),"x^2 + ").concat(M(f.b),"x + ").concat(M(f.c),", R^2 = ").concat(M(f.rSquared));case"poly":for(var F="y = ".concat(M((d=f.coefficients)===null||d===void 0?void 0:d[0])," + ").concat(M((g=f.coefficients)===null||g===void 0?void 0:g[1]),"x + ").concat(M((x=f.coefficients)===null||x===void 0?void 0:x[2]),"x^2"),k=3;k<f.coefficients.length;++k)F+=" + ".concat(M(f.coefficients[k]),"x^").concat(k);return"".concat(F,", R^2 = ").concat(M(f.rSquared));case"pow":return"y = ".concat(M(f.a),"x^").concat(M(f.b),", R^2 = ").concat(M(f.rSquared))}return null}function yv(h){var f=h.data,d=f===void 0?[]:f,g=h.xField,x=h.yField;if(d.length){for(var w=!0,M=!0,F=d[0],k=void 0,D=1;D<d.length&&(k=d[D],F[g]!==k[g]&&(w=!1),F[x]!==k[x]&&(M=!1),!(!w&&!M));D++)F=k;var z=[];w&&z.push(g),M&&z.push(x);var X=de(V0(h),z);return Z({},h,{meta:X})}return h}function W0(h){var f=h.chart,d=h.options,g=d.data,x=d.type,w=d.color,M=d.shape,F=d.pointStyle,k=d.shapeField,D=d.colorField,z=d.xField,X=d.yField,Y=d.sizeField,rt=d.size,bt=d.tooltip;Y&&(rt||(rt=[2,8]),(0,j.hj)(rt)&&(rt=[rt,rt])),bt&&!bt.fields&&(bt=(0,q.pi)((0,q.pi)({},bt),{fields:[z,X,D,Y,k]})),f.data(g),jr(Z({},h,{options:{seriesField:D,point:{color:w,shape:M,size:rt,style:F},tooltip:bt}}));var _t=ue(f,"point");return x&&_t.adjust(x),h}function tu(h){var f,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField,F=yv(d);return ct(fr((f={},f[w]=g,f[M]=x,f)))(Z({},h,{options:F}))}function Y0(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return f.axis(w,g),f.axis(M,x),h}function H0(h){var f=h.chart,d=h.options,g=d.legend,x=d.colorField,w=d.shapeField,M=d.sizeField,F=d.shapeLegend,k=d.sizeLegend,D=g!==!1;return x&&f.legend(x,D?g:!1),w&&(F?f.legend(w,F):f.legend(w,F===!1?!1:g)),M&&f.legend(M,k||!1),!D&&!F&&!k&&f.legend(!1),h}function mv(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=ue(f,"point");if(!g)w.label(!1);else{var M=g.callback,F=(0,q._T)(g,["callback"]);w.label({fields:[x],callback:M,cfg:ge(F)})}return h}function gn(h){var f=h.options,d=f.quadrant,g=[];if(d){var x=d.xBaseline,w=x===void 0?0:x,M=d.yBaseline,F=M===void 0?0:M,k=d.labels,D=d.regionStyle,z=d.lineStyle,X=R0(w,F),Y=new Array(4).join(",").split(",");Y.forEach(function(rt,bt){g.push((0,q.pi)((0,q.pi)({type:"region",top:!1},X.regionStyle[bt].position),{style:Z({},X.regionStyle[bt].style,D==null?void 0:D[bt])}),(0,q.pi)({type:"text",top:!0},Z({},X.labelStyle[bt],k==null?void 0:k[bt])))}),g.push({type:"line",top:!1,start:["min",F],end:["max",F],style:Z({},X.lineStyle,z)},{type:"line",top:!1,start:[w,"min"],end:[w,"max"],style:Z({},X.lineStyle,z)})}return ct(cr(g))(h)}function xv(h){var f=h.options,d=h.chart,g=f.regressionLine;if(g){var x=g.style,w=g.equationStyle,M=w===void 0?{}:w,F=g.top,k=F===void 0?!1:F,D=g.showEquation,z=D===void 0?!1:D,X={stroke:"#9ba29a",lineWidth:2,opacity:.5},Y={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};d.annotation().shape({top:k,render:function(rt,bt){var _t=rt.addGroup({id:"".concat(d.id,"-regression-line"),name:"regression-line-group"}),Ut=z0({view:bt,options:f}),Dt=Ut[0],Se=Ut[1];_t.addShape("path",{name:"regression-line",attrs:(0,q.pi)((0,q.pi)({path:Dt},X),x)}),z&&_t.addShape("text",{name:"regression-equation",attrs:(0,q.pi)((0,q.pi)((0,q.pi)({},Y),M),{text:Se})})}})}return h}function eu(h){var f=h.chart,d=h.options,g=d.tooltip;return g?f.tooltip(g):g===!1&&f.tooltip(!1),h}function _c(h){return ct(W0,tu,Y0,H0,eu,mv,wi,dr,ur,or,gn,je,qe,xv)(h)}var Pc=Z({},wr.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});(0,St.w_)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var qr=function(h){(0,q.ZT)(f,h);function f(d,g){var x=h.call(this,d,g)||this;return x.type="scatter",x.on(St.ld.BEFORE_RENDER,function(w){var M,F,k=x,D=k.options,z=k.chart;if(((M=w.data)===null||M===void 0?void 0:M.source)===St.xC.FILTER){var X=x.chart.filterData(x.chart.getData());tu({chart:z,options:(0,q.pi)((0,q.pi)({},D),{data:X})})}((F=w.data)===null||F===void 0?void 0:F.source)===St.xC.RESET&&tu({chart:z,options:D})}),x}return f.getDefaultOptions=function(){return Pc},f.prototype.changeData=function(d){this.updateOption(yv(Z({},this.options,{data:d})));var g=this,x=g.options,w=g.chart;tu({chart:w,options:x}),this.chart.changeData(d)},f.prototype.getSchemaAdaptor=function(){return _c},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f}(wr),fs="$$stock-range$$",Qs="trend",Ic="up",Fc="down",kc={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(h,f,d){var g;if(h==="x"){var x=d[0];g=x?x.title:f}else g=f;return{position:h==="y"?"start":"end",content:g,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},bv=Z({},wr.getDefaultOptions(),{tooltip:kc,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function vs(h,f){return(0,j.UI)(h,function(d){var g=d&&(0,q.pi)({},d);if((0,j.kJ)(f)&&g){var x=f[0],w=f[1],M=f[2],F=f[3];g[Qs]=g[x]<=g[w]?Ic:Fc,g[fs]=[g[x],g[w],g[M],g[F]]}return g})}function Dc(h){var f=h.chart,d=h.options,g=d.yField,x=d.data,w=d.risingFill,M=d.fallingFill,F=d.tooltip,k=d.stockStyle;f.data(vs(x,g));var D=F;return D!==!1&&(D=Z({},{fields:g},D)),Fi(Z({},h,{options:{schema:{shape:"candle",color:[w,M],style:k},yField:fs,seriesField:Qs,rawFields:g,tooltip:D}})),h}function Lc(h){var f,d,g=h.chart,x=h.options,w=x.meta,M=x.xAxis,F=x.yAxis,k=x.xField,D=(f={},f[k]={type:"timeCat",tickCount:6},f[Qs]={values:[Ic,Fc]},f),z=Z(D,w,(d={},d[k]=de(M,re),d[fs]=de(F,re),d));return g.scale(z),h}function vo(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?f.axis(fs,!1):f.axis(fs,x),h}function ru(h){var f=h.chart,d=h.options,g=d.tooltip;return g!==!1?f.tooltip(g):f.tooltip(!1),h}function wv(h){var f=h.chart,d=h.options,g=d.legend;return g?f.legend(Qs,g):g===!1&&f.legend(!1),h}function ds(h){ct(qe,Dc,Lc,vo,ru,wv,or,je,cr(),dr)(h)}var Sv=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="stock",d}return f.getDefaultOptions=function(){return bv},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return ds},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this.options.yField;this.chart.changeData(vs(d,g))},f}(wr);function Za(h){return(0,j.UI)(h||[],function(f,d){return{x:"".concat(d),y:f}})}var po="x",Ra="y",tl={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(h,f){return"".concat((0,j.U2)(f,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},Cv={appendPadding:2,tooltip:(0,q.pi)({},tl),animation:{}};function ps(h){var f=h.chart,d=h.options,g=d.data,x=d.color,w=d.areaStyle,M=d.point,F=d.line,k=M==null?void 0:M.state,D=Za(g);f.data(D);var z=Z({},h,{options:{xField:po,yField:Ra,area:{color:x,style:w},line:F,point:M}}),X=Z({},z,{options:{tooltip:!1}}),Y=Z({},z,{options:{tooltip:!1,state:k}});return hn(z),$n(X),jr(Y),f.axis(!1),f.legend(!1),h}function Oo(h){var f,d,g=h.options,x=g.xAxis,w=g.yAxis,M=g.data,F=Za(M);return ct(fr((f={},f[po]=x,f[Ra]=w,f),(d={},d[po]={type:"cat"},d[Ra]=Te(F,Ra),d)))(h)}function Bo(h){return ct($e("areaStyle"),ps,Oo,er,qe,je,cr())(h)}var go={appendPadding:2,tooltip:(0,q.pi)({},tl),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},Ro=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="tiny-area",d}return f.getDefaultOptions=function(){return go},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this,x=g.chart,w=g.options;Oo({chart:x,options:w}),x.changeData(Za(d))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Bo},f}(wr);function Mv(h){var f=h.chart,d=h.options,g=d.data,x=d.color,w=d.columnStyle,M=d.columnWidthRatio,F=Za(g);f.data(F);var k=Z({},h,{options:{xField:po,yField:Ra,widthRatio:M,interval:{style:w,color:x}}});return Yr(k),f.axis(!1),f.legend(!1),f.interaction("element-active"),h}function Tv(h){return ct(qe,$e("columnStyle"),Mv,Oo,er,je,cr())(h)}var el={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(h,f){return"".concat((0,j.U2)(f,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},Av={appendPadding:2,tooltip:(0,q.pi)({},el),animation:{}},G0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="tiny-column",d}return f.getDefaultOptions=function(){return Av},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this,x=g.chart,w=g.options;Oo({chart:x,options:w}),x.changeData(Za(d))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Tv},f}(wr);function Oc(h){var f=h.chart,d=h.options,g=d.data,x=d.color,w=d.lineStyle,M=d.point,F=M==null?void 0:M.state,k=Za(g);f.data(k);var D=Z({},h,{options:{xField:po,yField:Ra,line:{color:x,style:w},point:M}}),z=Z({},D,{options:{tooltip:!1,state:F}});return $n(D),jr(z),f.axis(!1),f.legend(!1),h}function Bc(h){return ct(Oc,Oo,qe,er,je,cr())(h)}var Ti=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="tiny-line",d}return f.getDefaultOptions=function(){return Cv},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this,x=g.chart,w=g.options;Oo({chart:x,options:w}),x.changeData(Za(d))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Bc},f}(wr),Rc={line:mt,pie:hv,column:Yn,bar:ji,area:tr,gauge:$i,"tiny-line":Bc,"tiny-column":Tv,"tiny-area":Bo,"ring-progress":gv,progress:dv,scatter:_c,histogram:Ni,funnel:vr,stock:ds},Ev={line:Vi,pie:Ac,column:Ya,bar:Wa,area:ir,gauge:Do,"tiny-line":Ti,"tiny-column":G0,"tiny-area":Ro,"ring-progress":O0,progress:hs,scatter:qr,histogram:zi,funnel:yr,stock:Sv},_v={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function rl(h,f,d){var g=Ev[h];if(!g){console.error("could not find ".concat(h," plot"));return}var x=Rc[h];x({chart:f,options:Z({},g.getDefaultOptions(),(0,j.U2)(_v,h,{}),d)})}function yo(h){var f=h.chart,d=h.options,g=d.views,x=d.legend;return(0,j.S6)(g,function(w){var M=w.region,F=w.data,k=w.meta,D=w.axes,z=w.coordinate,X=w.interactions,Y=w.annotations,rt=w.tooltip,bt=w.geometries,_t=f.createView({region:M});_t.data(F);var Ut={};D&&(0,j.S6)(D,function(Dt,Se){Ut[Se]=de(Dt,re)}),Ut=Z({},k,Ut),_t.scale(Ut),D?(0,j.S6)(D,function(Dt,Se){_t.axis(Se,Dt)}):_t.axis(!1),_t.coordinate(z),(0,j.S6)(bt,function(Dt){var Se=Xr({chart:_t,options:Dt}).ext,ze=Dt.adjust;ze&&Se.geometry.adjust(ze)}),(0,j.S6)(X,function(Dt){Dt.enable===!1?_t.removeInteraction(Dt.type):_t.interaction(Dt.type,Dt.cfg)}),(0,j.S6)(Y,function(Dt){_t.annotation()[Dt.type]((0,q.pi)({},Dt))}),typeof w.animation=="boolean"?_t.animate(!1):(_t.animate(!0),(0,j.S6)(_t.geometries,function(Dt){Dt.animate(w.animation)})),rt&&(_t.interaction("tooltip"),_t.tooltip(rt))}),x?(0,j.S6)(x,function(w,M){f.legend(M,w)}):f.legend(!1),f.tooltip(d.tooltip),h}function Pv(h){var f=h.chart,d=h.options,g=d.plots,x=d.data,w=x===void 0?[]:x;return(0,j.S6)(g,function(M){var F=M.type,k=M.region,D=M.options,z=D===void 0?{}:D,X=M.top,Y=z.tooltip;if(X){rl(F,f,(0,q.pi)((0,q.pi)({},z),{data:w}));return}var rt=f.createView((0,q.pi)({region:k},de(z,Zi)));Y&&rt.interaction("tooltip"),rl(F,rt,(0,q.pi)({data:w},z))}),h}function Iv(h){var f=h.chart,d=h.options;return f.option("slider",d.slider),h}function Fv(h){return ct(je,yo,Pv,or,je,qe,er,Iv,cr())(h)}function Qn(h,f){var d=h.getModel(),g=d.data,x;return(0,j.kJ)(g)?x=g[0][f]:x=g[f],x}function nu(h){var f=ve(h);(0,j.S6)(f,function(d){d.hasState("active")&&d.setState("active",!1),d.hasState("selected")&&d.setState("selected",!1),d.hasState("inactive")&&d.setState("inactive",!1)})}var kv=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getAssociationItems=function(d,g){var x,w=this.context.event,M=g||{},F=M.linkField,k=M.dim,D=[];if(!((x=w.data)===null||x===void 0)&&x.data){var z=w.data.data;(0,j.S6)(d,function(X){var Y,rt,bt=F;if(k==="x"?bt=X.getXScale().field:k==="y"?bt=(Y=X.getYScales().find(function(Ut){return Ut.field===bt}))===null||Y===void 0?void 0:Y.field:bt||(bt=(rt=X.getGroupScales()[0])===null||rt===void 0?void 0:rt.field),!!bt){var _t=(0,j.UI)(ve(X),function(Ut){var Dt=!1,Se=!1,ze=(0,j.kJ)(z)?(0,j.U2)(z[0],bt):(0,j.U2)(z,bt);return Qn(Ut,bt)===ze?Dt=!0:Se=!0,{element:Ut,view:X,active:Dt,inactive:Se}});D.push.apply(D,_t)}})}return D},f.prototype.showTooltip=function(d){var g=gt(this.context.view),x=this.getAssociationItems(g,d);(0,j.S6)(x,function(w){if(w.active){var M=w.element.shape.getCanvasBBox();w.view.showTooltip({x:M.minX+M.width/2,y:M.minY+M.height/2})}})},f.prototype.hideTooltip=function(){var d=gt(this.context.view);(0,j.S6)(d,function(g){g.hideTooltip()})},f.prototype.active=function(d){var g=yt(this.context.view),x=this.getAssociationItems(g,d);(0,j.S6)(x,function(w){var M=w.active,F=w.element;M&&F.setState("active",!0)})},f.prototype.selected=function(d){var g=yt(this.context.view),x=this.getAssociationItems(g,d);(0,j.S6)(x,function(w){var M=w.active,F=w.element;M&&F.setState("selected",!0)})},f.prototype.highlight=function(d){var g=yt(this.context.view),x=this.getAssociationItems(g,d);(0,j.S6)(x,function(w){var M=w.inactive,F=w.element;M&&F.setState("inactive",!0)})},f.prototype.reset=function(){var d=yt(this.context.view);(0,j.S6)(d,function(g){nu(g)})},f}(St.aU);(0,St.zl)("association",kv),(0,St.w_)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,St.w_)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,St.w_)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,St.w_)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var mo=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="mix",d}return f.prototype.getSchemaAdaptor=function(){return Fv},f}(wr),No;(function(h){h.DEV="DEV",h.BETA="BETA",h.STABLE="STABLE"})(No||(No={}));function Dv(h,f){console.warn(h===No.DEV?"Plot '".concat(f,"' is in DEV stage, just give us issues."):h===No.BETA?"Plot '".concat(f,"' is in BETA stage, DO NOT use it in production env."):h===No.STABLE?"Plot '".concat(f,`' is in STABLE stage, import it by "import { `).concat(f,` } from '@antv/g2plot'".`):"invalid Stage type.")}var X0=function(){function h(){}return Object.defineProperty(h,"MultiView",{get:function(){return Dv(No.STABLE,"MultiView"),mo},enumerable:!1,configurable:!0}),h}(),Ca="first-axes-view",Ma="second-axes-view",Na="series-field-key";function Nc(h,f,d,g,x){var w=[];f.forEach(function(X){g.forEach(function(Y){var rt,bt=(rt={},rt[h]=Y[h],rt[d]=X,rt[X]=Y[X],rt);w.push(bt)})});var M=Object.values((0,j.vM)(w,d)),F=M[0],k=F===void 0?[]:F,D=M[1],z=D===void 0?[]:D;return x?[k.reverse(),z.reverse()]:[k,z]}function ja(h){return h!=="vertical"}function gs(h,f,d){var g=f[0],x=f[1],w=g.autoPadding,M=x.autoPadding,F=h.__axisPosition,k=F.layout,D=F.position;if(ja(k)&&D==="top"&&(g.autoPadding=d.instance(w.top,0,w.bottom,w.left),x.autoPadding=d.instance(M.top,w.left,M.bottom,0)),ja(k)&&D==="bottom"&&(g.autoPadding=d.instance(w.top,w.right/2+5,w.bottom,w.left),x.autoPadding=d.instance(M.top,M.right,M.bottom,w.right/2+5)),!ja(k)&&D==="bottom"){var z=w.left>=M.left?w.left:M.left;g.autoPadding=d.instance(w.top,w.right,w.bottom/2+5,z),x.autoPadding=d.instance(w.bottom/2+5,M.right,M.bottom,z)}if(!ja(k)&&D==="top"){var z=w.left>=M.left?w.left:M.left;g.autoPadding=d.instance(w.top,w.right,0,z),x.autoPadding=d.instance(0,M.right,w.top,z)}}function nl(h){var f=h.chart,d=h.options,g=d.data,x=d.xField,w=d.yField,M=d.color,F=d.barStyle,k=d.widthRatio,D=d.legend,z=d.layout,X=Nc(x,w,Na,g,ja(z));D?f.legend(Na,D):D===!1&&f.legend(!1);var Y,rt,bt=X[0],_t=X[1];ja(z)?(Y=f.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Ca}),Y.coordinate().transpose().reflect("x"),rt=f.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Ma}),rt.coordinate().transpose(),Y.data(bt),rt.data(_t)):(Y=f.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Ca}),rt=f.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Ma}),rt.coordinate().reflect("y"),Y.data(bt),rt.data(_t));var Ut=Z({},h,{chart:Y,options:{widthRatio:k,xField:x,yField:w[0],seriesField:Na,interval:{color:M,style:F}}});Yr(Ut);var Dt=Z({},h,{chart:rt,options:{xField:x,yField:w[1],seriesField:Na,widthRatio:k,interval:{color:M,style:F}}});return Yr(Dt),h}function Hr(h){var f,d,g,x=h.options,w=h.chart,M=x.xAxis,F=x.yAxis,k=x.xField,D=x.yField,z=tt(w,Ca),X=tt(w,Ma),Y={};return(0,j.XP)((x==null?void 0:x.meta)||{}).map(function(rt){(0,j.U2)(x==null?void 0:x.meta,[rt,"alias"])&&(Y[rt]=x.meta[rt].alias)}),w.scale((f={},f[Na]={sync:!0,formatter:function(rt){return(0,j.U2)(Y,rt,rt)}},f)),fr((d={},d[k]=M,d[D[0]]=F[D[0]],d))(Z({},h,{chart:z})),fr((g={},g[k]=M,g[D[1]]=F[D[1]],g))(Z({},h,{chart:X})),h}function Lv(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField,F=d.layout,k=tt(f,Ca),D=tt(f,Ma);return(g==null?void 0:g.position)==="bottom"?D.axis(w,(0,q.pi)((0,q.pi)({},g),{label:{formatter:function(){return""}}})):D.axis(w,!1),g===!1?k.axis(w,!1):k.axis(w,(0,q.pi)({position:ja(F)?"top":"bottom"},g)),x===!1?(k.axis(M[0],!1),D.axis(M[1],!1)):(k.axis(M[0],x[M[0]]),D.axis(M[1],x[M[1]])),f.__axisPosition={position:k.getOptions().axes[w].position,layout:F},h}function Ov(h){var f=h.chart;return or(Z({},h,{chart:tt(f,Ca)})),or(Z({},h,{chart:tt(f,Ma)})),h}function Bv(h){var f=h.chart,d=h.options,g=d.yField,x=d.yAxis;return gr(Z({},h,{chart:tt(f,Ca),options:{yAxis:x[g[0]]}})),gr(Z({},h,{chart:tt(f,Ma),options:{yAxis:x[g[1]]}})),h}function Rv(h){var f=h.chart;return qe(Z({},h,{chart:tt(f,Ca)})),qe(Z({},h,{chart:tt(f,Ma)})),qe(h),h}function Nv(h){var f=h.chart;return je(Z({},h,{chart:tt(f,Ca)})),je(Z({},h,{chart:tt(f,Ma)})),h}function zv(h){var f=this,d,g,x=h.chart,w=h.options,M=w.label,F=w.yField,k=w.layout,D=tt(x,Ca),z=tt(x,Ma),X=ue(D,"interval"),Y=ue(z,"interval");if(!M)X.label(!1),Y.label(!1);else{var rt=M.callback,bt=(0,q._T)(M,["callback"]);bt.position||(bt.position="middle"),bt.offset===void 0&&(bt.offset=2);var _t=(0,q.pi)({},bt);if(ja(k)){var Ut=((d=_t.style)===null||d===void 0?void 0:d.textAlign)||(bt.position==="middle"?"center":"left");bt.style=Z({},bt.style,{textAlign:Ut});var Dt={left:"right",right:"left",center:"center"};_t.style=Z({},_t.style,{textAlign:Dt[Ut]})}else{var Se={top:"bottom",bottom:"top",middle:"middle"};typeof bt.position=="string"?bt.position=Se[bt.position]:typeof bt.position=="function"&&(bt.position=function(){for(var Re=[],ar=0;ar<arguments.length;ar++)Re[ar]=arguments[ar];return Se[bt.position.apply(f,Re)]});var ze=((g=_t.style)===null||g===void 0?void 0:g.textBaseline)||"bottom";_t.style=Z({},_t.style,{textBaseline:ze});var De={top:"bottom",bottom:"top",middle:"middle"};bt.style=Z({},bt.style,{textBaseline:De[ze]})}X.label({fields:[F[0]],callback:rt,cfg:ge(_t)}),Y.label({fields:[F[1]],callback:rt,cfg:ge(bt)})}return h}function Vv(h){return ct(nl,Hr,Lv,Bv,Rv,zv,er,Ov,Nv)(h)}var Z0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="bidirectional-bar",d}return f.getDefaultOptions=function(){return Z({},h.getDefaultOptions.call(this),{syncViewPadding:gs})},f.prototype.changeData=function(d){d===void 0&&(d=[]),this.chart.emit(St.ld.BEFORE_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({data:d});var g=this.options,x=g.xField,w=g.yField,M=g.layout,F=Nc(x,w,Na,d,ja(M)),k=F[0],D=F[1],z=tt(this.chart,Ca),X=tt(this.chart,Ma);z.data(k),X.data(D),this.chart.render(!0),this.chart.emit(St.ld.AFTER_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.AFTER_CHANGE_DATA,null))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Vv},f.SERIES_FIELD_KEY=Na,f}(wr),iu,zo="$$range$$",Uv="low-q1-median-q3-high",Wv="$$y_outliers$$",zc="outliers_view",Yv=Z({},wr.getDefaultOptions(),{meta:(iu={},iu[zo]={min:0,alias:Uv},iu),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Vc=function(h,f){var d=h;if(Array.isArray(f)){var g=f[0],x=f[1],w=f[2],M=f[3],F=f[4];d=(0,j.UI)(h,function(k){return k[zo]=[k[g],k[x],k[w],k[M],k[F]],k})}return d};function Hv(h){var f=h.chart,d=h.options,g=d.xField,x=d.yField,w=d.groupField,M=d.color,F=d.tooltip,k=d.boxStyle;f.data(Vc(d.data,x));var D=(0,j.kJ)(x)?zo:x,z=x?(0,j.kJ)(x)?x:[x]:[],X=F;X!==!1&&(X=Z({},{fields:(0,j.kJ)(x)?x:[]},X));var Y=Fi(Z({},h,{options:{xField:g,yField:D,seriesField:w,tooltip:X,rawFields:z,label:!1,schema:{shape:"box",color:M,style:k}}})).ext;return w&&Y.geometry.adjust("dodge"),h}function Gv(h){var f=h.chart,d=h.options,g=d.xField,x=d.data,w=d.outliersField,M=d.outliersStyle,F=d.padding,k=d.label;if(!w)return h;var D=f.createView({padding:F,id:zc}),z=x.reduce(function(X,Y){var rt=Y[w];return rt.forEach(function(bt){var _t;return X.push((0,q.pi)((0,q.pi)({},Y),(_t={},_t[w]=bt,_t)))}),X},[]);return D.data(z),jr({chart:D,options:{xField:g,yField:w,point:{shape:"circle",style:M},label:k}}),D.axis(!1),h}function Xv(h){var f,d,g=h.chart,x=h.options,w=x.meta,M=x.xAxis,F=x.yAxis,k=x.xField,D=x.yField,z=x.outliersField,X=Array.isArray(D)?zo:D,Y={};if(z){var rt=Wv;Y=(f={},f[z]={sync:rt,nice:!0},f[X]={sync:rt,nice:!0},f)}var bt=Z(Y,w,(d={},d[k]=de(M,re),d[X]=de(F,re),d));return g.scale(bt),h}function Ai(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField,F=Array.isArray(M)?zo:M;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?f.axis(zo,!1):f.axis(F,x),h}function Zv(h){var f=h.chart,d=h.options,g=d.legend,x=d.groupField;return x?g?f.legend(x,g):f.legend(x,{position:"bottom"}):f.legend(!1),h}function jv(h){return ct(Hv,Gv,Xv,Ai,Zv,er,cr(),or,je,qe)(h)}var j0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="box",d}return f.getDefaultOptions=function(){return Yv},f.prototype.changeData=function(d){this.updateOption({data:d});var g=this.options.yField,x=this.chart.views.find(function(w){return w.id===zc});x&&x.data(d),this.chart.changeData(Vc(d,g))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return jv},f}(wr);function Uc(h,f,d){return h.length>1?"".concat(f,"_").concat(d):"".concat(f)}function Wc(h){var f=h.data,d=h.xField,g=h.measureField,x=h.rangeField,w=h.targetField,M=h.layout,F=[],k=[];f.forEach(function(X,Y){var rt=[X[x]].flat();rt.sort(function(Ut,Dt){return Ut-Dt}),rt.forEach(function(Ut,Dt){var Se,ze=Dt===0?Ut:rt[Dt]-rt[Dt-1];F.push((Se={rKey:"".concat(x,"_").concat(Dt)},Se[d]=d?X[d]:String(Y),Se[x]=ze,Se))});var bt=[X[g]].flat();bt.forEach(function(Ut,Dt){var Se;F.push((Se={mKey:Uc(bt,g,Dt)},Se[d]=d?X[d]:String(Y),Se[g]=Ut,Se))});var _t=[X[w]].flat();_t.forEach(function(Ut,Dt){var Se;F.push((Se={tKey:Uc(_t,w,Dt)},Se[d]=d?X[d]:String(Y),Se[w]=Ut,Se))}),k.push(X[x],X[g],X[w])});var D=Math.min.apply(Math,k.flat(1/0)),z=Math.max.apply(Math,k.flat(1/0));return D=D>0?0:D,M==="vertical"&&F.reverse(),{min:D,max:z,ds:F}}function au(h){var f=h.chart,d=h.options,g=d.bulletStyle,x=d.targetField,w=d.rangeField,M=d.measureField,F=d.xField,k=d.color,D=d.layout,z=d.size,X=d.label,Y=Wc(d),rt=Y.min,bt=Y.max,_t=Y.ds;f.data(_t);var Ut=Z({},h,{options:{xField:F,yField:w,seriesField:"rKey",isStack:!0,label:(0,j.U2)(X,"range"),interval:{color:(0,j.U2)(k,"range"),style:(0,j.U2)(g,"range"),size:(0,j.U2)(z,"range")}}});Yr(Ut),f.geometries[0].tooltip(!1);var Dt=Z({},h,{options:{xField:F,yField:M,seriesField:"mKey",isStack:!0,label:(0,j.U2)(X,"measure"),interval:{color:(0,j.U2)(k,"measure"),style:(0,j.U2)(g,"measure"),size:(0,j.U2)(z,"measure")}}});Yr(Dt);var Se=Z({},h,{options:{xField:F,yField:x,seriesField:"tKey",label:(0,j.U2)(X,"target"),point:{color:(0,j.U2)(k,"target"),style:(0,j.U2)(g,"target"),size:(0,j.mf)((0,j.U2)(z,"target"))?function(ze){return(0,j.U2)(z,"target")(ze)/2}:(0,j.U2)(z,"target")/2,shape:D==="horizontal"?"line":"hyphen"}}});return jr(Se),D==="horizontal"&&f.coordinate().transpose(),(0,q.pi)((0,q.pi)({},h),{ext:{data:{min:rt,max:bt}}})}function Yc(h){var f,d,g=h.options,x=h.ext,w=g.xAxis,M=g.yAxis,F=g.targetField,k=g.rangeField,D=g.measureField,z=g.xField,X=x.data;return ct(fr((f={},f[z]=w,f[D]=M,f),(d={},d[D]={min:X==null?void 0:X.min,max:X==null?void 0:X.max,sync:!0},d[F]={sync:"".concat(D)},d[k]={sync:"".concat(D)},d)))(h)}function $v(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.measureField,F=d.rangeField,k=d.targetField;return f.axis("".concat(F),!1),f.axis("".concat(k),!1),g===!1?f.axis("".concat(w),!1):f.axis("".concat(w),g),x===!1?f.axis("".concat(M),!1):f.axis("".concat(M),x),h}function ys(h){var f=h.chart,d=h.options,g=d.legend;return f.removeInteraction("legend-filter"),f.legend(g),f.legend("rKey",!1),f.legend("mKey",!1),f.legend("tKey",!1),h}function Kv(h){var f=h.chart,d=h.options,g=d.label,x=d.measureField,w=d.targetField,M=d.rangeField,F=f.geometries,k=F[0],D=F[1],z=F[2];return(0,j.U2)(g,"range")?k.label("".concat(M),(0,q.pi)({layout:[{type:"limit-in-plot"}]},ge(g.range))):k.label(!1),(0,j.U2)(g,"measure")?D.label("".concat(x),(0,q.pi)({layout:[{type:"limit-in-plot"}]},ge(g.measure))):D.label(!1),(0,j.U2)(g,"target")?z.label("".concat(w),(0,q.pi)({layout:[{type:"limit-in-plot"}]},ge(g.target))):z.label(!1),h}function Hc(h){ct(au,Yc,$v,ys,qe,Kv,er,or,je)(h)}var ou=Z({},wr.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),$0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="bullet",d}return f.getDefaultOptions=function(){return ou},f.prototype.changeData=function(d){this.updateOption({data:d});var g=Wc(this.options),x=g.min,w=g.max,M=g.ds;Yc({options:this.options,ext:{data:{min:x,max:w}},chart:this.chart}),this.chart.changeData(M)},f.prototype.getSchemaAdaptor=function(){return Hc},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f}(wr),qv={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(h){return h.id},source:function(h){return h.source},target:function(h){return h.target},sourceWeight:function(h){return h.value||1},targetWeight:function(h){return h.value||1},sortBy:null};function Gc(h,f,d){(0,j.U5)(h,function(g,x){g.inEdges=f.filter(function(w){return"".concat(d.target(w))==="".concat(x)}),g.outEdges=f.filter(function(w){return"".concat(d.source(w))==="".concat(x)}),g.edges=g.outEdges.concat(g.inEdges),g.frequency=g.edges.length,g.value=0,g.inEdges.forEach(function(w){g.value+=d.targetWeight(w)}),g.outEdges.forEach(function(w){g.value+=d.sourceWeight(w)})})}function Jv(h,f){var d={weight:function(x,w){return w.value-x.value},frequency:function(x,w){return w.frequency-x.frequency},id:function(x,w){return"".concat(f.id(x)).localeCompare("".concat(f.id(w)))}},g=d[f.sortBy];!g&&(0,j.mf)(f.sortBy)&&(g=f.sortBy),g&&h.sort(g)}function Qv(h,f){var d=h.length;if(!d)throw new TypeError("Invalid nodes: it's empty!");if(f.weight){var g=f.nodePaddingRatio;if(g<0||g>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var x=g/(2*d),w=f.nodeWidthRatio;if(w<=0||w>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var M=0;h.forEach(function(k){M+=k.value}),h.forEach(function(k){k.weight=k.value/M,k.width=k.weight*(1-g),k.height=w}),h.forEach(function(k,D){for(var z=0,X=D-1;X>=0;X--)z+=h[X].width+2*x;var Y=k.minX=x+z,rt=k.maxX=k.minX+k.width,bt=k.minY=f.y-w/2,_t=k.maxY=bt+w;k.x=[Y,rt,rt,Y],k.y=[bt,bt,_t,_t]})}else{var F=1/d;h.forEach(function(k,D){k.x=(D+.5)*F,k.y=f.y})}return h}function Xc(h,f,d){if(d.weight){var g={};(0,j.U5)(h,function(x,w){g[w]=x.value}),f.forEach(function(x){var w=d.source(x),M=d.target(x),F=h[w],k=h[M];if(F&&k){var D=g[w],z=d.sourceWeight(x),X=F.minX+(F.value-D)/F.value*F.width,Y=X+z/F.value*F.width;g[w]-=z;var rt=g[M],bt=d.targetWeight(x),_t=k.minX+(k.value-rt)/k.value*k.width,Ut=_t+bt/k.value*k.width;g[M]-=bt;var Dt=d.y;x.x=[X,Y,_t,Ut],x.y=[Dt,Dt,Dt,Dt],x.source=F,x.target=k}})}else f.forEach(function(x){var w=h[d.source(x)],M=h[d.target(x)];w&&M&&(x.x=[w.x,M.x],x.y=[w.y,M.y],x.source=w,x.target=M)});return f}function su(h){return(0,j.f0)({},qv,h)}function ms(h,f){var d=su(h),g={},x=f.nodes,w=f.links;x.forEach(function(k){var D=d.id(k);g[D]=k}),Gc(g,w,d),Jv(x,d);var M=Qv(x,d),F=Xc(g,w,d);return{nodes:M,links:F}}var lu="x",Zc="y",jc="name",$c="source",td={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(h,f){var d=(h[0]+h[1])/2,g=d>.5?-4:4;return{offsetX:g,content:f}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(h){return!(0,j.U2)(h,[0,"data","isNode"])},formatter:function(h){var f=h.source,d=h.target,g=h.value;return{name:"".concat(f," -> ").concat(d),value:g}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Kc(h){var f=h.options,d=f.data,g=f.sourceField,x=f.targetField,w=f.weightField,M=f.nodePaddingRatio,F=f.nodeWidthRatio,k=f.rawFields,D=k===void 0?[]:k,z=I(d,g,x,w),X=ms({weight:!0,nodePaddingRatio:M,nodeWidthRatio:F},z),Y=X.nodes,rt=X.links,bt=Y.map(function(Ut){return(0,q.pi)((0,q.pi)({},de(Ut,(0,q.ev)(["id","x","y","name"],D,!0))),{isNode:!0})}),_t=rt.map(function(Ut){return(0,q.pi)((0,q.pi)({source:Ut.source.name,target:Ut.target.name,name:Ut.source.name||Ut.target.name},de(Ut,(0,q.ev)(["x","y","value"],D,!0))),{isNode:!1})});return(0,q.pi)((0,q.pi)({},h),{ext:(0,q.pi)((0,q.pi)({},h.ext),{chordData:{nodesData:bt,edgesData:_t}})})}function ed(h){var f,d=h.chart;return d.scale((f={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},f[jc]={sync:"color"},f[$c]={sync:"color"},f)),h}function rd(h){var f=h.chart;return f.axis(!1),h}function qc(h){var f=h.chart;return f.legend(!1),h}function nd(h){var f=h.chart,d=h.options,g=d.tooltip;return f.tooltip(g),h}function Jc(h){var f=h.chart;return f.coordinate("polar").reflect("y"),h}function id(h){var f=h.chart,d=h.options,g=h.ext.chordData.nodesData,x=d.nodeStyle,w=d.label,M=d.tooltip,F=f.createView();return F.data(g),gi({chart:F,options:{xField:lu,yField:Zc,seriesField:jc,polygon:{style:x},label:w,tooltip:M}}),h}function ad(h){var f=h.chart,d=h.options,g=h.ext.chordData.edgesData,x=d.edgeStyle,w=d.tooltip,M=f.createView();M.data(g);var F={xField:lu,yField:Zc,seriesField:$c,edge:{style:x,shape:"arc"},tooltip:w};return ri({chart:M,options:F}),h}function od(h){var f=h.chart,d=h.options,g=d.animation;return Wt(f,g,Qt(f)),h}function sd(h){return ct(qe,Kc,Jc,ed,rd,qc,nd,ad,id,or,hr,od)(h)}var K0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="chord",d}return f.getDefaultOptions=function(){return td},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return sd},f}(wr),ld=["x","y","r","name","value","path","depth"],uu={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},Qc=4,th=0,eh=5,rh="drilldown-bread-crumb",xs={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},xo="hierarchy-data-transform-params",cu=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.name="drill-down",d.historyCache=[],d.breadCrumbGroup=null,d.breadCrumbCfg=xs,d}return f.prototype.click=function(){var d=(0,j.U2)(this.context,["event","data","data"]);if(!d)return!1;this.drill(d),this.drawBreadCrumb()},f.prototype.resetPosition=function(){if(this.breadCrumbGroup){var d=this.context.view.getCoordinate(),g=this.breadCrumbGroup,x=g.getBBox(),w=this.getButtonCfg().position,M={x:d.start.x,y:d.end.y-(x.height+eh*2)};d.isPolar&&(M={x:0,y:0}),w==="bottom-left"&&(M={x:d.start.x,y:d.start.y});var F=St.Zr.transform(null,[["t",M.x+th,M.y+x.height+eh]]);g.setMatrix(F)}},f.prototype.back=function(){(0,j.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},f.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},f.prototype.drill=function(d){var g=this.context.view,x=(0,j.U2)(g,["interactions","drill-down","cfg","transformData"],function(D){return D}),w=x((0,q.pi)({data:d.data},d[xo]));g.changeData(w);for(var M=[],F=d;F;){var k=F.data;M.unshift({id:"".concat(k.name,"_").concat(F.height,"_").concat(F.depth),name:k.name,children:x((0,q.pi)({data:k},d[xo]))}),F=F.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(M)},f.prototype.backTo=function(d){if(!(!d||d.length<=0)){var g=this.context.view,x=(0,j.Z$)(d).children;g.changeData(x),d.length>1?(this.historyCache=d,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},f.prototype.getButtonCfg=function(){var d=this.context.view,g=(0,j.U2)(d,["interactions","drill-down","cfg","drillDownConfig"]);return Z(this.breadCrumbCfg,g==null?void 0:g.breadCrumb,this.cfg)},f.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},f.prototype.drawBreadCrumbGroup=function(){var d=this,g=this.getButtonCfg(),x=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:rh});var w=0;x.forEach(function(M,F){var k=d.breadCrumbGroup.addShape({type:"text",id:M.id,name:"".concat(rh,"_").concat(M.name,"_text"),attrs:(0,q.pi)((0,q.pi)({text:F===0&&!(0,j.UM)(g.rootText)?g.rootText:M.name},g.textStyle),{x:w,y:0})}),D=k.getBBox();if(w+=D.width+Qc,k.on("click",function(Y){var rt,bt=Y.target.get("id");if(bt!==((rt=(0,j.Z$)(x))===null||rt===void 0?void 0:rt.id)){var _t=x.slice(0,x.findIndex(function(Ut){return Ut.id===bt})+1);d.backTo(_t)}}),k.on("mouseenter",function(Y){var rt,bt=Y.target.get("id");bt!==((rt=(0,j.Z$)(x))===null||rt===void 0?void 0:rt.id)?k.attr(g.activeTextStyle):k.attr({cursor:"default"})}),k.on("mouseleave",function(){k.attr(g.textStyle)}),F<x.length-1){var z=d.breadCrumbGroup.addShape({type:"text",name:"".concat(g.name,"_").concat(M.name,"_divider"),attrs:(0,q.pi)((0,q.pi)({text:g.dividerText},g.textStyle),{x:w,y:0})}),X=z.getBBox();w+=X.width+Qc}})},f.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},f.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),h.prototype.destroy.call(this)},f}(St.aU),bs=H(52677),ud=H.n(bs);function cd(h){return ud()(h)==="object"&&"length"in h?h:Array.from(h)}function hd(h){for(var f=h.length,d,g;f;)g=Math.random()*f--|0,d=h[f],h[f]=h[g],h[g]=d;return h}function nh(h){for(var f=0,d=(h=hd(Array.from(h))).length,g=[],x,w;f<d;)x=h[f],w&&ah(w,x)?++f:(w=fd(g=ih(g,x)),f=0);return w}function ih(h,f){var d,g;if(hu(f,h))return[f];for(d=0;d<h.length;++d)if(il(f,h[d])&&hu(ws(h[d],f),h))return[h[d],f];for(d=0;d<h.length-1;++d)for(g=d+1;g<h.length;++g)if(il(ws(h[d],h[g]),f)&&il(ws(h[d],f),h[g])&&il(ws(h[g],f),h[d])&&hu(fu(h[d],h[g],f),h))return[h[d],h[g],f];throw new Error}function il(h,f){var d=h.r-f.r,g=f.x-h.x,x=f.y-h.y;return d<0||d*d<g*g+x*x}function ah(h,f){var d=h.r-f.r+Math.max(h.r,f.r,1)*1e-9,g=f.x-h.x,x=f.y-h.y;return d>0&&d*d>g*g+x*x}function hu(h,f){for(var d=0;d<f.length;++d)if(!ah(h,f[d]))return!1;return!0}function fd(h){switch(h.length){case 1:return vd(h[0]);case 2:return ws(h[0],h[1]);case 3:return fu(h[0],h[1],h[2])}}function vd(h){return{x:h.x,y:h.y,r:h.r}}function ws(h,f){var d=h.x,g=h.y,x=h.r,w=f.x,M=f.y,F=f.r,k=w-d,D=M-g,z=F-x,X=Math.sqrt(k*k+D*D);return{x:(d+w+k/X*z)/2,y:(g+M+D/X*z)/2,r:(X+x+F)/2}}function fu(h,f,d){var g=h.x,x=h.y,w=h.r,M=f.x,F=f.y,k=f.r,D=d.x,z=d.y,X=d.r,Y=g-M,rt=g-D,bt=x-F,_t=x-z,Ut=k-w,Dt=X-w,Se=g*g+x*x-w*w,ze=Se-M*M-F*F+k*k,De=Se-D*D-z*z+X*X,Re=rt*bt-Y*_t,ar=(bt*De-_t*ze)/(Re*2)-g,pr=(_t*Ut-bt*Dt)/Re,Cr=(rt*ze-Y*De)/(Re*2)-x,Gr=(Y*Dt-rt*Ut)/Re,Fr=pr*pr+Gr*Gr-1,Ar=2*(w+ar*pr+Cr*Gr),en=ar*ar+Cr*Cr-w*w,Mn=-(Fr?(Ar+Math.sqrt(Ar*Ar-4*Fr*en))/(2*Fr):en/Ar);return{x:g+ar+pr*Mn,y:x+Cr+Gr*Mn,r:Mn}}function al(h,f,d){var g=h.x-f.x,x,w,M=h.y-f.y,F,k,D=g*g+M*M;D?(w=f.r+d.r,w*=w,k=h.r+d.r,k*=k,w>k?(x=(D+k-w)/(2*D),F=Math.sqrt(Math.max(0,k/D-x*x)),d.x=h.x-x*g-F*M,d.y=h.y-x*M+F*g):(x=(D+w-k)/(2*D),F=Math.sqrt(Math.max(0,w/D-x*x)),d.x=f.x+x*g-F*M,d.y=f.y+x*M+F*g)):(d.x=f.x+d.r,d.y=f.y)}function Ss(h,f){var d=h.r+f.r-1e-6,g=f.x-h.x,x=f.y-h.y;return d>0&&d*d>g*g+x*x}function ol(h){var f=h._,d=h.next._,g=f.r+d.r,x=(f.x*d.r+d.x*f.r)/g,w=(f.y*d.r+d.y*f.r)/g;return x*x+w*w}function Vo(h){this._=h,this.next=null,this.previous=null}function vu(h){if(!(x=(h=cd(h)).length))return 0;var f,d,g,x,w,M,F,k,D,z,X;if(f=h[0],f.x=0,f.y=0,!(x>1))return f.r;if(d=h[1],f.x=-d.r,d.x=f.r,d.y=0,!(x>2))return f.r+d.r;al(d,f,g=h[2]),f=new Vo(f),d=new Vo(d),g=new Vo(g),f.next=g.previous=d,d.next=f.previous=g,g.next=d.previous=f;t:for(F=3;F<x;++F){al(f._,d._,g=h[F]),g=new Vo(g),k=d.next,D=f.previous,z=d._.r,X=f._.r;do if(z<=X){if(Ss(k._,g._)){d=k,f.next=d,d.previous=f,--F;continue t}z+=k._.r,k=k.next}else{if(Ss(D._,g._)){f=D,f.next=d,d.previous=f,--F;continue t}X+=D._.r,D=D.previous}while(k!==D.next);for(g.previous=f,g.next=d,f.next=d.previous=d=g,w=ol(f);(g=g.next)!==d;)(M=ol(g))<w&&(f=g,w=M);d=f.next}for(f=[d._],g=d;(g=g.next)!==d;)f.push(g._);for(g=nh(f),F=0;F<x;++F)f=h[F],f.x-=g.x,f.y-=g.y;return g.r}function dd(h){return vu(h),h}function pd(h){return h==null?null:sl(h)}function sl(h){if(typeof h!="function")throw new Error;return h}function $a(){return 0}function Uo(h){return function(){return h}}function gd(h){return Math.sqrt(h.value)}function Ta(){var h=null,f=1,d=1,g=$a;function x(w){return w.x=f/2,w.y=d/2,h?w.eachBefore(Aa(h)).eachAfter(bo(g,.5)).eachBefore(Cs(1)):w.eachBefore(Aa(gd)).eachAfter(bo($a,1)).eachAfter(bo(g,w.r/Math.min(f,d))).eachBefore(Cs(Math.min(f,d)/(2*w.r))),w}return x.radius=function(w){return arguments.length?(h=pd(w),x):h},x.size=function(w){return arguments.length?(f=+w[0],d=+w[1],x):[f,d]},x.padding=function(w){return arguments.length?(g=typeof w=="function"?w:Uo(+w),x):g},x}function Aa(h){return function(f){f.children||(f.r=Math.max(0,+h(f)||0))}}function bo(h,f){return function(d){if(g=d.children){var g,x,w=g.length,M=h(d)*f||0,F;if(M)for(x=0;x<w;++x)g[x].r+=M;if(F=vu(g),M)for(x=0;x<w;++x)g[x].r-=M;d.r=F+M}}}function Cs(h){return function(f){var d=f.parent;f.r*=h,d&&(f.x=d.x+h*f.x,f.y=d.y+h*f.y)}}var ll=H(9783),ul=H.n(ll);function oh(h){var f=0,d=h.children,g=d&&d.length;if(!g)f=1;else for(;--g>=0;)f+=d[g].value;h.value=f}function du(){return this.eachAfter(oh)}var pu=H(96695),sa=H.n(pu);function yd(h,f){var d=-1,g=sa()(this),x;try{for(g.s();!(x=g.n()).done;){var w=x.value;h.call(f,w,++d,this)}}catch(M){g.e(M)}finally{g.f()}return this}function md(h,f){for(var d=this,g=[d],x,w,M=-1;d=g.pop();)if(h.call(f,d,++M,this),x=d.children)for(w=x.length-1;w>=0;--w)g.push(x[w]);return this}function xd(h,f){for(var d=this,g=[d],x=[],w,M,F,k=-1;d=g.pop();)if(x.push(d),w=d.children)for(M=0,F=w.length;M<F;++M)g.push(w[M]);for(;d=x.pop();)h.call(f,d,++k,this);return this}function bd(h,f){var d=-1,g=sa()(this),x;try{for(g.s();!(x=g.n()).done;){var w=x.value;if(h.call(f,w,++d,this))return w}}catch(M){g.e(M)}finally{g.f()}}function wd(h){return this.eachAfter(function(f){for(var d=+h(f.data)||0,g=f.children,x=g&&g.length;--x>=0;)d+=g[x].value;f.value=d})}function Sd(h){return this.eachBefore(function(f){f.children&&f.children.sort(h)})}function Cd(h){for(var f=this,d=Md(f,h),g=[f];f!==d;)f=f.parent,g.push(f);for(var x=g.length;h!==d;)g.splice(x,0,h),h=h.parent;return g}function Md(h,f){if(h===f)return h;var d=h.ancestors(),g=f.ancestors(),x=null;for(h=d.pop(),f=g.pop();h===f;)x=h,h=d.pop(),f=g.pop();return x}function Td(){for(var h=this,f=[h];h=h.parent;)f.push(h);return f}function Ad(){return Array.from(this)}function Wo(){var h=[];return this.eachBefore(function(f){f.children||h.push(f)}),h}function Ed(){var h=this,f=[];return h.each(function(d){d!==h&&f.push({source:d.parent,target:d})}),f}var sh=H(15009),lh=H.n(sh),_d=lh()().mark(uh);function uh(){var h,f,d,g,x,w;return lh()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:h=this,d=[h];case 1:f=d.reverse(),d=[];case 2:if(!(h=f.pop())){F.next=8;break}return F.next=5,h;case 5:if(g=h.children)for(x=0,w=g.length;x<w;++x)d.push(g[x]);F.next=2;break;case 8:if(d.length){F.next=1;break}case 9:case"end":return F.stop()}},_d,this)}function Yo(h,f){h instanceof Map?(h=[void 0,h],f===void 0&&(f=ch)):f===void 0&&(f=q0);for(var d=new Ho(h),g,x=[d],w,M,F,k;g=x.pop();)if((M=f(g.data))&&(k=(M=Array.from(M)).length))for(g.children=M,F=k-1;F>=0;--F)x.push(w=M[F]=new Ho(M[F])),w.parent=g,w.depth=g.depth+1;return d.eachBefore(Id)}function Pd(){return Yo(this).eachBefore(hh)}function q0(h){return h.children}function ch(h){return Array.isArray(h)?h[1]:null}function hh(h){h.data.value!==void 0&&(h.value=h.data.value),h.data=h.data.data}function Id(h){var f=0;do h.height=f;while((h=h.parent)&&h.height<++f)}function Ho(h){this.data=h,this.depth=this.height=0,this.parent=null}Ho.prototype=Yo.prototype=ul()({constructor:Ho,count:du,each:yd,eachAfter:xd,eachBefore:md,find:bd,sum:wd,sort:Sd,path:Cd,ancestors:Td,descendants:Ad,leaves:Wo,links:Ed,copy:Pd},Symbol.iterator,uh);var fh="nodeIndex",Ms="childNodeCount",gu="nodeAncestor",yu="Invalid field: it must be a string!";function mu(h,f){var d=h.field,g=h.fields;if((0,j.HD)(d))return d;if((0,j.kJ)(d))return console.warn(yu),d[0];if(console.warn("".concat(yu," will try to get fields instead.")),(0,j.HD)(g))return g;if((0,j.kJ)(g)&&g.length)return g[0];if(f)return f;throw new TypeError(yu)}function xu(h){var f=[];if(h&&h.each){var d,g;h.each(function(x){var w,M;x.parent!==d?(d=x.parent,g=0):g+=1;var F=(0,j.hX)((((w=x.ancestors)===null||w===void 0?void 0:w.call(x))||[]).map(function(k){return f.find(function(D){return D.name===k.name})||k}),function(k){var D=k.depth;return D>0&&D<x.depth});x[gu]=F,x[Ms]=((M=x.children)===null||M===void 0?void 0:M.length)||0,x[fh]=g,f.push(x)})}else h&&h.eachNode&&h.eachNode(function(x){f.push(x)});return f}var J0={field:"value",as:["x","y","r"],sort:function(h,f){return f.value-h.value}};function Go(h,f){f=(0,j.f0)({},J0,f);var d=f.as;if(!(0,j.kJ)(d)||d.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var g;try{g=mu(f)}catch(D){console.warn(D)}var x=function(D){return Ta().size(f.size).padding(f.padding)(Yo(D).sum(function(z){return z[g]}).sort(f.sort))},w=x(h),M=d[0],F=d[1],k=d[2];return w.each(function(D){D[M]=D.x,D[F]=D.y,D[k]=D.r}),xu(w)}function vh(h){var f=h.data,d=h.hierarchyConfig,g=h.rawFields,x=g===void 0?[]:g,w=h.enableDrillDown,M=Go(f,(0,q.pi)((0,q.pi)({},d),{field:"value",as:["x","y","r"]})),F=[];return M.forEach(function(k){for(var D,z=k.data.name,X=(0,q.pi)({},k);X.depth>1;)z="".concat((D=X.parent.data)===null||D===void 0?void 0:D.name," / ").concat(z),X=X.parent;if(w&&k.depth>2)return null;var Y=Z({},k.data,(0,q.pi)((0,q.pi)((0,q.pi)({},de(k.data,x)),{path:z}),k));Y.ext=d,Y[xo]={hierarchyConfig:d,rawFields:x,enableDrillDown:w},F.push(Y)}),F}function cl(h,f,d){var g=ye([h,f]),x=g[0],w=g[1],M=g[2],F=g[3],k=d.width,D=d.height,z=k-(F+w),X=D-(x+M),Y=Math.min(z,X),rt=(z-Y)/2,bt=(X-Y)/2,_t=x+bt,Ut=w+rt,Dt=M+bt,Se=F+rt,ze=[_t,Ut,Dt,Se],De=Y<0?0:Y;return{finalPadding:ze,finalSize:De}}function Fd(h){var f=h.chart,d=Math.min(f.viewBBox.width,f.viewBBox.height);return Z({options:{size:function(g){var x=g.r;return x*d}}},h)}function kd(h){var f=h.options,d=h.chart,g=d.viewBBox,x=f.padding,w=f.appendPadding,M=f.drilldown,F=w;if(M!=null&&M.enabled){var k=Ae(d.appendPadding,(0,j.U2)(M,["breadCrumb","position"]));F=ye([k,w])}var D=cl(x,F,g).finalPadding;return d.padding=D,d.appendPadding=0,h}function Dd(h){var f=h.chart,d=h.options,g=f.padding,x=f.appendPadding,w=d.color,M=d.colorField,F=d.pointStyle,k=d.hierarchyConfig,D=d.sizeField,z=d.rawFields,X=z===void 0?[]:z,Y=d.drilldown,rt=vh({data:d.data,hierarchyConfig:k,enableDrillDown:Y==null?void 0:Y.enabled,rawFields:X});f.data(rt);var bt=f.viewBBox,_t=cl(g,x,bt).finalSize,Ut=function(Dt){var Se=Dt.r;return Se*_t};return D&&(Ut=function(Dt){return Dt[D]*_t}),jr(Z({},h,{options:{xField:"x",yField:"y",seriesField:M,sizeField:D,rawFields:(0,q.ev)((0,q.ev)([],ld,!0),X,!0),point:{color:w,style:F,shape:"circle",size:Ut}}})),h}function Ld(h){return ct(fr({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(h)}function Od(h){var f=h.chart,d=h.options,g=d.tooltip;if(g===!1)f.tooltip(!1);else{var x=g;(0,j.U2)(g,"fields")||(x=Z({},{customItems:function(w){return w.map(function(M){var F=(0,j.U2)(f.getOptions(),"scales"),k=(0,j.U2)(F,["name","formatter"],function(z){return z}),D=(0,j.U2)(F,["value","formatter"],function(z){return z});return(0,q.pi)((0,q.pi)({},M),{name:k(M.data.name),value:D(M.data.value)})})}},x)),f.tooltip(x)}return h}function dh(h){var f=h.chart;return f.axis(!1),h}function Bd(h){var f=h.drilldown,d=h.interactions,g=d===void 0?[]:d;return f!=null&&f.enabled?Z({},h,{interactions:(0,q.ev)((0,q.ev)([],g,!0),[{type:"drill-down",cfg:{drillDownConfig:f,transformData:vh,enableDrillDown:!0}}],!1)}):h}function hl(h){var f=h.chart,d=h.options;return or({chart:f,options:Bd(d)}),h}function Rd(h){return ct($e("pointStyle"),Fd,kd,qe,Ld,Dd,dh,Ze,Od,hl,je,cr())(h)}function bu(h){var f=(0,j.U2)(h,["event","data","data"],{});return(0,j.kJ)(f.children)&&f.children.length>0}function wu(h){var f=h.view.getCoordinate(),d=f.innerRadius;if(d){var g=h.event,x=g.x,w=g.y,M=f.center,F=M.x,k=M.y,D=f.getRadius()*d,z=Math.sqrt(Math.pow(F-x,2)+Math.pow(k-w,2));return z<D}return!1}(0,St.zl)("drill-down-action",cu),(0,St.w_)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:bu},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:wu}],start:[{trigger:"element:click",isEnable:bu,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:wu,action:["drill-down-action:back"]}]});var Ln=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="circle-packing",d}return f.getDefaultOptions=function(){return uu},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Rd},f.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},f}(wr),Nn="left-axes-view",Ei="right-axes-view",Xo={nice:!0,label:{autoHide:!0,autoRotate:!1}},Nd=(0,q.pi)((0,q.pi)({},Xo),{position:"left"}),ph=(0,q.pi)((0,q.pi)({},Xo),{position:"right",grid:null}),la;(function(h){h.Left="Left",h.Right="Right"})(la||(la={}));var wo;(function(h){h.Line="line",h.Column="column"})(wo||(wo={}));function li(h){return(0,j.U2)(h,"geometry")===wo.Line}function Ea(h){return(0,j.U2)(h,"geometry")===wo.Column}function ti(h,f,d){return Ea(d)?Z({},{geometry:wo.Column,label:d.label&&d.isRange?{content:function(g){var x;return(x=g[f])===null||x===void 0?void 0:x.join("-")}}:void 0},d):(0,q.pi)({geometry:wo.Line},d)}function zd(h,f){var d=h[0],g=h[1];if((0,j.kJ)(f)){var x=f[0],w=f[1];return[x,w]}var M=(0,j.U2)(f,d),F=(0,j.U2)(f,g);return[M,F]}function gh(h,f){return f===la.Left?h===!1?!1:Z({},Nd,h):f===la.Right?h===!1?!1:Z({},ph,h):h}function Ts(h){var f=h.options,d=h.chart,g=f.geometryOption,x=g.isStack,w=g.color,M=g.seriesField,F=g.groupField,k=g.isGroup,D=["xField","yField"];if(li(g)){$n(Z({},h,{options:(0,q.pi)((0,q.pi)((0,q.pi)({},de(f,D)),g),{line:{color:g.color,style:g.lineStyle}})})),jr(Z({},h,{options:(0,q.pi)((0,q.pi)((0,q.pi)({},de(f,D)),g),{point:g.point&&(0,q.pi)({color:w,shape:"circle"},g.point)})}));var z=[];k&&z.push({type:"dodge",dodgeBy:F||M,customOffset:0}),x&&z.push({type:"stack"}),z.length&&(0,j.S6)(d.geometries,function(X){X.adjust(z)})}return Ea(g)&&Yn(Z({},h,{options:(0,q.pi)((0,q.pi)((0,q.pi)({},de(f,D)),g),{widthRatio:g.columnWidthRatio,interval:(0,q.pi)((0,q.pi)({},de(g,["color"])),{style:g.columnStyle})})})),h}function yh(h){var f=h.view,d=h.geometryOption,g=h.yField,x=h.legend,w=(0,j.U2)(x,"marker"),M=ue(f,li(d)?"line":"interval");if(!d.seriesField){var F=(0,j.U2)(f,"options.scales.".concat(g,".alias"))||g,k=M.getAttribute("color"),D=f.getTheme().defaultColor;k&&(D=St.Zr.getMappingValue(k,F,(0,j.U2)(k,["values",0],D)));var z=((0,j.mf)(w)?w:!(0,j.xb)(w)&&Z({},{style:{stroke:D,fill:D}},w))||(li(d)?{symbol:function(Y,rt,bt){return[["M",Y-bt,rt],["L",Y+bt,rt]]},style:{lineWidth:2,r:6,stroke:D}}:{symbol:"square",style:{fill:D}});return[{value:g,name:F,marker:z,isGeometry:!0,viewId:f.id}]}var X=M.getGroupAttributes();return(0,j.u4)(X,function(Y,rt){var bt=St.Zr.getLegendItems(f,M,rt,f.getTheme(),w);return Y.concat(bt)},[])}var As=function(h,f){var d=f[0],g=f[1],x=h.getOptions().data,w=h.getXScale(),M=(0,j.dp)(x);if(!(!w||!M)){var F=!0,k=(0,j.I)(x,w.field),D=F?k:k.reverse(),z=(0,j.dp)(D),X=Math.floor(d*(z-1)),Y=Math.floor(g*(z-1));h.filter(w.field,function(rt){var bt=D.indexOf(rt);return bt>-1?vt(bt,X,Y):!0}),h.getRootView().render(!0)}};function Vd(h){var f,d=h.options,g=d.geometryOptions,x=g===void 0?[]:g,w=d.xField,M=d.yField,F=(0,j.yW)(x,function(k){var D=k.geometry;return D===wo.Line||D===void 0});return Z({},{options:{geometryOptions:[],meta:(f={},f[w]={type:"cat",sync:!0,range:F?[0,1]:void 0},f),tooltip:{showMarkers:F,showCrosshairs:F,shared:!0,crosshairs:{type:"x"}},interactions:F?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},h,{options:{yAxis:zd(M,d.yAxis),geometryOptions:[ti(w,M[0],x[0]),ti(w,M[1],x[1])],annotations:zd(M,d.annotations)}})}function Zo(h){var f,d,g=h.chart,x=h.options,w=x.geometryOptions,M={line:0,column:1},F=[{type:(f=w[0])===null||f===void 0?void 0:f.geometry,id:Nn},{type:(d=w[1])===null||d===void 0?void 0:d.geometry,id:Ei}];return F.sort(function(k,D){return-M[k.type]+M[D.type]}).forEach(function(k){return g.createView({id:k.id})}),h}function Su(h){var f=h.chart,d=h.options,g=d.xField,x=d.yField,w=d.geometryOptions,M=d.data,F=d.tooltip,k=[(0,q.pi)((0,q.pi)({},w[0]),{id:Nn,data:M[0],yField:x[0]}),(0,q.pi)((0,q.pi)({},w[1]),{id:Ei,data:M[1],yField:x[1]})];return k.forEach(function(D){var z=D.id,X=D.data,Y=D.yField,rt=Ea(D)&&D.isPercent,bt=rt?ni(X,Y,g,Y):X,_t=tt(f,z).data(bt),Ut=rt?(0,q.pi)({formatter:function(Dt){return{name:Dt[D.seriesField]||Y,value:(Number(Dt[Y])*100).toFixed(2)+"%"}}},F):F;Ts({chart:_t,options:{xField:g,yField:Y,tooltip:Ut,geometryOption:D}})}),h}function Ud(h){var f,d=h.chart,g=h.options,x=g.geometryOptions,w=((f=d.getTheme())===null||f===void 0?void 0:f.colors10)||[],M=0;return d.once("beforepaint",function(){(0,j.S6)(x,function(F,k){var D=tt(d,k===0?Nn:Ei);if(!F.color){var z=D.getGroupScales(),X=(0,j.U2)(z,[0,"values","length"],1),Y=w.slice(M,M+X).concat(k===0?[]:w);D.geometries.forEach(function(rt){F.seriesField?rt.color(F.seriesField,Y):rt.color(Y[0])}),M+=X}}),d.render(!0)}),h}function Wd(h){var f,d,g=h.chart,x=h.options,w=x.xAxis,M=x.yAxis,F=x.xField,k=x.yField;return fr((f={},f[F]=w,f[k[0]]=M[0],f))(Z({},h,{chart:tt(g,Nn)})),fr((d={},d[F]=w,d[k[1]]=M[1],d))(Z({},h,{chart:tt(g,Ei)})),h}function Yd(h){var f=h.chart,d=h.options,g=tt(f,Nn),x=tt(f,Ei),w=d.xField,M=d.yField,F=d.xAxis,k=d.yAxis;return f.axis(w,!1),f.axis(M[0],!1),f.axis(M[1],!1),g.axis(w,F),g.axis(M[0],gh(k[0],la.Left)),x.axis(w,!1),x.axis(M[1],gh(k[1],la.Right)),h}function mh(h){var f=h.chart,d=h.options,g=d.tooltip,x=tt(f,Nn),w=tt(f,Ei);return f.tooltip(g),x.tooltip({shared:!0}),w.tooltip({shared:!0}),h}function Hd(h){var f=h.chart;return or(Z({},h,{chart:tt(f,Nn)})),or(Z({},h,{chart:tt(f,Ei)})),h}function Gd(h){var f=h.chart,d=h.options,g=d.annotations,x=(0,j.U2)(g,[0]),w=(0,j.U2)(g,[1]);return cr(x)(Z({},h,{chart:tt(f,Nn),options:{annotations:x}})),cr(w)(Z({},h,{chart:tt(f,Ei),options:{annotations:w}})),h}function Es(h){var f=h.chart;return qe(Z({},h,{chart:tt(f,Nn)})),qe(Z({},h,{chart:tt(f,Ei)})),qe(h),h}function xh(h){var f=h.chart;return je(Z({},h,{chart:tt(f,Nn)})),je(Z({},h,{chart:tt(f,Ei)})),h}function Xd(h){var f=h.chart,d=h.options,g=d.yAxis;return gr(Z({},h,{chart:tt(f,Nn),options:{yAxis:g[0]}})),gr(Z({},h,{chart:tt(f,Ei),options:{yAxis:g[1]}})),h}function Zd(h){var f=h.chart,d=h.options,g=d.legend,x=d.geometryOptions,w=d.yField,M=d.data,F=tt(f,Nn),k=tt(f,Ei);if(g===!1)f.legend(!1);else if((0,j.Kn)(g)&&g.custom===!0)f.legend(g);else{var D=(0,j.U2)(x,[0,"legend"],g),z=(0,j.U2)(x,[1,"legend"],g);f.once("beforepaint",function(){var X=M[0].length?yh({view:F,geometryOption:x[0],yField:w[0],legend:D}):[],Y=M[1].length?yh({view:k,geometryOption:x[1],yField:w[1],legend:z}):[];f.legend(Z({},g,{custom:!0,items:X.concat(Y)}))}),x[0].seriesField&&F.legend(x[0].seriesField,D),x[1].seriesField&&k.legend(x[1].seriesField,z),f.on("legend-item:click",function(X){var Y=(0,j.U2)(X,"gEvent.delegateObject",{});if(Y&&Y.item){var rt=Y.item,bt=rt.value,_t=rt.isGeometry,Ut=rt.viewId;if(_t){var Dt=(0,j.cx)(w,function(De){return De===bt});if(Dt>-1){var Se=(0,j.U2)(tt(f,Ut),"geometries");(0,j.S6)(Se,function(De){De.changeVisible(!Y.item.unchecked)})}}else{var ze=(0,j.U2)(f.getController("legend"),"option.items",[]);(0,j.S6)(f.views,function(De){var Re=De.getGroupScales();(0,j.S6)(Re,function(ar){ar.values&&ar.values.indexOf(bt)>-1&&De.filter(ar.field,function(pr){var Cr=(0,j.sE)(ze,function(Gr){return Gr.value===pr});return!Cr.unchecked})}),f.render(!0)})}}})}return h}function jd(h){var f=h.chart,d=h.options,g=d.slider,x=tt(f,Nn),w=tt(f,Ei);return g&&(x.option("slider",g),x.on("slider:valuechanged",function(M){var F=M.event,k=F.value,D=F.originValue;(0,j.Xy)(k,D)||As(w,k)}),f.once("afterpaint",function(){if(!(0,j.jn)(g)){var M=g.start,F=g.end;(M||F)&&As(w,[M,F])}})),h}function fl(h){return ct(Vd,Zo,Es,Su,Wd,Yd,Xd,mh,Hd,Gd,xh,Ud,Zd,jd)(h)}var Q0=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="dual-axes",d}return f.prototype.getDefaultOptions=function(){return Z({},h.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},f.prototype.getSchemaAdaptor=function(){return fl},f}(wr);function bh(h,f){var d=f.data,g=f.coordinate,x=f.interactions,w=f.annotations,M=f.animation,F=f.tooltip,k=f.axes,D=f.meta,z=f.geometries;d&&h.data(d);var X={};k&&(0,j.S6)(k,function(Y,rt){X[rt]=de(Y,re)}),X=Z({},D,X),h.scale(X),g&&h.coordinate(g),k===!1?h.axis(!1):(0,j.S6)(k,function(Y,rt){h.axis(rt,Y)}),(0,j.S6)(z,function(Y){var rt=Xr({chart:h,options:Y}).ext,bt=Y.adjust;bt&&rt.geometry.adjust(bt)}),(0,j.S6)(x,function(Y){Y.enable===!1?h.removeInteraction(Y.type):h.interaction(Y.type,Y.cfg)}),(0,j.S6)(w,function(Y){h.annotation()[Y.type]((0,q.pi)({},Y))}),Wt(h,M),F?(h.interaction("tooltip"),h.tooltip(F)):F===!1&&h.removeInteraction("tooltip")}function wh(h){var f=h.chart,d=h.options,g=d.type,x=d.data,w=d.fields,M=d.eachView,F=(0,j.CE)(d,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return f.data(x),f.facet(g,(0,q.pi)((0,q.pi)({},F),{fields:w,eachView:function(k,D){var z=M(k,D);if(z.geometries)bh(k,z);else{var X=z,Y=X.options;Y.tooltip&&k.interaction("tooltip"),rl(X.type,k,Y)}}})),h}function vl(h){var f=h.chart,d=h.options,g=d.axes,x=d.meta,w=d.tooltip,M=d.coordinate,F=d.theme,k=d.legend,D=d.interactions,z=d.annotations,X={};return g&&(0,j.S6)(g,function(Y,rt){X[rt]=de(Y,re)}),X=Z({},x,X),f.scale(X),f.coordinate(M),g?(0,j.S6)(g,function(Y,rt){f.axis(rt,Y)}):f.axis(!1),w?(f.interaction("tooltip"),f.tooltip(w)):w===!1&&f.removeInteraction("tooltip"),f.legend(k),F&&f.theme(F),(0,j.S6)(D,function(Y){Y.enable===!1?f.removeInteraction(Y.type):f.interaction(Y.type,Y.cfg)}),(0,j.S6)(z,function(Y){f.annotation()[Y.type]((0,q.pi)({},Y))}),h}function Sh(h){return ct(qe,wh,vl)(h)}var Cu={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},Mu=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="area",d}return f.getDefaultOptions=function(){return Cu},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Sh},f}(wr);function Ch(h){var f=h.chart,d=h.options,g=d.data,x=d.type,w=d.xField,M=d.yField,F=d.colorField,k=d.sizeField,D=d.sizeRatio,z=d.shape,X=d.color,Y=d.tooltip,rt=d.heatmapStyle,bt=d.meta;f.data(g);var _t="polygon";x==="density"&&(_t="heatmap");var Ut=Sn(Y,[w,M,F]),Dt=Ut.fields,Se=Ut.formatter,ze=1;return(D||D===0)&&(!z&&!k?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):D<0||D>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):ze=D),Xr(Z({},h,{options:{type:_t,colorField:F,tooltipFields:Dt,shapeField:k||"",label:void 0,mapping:{tooltip:Se,shape:z&&(k?function(De){var Re=g.map(function(Gr){return Gr[k]}),ar=(bt==null?void 0:bt[k])||{},pr=ar.min,Cr=ar.max;return pr=(0,j.hj)(pr)?pr:Math.min.apply(Math,Re),Cr=(0,j.hj)(Cr)?Cr:Math.max.apply(Math,Re),[z,((0,j.U2)(De,k)-pr)/(Cr-pr),ze]}:function(){return[z,1,ze]}),color:X||F&&f.getTheme().sequenceColors.join("-"),style:rt}}})),h}function Mh(h){var f,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return ct(fr((f={},f[w]=g,f[M]=x,f)))(h)}function jo(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?f.axis(M,!1):f.axis(M,x),h}function Th(h){var f=h.chart,d=h.options,g=d.legend,x=d.colorField,w=d.sizeField,M=d.sizeLegend,F=g!==!1;return x&&f.legend(x,F?g:!1),w&&f.legend(w,M===void 0?g:M),!F&&!M&&f.legend(!1),h}function $d(h){var f=h.chart,d=h.options,g=d.label,x=d.colorField,w=d.type,M=ue(f,w==="density"?"heatmap":"polygon");if(!g)M.label(!1);else if(x){var F=g.callback,k=(0,q._T)(g,["callback"]);M.label({fields:[x],callback:F,cfg:ge(k)})}return h}function $o(h){var f,d,g=h.chart,x=h.options,w=x.coordinate,M=x.reflect,F=Z({actions:[]},w!=null?w:{type:"rect"});return M&&((d=(f=F.actions)===null||f===void 0?void 0:f.push)===null||d===void 0||d.call(f,["reflect",M])),g.coordinate(F),h}function Kd(h){return ct(qe,$e("heatmapStyle"),Mh,$o,Ch,jo,Th,er,$d,cr(),or,je,hr)(h)}var Fn=Z({},wr.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});(0,St.Fj)("polygon","circle",{draw:function(h,f){var d,g,x=h.x,w=h.y,M=this.parsePoints(h.points),F=Math.abs(M[2].x-M[1].x),k=Math.abs(M[1].y-M[0].y),D=Math.min(F,k)/2,z=Number(h.shape[1]),X=Number(h.shape[2]),Y=Math.sqrt(X),rt=D*Y*Math.sqrt(z),bt=((d=h.style)===null||d===void 0?void 0:d.fill)||h.color||((g=h.defaultStyle)===null||g===void 0?void 0:g.fill),_t=f.addShape("circle",{attrs:(0,q.pi)((0,q.pi)((0,q.pi)({x,y:w,r:rt},h.defaultStyle),h.style),{fill:bt})});return _t}}),(0,St.Fj)("polygon","square",{draw:function(h,f){var d,g,x=h.x,w=h.y,M=this.parsePoints(h.points),F=Math.abs(M[2].x-M[1].x),k=Math.abs(M[1].y-M[0].y),D=Math.min(F,k),z=Number(h.shape[1]),X=Number(h.shape[2]),Y=Math.sqrt(X),rt=D*Y*Math.sqrt(z),bt=((d=h.style)===null||d===void 0?void 0:d.fill)||h.color||((g=h.defaultStyle)===null||g===void 0?void 0:g.fill),_t=f.addShape("rect",{attrs:(0,q.pi)((0,q.pi)((0,q.pi)({x:x-rt/2,y:w-rt/2,width:rt,height:rt},h.defaultStyle),h.style),{fill:bt})});return _t}});var ty=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="heatmap",d}return f.getDefaultOptions=function(){return Fn},f.prototype.getSchemaAdaptor=function(){return Kd},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f}(wr),qd="liquid";function _s(h){return[{percent:h,type:qd}]}function Jd(h){var f=h.chart,d=h.options,g=d.percent,x=d.liquidStyle,w=d.radius,M=d.outline,F=d.wave,k=d.shape,D=d.shapeStyle,z=d.animation;f.scale({percent:{min:0,max:1}}),f.data(_s(g));var X=d.color||f.getTheme().defaultColor,Y=Z({},h,{options:{xField:"type",yField:"percent",widthRatio:w,interval:{color:X,style:x,shape:"liquid-fill-gauge"}}}),rt=Yr(Y).ext,bt=rt.geometry,_t=f.getTheme().background,Ut={percent:g,radius:w,outline:M,wave:F,shape:k,shapeStyle:D,background:_t,animation:z};return bt.customInfo(Ut),f.legend(!1),f.axis(!1),f.tooltip(!1),h}function Ah(h,f){var d=h.chart,g=h.options,x=g.statistic,w=g.percent,M=g.meta;d.getController("annotation").clear(!0);var F=(0,j.U2)(M,["percent","formatter"])||function(D){return"".concat((D*100).toFixed(2),"%")},k=x.content;return k&&(k=Z({},k,{content:(0,j.UM)(k.content)?F(w):k.content})),K(d,{statistic:(0,q.pi)((0,q.pi)({},x),{content:k}),plotType:"liquid"},{percent:w}),f&&d.render(!0),h}function _r(h){return ct(qe,$e("liquidStyle"),Jd,Ah,fr({}),je,or)(h)}var ey={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},Eh=5e3;function _h(h,f,d){return h+(f-h)*d}function Tu(h){var f=(0,q.pi)({opacity:1},h.style);return h.color&&!f.fill&&(f.fill=h.color),f}function Ph(h){var f={fill:"#fff",fillOpacity:0,lineWidth:4},d=(0,j.CD)({},f,h.style);return h.color&&!d.stroke&&(d.stroke=h.color),(0,j.hj)(h.opacity)&&(d.opacity=d.strokeOpacity=h.opacity),d}function Qd(h,f,d,g){return f===0?[[h+1/2*d/Math.PI/2,g/2],[h+1/2*d/Math.PI,g],[h+d/4,g]]:f===1?[[h+1/2*d/Math.PI/2*(Math.PI-2),g],[h+1/2*d/Math.PI/2*(Math.PI-1),g/2],[h+d/4,0]]:f===2?[[h+1/2*d/Math.PI/2,-g/2],[h+1/2*d/Math.PI,-g],[h+d/4,-g]]:[[h+1/2*d/Math.PI/2*(Math.PI-2),-g],[h+1/2*d/Math.PI/2*(Math.PI-1),-g/2],[h+d/4,0]]}function tp(h,f,d,g,x,w,M){for(var F=Math.ceil(2*h/d*4)*4,k=[],D=g;D<-Math.PI*2;)D+=Math.PI*2;for(;D>0;)D-=Math.PI*2;D=D/Math.PI/2*d;var z=w-h+D-h*2;k.push(["M",z,f]);for(var X=0,Y=0;Y<F;++Y){var rt=Y%4,bt=Qd(Y*d/4,rt,d,x);k.push(["C",bt[0][0]+z,-bt[0][1]+f,bt[1][0]+z,-bt[1][1]+f,bt[2][0]+z,-bt[2][1]+f]),Y===F-1&&(X=bt[2][0])}return k.push(["L",X+z,M+h]),k.push(["L",z,M+h]),k.push(["Z"]),k}function ep(h,f,d,g,x,w,M,F,k,D){for(var z=x.fill,X=x.opacity,Y=M.getBBox(),rt=Y.maxX-Y.minX,bt=Y.maxY-Y.minY,_t=0;_t<g;_t++){var Ut=g<=1?1:_t/(g-1),Dt=w.addShape("path",{name:"waterwave-path",attrs:{path:tp(F,Y.minY+bt*d,k,0,rt/32,h,f),fill:z,opacity:_h(.2,.9,Ut)*X}});try{if(D===!1)return;var Se=Ba([["t",k,0]]);Dt.stopAnimate(),Dt.animate({matrix:Se},{duration:_h(.5*Eh,Eh,Ut),repeat:!0})}catch(ze){console.warn("off-screen group animate error!")}}}function Ih(h,f,d,g){var x=d*2/3,w=Math.max(x,g),M=x/2,F=h,k=M+f-w/2,D=Math.asin(M/((w-M)*.85)),z=Math.sin(D)*M,X=Math.cos(D)*M,Y=F-X,rt=k+z,bt=h,_t=k+M/Math.sin(D);return`
      M `.concat(Y," ").concat(rt,`
      A `).concat(M," ").concat(M," 0 1 1 ").concat(Y+X*2," ").concat(rt,`
      Q `).concat(bt," ").concat(_t," ").concat(h," ").concat(f+w/2,`
      Q `).concat(bt," ").concat(_t," ").concat(Y," ").concat(rt,`
      Z 
    `)}function Ps(h,f,d,g){var x=d/2,w=g/2;return`
      M `.concat(h," ").concat(f-w,` 
      a `).concat(x," ").concat(w," 0 1 0 0 ").concat(w*2,`
      a `).concat(x," ").concat(w," 0 1 0 0 ").concat(-w*2,`
      Z
    `)}function dl(h,f,d,g){var x=g/2,w=d/2;return`
      M `.concat(h," ").concat(f-x,`
      L `).concat(h+w," ").concat(f,`
      L `).concat(h," ").concat(f+x,`
      L `).concat(h-w," ").concat(f,`
      Z
    `)}function rp(h,f,d,g){var x=g/2,w=d/2;return`
      M `.concat(h," ").concat(f-x,`
      L `).concat(h+w," ").concat(f+x,`
      L `).concat(h-w," ").concat(f+x,`
      Z
    `)}function np(h,f,d,g){var x=.618,w=g/2,M=d/2*x;return`
      M `.concat(h-M," ").concat(f-w,`
      L `).concat(h+M," ").concat(f-w,`
      L `).concat(h+M," ").concat(f+w,`
      L `).concat(h-M," ").concat(f+w,`
      Z
    `)}var Au={pin:Ih,circle:Ps,diamond:dl,triangle:rp,rect:np};(0,St.Fj)("interval","liquid-fill-gauge",{draw:function(h,f){var d=.5,g=.5,x=h.customInfo,w=x,M=w.percent,F=w.radius,k=w.shape,D=w.shapeStyle,z=w.background,X=w.animation,Y=x.outline,rt=x.wave,bt=Y.border,_t=Y.distance,Ut=rt.count,Dt=rt.length,Se=(0,j.u4)(h.points,function(yn,zn){return Math.min(yn,zn.x)},1/0),ze=this.parsePoint({x:d,y:g}),De=this.parsePoint({x:Se,y:g}),Re=ze.x-De.x,ar=Math.min(Re,De.y*F),pr=Tu(h),Cr=Ph((0,j.CD)({},h,Y)),Gr=ar-bt/2,Fr=typeof k=="function"?k:Au[k]||Au.circle,Ar=Fr(ze.x,ze.y,Gr*2,Gr*2);if(D&&f.addShape("path",{name:"shape",attrs:(0,q.pi)({path:Ar},D)}),M>0){var en=f.addGroup({name:"waves"}),Mn=en.setClip({type:"path",attrs:{path:Ar}});ep(ze.x,ze.y,1-h.points[1].y,Ut,pr,en,Mn,ar*2,Dt,X)}return f.addShape("path",{name:"distance",attrs:{path:Ar,fill:"transparent",lineWidth:bt+_t*2,stroke:z==="transparent"?"#fff":z}}),f.addShape("path",{name:"wrap",attrs:(0,j.CD)(Cr,{path:Ar,fill:"transparent",lineWidth:bt})}),f}});var ip=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="liquid",d}return f.getDefaultOptions=function(){return ey},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.changeData=function(d){this.chart.emit(St.ld.BEFORE_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:d}),this.chart.data(_s(d)),Ah({chart:this.chart,options:this.options},!0),this.chart.emit(St.ld.AFTER_CHANGE_DATA,St.ju.fromData(this.chart,St.ld.AFTER_CHANGE_DATA,null))},f.prototype.getSchemaAdaptor=function(){return _r},f}(wr);function Fh(h){var f=h.chart,d=h.options,g=d.data,x=d.lineStyle,w=d.color,M=d.point,F=d.area;f.data(g);var k=Z({},h,{options:{line:{style:x,color:w},point:M&&(0,q.pi)({color:w},M),area:F&&(0,q.pi)({color:w},F),label:void 0}}),D=Z({},k,{options:{tooltip:!1}}),z=(M==null?void 0:M.state)||d.state,X=Z({},k,{options:{tooltip:!1,state:z}});return $n(k),jr(X),hn(D),h}function kh(h){var f,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return ct(fr((f={},f[w]=g,f[M]=x,f)))(h)}function ap(h){var f=h.chart,d=h.options,g=d.radius,x=d.startAngle,w=d.endAngle;return f.coordinate("polar",{radius:g,startAngle:x,endAngle:w}),h}function Dh(h){var f=h.chart,d=h.options,g=d.xField,x=d.xAxis,w=d.yField,M=d.yAxis;return f.axis(g,x),f.axis(w,M),h}function op(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=ue(f,"line");if(!g)w.label(!1);else{var M=g.callback,F=(0,q._T)(g,["callback"]);w.label({fields:[x],callback:M,cfg:ge(F)})}return h}function Ka(h){return ct(Fh,kh,qe,ap,Dh,Ze,er,op,or,je,cr())(h)}var So=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),f.prototype.getTooltipItems=function(d){var g=this.getTooltipCfg(),x=g.shared,w=g.title,M=h.prototype.getTooltipItems.call(this,d);if(M.length>0){var F=this.view.geometries[0],k=F.dataArray,D=M[0].name,z=[];return k.forEach(function(X){X.forEach(function(Y){var rt=St.Zr.getTooltipItems(Y,F),bt=rt[0];if(!x&&bt&&bt.name===D){var _t=(0,j.UM)(w)?D:w;z.push((0,q.pi)((0,q.pi)({},bt),{name:bt.title,title:_t}))}else if(x&&bt){var _t=(0,j.UM)(w)?bt.name||D:w;z.push((0,q.pi)((0,q.pi)({},bt),{name:bt.title,title:_t}))}})}),z}return[]},f}(St.fw);(0,St.ak)("radar-tooltip",So);var Lh=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.init=function(){var d=this.context.view;d.removeInteraction("tooltip")},f.prototype.show=function(){var d=this.context.event,g=this.getTooltipController();g.showTooltip({x:d.x,y:d.y})},f.prototype.hide=function(){var d=this.getTooltipController();d.hideTooltip()},f.prototype.getTooltipController=function(){var d=this.context.view;return d.getController("radar-tooltip")},f}(St.aU);(0,St.zl)("radar-tooltip",Lh),(0,St.w_)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var pl=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="radar",d}return f.prototype.changeData=function(d){this.updateOption({data:d}),this.chart.changeData(d)},f.prototype.getDefaultOptions=function(){return Z({},h.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},f.prototype.getSchemaAdaptor=function(){return Ka},f}(wr);function Oh(h,f,d){var g=d.map(function(M){return M[f]}).filter(function(M){return M!==void 0}),x=g.length>0?Math.max.apply(Math,g):0,w=Math.abs(h)%360;return w?x*360/w:x}function Is(h,f,d){var g=[];return h.forEach(function(x){var w=g.find(function(M){return M[f]===x[f]});w?w[d]+=x[d]||null:g.push((0,q.pi)({},x))}),g}function gl(h){var f=h.chart,d=h.options,g=d.barStyle,x=d.color,w=d.tooltip,M=d.colorField,F=d.type,k=d.xField,D=d.yField,z=d.data,X=d.shape,Y=m(z,D);f.data(Y);var rt=Z({},h,{options:{tooltip:w,seriesField:M,interval:{style:g,color:x,shape:X||(F==="line"?"line":"intervel")},minColumnWidth:d.minBarWidth,maxColumnWidth:d.maxBarWidth,columnBackground:d.barBackground}});return Yr(rt),F==="line"&&jr({chart:f,options:{xField:k,yField:D,seriesField:M,point:{shape:"circle",color:x}}}),h}function yl(h){var f,d=h.options,g=d.yField,x=d.xField,w=d.data,M=d.isStack,F=d.isGroup,k=d.colorField,D=d.maxAngle,z=M&&!F&&k?Is(w,x,g):w,X=m(z,g);return ct(fr((f={},f[g]={min:0,max:Oh(D,g,X)},f)))(h)}function sp(h){var f=h.chart,d=h.options,g=d.radius,x=d.innerRadius,w=d.startAngle,M=d.endAngle;return f.coordinate({type:"polar",cfg:{radius:g,innerRadius:x,startAngle:w,endAngle:M}}).transpose(),h}function Bh(h){var f=h.chart,d=h.options,g=d.xField,x=d.xAxis;return f.axis(g,x),h}function Rh(h){var f=h.chart,d=h.options,g=d.label,x=d.yField,w=ue(f,"interval");if(!g)w.label(!1);else{var M=g.callback,F=(0,q._T)(g,["callback"]);w.label({fields:[x],callback:M,cfg:(0,q.pi)((0,q.pi)({},ge(F)),{type:"polar"})})}return h}function lp(h){return ct($e("barStyle"),gl,yl,Bh,sp,or,je,qe,er,Ze,cr(),Rh)(h)}var Zn=Z({},wr.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),ry=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="radial-bar",d}return f.getDefaultOptions=function(){return Zn},f.prototype.changeData=function(d){this.updateOption({data:d}),yl({chart:this.chart,options:this.options}),this.chart.changeData(d)},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return lp},f}(wr);function Nh(h){var f=h.chart,d=h.options,g=d.data,x=d.sectorStyle,w=d.shape,M=d.color;return f.data(g),ct(Yr)(Z({},h,{options:{marginRatio:1,interval:{style:x,color:M,shape:w}}})),h}function ua(h){var f=h.chart,d=h.options,g=d.label,x=d.xField,w=ue(f,"interval");if(g===!1)w.label(!1);else if((0,j.Kn)(g)){var M=g.callback,F=g.fields,k=(0,q._T)(g,["callback","fields"]),D=k.offset,z=k.layout;(D===void 0||D>=0)&&(z=z?(0,j.kJ)(z)?z:[z]:[],k.layout=(0,j.hX)(z,function(X){return X.type!=="limit-in-shape"}),k.layout.length||delete k.layout),w.label({fields:F||[x],callback:M,cfg:ge(k)})}else Pe(le.WARN,g===null,"the label option must be an Object."),w.label({fields:[x]});return h}function up(h){var f=h.chart,d=h.options,g=d.legend,x=d.seriesField;return g===!1?f.legend(!1):x&&f.legend(x,g),h}function ml(h){var f=h.chart,d=h.options,g=d.radius,x=d.innerRadius,w=d.startAngle,M=d.endAngle;return f.coordinate({type:"polar",cfg:{radius:g,innerRadius:x,startAngle:w,endAngle:M}}),h}function zh(h){var f,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return ct(fr((f={},f[w]=g,f[M]=x,f)))(h)}function Vh(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return g?f.axis(w,g):f.axis(w,!1),x?f.axis(M,x):f.axis(M,!1),h}function Uh(h){ct($e("sectorStyle"),Nh,zh,ua,ml,Vh,up,er,or,je,qe,cr(),hr)(h)}var Eu=Z({},wr.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),ny=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="rose",d}return f.getDefaultOptions=function(){return Eu},f.prototype.changeData=function(d){this.updateOption({data:d}),this.chart.changeData(d)},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Uh},f}(wr),_u="x",ca="y",Wh="name",Ko="nodes",Fs="edges";function qo(h,f,d){var g=[];return h.forEach(function(x){var w=x[f],M=x[d];g.includes(w)||g.push(w),g.includes(M)||g.push(M)}),g}function cp(h,f,d,g){var x={};return f.forEach(function(w){x[w]={},f.forEach(function(M){x[w][M]=0})}),h.forEach(function(w){x[w[d]][w[g]]=1}),x}function hp(h,f,d){if(!(0,j.kJ)(h))return[];var g=[],x=qo(h,f,d),w=cp(h,x,f,d),M={};x.forEach(function(k){M[k]=0});function F(k){M[k]=1,x.forEach(function(D){if(w[k][D]!=0)if(M[D]==1)g.push("".concat(k,"_").concat(D));else{if(M[D]==-1)return;F(D)}}),M[k]=-1}return x.forEach(function(k){M[k]!=-1&&F(k)}),g.length!==0&&console.warn("sankey data contains circle, ".concat(g.length," records removed."),g),h.filter(function(k){return g.findIndex(function(D){return D==="".concat(k[f],"_").concat(k[d])})<0})}function fp(h){return h.target.depth}function vp(h){return h.depth}function Yh(h,f){return f-1-h.height}function xl(h,f){return h.sourceLinks.length?h.depth:f-1}function Yi(h){return h.targetLinks.length?h.depth:h.sourceLinks.length?(0,j.F)(h.sourceLinks,fp)-1:0}function bl(h){return function(){return h}}function Pu(h,f){for(var d=0,g=0;g<h.length;g++)d+=f(h[g]);return d}function wl(h,f){for(var d=-1/0,g=0;g<h.length;g++)d=Math.max(f(h[g]),d);return d}function dp(h,f){for(var d=1/0,g=0;g<h.length;g++)d=Math.min(f(h[g]),d);return d}function mn(h,f){return Sl(h.source,f.source)||h.index-f.index}function Hh(h,f){return Sl(h.target,f.target)||h.index-f.index}function Sl(h,f){return h.y0-f.y0}function Iu(h){return h.value}function Gh(h){return h.index}function ln(h){return h.nodes}function Jo(h){return h.links}function Xh(h,f){var d=h.get(f);if(!d)throw new Error("missing: "+f);return d}function Zh(h){for(var f=h.nodes,d=0,g=f;d<g.length;d++){for(var x=g[d],w=x.y0,M=w,F=0,k=x.sourceLinks;F<k.length;F++){var D=k[F];D.y0=w+D.width/2,w+=D.width}for(var z=0,X=x.targetLinks;z<X.length;z++){var D=X[z];D.y1=M+D.width/2,M+=D.width}}}function pp(){var h=0,f=0,d=1,g=1,x=24,w=8,M,F=Gh,k=xl,D,z,X,Y=ln,rt=Jo,bt=6;function _t(nr){var br={nodes:Y(nr),links:rt(nr)};return Ut(br),Dt(br),Se(br),ze(br),ar(br),Zh(br),br}_t.update=function(nr){return Zh(nr),nr},_t.nodeId=function(nr){return arguments.length?(F=typeof nr=="function"?nr:bl(nr),_t):F},_t.nodeAlign=function(nr){return arguments.length?(k=typeof nr=="function"?nr:bl(nr),_t):k},_t.nodeDepth=function(nr){return arguments.length?(D=nr,_t):D},_t.nodeSort=function(nr){return arguments.length?(z=nr,_t):z},_t.nodeWidth=function(nr){return arguments.length?(x=+nr,_t):x},_t.nodePadding=function(nr){return arguments.length?(w=M=+nr,_t):w},_t.nodes=function(nr){return arguments.length?(Y=typeof nr=="function"?nr:bl(nr),_t):Y},_t.links=function(nr){return arguments.length?(rt=typeof nr=="function"?nr:bl(nr),_t):rt},_t.linkSort=function(nr){return arguments.length?(X=nr,_t):X},_t.size=function(nr){return arguments.length?(h=f=0,d=+nr[0],g=+nr[1],_t):[d-h,g-f]},_t.extent=function(nr){return arguments.length?(h=+nr[0][0],d=+nr[1][0],f=+nr[0][1],g=+nr[1][1],_t):[[h,f],[d,g]]},_t.iterations=function(nr){return arguments.length?(bt=+nr,_t):bt};function Ut(nr){var br=nr.nodes,Pr=nr.links;br.forEach(function(Jr,xn){Jr.index=xn,Jr.sourceLinks=[],Jr.targetLinks=[]});var Ir=new Map(br.map(function(Jr){return[F(Jr),Jr]}));if(Pr.forEach(function(Jr,xn){Jr.index=xn;var Vn=Jr.source,Un=Jr.target;typeof Vn!="object"&&(Vn=Jr.source=Xh(Ir,Vn)),typeof Un!="object"&&(Un=Jr.target=Xh(Ir,Un)),Vn.sourceLinks.push(Jr),Un.targetLinks.push(Jr)}),X!=null)for(var Sr=0,Dr=br;Sr<Dr.length;Sr++){var Qr=Dr[Sr],rn=Qr.sourceLinks,Vr=Qr.targetLinks;rn.sort(X),Vr.sort(X)}}function Dt(nr){for(var br=nr.nodes,Pr=0,Ir=br;Pr<Ir.length;Pr++){var Sr=Ir[Pr];Sr.value=Sr.fixedValue===void 0?Math.max(Pu(Sr.sourceLinks,Iu),Pu(Sr.targetLinks,Iu)):Sr.fixedValue}}function Se(nr){for(var br=nr.nodes,Pr=br.length,Ir=new Set(br),Sr=new Set,Dr=0;Ir.size;){if(Ir.forEach(function(Jr){Jr.depth=Dr;for(var xn=0,Vn=Jr.sourceLinks;xn<Vn.length;xn++){var Un=Vn[xn].target;Sr.add(Un)}}),++Dr>Pr)throw new Error("circular link");Ir=Sr,Sr=new Set}if(D)for(var Qr=Math.max(wl(br,function(Jr){return Jr.depth})+1,0),rn=void 0,Vr=0;Vr<br.length;Vr++)rn=br[Vr],rn.depth=D.call(null,rn,Qr)}function ze(nr){for(var br=nr.nodes,Pr=br.length,Ir=new Set(br),Sr=new Set,Dr=0;Ir.size;){if(Ir.forEach(function(Qr){Qr.height=Dr;for(var rn=0,Vr=Qr.targetLinks;rn<Vr.length;rn++){var Jr=Vr[rn].source;Sr.add(Jr)}}),++Dr>Pr)throw new Error("circular link");Ir=Sr,Sr=new Set}}function De(nr){for(var br=nr.nodes,Pr=Math.max(wl(br,function(Un){return Un.depth})+1,0),Ir=(d-h-x)/(Pr-1),Sr=new Array(Pr).fill(0).map(function(){return[]}),Dr=0,Qr=br;Dr<Qr.length;Dr++){var rn=Qr[Dr],Vr=Math.max(0,Math.min(Pr-1,Math.floor(k.call(null,rn,Pr))));rn.layer=Vr,rn.x0=h+Vr*Ir,rn.x1=rn.x0+x,Sr[Vr]?Sr[Vr].push(rn):Sr[Vr]=[rn]}if(z)for(var Jr=0,xn=Sr;Jr<xn.length;Jr++){var Vn=xn[Jr];Vn.sort(z)}return Sr}function Re(nr){for(var br=dp(nr,function(no){return(g-f-(no.length-1)*M)/Pu(no,Iu)}),Pr=0,Ir=nr;Pr<Ir.length;Pr++){for(var Sr=Ir[Pr],Dr=f,Qr=0,rn=Sr;Qr<rn.length;Qr++){var Vr=rn[Qr];Vr.y0=Dr,Vr.y1=Dr+Vr.value*br,Dr=Vr.y1+M;for(var Jr=0,xn=Vr.sourceLinks;Jr<xn.length;Jr++){var Vn=xn[Jr];Vn.width=Vn.value*br}}Dr=(g-Dr+M)/(Sr.length+1);for(var Un=0;Un<Sr.length;++Un){var Vr=Sr[Un];Vr.y0+=Dr*(Un+1),Vr.y1+=Dr*(Un+1)}Mn(Sr)}}function ar(nr){var br=De(nr);M=Math.min(w,(g-f)/(wl(br,function(Dr){return Dr.length})-1)),Re(br);for(var Pr=0;Pr<bt;++Pr){var Ir=Math.pow(.99,Pr),Sr=Math.max(1-Ir,(Pr+1)/bt);Cr(br,Ir,Sr),pr(br,Ir,Sr)}}function pr(nr,br,Pr){for(var Ir=1,Sr=nr.length;Ir<Sr;++Ir){for(var Dr=nr[Ir],Qr=0,rn=Dr;Qr<rn.length;Qr++){for(var Vr=rn[Qr],Jr=0,xn=0,Vn=0,Un=Vr.targetLinks;Vn<Un.length;Vn++){var no=Un[Vn],Xs=no.source,jl=no.value,Zs=jl*(Vr.layer-Xs.layer);Jr+=yn(Xs,Vr)*Zs,xn+=Zs}if(xn>0){var Po=(Jr/xn-Vr.y0)*br;Vr.y0+=Po,Vr.y1+=Po,en(Vr)}}z===void 0&&Dr.sort(Sl),Dr.length&&Gr(Dr,Pr)}}function Cr(nr,br,Pr){for(var Ir=nr.length,Sr=Ir-2;Sr>=0;--Sr){for(var Dr=nr[Sr],Qr=0,rn=Dr;Qr<rn.length;Qr++){for(var Vr=rn[Qr],Jr=0,xn=0,Vn=0,Un=Vr.sourceLinks;Vn<Un.length;Vn++){var no=Un[Vn],Xs=no.target,jl=no.value,Zs=jl*(Xs.layer-Vr.layer);Jr+=zn(Vr,Xs)*Zs,xn+=Zs}if(xn>0){var Po=(Jr/xn-Vr.y0)*br;Vr.y0+=Po,Vr.y1+=Po,en(Vr)}}z===void 0&&Dr.sort(Sl),Dr.length&&Gr(Dr,Pr)}}function Gr(nr,br){var Pr=nr.length>>1,Ir=nr[Pr];Ar(nr,Ir.y0-M,Pr-1,br),Fr(nr,Ir.y1+M,Pr+1,br),Ar(nr,g,nr.length-1,br),Fr(nr,f,0,br)}function Fr(nr,br,Pr,Ir){for(;Pr<nr.length;++Pr){var Sr=nr[Pr],Dr=(br-Sr.y0)*Ir;Dr>1e-6&&(Sr.y0+=Dr,Sr.y1+=Dr),br=Sr.y1+M}}function Ar(nr,br,Pr,Ir){for(;Pr>=0;--Pr){var Sr=nr[Pr],Dr=(Sr.y1-br)*Ir;Dr>1e-6&&(Sr.y0-=Dr,Sr.y1-=Dr),br=Sr.y0-M}}function en(nr){var br=nr.sourceLinks,Pr=nr.targetLinks;if(X===void 0){for(var Ir=0,Sr=Pr;Ir<Sr.length;Ir++){var Dr=Sr[Ir].source.sourceLinks;Dr.sort(Hh)}for(var Qr=0,rn=br;Qr<rn.length;Qr++){var Vr=rn[Qr].target.targetLinks;Vr.sort(mn)}}}function Mn(nr){if(X===void 0)for(var br=0,Pr=nr;br<Pr.length;br++){var Ir=Pr[br],Sr=Ir.sourceLinks,Dr=Ir.targetLinks;Sr.sort(Hh),Dr.sort(mn)}}function yn(nr,br){for(var Pr=nr.y0-(nr.sourceLinks.length-1)*M/2,Ir=0,Sr=nr.sourceLinks;Ir<Sr.length;Ir++){var Dr=Sr[Ir],Qr=Dr.target,rn=Dr.width;if(Qr===br)break;Pr+=rn+M}for(var Vr=0,Jr=br.targetLinks;Vr<Jr.length;Vr++){var xn=Jr[Vr],Qr=xn.source,rn=xn.width;if(Qr===nr)break;Pr-=rn}return Pr}function zn(nr,br){for(var Pr=br.y0-(br.targetLinks.length-1)*M/2,Ir=0,Sr=br.targetLinks;Ir<Sr.length;Ir++){var Dr=Sr[Ir],Qr=Dr.source,rn=Dr.width;if(Qr===nr)break;Pr+=rn+M}for(var Vr=0,Jr=nr.sourceLinks;Vr<Jr.length;Vr++){var xn=Jr[Vr],Qr=xn.target,rn=xn.width;if(Qr===br)break;Pr-=rn}return Pr}return _t}var jh={left:vp,right:Yh,center:Yi,justify:xl},iy={nodeId:function(h){return h.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Cl(h){var f=(0,j.HD)(h)?jh[h]:(0,j.mf)(h)?h:null;return f||xl}function gp(h){return(0,j.f0)({},iy,h)}function Fu(h,f){var d=gp(h),g=d.nodeId,x=d.nodeSort,w=d.nodeAlign,M=d.nodeWidth,F=d.nodePadding,k=d.nodeDepth,D=pp().nodeSort(x).nodeWidth(M).nodePadding(F).nodeDepth(k).nodeAlign(Cl(w)).extent([[0,0],[1,1]]).nodeId(g),z=D(f),X=z.nodes.map(function(rt){var bt=rt.x0,_t=rt.x1,Ut=rt.y0,Dt=rt.y1;return rt.x=[bt,_t,_t,bt],rt.y=[Ut,Ut,Dt,Dt],rt}).filter(function(rt){return rt.name!==null}),Y=z.links.map(function(rt){var bt=rt.source,_t=rt.target,Ut=bt.x1,Dt=_t.x0;rt.x=[Ut,Ut,Dt,Dt];var Se=rt.width/2;return rt.y=[rt.y0+Se,rt.y0-Se,rt.y1+Se,rt.y1-Se],rt}).filter(function(rt){var bt=rt.source,_t=rt.target;return bt.name!==null&&_t.name!==null});return{nodes:X,links:Y}}function Ml(h){return h==="node-link"}function yp(h,f,d){return et(h)?h/d:f}function $h(h,f,d){return et(h)?h/d:f}function Kh(h,f,d){var g=h.dataType,x=h.data,w=h.sourceField,M=h.targetField,F=h.weightField,k=h.nodeAlign,D=h.nodeSort,z=h.nodePadding,X=h.nodePaddingRatio,Y=h.nodeWidth,rt=h.nodeWidthRatio,bt=h.nodeDepth,_t=h.rawFields,Ut=_t===void 0?[]:_t,Dt;Ml(g)?Dt=x:Dt=I(hp(x,w,M),w,M,F,Ut);var Se=Fu({nodeAlign:k,nodePadding:$h(z,X,d),nodeWidth:yp(Y,rt,f),nodeSort:D,nodeDepth:bt},Dt),ze=Se.nodes,De=Se.links;return{nodes:ze.map(function(Re){return(0,q.pi)((0,q.pi)({},de(Re,(0,q.ev)(["x","y","name"],Ut,!0))),{isNode:!0})}),edges:De.map(function(Re){return(0,q.pi)((0,q.pi)({source:Re.source.name,target:Re.target.name,name:Re.source.name||Re.target.name},de(Re,(0,q.ev)(["x","y","value"],Ut,!0))),{isNode:!1})})}}function qh(h){var f=h.options,d=f.rawFields,g=d===void 0?[]:d;return Z({},{options:{tooltip:{fields:(0,j.jj)((0,q.ev)(["name","source","target","value","isNode"],g,!0))},label:{fields:(0,j.jj)((0,q.ev)(["x","name"],g,!0))}}},h)}function mp(h){var f=h.chart,d=h.options,g=d.color,x=d.nodeStyle,w=d.edgeStyle,M=d.label,F=d.tooltip,k=d.nodeState,D=d.edgeState,z=d.rawFields,X=z===void 0?[]:z;f.legend(!1),f.tooltip(F),f.axis(!1),f.coordinate().reflect("y");var Y=Kh(d,f.width,f.height),rt=Y.nodes,bt=Y.edges,_t=f.createView({id:Fs});_t.data(bt),ri({chart:_t,options:{xField:_u,yField:ca,seriesField:Wh,rawFields:(0,q.ev)(["source","target"],X,!0),edge:{color:g,style:w,shape:"arc"},tooltip:F,state:D}});var Ut=f.createView({id:Ko});return Ut.data(rt),gi({chart:Ut,options:{xField:_u,yField:ca,seriesField:Wh,polygon:{color:g,style:x},label:M,tooltip:F,state:k}}),f.interaction("element-active"),f.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),h}function xp(h){var f=h.chart,d=h.options,g=d.animation,x=(0,q.ev)((0,q.ev)([],f.views[0].geometries,!0),f.views[1].geometries,!0);return Wt(f,g,x),h}function bp(h){var f=h.chart,d=h.options,g=d.nodeDraggable,x="sankey-node-draggable";return g?f.interaction(x):f.removeInteraction(x),h}function Jh(h){var f=h.chart,d=h.options,g=d.interactions,x=g===void 0?[]:g,w=[].concat(x,d.nodeInteractions||[]),M=[].concat(x,d.edgeInteractions||[]),F=tt(f,Ko),k=tt(f,Fs);return w.forEach(function(D){(D==null?void 0:D.enable)===!1?F.removeInteraction(D.type):F.interaction(D.type,D.cfg||{})}),M.forEach(function(D){(D==null?void 0:D.enable)===!1?k.removeInteraction(D.type):k.interaction(D.type,D.cfg||{})}),h}function wp(h){return ct(qh,mp,Jh,bp,xp,qe)(h)}var Sp=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.isDragging=!1,d}return f.prototype.isNodeElement=function(){var d=(0,j.U2)(this.context,"event.target");if(d){var g=d.get("element");return g&&g.getModel().data.isNode}return!1},f.prototype.getNodeView=function(){return tt(this.context.view,Ko)},f.prototype.getEdgeView=function(){return tt(this.context.view,Fs)},f.prototype.getCurrentDatumIdx=function(d){return this.getNodeView().geometries[0].elements.indexOf(d)},f.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,j.U2)(this.context,"event.x"),y:(0,j.U2)(this.context,"event.y")};var d=this.context.event.target.get("element"),g=this.getCurrentDatumIdx(d);if(g===-1)return;this.currentElementIdx=g,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},f.prototype.translate=function(){if(this.isDragging){var d=this.context.view,g={x:(0,j.U2)(this.context,"event.x"),y:(0,j.U2)(this.context,"event.y")},x=g.x-this.prevPoint.x,w=g.y-this.prevPoint.y,M=this.getNodeView(),F=M.geometries[0].elements[this.currentElementIdx];if(F&&F.getModel()){var k=F.getModel().data,D=M.getOptions().data,z=M.getCoordinate(),X={x:x/z.getWidth(),y:w/z.getHeight()},Y=(0,q.pi)((0,q.pi)({},k),{x:k.x.map(function(Dt){return Dt+=X.x}),y:k.y.map(function(Dt){return Dt+=X.y})}),rt=(0,q.ev)([],D,!0);rt[this.currentElementIdx]=Y,M.data(rt);var bt=k.name,_t=this.getEdgeView(),Ut=_t.getOptions().data;Ut.forEach(function(Dt){Dt.source===bt&&(Dt.x[0]+=X.x,Dt.x[1]+=X.x,Dt.y[0]+=X.y,Dt.y[1]+=X.y),Dt.target===bt&&(Dt.x[2]+=X.x,Dt.x[3]+=X.x,Dt.y[2]+=X.y,Dt.y[3]+=X.y)}),_t.data(Ut),this.prevPoint=g,d.render(!0)}}},f.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},f}(St.aU);(0,St.zl)("sankey-node-drag",Sp),(0,St.w_)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(h){return h.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var Cp=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="sankey",d}return f.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(d){var g=d.name;return g},callback:function(d){var g=d[1]===1;return{style:{fill:"#545454",textAlign:g?"end":"start"},offsetX:g?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(d){return!(0,j.U2)(d,[0,"data","isNode"])},formatter:function(d){var g=d.source,x=d.target,w=d.value;return{name:g+" -> "+x,value:w}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},f.prototype.changeData=function(d){this.updateOption({data:d});var g=Kh(this.options,this.chart.width,this.chart.height),x=g.nodes,w=g.edges,M=tt(this.chart,Ko),F=tt(this.chart,Fs);M.changeData(x),F.changeData(w)},f.prototype.getSchemaAdaptor=function(){return wp},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f}(wr),ks="ancestor-node",ku="value",Qo="path",Du=[Qo,fh,gu,Ms,"name","depth","height"],Mp=Z({},wr.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function Qh(h){h.x0=Math.round(h.x0),h.y0=Math.round(h.y0),h.x1=Math.round(h.x1),h.y1=Math.round(h.y1)}function Co(h,f,d,g,x){for(var w=h.children,M,F=-1,k=w.length,D=h.value&&(g-f)/h.value;++F<k;)M=w[F],M.y0=d,M.y1=x,M.x0=f,M.x1=f+=M.value*D}function Ds(){var h=1,f=1,d=0,g=!1;function x(M){var F=M.height+1;return M.x0=M.y0=d,M.x1=h,M.y1=f/F,M.eachBefore(w(f,F)),g&&M.eachBefore(Qh),M}function w(M,F){return function(k){k.children&&Co(k,k.x0,M*(k.depth+1)/F,k.x1,M*(k.depth+2)/F);var D=k.x0,z=k.y0,X=k.x1-d,Y=k.y1-d;X<D&&(D=X=(D+X)/2),Y<z&&(z=Y=(z+Y)/2),k.x0=D,k.y0=z,k.x1=X,k.y1=Y}}return x.round=function(M){return arguments.length?(g=!!M,x):g},x.size=function(M){return arguments.length?(h=+M[0],f=+M[1],x):[h,f]},x.padding=function(M){return arguments.length?(d=+M,x):d},x}var Mo={field:"value",size:[1,1],round:!1,padding:0,sort:function(h,f){return f.value-h.value},as:["x","y"],ignoreParentValue:!0};function ay(h,f){f=(0,j.f0)({},Mo,f);var d=f.as;if(!(0,j.kJ)(d)||d.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var g;try{g=mu(f)}catch(k){console.warn(k)}var x=function(k){return Ds().size(f.size).round(f.round).padding(f.padding)(Yo(k).sum(function(D){return(0,j.dp)(D.children)?f.ignoreParentValue?0:D[g]-(0,j.u4)(D.children,function(z,X){return z+X[g]},0):D[g]}).sort(f.sort))},w=x(h),M=d[0],F=d[1];return w.each(function(k){var D,z;k[M]=[k.x0,k.x1,k.x1,k.x0],k[F]=[k.y1,k.y1,k.y0,k.y0],k.name=k.name||((D=k.data)===null||D===void 0?void 0:D.name)||((z=k.data)===null||z===void 0?void 0:z.label),k.data.name=k.name,["x0","x1","y0","y1"].forEach(function(X){d.indexOf(X)===-1&&delete k[X]})}),xu(w)}function Tp(h,f){return h.parent===f.parent?1:2}function Ap(h){return h.reduce(Ep,0)/h.length}function Ep(h,f){return h+f.x}function _p(h){return 1+h.reduce(Pp,0)}function Pp(h,f){return Math.max(h,f.y)}function ei(h){for(var f;f=h.children;)h=f[0];return h}function Ip(h){for(var f;f=h.children;)h=f[f.length-1];return h}function Fp(){var h=Tp,f=1,d=1,g=!1;function x(w){var M,F=0;w.eachAfter(function(Y){var rt=Y.children;rt?(Y.x=Ap(rt),Y.y=_p(rt)):(Y.x=M?F+=h(Y,M):0,Y.y=0,M=Y)});var k=ei(w),D=Ip(w),z=k.x-h(k,D)/2,X=D.x+h(D,k)/2;return w.eachAfter(g?function(Y){Y.x=(Y.x-w.x)*f,Y.y=(w.y-Y.y)*d}:function(Y){Y.x=(Y.x-z)/(X-z)*f,Y.y=(1-(w.y?Y.y/w.y:1))*d})}return x.separation=function(w){return arguments.length?(h=w,x):h},x.size=function(w){return arguments.length?(g=!1,f=+w[0],d=+w[1],x):g?null:[f,d]},x.nodeSize=function(w){return arguments.length?(g=!0,f=+w[0],d=+w[1],x):g?[f,d]:null},x}var Tl={depth:-1},tf={};function kp(h){return h.id}function ef(h){return h.parentId}function _a(){var h=kp,f=ef;function d(g){var x=Array.from(g),w=x.length,M,F,k,D,z,X,Y,rt=new Map;for(F=0;F<w;++F)M=x[F],z=x[F]=new Ho(M),(X=h(M,F,g))!=null&&(X+="")&&(Y=z.id=X,rt.set(Y,rt.has(Y)?tf:z)),(X=f(M,F,g))!=null&&(X+="")&&(z.parent=X);for(F=0;F<w;++F)if(z=x[F],X=z.parent){if(D=rt.get(X),!D)throw new Error("missing: "+X);if(D===tf)throw new Error("ambiguous: "+X);D.children?D.children.push(z):D.children=[z],z.parent=D}else{if(k)throw new Error("multiple roots");k=z}if(!k)throw new Error("no root");if(k.parent=Tl,k.eachBefore(function(bt){bt.depth=bt.parent.depth+1,--w}).eachBefore(Id),k.parent=null,w>0)throw new Error("cycle");return k}return d.id=function(g){return arguments.length?(h=sl(g),d):h},d.parentId=function(g){return arguments.length?(f=sl(g),d):f},d}function Dp(h,f){return h.parent===f.parent?1:2}function Lu(h){var f=h.children;return f?f[0]:h.t}function Ou(h){var f=h.children;return f?f[f.length-1]:h.t}function ts(h,f,d){var g=d/(f.i-h.i);f.c-=g,f.s+=d,h.c+=g,f.z+=d,f.m+=d}function Lp(h){for(var f=0,d=0,g=h.children,x=g.length,w;--x>=0;)w=g[x],w.z+=f,w.m+=f,f+=w.s+(d+=w.c)}function Op(h,f,d){return h.a.parent===f.parent?h.a:d}function Ls(h,f){this._=h,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=f}Ls.prototype=Object.create(Ho.prototype);function rf(h){for(var f=new Ls(h,0),d,g=[f],x,w,M,F;d=g.pop();)if(w=d._.children)for(d.children=new Array(F=w.length),M=F-1;M>=0;--M)g.push(x=d.children[M]=new Ls(w[M],M)),x.parent=d;return(f.parent=new Ls(null,0)).children=[f],f}function nf(){var h=Dp,f=1,d=1,g=null;function x(D){var z=rf(D);if(z.eachAfter(w),z.parent.m=-z.z,z.eachBefore(M),g)D.eachBefore(k);else{var X=D,Y=D,rt=D;D.eachBefore(function(Se){Se.x<X.x&&(X=Se),Se.x>Y.x&&(Y=Se),Se.depth>rt.depth&&(rt=Se)});var bt=X===Y?1:h(X,Y)/2,_t=bt-X.x,Ut=f/(Y.x+bt+_t),Dt=d/(rt.depth||1);D.eachBefore(function(Se){Se.x=(Se.x+_t)*Ut,Se.y=Se.depth*Dt})}return D}function w(D){var z=D.children,X=D.parent.children,Y=D.i?X[D.i-1]:null;if(z){Lp(D);var rt=(z[0].z+z[z.length-1].z)/2;Y?(D.z=Y.z+h(D._,Y._),D.m=D.z-rt):D.z=rt}else Y&&(D.z=Y.z+h(D._,Y._));D.parent.A=F(D,Y,D.parent.A||X[0])}function M(D){D._.x=D.z+D.parent.m,D.m+=D.parent.m}function F(D,z,X){if(z){for(var Y=D,rt=D,bt=z,_t=Y.parent.children[0],Ut=Y.m,Dt=rt.m,Se=bt.m,ze=_t.m,De;bt=Ou(bt),Y=Lu(Y),bt&&Y;)_t=Lu(_t),rt=Ou(rt),rt.a=D,De=bt.z+Se-Y.z-Ut+h(bt._,Y._),De>0&&(ts(Op(bt,D,X),D,De),Ut+=De,Dt+=De),Se+=bt.m,Ut+=Y.m,ze+=_t.m,Dt+=rt.m;bt&&!Ou(rt)&&(rt.t=bt,rt.m+=Se-Dt),Y&&!Lu(_t)&&(_t.t=Y,_t.m+=Ut-ze,X=D)}return X}function k(D){D.x*=f,D.y=D.depth*d}return x.separation=function(D){return arguments.length?(h=D,x):h},x.size=function(D){return arguments.length?(g=!1,f=+D[0],d=+D[1],x):g?null:[f,d]},x.nodeSize=function(D){return arguments.length?(g=!0,f=+D[0],d=+D[1],x):g?[f,d]:null},x}function ui(h,f,d,g,x){for(var w=h.children,M,F=-1,k=w.length,D=h.value&&(x-d)/h.value;++F<k;)M=w[F],M.x0=f,M.x1=g,M.y0=d,M.y1=d+=M.value*D}var To=(1+Math.sqrt(5))/2;function af(h,f,d,g,x,w){for(var M=[],F=f.children,k,D,z=0,X=0,Y=F.length,rt,bt,_t=f.value,Ut,Dt,Se,ze,De,Re,ar;z<Y;){rt=x-d,bt=w-g;do Ut=F[X++].value;while(!Ut&&X<Y);for(Dt=Se=Ut,Re=Math.max(bt/rt,rt/bt)/(_t*h),ar=Ut*Ut*Re,De=Math.max(Se/ar,ar/Dt);X<Y;++X){if(Ut+=D=F[X].value,D<Dt&&(Dt=D),D>Se&&(Se=D),ar=Ut*Ut*Re,ze=Math.max(Se/ar,ar/Dt),ze>De){Ut-=D;break}De=ze}M.push(k={value:Ut,dice:rt<bt,children:F.slice(z,X)}),k.dice?Co(k,d,g,x,_t?g+=bt*Ut/_t:w):ui(k,d,g,_t?d+=rt*Ut/_t:x,w),_t-=Ut,z=X}return M}var Bu=function h(f){function d(g,x,w,M,F){af(f,g,x,w,M,F)}return d.ratio=function(g){return h((g=+g)>1?g:1)},d}(To);function of(){var h=Bu,f=!1,d=1,g=1,x=[0],w=$a,M=$a,F=$a,k=$a,D=$a;function z(Y){return Y.x0=Y.y0=0,Y.x1=d,Y.y1=g,Y.eachBefore(X),x=[0],f&&Y.eachBefore(Qh),Y}function X(Y){var rt=x[Y.depth],bt=Y.x0+rt,_t=Y.y0+rt,Ut=Y.x1-rt,Dt=Y.y1-rt;Ut<bt&&(bt=Ut=(bt+Ut)/2),Dt<_t&&(_t=Dt=(_t+Dt)/2),Y.x0=bt,Y.y0=_t,Y.x1=Ut,Y.y1=Dt,Y.children&&(rt=x[Y.depth+1]=w(Y)/2,bt+=D(Y)-rt,_t+=M(Y)-rt,Ut-=F(Y)-rt,Dt-=k(Y)-rt,Ut<bt&&(bt=Ut=(bt+Ut)/2),Dt<_t&&(_t=Dt=(_t+Dt)/2),h(Y,bt,_t,Ut,Dt))}return z.round=function(Y){return arguments.length?(f=!!Y,z):f},z.size=function(Y){return arguments.length?(d=+Y[0],g=+Y[1],z):[d,g]},z.tile=function(Y){return arguments.length?(h=sl(Y),z):h},z.padding=function(Y){return arguments.length?z.paddingInner(Y).paddingOuter(Y):z.paddingInner()},z.paddingInner=function(Y){return arguments.length?(w=typeof Y=="function"?Y:Uo(+Y),z):w},z.paddingOuter=function(Y){return arguments.length?z.paddingTop(Y).paddingRight(Y).paddingBottom(Y).paddingLeft(Y):z.paddingTop()},z.paddingTop=function(Y){return arguments.length?(M=typeof Y=="function"?Y:Uo(+Y),z):M},z.paddingRight=function(Y){return arguments.length?(F=typeof Y=="function"?Y:Uo(+Y),z):F},z.paddingBottom=function(Y){return arguments.length?(k=typeof Y=="function"?Y:Uo(+Y),z):k},z.paddingLeft=function(Y){return arguments.length?(D=typeof Y=="function"?Y:Uo(+Y),z):D},z}function sf(h,f,d,g,x){var w=h.children,M,F=w.length,k,D=new Array(F+1);for(D[0]=k=M=0;M<F;++M)D[M+1]=k+=w[M].value;z(0,F,h.value,f,d,g,x);function z(X,Y,rt,bt,_t,Ut,Dt){if(X>=Y-1){var Se=w[X];Se.x0=bt,Se.y0=_t,Se.x1=Ut,Se.y1=Dt;return}for(var ze=D[X],De=rt/2+ze,Re=X+1,ar=Y-1;Re<ar;){var pr=Re+ar>>>1;D[pr]<De?Re=pr+1:ar=pr}De-D[Re-1]<D[Re]-De&&X+1<Re&&--Re;var Cr=D[Re]-ze,Gr=rt-Cr;if(Ut-bt>Dt-_t){var Fr=rt?(bt*Gr+Ut*Cr)/rt:Ut;z(X,Re,Cr,bt,_t,Fr,Dt),z(Re,Y,Gr,Fr,_t,Ut,Dt)}else{var Ar=rt?(_t*Gr+Dt*Cr)/rt:Dt;z(X,Re,Cr,bt,_t,Ut,Ar),z(Re,Y,Gr,bt,Ar,Ut,Dt)}}}function es(h,f,d,g,x){(h.depth&1?ui:Co)(h,f,d,g,x)}var Bp=function h(f){function d(g,x,w,M,F){if((k=g._squarify)&&k.ratio===f)for(var k,D,z,X,Y=-1,rt,bt=k.length,_t=g.value;++Y<bt;){for(D=k[Y],z=D.children,X=D.value=0,rt=z.length;X<rt;++X)D.value+=z[X].value;D.dice?Co(D,x,w,M,_t?w+=(F-w)*D.value/_t:F):ui(D,x,w,_t?x+=(M-x)*D.value/_t:M,F),_t-=D.value}else g._squarify=k=af(f,g,x,w,M,F),k.ratio=f}return d.ratio=function(g){return h((g=+g)>1?g:1)},d}(To),Ru={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(h,f){return f.value-h.value},ratio:.5*(1+Math.sqrt(5))};function Rp(h,f){return h==="treemapSquarify"?Pt[h].ratio(f):Pt[h]}function Nu(h,f){f=(0,j.f0)({},Ru,f);var d=f.as;if(!(0,j.kJ)(d)||d.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var g;try{g=mu(f)}catch(D){console.warn(D)}var x=Rp(f.tile,f.ratio),w=function(D){return of().tile(x).size(f.size).round(f.round).padding(f.padding).paddingInner(f.paddingInner).paddingOuter(f.paddingOuter).paddingTop(f.paddingTop).paddingRight(f.paddingRight).paddingBottom(f.paddingBottom).paddingLeft(f.paddingLeft)(Yo(D).sum(function(z){return f.ignoreParentValue&&z.children?0:z[g]}).sort(f.sort))},M=w(h),F=d[0],k=d[1];return M.each(function(D){D[F]=[D.x0,D.x1,D.x1,D.x0],D[k]=[D.y1,D.y1,D.y0,D.y0],["x0","x1","y0","y1"].forEach(function(z){d.indexOf(z)===-1&&delete D[z]})}),xu(M)}function zu(h){var f=h.data,d=h.colorField,g=h.rawFields,x=h.hierarchyConfig,w=x===void 0?{}:x,M=w.activeDepth,F={partition:ay,treemap:Nu},k=h.seriesField,D=h.type||"partition",z=F[D](f,(0,q.pi)((0,q.pi)({field:k||"value"},(0,j.CE)(w,["activeDepth"])),{type:"hierarchy.".concat(D),as:["x","y"]})),X=[];return z.forEach(function(Y){var rt,bt,_t,Ut,Dt,Se;if(Y.depth===0||M>0&&Y.depth>M)return null;for(var ze=Y.data.name,De=(0,q.pi)({},Y);De.depth>1;)ze="".concat((bt=De.parent.data)===null||bt===void 0?void 0:bt.name," / ").concat(ze),De=De.parent;var Re=(0,q.pi)((0,q.pi)((0,q.pi)({},de(Y.data,(0,q.ev)((0,q.ev)([],g||[],!0),[w.field],!1))),(rt={},rt[Qo]=ze,rt[ks]=De.data.name,rt)),Y);k&&(Re[k]=Y.data[k]||((Ut=(_t=Y.parent)===null||_t===void 0?void 0:_t.data)===null||Ut===void 0?void 0:Ut[k])),d&&(Re[d]=Y.data[d]||((Se=(Dt=Y.parent)===null||Dt===void 0?void 0:Dt.data)===null||Se===void 0?void 0:Se[d])),Re.ext=w,Re[xo]={hierarchyConfig:w,colorField:d,rawFields:g},X.push(Re)}),X}function lf(h){var f=h.chart,d=h.options,g=d.color,x=d.colorField,w=x===void 0?ks:x,M=d.sunburstStyle,F=d.rawFields,k=F===void 0?[]:F,D=d.shape,z=zu(d);f.data(z);var X;return M&&(X=function(Y){return Z({},{fillOpacity:Math.pow(.85,Y.depth)},(0,j.mf)(M)?M(Y):M)}),gi(Z({},h,{options:{xField:"x",yField:"y",seriesField:w,rawFields:(0,j.jj)((0,q.ev)((0,q.ev)([],Du,!0),k,!0)),polygon:{color:g,style:X,shape:D}}})),h}function Np(h){var f=h.chart;return f.axis(!1),h}function Os(h){var f=h.chart,d=h.options,g=d.label,x=ue(f,"polygon");if(!g)x.label(!1);else{var w=g.fields,M=w===void 0?["name"]:w,F=g.callback,k=(0,q._T)(g,["fields","callback"]);x.label({fields:M,callback:F,cfg:ge(k)})}return h}function zp(h){var f=h.chart,d=h.options,g=d.innerRadius,x=d.radius,w=d.reflect,M=f.coordinate({type:"polar",cfg:{innerRadius:g,radius:x}});return w&&M.reflect(w),h}function _i(h){var f,d=h.options,g=d.hierarchyConfig,x=d.meta;return ct(fr({},(f={},f[ku]=(0,j.U2)(x,(0,j.U2)(g,["field"],"value")),f)))(h)}function Vp(h){var f=h.chart,d=h.options,g=d.tooltip;if(g===!1)f.tooltip(!1);else{var x=g;(0,j.U2)(g,"fields")||(x=Z({},{customItems:function(w){return w.map(function(M){var F=(0,j.U2)(f.getOptions(),"scales"),k=(0,j.U2)(F,[Qo,"formatter"],function(z){return z}),D=(0,j.U2)(F,[ku,"formatter"],function(z){return z});return(0,q.pi)((0,q.pi)({},M),{name:k(M.data[Qo]),value:D(M.data.value)})})}},x)),f.tooltip(x)}return h}function Up(h){var f=h.drilldown,d=h.interactions,g=d===void 0?[]:d;return f!=null&&f.enabled?Z({},h,{interactions:(0,q.ev)((0,q.ev)([],g,!0),[{type:"drill-down",cfg:{drillDownConfig:f,transformData:zu}}],!1)}):h}function Vu(h){var f=h.chart,d=h.options,g=d.drilldown;return or({chart:f,options:Up(d)}),g!=null&&g.enabled&&(f.appendPadding=Ae(f.appendPadding,(0,j.U2)(g,["breadCrumb","position"]))),h}function qa(h){return ct(qe,$e("sunburstStyle"),lf,Np,_i,Ze,zp,Vp,Os,Vu,je,cr())(h)}var wn=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="sunburst",d}return f.getDefaultOptions=function(){return Mp},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return qa},f.SUNBURST_ANCESTOR_FIELD=ks,f.SUNBURST_PATH_FIELD=Qo,f.NODE_ANCESTORS_FIELD=gu,f}(wr);function Uu(h,f){if((0,j.kJ)(h))return h.find(function(d){return d.type===f})}function uf(h,f){var d=Uu(h,f);return d&&d.enable!==!1}function Al(h){var f=h.interactions,d=h.drilldown;return(0,j.U2)(d,"enabled")||uf(f,"treemap-drill-down")}function Bs(h){var f=h.interactions["drill-down"];if(f){var d=f.context.actions.find(function(g){return g.name==="drill-down-action"});d.reset()}}function El(h){var f=h.data,d=h.colorField,g=h.enableDrillDown,x=h.hierarchyConfig,w=Nu(f,(0,q.pi)((0,q.pi)({},x),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),M=[];return w.forEach(function(F){if(F.depth===0||g&&F.depth!==1||!g&&F.children)return null;var k=F.ancestors().map(function(Y){return{data:Y.data,height:Y.height,value:Y.value}}),D=g&&(0,j.kJ)(f.path)?k.concat(f.path.slice(1)):k,z=Object.assign({},F.data,(0,q.pi)({x:F.x,y:F.y,depth:F.depth,value:F.value,path:D},F));if(!F.data[d]&&F.parent){var X=F.ancestors().find(function(Y){return Y.data[d]});z[d]=X==null?void 0:X.data[d]}else z[d]=F.data[d];z[xo]={hierarchyConfig:x,colorField:d,enableDrillDown:g},M.push(z)}),M}function Wp(h){var f=h.options,d=f.colorField;return Z({options:{rawFields:["value"],tooltip:{fields:["name","value",d,"path"],formatter:function(g){return{name:g.name,value:g.value}}}}},h)}function Ja(h){var f=h.chart,d=h.options,g=d.color,x=d.colorField,w=d.rectStyle,M=d.hierarchyConfig,F=d.rawFields,k=El({data:d.data,colorField:d.colorField,enableDrillDown:Al(d),hierarchyConfig:M});return f.data(k),gi(Z({},h,{options:{xField:"x",yField:"y",seriesField:x,rawFields:F,polygon:{color:g,style:w}}})),f.coordinate().reflect("y"),h}function _l(h){var f=h.chart;return f.axis(!1),h}function Rs(h){var f=h.drilldown,d=h.interactions,g=d===void 0?[]:d,x=Al(h);return x?Z({},h,{interactions:(0,q.ev)((0,q.ev)([],g,!0),[{type:"drill-down",cfg:{drillDownConfig:f,transformData:El}}],!1)}):h}function Yp(h){var f=h.chart,d=h.options,g=d.interactions,x=d.drilldown;or({chart:f,options:Rs(d)});var w=Uu(g,"view-zoom");w&&(w.enable!==!1?f.getCanvas().on("mousewheel",function(F){F.preventDefault()}):f.getCanvas().off("mousewheel"));var M=Al(d);return M&&(f.appendPadding=Ae(f.appendPadding,(0,j.U2)(x,["breadCrumb","position"]))),h}function Wu(h){return ct(Wp,qe,$e("rectStyle"),Ja,_l,Ze,er,Yp,je,cr())(h)}var oy={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},sy=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="treemap",d}return f.getDefaultOptions=function(){return oy},f.prototype.changeData=function(d){var g=this.options,x=g.colorField,w=g.interactions,M=g.hierarchyConfig;this.updateOption({data:d});var F=El({data:d,colorField:x,enableDrillDown:uf(w,"treemap-drill-down"),hierarchyConfig:M});this.chart.changeData(F),Bs(this.chart)},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Wu},f}(wr),ci="id",Pl="path",Hp={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(h){return{name:h.id,value:h.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function Il(h){if(h){var f=h.geometries[0].elements;f.forEach(function(d){d.shape.toFront()})}}var cf=(0,St.gj)("element-active"),Gp=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.syncElementsPos=function(){Il(this.context.view)},f.prototype.active=function(){h.prototype.active.call(this),this.syncElementsPos()},f.prototype.toggle=function(){h.prototype.toggle.call(this),this.syncElementsPos()},f.prototype.reset=function(){h.prototype.reset.call(this),this.syncElementsPos()},f}(cf),Xp=(0,St.gj)("element-highlight"),hf=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.syncElementsPos=function(){Il(this.context.view)},f.prototype.highlight=function(){h.prototype.highlight.call(this),this.syncElementsPos()},f.prototype.toggle=function(){h.prototype.toggle.call(this),this.syncElementsPos()},f.prototype.clear=function(){h.prototype.clear.call(this),this.syncElementsPos()},f.prototype.reset=function(){h.prototype.reset.call(this),this.syncElementsPos()},f}(Xp),Zp=(0,St.gj)("element-selected"),Fl=(0,St.gj)("element-single-selected"),Yu=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.syncElementsPos=function(){Il(this.context.view)},f.prototype.selected=function(){h.prototype.selected.call(this),this.syncElementsPos()},f.prototype.toggle=function(){h.prototype.toggle.call(this),this.syncElementsPos()},f.prototype.reset=function(){h.prototype.reset.call(this),this.syncElementsPos()},f}(Zp),Ao=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.syncElementsPos=function(){Il(this.context.view)},f.prototype.selected=function(){h.prototype.selected.call(this),this.syncElementsPos()},f.prototype.toggle=function(){h.prototype.toggle.call(this),this.syncElementsPos()},f.prototype.reset=function(){h.prototype.reset.call(this),this.syncElementsPos()},f}(Fl);(0,St.zl)("venn-element-active",Gp),(0,St.zl)("venn-element-highlight",hf),(0,St.zl)("venn-element-selected",Yu),(0,St.zl)("venn-element-single-selected",Ao),(0,St.w_)("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),(0,St.w_)("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),(0,St.w_)("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),(0,St.w_)("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),(0,St.w_)("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),(0,St.w_)("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var jp=function(h){(0,q.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getLabelPoint=function(d,g,x){var w=d.data,M=w.x,F=w.y,k=d.customLabelInfo,D=k.offsetX,z=k.offsetY;return{content:d.content[x],x:M+D,y:F+z}},f}(St.Lc);(0,St.gp)("venn",jp);var $p=Array.isArray,Kp=$p,rs=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Hu=new RegExp("([a-z])["+rs+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+rs+"]*,?["+rs+"]*)+)","ig"),ff=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+rs+"]*,?["+rs+"]*","ig");function qp(h){if(!h)return null;if(Kp(h))return h;var f={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},d=[];return String(h).replace(Hu,function(g,x,w){var M=[],F=x.toLowerCase();if(w.replace(ff,function(k,D){D&&M.push(+D)}),F==="m"&&M.length>2&&(d.push([x].concat(M.splice(0,2))),F="l",x=x==="m"?"l":"L"),F==="o"&&M.length===1&&d.push([x,M[0]]),F==="r")d.push([x].concat(M));else for(;M.length>=f[F]&&(d.push([x].concat(M.splice(0,f[F]))),!!f[F]););return""}),d}var vf=/[a-z]/;function kl(h,f){return[f[0]+(f[0]-h[0]),f[1]+(f[1]-h[1])]}function Jp(h){var f=parsePathString(h);if(!f||!f.length)return[["M",0,0]];for(var d=!1,g=0;g<f.length;g++){var x=f[g][0];if(vf.test(x)||["V","H","T","S"].indexOf(x)>=0){d=!0;break}}if(!d)return f;var w=[],M=0,F=0,k=0,D=0,z=0,X,Y,rt=f[0];(rt[0]==="M"||rt[0]==="m")&&(M=+rt[1],F=+rt[2],k=M,D=F,z++,w[0]=["M",M,F]);for(var g=z,bt=f.length;g<bt;g++){var _t=f[g],Ut=w[g-1],Dt=[],x=_t[0],Se=x.toUpperCase();if(x!==Se)switch(Dt[0]=Se,Se){case"A":Dt[1]=_t[1],Dt[2]=_t[2],Dt[3]=_t[3],Dt[4]=_t[4],Dt[5]=_t[5],Dt[6]=+_t[6]+M,Dt[7]=+_t[7]+F;break;case"V":Dt[1]=+_t[1]+F;break;case"H":Dt[1]=+_t[1]+M;break;case"M":k=+_t[1]+M,D=+_t[2]+F,Dt[1]=k,Dt[2]=D;break;default:for(var ze=1,De=_t.length;ze<De;ze++)Dt[ze]=+_t[ze]+(ze%2?M:F)}else Dt=f[g];switch(Se){case"Z":M=+k,F=+D;break;case"H":M=Dt[1],Dt=["L",M,F];break;case"V":F=Dt[1],Dt=["L",M,F];break;case"T":M=Dt[1],F=Dt[2];var Re=kl([Ut[1],Ut[2]],[Ut[3],Ut[4]]);Dt=["Q",Re[0],Re[1],M,F];break;case"S":M=Dt[Dt.length-2],F=Dt[Dt.length-1];var ar=Ut.length,pr=kl([Ut[ar-4],Ut[ar-3]],[Ut[ar-2],Ut[ar-1]]);Dt=["C",pr[0],pr[1],Dt[1],Dt[2],M,F];break;case"M":k=Dt[Dt.length-2],D=Dt[Dt.length-1];break;default:M=Dt[Dt.length-2],F=Dt[Dt.length-1]}w.push(Dt)}return w}var Qa=Math.PI*2,Dl=function(h,f,d,g,x,w,M){var F=h.x,k=h.y;F*=f,k*=d;var D=g*F-x*k,z=x*F+g*k;return{x:D+w,y:z+M}},df=function(h,f){var d=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),g=Math.cos(h),x=Math.sin(h),w=Math.cos(h+f),M=Math.sin(h+f);return[{x:g-x*d,y:x+g*d},{x:w+M*d,y:M-w*d},{x:w,y:M}]},_n=function(h,f,d,g){var x=h*g-f*d<0?-1:1,w=h*d+f*g;return w>1&&(w=1),w<-1&&(w=-1),x*Math.acos(w)},pf=function(h,f,d,g,x,w,M,F,k,D,z,X){var Y=Math.pow(x,2),rt=Math.pow(w,2),bt=Math.pow(z,2),_t=Math.pow(X,2),Ut=Y*rt-Y*_t-rt*bt;Ut<0&&(Ut=0),Ut/=Y*_t+rt*bt,Ut=Math.sqrt(Ut)*(M===F?-1:1);var Dt=Ut*x/w*X,Se=Ut*-w/x*z,ze=D*Dt-k*Se+(h+d)/2,De=k*Dt+D*Se+(f+g)/2,Re=(z-Dt)/x,ar=(X-Se)/w,pr=(-z-Dt)/x,Cr=(-X-Se)/w,Gr=_n(1,0,Re,ar),Fr=_n(Re,ar,pr,Cr);return F===0&&Fr>0&&(Fr-=Qa),F===1&&Fr<0&&(Fr+=Qa),[ze,De,Gr,Fr]},Gu=function(h){var f=h.px,d=h.py,g=h.cx,x=h.cy,w=h.rx,M=h.ry,F=h.xAxisRotation,k=F===void 0?0:F,D=h.largeArcFlag,z=D===void 0?0:D,X=h.sweepFlag,Y=X===void 0?0:X,rt=[];if(w===0||M===0)return[{x1:0,y1:0,x2:0,y2:0,x:g,y:x}];var bt=Math.sin(k*Qa/360),_t=Math.cos(k*Qa/360),Ut=_t*(f-g)/2+bt*(d-x)/2,Dt=-bt*(f-g)/2+_t*(d-x)/2;if(Ut===0&&Dt===0)return[{x1:0,y1:0,x2:0,y2:0,x:g,y:x}];w=Math.abs(w),M=Math.abs(M);var Se=Math.pow(Ut,2)/Math.pow(w,2)+Math.pow(Dt,2)/Math.pow(M,2);Se>1&&(w*=Math.sqrt(Se),M*=Math.sqrt(Se));var ze=pf(f,d,g,x,w,M,z,Y,bt,_t,Ut,Dt),De=ze[0],Re=ze[1],ar=ze[2],pr=ze[3],Cr=Math.abs(pr)/(Qa/4);Math.abs(1-Cr)<1e-7&&(Cr=1);var Gr=Math.max(Math.ceil(Cr),1);pr/=Gr;for(var Fr=0;Fr<Gr;Fr++)rt.push(df(ar,pr)),ar+=pr;return rt.map(function(Ar){var en=Dl(Ar[0],w,M,_t,bt,De,Re),Mn=en.x,yn=en.y,zn=Dl(Ar[1],w,M,_t,bt,De,Re),nr=zn.x,br=zn.y,Pr=Dl(Ar[2],w,M,_t,bt,De,Re),Ir=Pr.x,Sr=Pr.y;return{x1:Mn,y1:yn,x2:nr,y2:br,x:Ir,y:Sr}})};function ly(h,f,d,g,x,w,M,F,k){var D=Gu({px:h,py:f,cx:F,cy:k,rx:d,ry:g,xAxisRotation:x,largeArcFlag:w,sweepFlag:M});return D.reduce(function(z,X){var Y=X.x1,rt=X.y1,bt=X.x2,_t=X.y2,Ut=X.x,Dt=X.y;return z.push(Y,rt,bt,_t,Ut,Dt),z},[])}function Qp(h,f){"TQ".indexOf(h[0])<0&&(f.qx=null,f.qy=null);var d=h.slice(1),g=d[0],x=d[1];switch(h[0]){case"M":return f.x=g,f.y=x,h;case"A":return["C"].concat(arcToCubic.apply(0,[f.x1,f.y1].concat(h.slice(1))));case"Q":return f.qx=g,f.qy=x,["C"].concat(quadToCubic.apply(0,[f.x1,f.y1].concat(h.slice(1))));case"L":return["C"].concat(lineToCubic(f.x1,f.y1,h[1],h[2]));case"H":return["C"].concat(lineToCubic(f.x1,f.y1,h[1],f.y1));case"V":return["C"].concat(lineToCubic(f.x1,f.y1,f.x1,h[1]));case"Z":return["C"].concat(lineToCubic(f.x1,f.y1,f.x,f.y));default:}return h}function uy(h,f){f===void 0&&(f=!1);for(var d=path2Absolute(h),g={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},x=[],w="",M=d.length,F,k,D=[],z=0;z<M;z+=1)d[z]&&(w=d[z][0]),x[z]=w,d[z]=segmentToCubic(d[z],g),Xu(d,x,z),M=d.length,w==="Z"&&D.push(z),F=d[z],k=F.length,g.x1=+F[k-2],g.y1=+F[k-1],g.x2=+F[k-4]||g.x1,g.y2=+F[k-3]||g.y1;return f?[d,D]:d}function Xu(h,f,d){if(h[d].length>7){h[d].shift();for(var g=h[d],x=d;g.length;)f[d]="A",h.splice(x+=1,0,["C"].concat(g.splice(0,6)));h.splice(d,1)}}var gf=function(h,f,d,g,x){var w=-3*f+9*d-9*g+3*x,M=h*w+6*f-12*d+6*g;return h*M-3*f+3*d},Zu=function(h,f,d,g,x,w,M,F,k){k===null&&(k=1),k=k>1?1:k<0?0:k;for(var D=k/2,z=12,X=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],rt=0,bt=0;bt<z;bt++){var _t=D*X[bt]+D,Ut=gf(_t,h,d,x,M),Dt=gf(_t,f,g,w,F),Se=Ut*Ut+Dt*Dt;rt+=Y[bt]*Math.sqrt(Se)}return D*rt},cy=function(h,f,d,g,x,w,M,F){for(var k=[],D=[[],[]],z,X,Y,rt,bt=0;bt<2;++bt){if(bt===0?(X=6*h-12*d+6*x,z=-3*h+9*d-9*x+3*M,Y=3*d-3*h):(X=6*f-12*g+6*w,z=-3*f+9*g-9*w+3*F,Y=3*g-3*f),Math.abs(z)<1e-12){if(Math.abs(X)<1e-12)continue;rt=-Y/X,rt>0&&rt<1&&k.push(rt);continue}var _t=X*X-4*Y*z,Ut=Math.sqrt(_t);if(!(_t<0)){var Dt=(-X+Ut)/(2*z);Dt>0&&Dt<1&&k.push(Dt);var Se=(-X-Ut)/(2*z);Se>0&&Se<1&&k.push(Se)}}for(var ze=k.length,De=ze,Re;ze--;)rt=k[ze],Re=1-rt,D[0][ze]=Re*Re*Re*h+3*Re*Re*rt*d+3*Re*rt*rt*x+rt*rt*rt*M,D[1][ze]=Re*Re*Re*f+3*Re*Re*rt*g+3*Re*rt*rt*w+rt*rt*rt*F;return D[0][De]=h,D[1][De]=f,D[0][De+1]=M,D[1][De+1]=F,D[0].length=D[1].length=De+2,{min:{x:Math.min.apply(0,D[0]),y:Math.min.apply(0,D[1])},max:{x:Math.max.apply(0,D[0]),y:Math.max.apply(0,D[1])}}},hy=function(h,f,d,g,x,w,M,F){if(!(Math.max(h,d)<Math.min(x,M)||Math.min(h,d)>Math.max(x,M)||Math.max(f,g)<Math.min(w,F)||Math.min(f,g)>Math.max(w,F))){var k=(h*g-f*d)*(x-M)-(h-d)*(x*F-w*M),D=(h*g-f*d)*(w-F)-(f-g)*(x*F-w*M),z=(h-d)*(w-F)-(f-g)*(x-M);if(z){var X=k/z,Y=D/z,rt=+X.toFixed(2),bt=+Y.toFixed(2);if(!(rt<+Math.min(h,d).toFixed(2)||rt>+Math.max(h,d).toFixed(2)||rt<+Math.min(x,M).toFixed(2)||rt>+Math.max(x,M).toFixed(2)||bt<+Math.min(f,g).toFixed(2)||bt>+Math.max(f,g).toFixed(2)||bt<+Math.min(w,F).toFixed(2)||bt>+Math.max(w,F).toFixed(2)))return{x:X,y:Y}}}},Eo=function(h,f,d){return f>=h.x&&f<=h.x+h.width&&d>=h.y&&d<=h.y+h.height},ju=function(h,f,d,g){return h===null&&(h=f=d=g=0),f===null&&(f=h.y,d=h.width,g=h.height,h=h.x),{x:h,y:f,width:d,w:d,height:g,h:g,x2:h+d,y2:f+g,cx:h+d/2,cy:f+g/2,r1:Math.min(d,g)/2,r2:Math.max(d,g)/2,r0:Math.sqrt(d*d+g*g)/2,path:rectPath(h,f,d,g),vb:[h,f,d,g].join(" ")}},to=function(h,f){return h=ju(h),f=ju(f),Eo(f,h.x,h.y)||Eo(f,h.x2,h.y)||Eo(f,h.x,h.y2)||Eo(f,h.x2,h.y2)||Eo(h,f.x,f.y)||Eo(h,f.x2,f.y)||Eo(h,f.x,f.y2)||Eo(h,f.x2,f.y2)||(h.x<f.x2&&h.x>f.x||f.x<h.x2&&f.x>h.x)&&(h.y<f.y2&&h.y>f.y||f.y<h.y2&&f.y>h.y)},un=function(h,f,d,g,x,w,M,F){isArray(h)||(h=[h,f,d,g,x,w,M,F]);var k=cy.apply(null,h);return ju(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)},qi=function(h,f,d,g,x,w,M,F,k){var D=1-k,z=Math.pow(D,3),X=Math.pow(D,2),Y=k*k,rt=Y*k,bt=z*h+X*3*k*d+D*3*k*k*x+rt*M,_t=z*f+X*3*k*g+D*3*k*k*w+rt*F,Ut=h+2*k*(d-h)+Y*(x-2*d+h),Dt=f+2*k*(g-f)+Y*(w-2*g+f),Se=d+2*k*(x-d)+Y*(M-2*x+d),ze=g+2*k*(w-g)+Y*(F-2*w+g),De=D*h+k*d,Re=D*f+k*g,ar=D*x+k*M,pr=D*w+k*F,Cr=90-Math.atan2(Ut-Se,Dt-ze)*180/Math.PI;return{x:bt,y:_t,m:{x:Ut,y:Dt},n:{x:Se,y:ze},start:{x:De,y:Re},end:{x:ar,y:pr},alpha:Cr}},tg=function(h,f,d){var g=un(h),x=un(f);if(!to(g,x))return d?0:[];for(var w=Zu.apply(0,h),M=Zu.apply(0,f),F=~~(w/8),k=~~(M/8),D=[],z=[],X={},Y=d?0:[],rt=0;rt<F+1;rt++){var bt=qi.apply(0,h.concat(rt/F));D.push({x:bt.x,y:bt.y,t:rt/F})}for(var rt=0;rt<k+1;rt++){var bt=qi.apply(0,f.concat(rt/k));z.push({x:bt.x,y:bt.y,t:rt/k})}for(var rt=0;rt<F;rt++)for(var _t=0;_t<k;_t++){var Ut=D[rt],Dt=D[rt+1],Se=z[_t],ze=z[_t+1],De=Math.abs(Dt.x-Ut.x)<.001?"y":"x",Re=Math.abs(ze.x-Se.x)<.001?"y":"x",ar=hy(Ut.x,Ut.y,Dt.x,Dt.y,Se.x,Se.y,ze.x,ze.y);if(ar){if(X[ar.x.toFixed(4)]===ar.y.toFixed(4))continue;X[ar.x.toFixed(4)]=ar.y.toFixed(4);var pr=Ut.t+Math.abs((ar[De]-Ut[De])/(Dt[De]-Ut[De]))*(Dt.t-Ut.t),Cr=Se.t+Math.abs((ar[Re]-Se[Re])/(ze[Re]-Se[Re]))*(ze.t-Se.t);pr>=0&&pr<=1&&Cr>=0&&Cr<=1&&(d?Y++:Y.push({x:ar.x,y:ar.y,t1:pr,t2:Cr}))}}return Y},eg=function(h,f,d){h=path2Curve(h),f=path2Curve(f);for(var g,x,w,M,F,k,D,z,X,Y,rt=d?0:[],bt=0,_t=h.length;bt<_t;bt++){var Ut=h[bt];if(Ut[0]==="M")g=F=Ut[1],x=k=Ut[2];else{Ut[0]==="C"?(X=[g,x].concat(Ut.slice(1)),g=X[6],x=X[7]):(X=[g,x,g,x,F,k,F,k],g=F,x=k);for(var Dt=0,Se=f.length;Dt<Se;Dt++){var ze=f[Dt];if(ze[0]==="M")w=D=ze[1],M=z=ze[2];else{ze[0]==="C"?(Y=[w,M].concat(ze.slice(1)),w=Y[6],M=Y[7]):(Y=[w,M,w,M,D,z,D,z],w=D,M=z);var De=tg(X,Y,d);if(d)rt+=De;else{for(var Re=0,ar=De.length;Re<ar;Re++)De[Re].segment1=bt,De[Re].segment2=Dt,De[Re].bez1=X,De[Re].bez2=Y;rt=rt.concat(De)}}}}}return rt};function fy(h,f){return eg(h,f)}function rg(h){return Z({},h.defaultStyle,{fill:h.color},h.style)}(0,St.Fj)("schema","venn",{draw:function(h,f){var d=h.data,g=qp(d[Pl]),x=rg(h),w=f.addGroup({name:"venn-shape"});w.addShape("path",{attrs:(0,q.pi)((0,q.pi)({},x),{path:g}),name:"venn-path"});var M=h.customInfo,F=M.offsetX,k=M.offsetY,D=St.Zr.transform(null,[["t",F,k]]);return w.setMatrix(D),w},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{lineWidth:0,stroke:f,fill:f,r:4}}}});var $u=H(55223),yf=function(h){return function(f,d){var g=[];return g[0]=h(f[0],d[0]),g[1]=h(f[1],d[1]),g[2]=h(f[2],d[2]),g}},eo={normal:function(h){return h},multiply:function(h,f){return h*f/255},screen:function(h,f){return 255*(1-(1-h/255)*(1-f/255))},overlay:function(h,f){return f<128?2*h*f/255:255*(1-2*(1-h/255)*(1-f/255))},darken:function(h,f){return h>f?f:h},lighten:function(h,f){return h>f?h:f},dodge:function(h,f){return h===255?255:(h=255*(f/255)/(1-h/255),h>255?255:h)},burn:function(h,f){return f===255?255:h===0?0:255*(1-Math.min(1,(1-f/255)/(h/255)))}},Ns=function(h){if(!eo[h])throw new Error("unknown blend mode "+h);return eo[h]};function ng(h,f,d){d===void 0&&(d="normal");var g=yf(Ns(d))(zs(h),zs(f)),x=zs(h),w=x[0],M=x[1],F=x[2],k=x[3],D=zs(f),z=D[0],X=D[1],Y=D[2],rt=D[3],bt=Number((k+rt*(1-k)).toFixed(2)),_t=Math.round((k*(1-rt)*(w/255)+k*rt*(g[0]/255)+(1-k)*rt*(z/255))/bt*255),Ut=Math.round((k*(1-rt)*(M/255)+k*rt*(g[1]/255)+(1-k)*rt*(X/255))/bt*255),Dt=Math.round((k*(1-rt)*(F/255)+k*rt*(g[2]/255)+(1-k)*rt*(Y/255))/bt*255);return"rgba(".concat(_t,", ").concat(Ut,", ").concat(Dt,", ").concat(bt,")")}function zs(h){var f=h.replace("/s+/g",""),d;return typeof f=="string"&&!f.startsWith("rgba")&&!f.startsWith("#")?d=$u.Z.rgb2arr($u.Z.toRGB(f)).concat([1]):(f.startsWith("rgba")&&(d=f.replace("rgba(","").replace(")","").split(",")),f.startsWith("#")&&(d=$u.Z.rgb2arr(f).concat([1])),d.map(function(g,x){return x===3?Number(g):g|0}))}var Pa=H(87026),mf=1e-10;function Ku(h,f){var d=bf(h),g=d.filter(function(pr){return xf(pr,h)}),x=0,w=0,M,F=[];if(g.length>1){var k=Cf(g);for(M=0;M<g.length;++M){var D=g[M];D.angle=Math.atan2(D.x-k.x,D.y-k.y)}g.sort(function(pr,Cr){return Cr.angle-pr.angle});var z=g[g.length-1];for(M=0;M<g.length;++M){var X=g[M];w+=(z.x+X.x)*(X.y-z.y);for(var Y={x:(X.x+z.x)/2,y:(X.y+z.y)/2},rt=null,bt=0;bt<X.parentIndex.length;++bt)if(z.parentIndex.indexOf(X.parentIndex[bt])>-1){var _t=h[X.parentIndex[bt]],Ut=Math.atan2(X.x-_t.x,X.y-_t.y),Dt=Math.atan2(z.x-_t.x,z.y-_t.y),Se=Dt-Ut;Se<0&&(Se+=2*Math.PI);var ze=Dt-Se/2,De=ha(Y,{x:_t.x+_t.radius*Math.sin(ze),y:_t.y+_t.radius*Math.cos(ze)});De>_t.radius*2&&(De=_t.radius*2),(rt===null||rt.width>De)&&(rt={circle:_t,width:De,p1:X,p2:z})}rt!==null&&(F.push(rt),x+=qu(rt.circle.radius,rt.width),z=X)}}else{var Re=h[0];for(M=1;M<h.length;++M)h[M].radius<Re.radius&&(Re=h[M]);var ar=!1;for(M=0;M<h.length;++M)if(ha(h[M],Re)>Math.abs(Re.radius-h[M].radius)){ar=!0;break}ar?x=w=0:(x=Re.radius*Re.radius*Math.PI,F.push({circle:Re,p1:{x:Re.x,y:Re.y+Re.radius},p2:{x:Re.x-mf,y:Re.y+Re.radius},width:Re.radius*2}))}return w/=2,f&&(f.area=x+w,f.arcArea=x,f.polygonArea=w,f.arcs=F,f.innerPoints=g,f.intersectionPoints=d),x+w}function xf(h,f){for(var d=0;d<f.length;++d)if(ha(h,f[d])>f[d].radius+mf)return!1;return!0}function bf(h){for(var f=[],d=0;d<h.length;++d)for(var g=d+1;g<h.length;++g)for(var x=Sf(h[d],h[g]),w=0;w<x.length;++w){var M=x[w];M.parentIndex=[d,g],f.push(M)}return f}function qu(h,f){return h*h*Math.acos(1-f/h)-(h-f)*Math.sqrt(f*(2*h-f))}function ha(h,f){return Math.sqrt((h.x-f.x)*(h.x-f.x)+(h.y-f.y)*(h.y-f.y))}function wf(h,f,d){if(d>=h+f)return 0;if(d<=Math.abs(h-f))return Math.PI*Math.min(h,f)*Math.min(h,f);var g=h-(d*d-f*f+h*h)/(2*d),x=f-(d*d-h*h+f*f)/(2*d);return qu(h,g)+qu(f,x)}function Sf(h,f){var d=ha(h,f),g=h.radius,x=f.radius;if(d>=g+x||d<=Math.abs(g-x))return[];var w=(g*g-x*x+d*d)/(2*d),M=Math.sqrt(g*g-w*w),F=h.x+w*(f.x-h.x)/d,k=h.y+w*(f.y-h.y)/d,D=-(f.y-h.y)*(M/d),z=-(f.x-h.x)*(M/d);return[{x:F+D,y:k-z},{x:F-D,y:k+z}]}function Cf(h){for(var f={x:0,y:0},d=0;d<h.length;++d)f.x+=h[d].x,f.y+=h[d].y;return f.x/=h.length,f.y/=h.length,f}function ns(h,f,d){var g=f[0].radius-ha(f[0],h),x,w;for(x=1;x<f.length;++x)w=f[x].radius-ha(f[x],h),w<=g&&(g=w);for(x=0;x<d.length;++x)w=ha(d[x],h)-d[x].radius,w<=g&&(g=w);return g}function Ll(h,f){var d=[],g;for(g=0;g<h.length;++g){var x=h[g];d.push({x:x.x,y:x.y}),d.push({x:x.x+x.radius/2,y:x.y}),d.push({x:x.x-x.radius/2,y:x.y}),d.push({x:x.x,y:x.y+x.radius/2}),d.push({x:x.x,y:x.y-x.radius/2})}var w=d[0],M=ns(d[0],h,f);for(g=1;g<d.length;++g){var F=ns(d[g],h,f);F>=M&&(w=d[g],M=F)}var k=(0,Pa.nelderMead)(function(Y){return-1*ns({x:Y[0],y:Y[1]},h,f)},[w.x,w.y],{maxIterations:500,minErrorDelta:1e-10}).x,D={x:k[0],y:k[1]},z=!0;for(g=0;g<h.length;++g)if(ha(D,h[g])>h[g].radius){z=!1;break}for(g=0;g<f.length;++g)if(ha(D,f[g])<f[g].radius){z=!1;break}if(!z)if(h.length==1)D={x:h[0].x,y:h[0].y};else{var X={};Ku(h,X),X.arcs.length===0?D={x:0,y:-1e3,disjoint:!0}:X.arcs.length==1?D={x:X.arcs[0].circle.x,y:X.arcs[0].circle.y}:f.length?D=Ll(h,[]):D=Cf(X.arcs.map(function(Y){return Y.p1}))}return D}function Mf(h){var f={},d=[];for(var g in h)d.push(g),f[g]=[];for(var x=0;x<d.length;x++)for(var w=h[d[x]],M=x+1;M<d.length;++M){var F=h[d[M]],k=ha(w,F);k+F.radius<=w.radius+1e-10?f[d[M]].push(d[x]):k+w.radius<=F.radius+1e-10&&f[d[x]].push(d[M])}return f}function Ol(h,f){for(var d={},g=Mf(h),x=0;x<f.length;++x){for(var w=f[x].sets,M={},F={},k=0;k<w.length;++k){M[w[k]]=!0;for(var D=g[w[k]],z=0;z<D.length;++z)F[D[z]]=!0}var X=[],Y=[];for(var rt in h)rt in M?X.push(h[rt]):rt in F||Y.push(h[rt]);var bt=Ll(X,Y);d[w]=bt,bt.disjoint&&f[x].size>0&&console.log("WARNING: area "+w+" not represented on screen")}return d}function Bl(h,f,d){var g=[],x=h-d,w=f;return g.push("M",x,w),g.push("A",d,d,0,1,0,x+2*d,w),g.push("A",d,d,0,1,0,x,w),g.join(" ")}function Ju(h){var f=h.split(" ");return{x:parseFloat(f[1]),y:parseFloat(f[2]),radius:-parseFloat(f[4])}}function Qu(h){var f={};Ku(h,f);var d=f.arcs;if(d.length===0)return"M 0 0";if(d.length==1){var g=d[0].circle;return Bl(g.x,g.y,g.radius)}else{for(var x=[`
M`,d[0].p2.x,d[0].p2.y],w=0;w<d.length;++w){var M=d[w],F=M.circle.radius,k=M.width>F;x.push(`
A`,F,F,0,k?1:0,1,M.p1.x,M.p1.y)}return x.join(" ")}}function Rl(h,f){f=f||{},f.maxIterations=f.maxIterations||500;var d=f.initialLayout||Tf,g=f.lossFunction||ic;h=_o(h);var x=d(h,f),w=[],M=[],F;for(F in x)x.hasOwnProperty(F)&&(w.push(x[F].x),w.push(x[F].y),M.push(F));for(var k=(0,Pa.nelderMead)(function(X){for(var Y={},rt=0;rt<M.length;++rt){var bt=M[rt];Y[bt]={x:X[2*rt],y:X[2*rt+1],radius:x[bt].radius}}return g(Y,h)},w,f),D=k.x,z=0;z<M.length;++z)F=M[z],x[F].x=D[2*z],x[F].y=D[2*z+1];return x}var tc=1e-10;function Nl(h,f,d){return Math.min(h,f)*Math.min(h,f)*Math.PI<=d+tc?Math.abs(h-f):(0,Pa.bisect)(function(g){return wf(h,f,g)-d},0,h+f)}function _o(h){h=h.slice();var f=[],d={},g,x,w,M;for(g=0;g<h.length;++g){var F=h[g];F.sets.length==1?f.push(F.sets[0]):F.sets.length==2&&(w=F.sets[0],M=F.sets[1],d[[w,M]]=!0,d[[M,w]]=!0)}for(f.sort(function(k,D){return k>D?1:-1}),g=0;g<f.length;++g)for(w=f[g],x=g+1;x<f.length;++x)M=f[x],[w,M]in d||h.push({sets:[w,M],size:0});return h}function ec(h,f,d){var g=(0,Pa.zerosM)(f.length,f.length),x=(0,Pa.zerosM)(f.length,f.length);return h.filter(function(w){return w.sets.length==2}).map(function(w){var M=d[w.sets[0]],F=d[w.sets[1]],k=Math.sqrt(f[M].size/Math.PI),D=Math.sqrt(f[F].size/Math.PI),z=Nl(k,D,w.size);g[M][F]=g[F][M]=z;var X=0;w.size+1e-10>=Math.min(f[M].size,f[F].size)?X=1:w.size<=1e-10&&(X=-1),x[M][F]=x[F][M]=X}),{distances:g,constraints:x}}function rc(h,f,d,g){var x=0,w;for(w=0;w<f.length;++w)f[w]=0;for(w=0;w<d.length;++w)for(var M=h[2*w],F=h[2*w+1],k=w+1;k<d.length;++k){var D=h[2*k],z=h[2*k+1],X=d[w][k],Y=g[w][k],rt=(D-M)*(D-M)+(z-F)*(z-F),bt=Math.sqrt(rt),_t=rt-X*X;Y>0&&bt<=X||Y<0&&bt>=X||(x+=2*_t*_t,f[2*w]+=4*_t*(M-D),f[2*w+1]+=4*_t*(F-z),f[2*k]+=4*_t*(D-M),f[2*k+1]+=4*_t*(z-F))}return x}function Tf(h,f){var d=nc(h,f),g=f.lossFunction||ic;if(h.length>=8){var x=is(h,f),w=g(x,h),M=g(d,h);w+1e-8<M&&(d=x)}return d}function is(h,f){f=f||{};var d=f.restarts||10,g=[],x={},w;for(w=0;w<h.length;++w){var M=h[w];M.sets.length==1&&(x[M.sets[0]]=g.length,g.push(M))}var F=ec(h,g,x),k=F.distances,D=F.constraints,z=(0,Pa.norm2)(k.map(Pa.norm2))/k.length;k=k.map(function(Se){return Se.map(function(ze){return ze/z})});var X=function(Se,ze){return rc(Se,ze,k,D)},Y,rt;for(w=0;w<d;++w){var bt=(0,Pa.zeros)(k.length*2).map(Math.random);rt=(0,Pa.conjugateGradient)(X,bt,f),(!Y||rt.fx<Y.fx)&&(Y=rt)}var _t=Y.x,Ut={};for(w=0;w<g.length;++w){var Dt=g[w];Ut[Dt.sets[0]]={x:_t[2*w]*z,y:_t[2*w+1]*z,radius:Math.sqrt(Dt.size/Math.PI)}}if(f.history)for(w=0;w<f.history.length;++w)(0,Pa.scale)(f.history[w].x,z);return Ut}function nc(h,f){for(var d=f&&f.lossFunction?f.lossFunction:ic,g={},x={},w,M=0;M<h.length;++M){var F=h[M];F.sets.length==1&&(w=F.sets[0],g[w]={x:1e10,y:1e10,rowid:Object.keys(g).length,size:F.size,radius:Math.sqrt(F.size/Math.PI)},x[w]=[])}h=h.filter(function(nr){return nr.sets.length==2});for(var M=0;M<h.length;++M){var k=h[M],D=k.hasOwnProperty("weight")?k.weight:1,z=k.sets[0],X=k.sets[1];k.size+tc>=Math.min(g[z].size,g[X].size)&&(D=0),x[z].push({set:X,size:k.size,weight:D}),x[X].push({set:z,size:k.size,weight:D})}var Y=[];for(w in x)if(x.hasOwnProperty(w)){for(var rt=0,M=0;M<x[w].length;++M)rt+=x[w][M].size*x[w][M].weight;Y.push({set:w,size:rt})}function bt(nr,br){return br.size-nr.size}Y.sort(bt);var _t={};function Ut(nr){return nr.set in _t}function Dt(nr,br){g[br].x=nr.x,g[br].y=nr.y,_t[br]=!0}Dt({x:0,y:0},Y[0].set);for(var M=1;M<Y.length;++M){var Se=Y[M].set,ze=x[Se].filter(Ut);if(w=g[Se],ze.sort(bt),ze.length===0)throw"ERROR: missing pairwise overlap information";for(var De=[],Re=0;Re<ze.length;++Re){var ar=g[ze[Re].set],pr=Nl(w.radius,ar.radius,ze[Re].size);De.push({x:ar.x+pr,y:ar.y}),De.push({x:ar.x-pr,y:ar.y}),De.push({y:ar.y+pr,x:ar.x}),De.push({y:ar.y-pr,x:ar.x});for(var Cr=Re+1;Cr<ze.length;++Cr)for(var Gr=g[ze[Cr].set],Fr=Nl(w.radius,Gr.radius,ze[Cr].size),Ar=Sf({x:ar.x,y:ar.y,radius:pr},{x:Gr.x,y:Gr.y,radius:Fr}),en=0;en<Ar.length;++en)De.push(Ar[en])}for(var Mn=1e50,yn=De[0],Re=0;Re<De.length;++Re){g[Se].x=De[Re].x,g[Se].y=De[Re].y;var zn=d(g,h);zn<Mn&&(Mn=zn,yn=De[Re])}Dt(yn,Se)}return g}function ic(h,f){var d=0;function g(z){return z.map(function(X){return h[X]})}for(var x=0;x<f.length;++x){var w=f[x],M=void 0;if(w.sets.length!=1){if(w.sets.length==2){var F=h[w.sets[0]],k=h[w.sets[1]];M=wf(F.radius,k.radius,ha(F,k))}else M=Ku(g(w.sets));var D=w.hasOwnProperty("weight")?w.weight:1;d+=D*(M-w.size)*(M-w.size)}}return d}function ac(h,f,d){d===null?h.sort(function(_t,Ut){return Ut.radius-_t.radius}):h.sort(d);var g;if(h.length>0){var x=h[0].x,w=h[0].y;for(g=0;g<h.length;++g)h[g].x-=x,h[g].y-=w}if(h.length==2){var M=distance(h[0],h[1]);M<Math.abs(h[1].radius-h[0].radius)&&(h[1].x=h[0].x+h[0].radius-h[1].radius-1e-10,h[1].y=h[0].y)}if(h.length>1){var F=Math.atan2(h[1].x,h[1].y)-f,k=void 0,D=void 0,z=Math.cos(F),X=Math.sin(F);for(g=0;g<h.length;++g)k=h[g].x,D=h[g].y,h[g].x=z*k-X*D,h[g].y=X*k+z*D}if(h.length>2){for(var Y=Math.atan2(h[2].x,h[2].y)-f;Y<0;)Y+=2*Math.PI;for(;Y>2*Math.PI;)Y-=2*Math.PI;if(Y>Math.PI){var rt=h[1].y/(1e-10+h[1].x);for(g=0;g<h.length;++g){var bt=(h[g].x+rt*h[g].y)/(1+rt*rt);h[g].x=2*bt-h[g].x,h[g].y=2*bt*rt-h[g].y}}}}function Af(h){h.map(function(D){D.parent=D});function f(D){return D.parent!==D&&(D.parent=f(D.parent)),D.parent}function d(D,z){var X=f(D),Y=f(z);X.parent=Y}for(var g=0;g<h.length;++g)for(var x=g+1;x<h.length;++x){var w=h[g].radius+h[x].radius;distance(h[g],h[x])+1e-10<w&&d(h[x],h[g])}for(var M={},F,g=0;g<h.length;++g)F=f(h[g]).parent.setid,F in M||(M[F]=[]),M[F].push(h[g]);h.map(function(D){delete D.parent});var k=[];for(F in M)M.hasOwnProperty(F)&&k.push(M[F]);return k}function Vs(h){var f=function(d){var g=Math.max.apply(null,h.map(function(w){return w[d]+w.radius})),x=Math.min.apply(null,h.map(function(w){return w[d]-w.radius}));return{max:g,min:x}};return{xRange:f("x"),yRange:f("y")}}function vy(h,f,d){f===null&&(f=Math.PI/2);var g=[],x,w;for(w in h)if(h.hasOwnProperty(w)){var M=h[w];g.push({x:M.x,y:M.y,radius:M.radius,setid:w})}var F=Af(g);for(x=0;x<F.length;++x){ac(F[x],f,d);var k=Vs(F[x]);F[x].size=(k.xRange.max-k.xRange.min)*(k.yRange.max-k.yRange.min),F[x].bounds=k}F.sort(function(bt,_t){return _t.size-bt.size}),g=F[0];var D=g.bounds,z=(D.xRange.max-D.xRange.min)/50;function X(bt,_t,Ut){if(bt){var Dt=bt.bounds,Se,ze,De;_t?Se=D.xRange.max-Dt.xRange.min+z:(Se=D.xRange.max-Dt.xRange.max,De=(Dt.xRange.max-Dt.xRange.min)/2-(D.xRange.max-D.xRange.min)/2,De<0&&(Se+=De)),Ut?ze=D.yRange.max-Dt.yRange.min+z:(ze=D.yRange.max-Dt.yRange.max,De=(Dt.yRange.max-Dt.yRange.min)/2-(D.yRange.max-D.yRange.min)/2,De<0&&(ze+=De));for(var Re=0;Re<bt.length;++Re)bt[Re].x+=Se,bt[Re].y+=ze,g.push(bt[Re])}}for(var Y=1;Y<F.length;)X(F[Y],!0,!1),X(F[Y+1],!1,!0),X(F[Y+2],!0,!0),Y+=3,D=Vs(g);var rt={};for(x=0;x<g.length;++x)rt[g[x].setid]=g[x];return rt}function Ef(h,f,d,g){var x=[],w=[];for(var M in h)h.hasOwnProperty(M)&&(w.push(M),x.push(h[M]));f-=2*g,d-=2*g;var F=Vs(x),k=F.xRange,D=F.yRange;if(k.max==k.min||D.max==D.min)return console.log("not scaling solution: zero size detected"),h;for(var z=f/(k.max-k.min),X=d/(D.max-D.min),Y=Math.min(X,z),rt=(f-(k.max-k.min)*Y)/2,bt=(d-(D.max-D.min)*Y)/2,_t={},Ut=0;Ut<x.length;++Ut){var Dt=x[Ut];_t[w[Ut]]={radius:Y*Dt.radius,x:g+rt+(Dt.x-k.min)*Y,y:g+bt+(Dt.y-D.min)*Y}}return _t}var _f=(0,j.HP)(function(h,f,d,g){var x=new Map,w=h.length;return f.forEach(function(M,F){if(M[g].length===1)x.set(M[ci],h[(F+w)%w]);else{var k=M[g].map(function(D){return x.get(D)});x.set(M[ci],k.slice(1).reduce(function(D,z){return ng(D,z,d)},k[0]))}}),x},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return JSON.stringify(h)});function ig(h,f,d,g){g===void 0&&(g=0);var x=h.data,w=h.setsField,M=h.sizeField;if(x.length===0)return Pe(le.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var F=x.map(function(X){var Y;return(0,q.pi)((0,q.pi)({},X),(Y={sets:X[w]||[],size:X[M]},Y[Pl]="",Y[ci]="",Y))});F.sort(function(X,Y){return X.sets.length-Y.sets.length});var k=Rl(F),D=Ef(k,f,d,g),z=Ol(D,F);return F.forEach(function(X){var Y=X.sets,rt=Y.join(",");X[ci]=rt;var bt=Y.map(function(Dt){return D[Dt]}),_t=Qu(bt);/[zZ]$/.test(_t)||(_t+=" Z"),X[Pl]=_t;var Ut=z[rt]||{x:0,y:0};(0,j.f0)(X,Ut)}),F}function ag(h,f){for(var d=0;d<f.length;d++)if(!h.includes(f[d]))return!1;return!0}var og=40;function Pf(h,f,d){var g=h.chart,x=h.options,w=x.blendMode,M=x.setsField,F=g.getTheme(),k=F.colors10,D=F.colors20,z=d;(0,j.kJ)(z)||(z=f.filter(function(Y){return Y[M].length===1}).length<=10?k:D);var X=_f(z,f,w,M);return function(Y){return X.get(Y)||z[0]}}function oc(h,f){var d=h.options,g=d.color;if(typeof g!="function"){var x=typeof g=="string"?[g]:g,w=Pf(h,f,x);return function(M){return w(M[ci])}}return g}function sg(h){var f=h.chart,d=h.options,g=d.legend,x=d.appendPadding,w=d.padding,M=me(x);return g!==!1&&(M=Ae(x,(0,j.U2)(g,"position"),og)),f.appendPadding=ye([M,w]),h}function fa(h){var f=h.options,d=f.data;d||(Pe(le.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),d=[]);var g=d.filter(function(w){return w.sets.length===1}).map(function(w){return w.sets[0]}),x=d.filter(function(w){var M=w.sets;return ag(g,M)});return(0,j.Xy)(x,d)||Pe(le.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,j.b$)({},h,{options:{data:x}})}function lg(h){var f=h.chart,d=h.options,g=d.pointStyle,x=d.setsField,w=d.sizeField,M=me(f.appendPadding),F=M[0],k=M[1],D=M[2],z=M[3],X={offsetX:z,offsetY:F},Y=f.viewBBox,rt=Y.width,bt=Y.height,_t=ig(d,Math.max(rt-(k+z),0),Math.max(bt-(F+D),0),0);f.data(_t);var Ut=Fi(Z({},h,{options:{xField:"x",yField:"y",sizeField:w,seriesField:ci,rawFields:[x,w],schema:{shape:"venn",style:g}}})).ext,Dt=Ut.geometry;Dt.customInfo(X);var Se=oc(h,_t);return typeof Se=="function"&&Dt.color(ci,function(ze){var De=_t.find(function(ar){return ar[ci]===ze}),Re=Pf(h,_t)(ze);return Se(De,Re)}),h}function ug(h){var f=h.chart,d=h.options,g=d.label,x=me(f.appendPadding),w=x[0],M=x[3],F={offsetX:M,offsetY:w},k=ue(f,"schema");if(!g)k.label(!1);else{var D=g.callback,z=(0,q._T)(g,["callback"]);k.label({fields:["id"],callback:D,cfg:(0,j.b$)({},ge(z),{type:"venn",customLabelInfo:F})})}return h}function zl(h){var f=h.chart,d=h.options,g=d.legend,x=d.sizeField;return f.legend(ci,g),f.legend(x,!1),h}function cg(h){var f=h.chart;return f.axis(!1),h}function hg(h){var f=h.options,d=h.chart,g=f.interactions;if(g){var x={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};or(Z({},h,{options:{interactions:g.map(function(w){return(0,q.pi)((0,q.pi)({},w),{type:x[w.type]||w.type})})}}))}return d.removeInteraction("legend-active"),d.removeInteraction("legend-highlight"),h}function If(h){return ct(sg,qe,fa,lg,ug,fr({}),zl,cg,er,hg,je)(h)}var dy=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="venn",d}return f.getDefaultOptions=function(){return Hp},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return If},f.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},f}(wr),Ji="x",kn="violinY",ro="violinSize",Ff="minMax",kf="quantile",Df="median",sc="violin_view",fg="min_max_view",Lf="quantile_view",vg="median_view",lc=Z({},wr.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),dg=H(53843),Of=H.n(dg);function as(h,f){var d=h.length*f;if(h.length===0)throw new Error("quantile requires at least one data point.");if(f<0||f>1)throw new Error("quantiles must be between 0 and 1");return f===1?h[h.length-1]:f===0?h[0]:d%1!==0?h[Math.ceil(d)-1]:h.length%2===0?(h[d-1]+h[d])/2:h[d]}function Us(h,f,d){var g=h[f];h[f]=h[d],h[d]=g}function Vl(h,f,d,g){for(d=d||0,g=g||h.length-1;g>d;){if(g-d>600){var x=g-d+1,w=f-d+1,M=Math.log(x),F=.5*Math.exp(2*M/3),k=.5*Math.sqrt(M*F*(x-F)/x);w-x/2<0&&(k*=-1);var D=Math.max(d,Math.floor(f-w*F/x+k)),z=Math.min(g,Math.floor(f+(x-w)*F/x+k));Vl(h,f,D,z)}var X=h[f],Y=d,rt=g;for(Us(h,d,f),h[g]>X&&Us(h,d,g);Y<rt;){for(Us(h,Y,rt),Y++,rt--;h[Y]<X;)Y++;for(;h[rt]>X;)rt--}h[d]===X?Us(h,d,rt):(rt++,Us(h,rt,g)),rt<=f&&(d=rt+1),f<=rt&&(g=rt-1)}}function Ws(h,f){var d=h.slice();if(Array.isArray(f)){Ul(d,f);for(var g=[],x=0;x<f.length;x++)g[x]=as(d,f[x]);return g}else{var w=Nf(d.length,f);return Bf(d,w,0,d.length-1),as(d,f)}}function Bf(h,f,d,g){f%1===0?Vl(h,f,d,g):(f=Math.floor(f),Vl(h,f,d,g),Vl(h,f+1,f+1,g))}function Ul(h,f){for(var d=[0],g=0;g<f.length;g++)d.push(Nf(h.length,f[g]));d.push(h.length-1),d.sort(Rf);for(var x=[0,d.length-1];x.length;){var w=Math.ceil(x.pop()),M=Math.floor(x.pop());if(!(w-M<=1)){var F=Math.floor((M+w)/2);Bf(h,d[F],Math.floor(d[M]),Math.ceil(d[w])),x.push(M,F,F,w)}}}function Rf(h,f){return h-f}function Nf(h,f){var d=h*f;return f===1?h-1:f===0?0:d%1!==0?Math.ceil(d)-1:h%2===0?d-.5:d}var Wl=function(h){return{low:(0,j.VV)(h),high:(0,j.Fp)(h),q1:Ws(h,.25),q3:Ws(h,.75),median:Ws(h,[.5]),minMax:[(0,j.VV)(h),(0,j.Fp)(h)],quantile:[Ws(h,.25),Ws(h,.75)]}},uc=function(h,f){var d=Of().create(h,f);return{violinSize:d.map(function(g){return g.y}),violinY:d.map(function(g){return g.x})}},zf=function(h){var f=h.xField,d=h.yField,g=h.seriesField,x=h.data,w=h.kde,M={min:w.min,max:w.max,size:w.sampleSize,width:w.width};if(!g){var F=(0,j.vM)(x,f);return Object.keys(F).map(function(z){var X=F[z],Y=X.map(function(rt){return rt[d]});return(0,q.pi)((0,q.pi)({x:z},uc(Y,M)),Wl(Y))})}var k=[],D=(0,j.vM)(x,g);return Object.keys(D).forEach(function(z){var X=(0,j.vM)(D[z],f);return Object.keys(X).forEach(function(Y){var rt,bt=X[Y],_t=bt.map(function(Ut){return Ut[d]});k.push((0,q.pi)((0,q.pi)((rt={x:Y},rt[g]=z,rt),uc(_t,M)),Wl(_t)))})}),k},Yl=["low","high","q1","q3","median"],Hl=[{type:"dodge",marginRatio:1/32}];function pg(h){var f=h.chart,d=h.options;return f.data(zf(d)),h}function gg(h){var f=h.chart,d=h.options,g=d.seriesField,x=d.color,w=d.shape,M=w===void 0?"violin":w,F=d.violinStyle,k=d.tooltip,D=d.state,z=f.createView({id:sc});return da({chart:z,options:{xField:Ji,yField:kn,seriesField:g||Ji,sizeField:ro,tooltip:(0,q.pi)({fields:Yl},k),violin:{style:F,color:x,shape:M},state:D}}),z.geometries[0].adjust(Hl),h}function yg(h){var f=h.chart,d=h.options,g=d.seriesField,x=d.color,w=d.tooltip,M=d.box;if(M===!1)return h;var F=f.createView({id:fg});Yr({chart:F,options:{xField:Ji,yField:Ff,seriesField:g||Ji,tooltip:(0,q.pi)({fields:Yl},w),state:typeof M=="object"?M.state:{},interval:{color:x,size:1,style:{lineWidth:0}}}}),F.geometries[0].adjust(Hl);var k=f.createView({id:Lf});Yr({chart:k,options:{xField:Ji,yField:kf,seriesField:g||Ji,tooltip:(0,q.pi)({fields:Yl},w),state:typeof M=="object"?M.state:{},interval:{color:x,size:8,style:{fillOpacity:1}}}}),k.geometries[0].adjust(Hl);var D=f.createView({id:vg});return jr({chart:D,options:{xField:Ji,yField:Df,seriesField:g||Ji,tooltip:(0,q.pi)({fields:Yl},w),state:typeof M=="object"?M.state:{},point:{color:x,size:1,style:{fill:"white",lineWidth:0}}}}),D.geometries[0].adjust(Hl),k.axis(!1),F.axis(!1),D.axis(!1),D.legend(!1),F.legend(!1),k.legend(!1),h}function mg(h){var f,d=h.chart,g=h.options,x=g.meta,w=g.xAxis,M=g.yAxis,F={},k=Z(F,x,(f={},f[Ji]=(0,q.pi)((0,q.pi)({sync:!0},de(w,re)),{type:"cat"}),f[kn]=(0,q.pi)({sync:!0},de(M,re)),f[Ff]=(0,q.pi)({sync:kn},de(M,re)),f[kf]=(0,q.pi)({sync:kn},de(M,re)),f[Df]=(0,q.pi)({sync:kn},de(M,re)),f));return d.scale(k),h}function xg(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=tt(f,sc);return g===!1?w.axis(Ji,!1):w.axis(Ji,g),x===!1?w.axis(kn,!1):w.axis(kn,x),f.axis(!1),h}function bg(h){var f=h.chart,d=h.options,g=d.legend,x=d.seriesField,w=d.shape;if(g===!1)f.legend(!1);else{var M=x||Ji,F=(0,j.CE)(g,["selected"]);(!w||!w.startsWith("hollow"))&&((0,j.U2)(F,["marker","style","lineWidth"])||(0,j.t8)(F,["marker","style","lineWidth"],0)),f.legend(M,F),(0,j.U2)(g,"selected")&&(0,j.S6)(f.views,function(k){return k.legend(M,g)})}return h}function wg(h){var f=h.chart,d=tt(f,sc);return cr()((0,q.pi)((0,q.pi)({},h),{chart:d})),h}function Sg(h){var f=h.chart,d=h.options,g=d.animation;return(0,j.S6)(f.views,function(x){Wt(x,g)}),h}function Vf(h){return ct(qe,pg,gg,yg,mg,er,xg,bg,or,wg,Sg)(h)}var Cg=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="violin",d}return f.getDefaultOptions=function(){return lc},f.prototype.changeData=function(d){this.updateOption({data:d}),this.chart.changeData(zf(this.options))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.getSchemaAdaptor=function(){return Vf},f}(wr),Hi="$$yField$$",Gl="$$diffField$$",cc="$$absoluteField$$",hc="$$isTotal$$",fc={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function tn(h){for(var f=[],d=0;d<h.length;d++){var g=h[d];if(g){var x=d===0?"M":"L";f.push([x,g.x,g.y])}}var w=h[0];return f.push(["L",w.x,w.y]),f.push(["z"]),f}function py(h){return Z({},h.defaultStyle,h.style,{fill:h.color})}(0,St.Fj)("interval","waterfall",{draw:function(h,f){var d=h.customInfo,g=h.points,x=h.nextPoints,w=f.addGroup(),M=this.parsePath(tn(g)),F=py(h);w.addShape("path",{attrs:(0,q.pi)((0,q.pi)({},F),{path:M})});var k=(0,j.U2)(d,"leaderLine");if(k&&x){var D=[["M",g[2].x,g[2].y],["L",x[0].x,x[0].y]];g[2].y===x[1].y&&(D[1]=["L",x[1].x,x[1].y]),D=this.parsePath(D),w.addShape("path",{attrs:(0,q.pi)({path:D},k.style||{})})}return w}});function Qi(h,f,d,g,x){var w,M=[];if((0,j.u4)(h,function(k,D){var z;Pe(le.WARN,(0,j.hj)(D[d]),"".concat(D[d]," is not a valid number"));var X=(0,j.o8)(D[d])?null:D[d];return M.push((0,q.pi)((0,q.pi)({},D),(z={},z[g]=[k,k+X],z))),k+X},0),M.length&&x){var F=(0,j.U2)(M,[[h.length-1],g,[1]]);M.push((w={},w[f]=x.label,w[d]=F,w[g]=[0,F],w))}return M}function vc(h,f,d,g){var x=Qi(h,f,d,Hi,g);return x.map(function(w,M){var F;return(0,j.Kn)(w)?(0,q.pi)((0,q.pi)({},w),(F={},F[cc]=w[Hi][1],F[Gl]=w[Hi][1]-w[Hi][0],F[hc]=M===h.length,F)):w})}function Uf(h){var f=h.options,d=f.locale,g=f.total,x=Cn(d).get(["waterfall","total"]);return g&&typeof g.label!="string"&&x&&(h.options.total.label=x),h}function Mg(h){var f=h.chart,d=h.options,g=d.data,x=d.xField,w=d.yField,M=d.total,F=d.leaderLine,k=d.columnWidthRatio,D=d.waterfallStyle,z=d.risingFill,X=d.fallingFill,Y=d.color,rt=d.shape,bt=d.customInfo;f.data(vc(g,x,w,M));var _t=Y||function(ze){return(0,j.U2)(ze,[hc])?(0,j.U2)(M,["style","fill"],""):(0,j.U2)(ze,[Hi,1])-(0,j.U2)(ze,[Hi,0])>0?z:X},Ut=Z({},h,{options:{xField:x,yField:Hi,seriesField:x,rawFields:[w,Gl,hc,Hi],widthRatio:k,interval:{style:D,shape:rt||"waterfall",color:_t}}}),Dt=Yr(Ut).ext,Se=Dt.geometry;return Se.customInfo((0,q.pi)((0,q.pi)({},bt),{leaderLine:F})),h}function Tg(h){var f,d,g=h.options,x=g.xAxis,w=g.yAxis,M=g.xField,F=g.yField,k=g.meta,D=Z({},{alias:F},(0,j.U2)(k,F));return ct(fr((f={},f[M]=x,f[F]=w,f[Hi]=w,f),Z({},k,(d={},d[Hi]=D,d[Gl]=D,d[cc]=D,d))))(h)}function Ys(h){var f=h.chart,d=h.options,g=d.xAxis,x=d.yAxis,w=d.xField,M=d.yField;return g===!1?f.axis(w,!1):f.axis(w,g),x===!1?(f.axis(M,!1),f.axis(Hi,!1)):(f.axis(M,x),f.axis(Hi,x)),h}function Hs(h){var f=h.chart,d=h.options,g=d.legend,x=d.total,w=d.risingFill,M=d.fallingFill,F=d.locale,k=Cn(F);if(g===!1)f.legend(!1);else{var D=[{name:k.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:w}}},{name:k.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:M}}}];x&&D.push({name:x.label||"",value:"total",marker:{symbol:"square",style:Z({},{r:5},(0,j.U2)(x,"style"))}}),f.legend(Z({},{custom:!0,position:"top",items:D},g)),f.removeInteraction("legend-filter")}return h}function Wf(h){var f=h.chart,d=h.options,g=d.label,x=d.labelMode,w=d.xField,M=ue(f,"interval");if(!g)M.label(!1);else{var F=g.callback,k=(0,q._T)(g,["callback"]);M.label({fields:x==="absolute"?[cc,w]:[Gl,w],callback:F,cfg:ge(k)})}return h}function Yf(h){var f=h.chart,d=h.options,g=d.tooltip,x=d.xField,w=d.yField;if(g!==!1){f.tooltip((0,q.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[w]},g));var M=f.geometries[0];g!=null&&g.formatter?M.tooltip("".concat(x,"*").concat(w),g.formatter):M.tooltip(w)}else f.tooltip(!1);return h}function Ag(h){return ct(Uf,qe,Mg,Tg,Ys,Hs,Yf,Wf,hr,or,je,cr())(h)}var Hf=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="waterfall",d}return f.getDefaultOptions=function(){return fc},f.prototype.changeData=function(d){var g=this.options,x=g.xField,w=g.yField,M=g.total;this.updateOption({data:d}),this.chart.changeData(vc(d,x,w,M))},f.prototype.getSchemaAdaptor=function(){return Ag},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f}(wr),dc="color",ta=Z({},wr.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",dc],formatter:function(h){return{name:h.text,value:h.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Eg={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function _g(h,f){return f=(0,j.f0)({},Eg,f),Pg(h,f)}function Pg(h,f){var d=Vg();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(k){(0,j.UM)(f[k])||d[k](f[k])}),d.words(h),f.imageMask&&d.createMask(f.imageMask);var g=d.start(),x=g._tags;x.forEach(function(k){k.x+=f.size[0]/2,k.y+=f.size[1]/2});var w=f.size,M=w[0],F=w[1];return x.push({text:"",value:0,x:0,y:0,opacity:0}),x.push({text:"",value:0,x:M,y:F,opacity:0}),x}var pc=Math.PI/180,Gs=64,Xl=2048;function Ig(h){return h.text}function Fg(){return"serif"}function Gf(){return"normal"}function kg(h){return h.value}function Zl(){return~~(Math.random()*2)*90}function Xf(){return 1}function Dg(h,f,d,g){if(!f.sprite){var x=h.context,w=h.ratio;x.clearRect(0,0,(Gs<<5)/w,Xl/w);var M=0,F=0,k=0,D=d.length;for(--g;++g<D;){f=d[g],x.save(),x.font=f.style+" "+f.weight+" "+~~((f.size+1)/w)+"px "+f.font;var z=x.measureText(f.text+"m").width*w,X=f.size<<1;if(f.rotate){var Y=Math.sin(f.rotate*pc),rt=Math.cos(f.rotate*pc),bt=z*rt,_t=z*Y,Ut=X*rt,Dt=X*Y;z=Math.max(Math.abs(bt+Dt),Math.abs(bt-Dt))+31>>5<<5,X=~~Math.max(Math.abs(_t+Ut),Math.abs(_t-Ut))}else z=z+31>>5<<5;if(X>k&&(k=X),M+z>=Gs<<5&&(M=0,F+=k,k=0),F+X>=Xl)break;x.translate((M+(z>>1))/w,(F+(X>>1))/w),f.rotate&&x.rotate(f.rotate*pc),x.fillText(f.text,0,0),f.padding&&(x.lineWidth=2*f.padding,x.strokeText(f.text,0,0)),x.restore(),f.width=z,f.height=X,f.xoff=M,f.yoff=F,f.x1=z>>1,f.y1=X>>1,f.x0=-f.x1,f.y0=-f.y1,f.hasText=!0,M+=z}for(var Se=x.getImageData(0,0,(Gs<<5)/w,Xl/w).data,ze=[];--g>=0;)if(f=d[g],!!f.hasText){for(var z=f.width,De=z>>5,X=f.y1-f.y0,Re=0;Re<X*De;Re++)ze[Re]=0;if(M=f.xoff,M==null)return;F=f.yoff;for(var ar=0,pr=-1,Cr=0;Cr<X;Cr++){for(var Re=0;Re<z;Re++){var Gr=De*Cr+(Re>>5),Fr=Se[(F+Cr)*(Gs<<5)+(M+Re)<<2]?1<<31-Re%32:0;ze[Gr]|=Fr,ar|=Fr}ar?pr=Cr:(f.y0++,X--,Cr--,F++)}f.y1=f.y0+pr,f.sprite=ze.slice(0,(f.y1-f.y0)*De)}}}function Lg(h,f,d){d>>=5;for(var g=h.sprite,x=h.width>>5,w=h.x-(x<<4),M=w&127,F=32-M,k=h.y1-h.y0,D=(h.y+h.y0)*d+(w>>5),z,X=0;X<k;X++){z=0;for(var Y=0;Y<=x;Y++)if((z<<F|(Y<x?(z=g[X*x+Y])>>>M:0))&f[D+Y])return!0;D+=d}return!1}function Og(h,f){var d=h[0],g=h[1];f.x+f.x0<d.x&&(d.x=f.x+f.x0),f.y+f.y0<d.y&&(d.y=f.y+f.y0),f.x+f.x1>g.x&&(g.x=f.x+f.x1),f.y+f.y1>g.y&&(g.y=f.y+f.y1)}function Bg(h,f){return h.x+h.x1>f[0].x&&h.x+h.x0<f[1].x&&h.y+h.y1>f[0].y&&h.y+h.y0<f[1].y}function Zf(h){var f=h[0]/h[1];return function(d){return[f*(d*=.1)*Math.cos(d),d*Math.sin(d)]}}function Rg(h){var f=4,d=f*h[0]/h[1],g=0,x=0;return function(w){var M=w<0?-1:1;switch(Math.sqrt(1+4*M*w)-M&3){case 0:g+=d;break;case 1:x+=f;break;case 2:g-=d;break;default:x-=f;break}return[g,x]}}function jf(h){for(var f=[],d=-1;++d<h;)f[d]=0;return f}function Ng(){return document.createElement("canvas")}function Ia(h){return(0,j.mf)(h)?h:function(){return h}}var zg={archimedean:Zf,rectangular:Rg};function Vg(){var h=[256,256],f=Fg,d=kg,g=Gf,x=Zl,w=Xf,M=Zf,F=Math.random,k=[],D=1/0,z=Ig,X=Gf,Y=Ng,rt={};rt.start=function(){var Ut=h[0],Dt=h[1],Se=bt(Y()),ze=rt.board?rt.board:jf((h[0]>>5)*h[1]),De=k.length,Re=[],ar=k.map(function(Fr,Ar,en){return Fr.text=z.call(this,Fr,Ar,en),Fr.font=f.call(this,Fr,Ar,en),Fr.style=X.call(this,Fr,Ar,en),Fr.weight=g.call(this,Fr,Ar,en),Fr.rotate=x.call(this,Fr,Ar,en),Fr.size=~~d.call(this,Fr,Ar,en),Fr.padding=w.call(this,Fr,Ar,en),Fr}).sort(function(Fr,Ar){return Ar.size-Fr.size}),pr=-1,Cr=rt.board?[{x:0,y:0},{x:Ut,y:Dt}]:null;Gr();function Gr(){for(var Fr=Date.now();Date.now()-Fr<D&&++pr<De;){var Ar=ar[pr];Ar.x=Ut*(F()+.5)>>1,Ar.y=Dt*(F()+.5)>>1,Dg(Se,Ar,ar,pr),Ar.hasText&&_t(ze,Ar,Cr)&&(Re.push(Ar),Cr?rt.hasImage||Og(Cr,Ar):Cr=[{x:Ar.x+Ar.x0,y:Ar.y+Ar.y0},{x:Ar.x+Ar.x1,y:Ar.y+Ar.y1}],Ar.x-=h[0]>>1,Ar.y-=h[1]>>1)}rt._tags=Re,rt._bounds=Cr}return rt};function bt(Ut){Ut.width=Ut.height=1;var Dt=Math.sqrt(Ut.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);Ut.width=(Gs<<5)/Dt,Ut.height=Xl/Dt;var Se=Ut.getContext("2d",{willReadFrequently:!0});return Se.fillStyle=Se.strokeStyle="red",Se.textAlign="center",{context:Se,ratio:Dt}}function _t(Ut,Dt,Se){for(var ze=Dt.x,De=Dt.y,Re=Math.sqrt(h[0]*h[0]+h[1]*h[1]),ar=M(h),pr=F()<.5?1:-1,Cr,Gr=-pr,Fr,Ar;(Cr=ar(Gr+=pr))&&(Fr=~~Cr[0],Ar=~~Cr[1],!(Math.min(Math.abs(Fr),Math.abs(Ar))>=Re));)if(Dt.x=ze+Fr,Dt.y=De+Ar,!(Dt.x+Dt.x0<0||Dt.y+Dt.y0<0||Dt.x+Dt.x1>h[0]||Dt.y+Dt.y1>h[1])&&(!Se||!Lg(Dt,Ut,h[0]))&&(!Se||Bg(Dt,Se))){for(var en=Dt.sprite,Mn=Dt.width>>5,yn=h[0]>>5,zn=Dt.x-(Mn<<4),nr=zn&127,br=32-nr,Pr=Dt.y1-Dt.y0,Ir=void 0,Sr=(Dt.y+Dt.y0)*yn+(zn>>5),Dr=0;Dr<Pr;Dr++){Ir=0;for(var Qr=0;Qr<=Mn;Qr++)Ut[Sr+Qr]|=Ir<<br|(Qr<Mn?(Ir=en[Dr*Mn+Qr])>>>nr:0);Sr+=yn}return delete Dt.sprite,!0}return!1}return rt.createMask=function(Ut){var Dt=document.createElement("canvas"),Se=h[0],ze=h[1];if(!(!Se||!ze)){var De=Se>>5,Re=jf((Se>>5)*ze);Dt.width=Se,Dt.height=ze;var ar=Dt.getContext("2d");ar.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Se,ze);for(var pr=ar.getImageData(0,0,Se,ze).data,Cr=0;Cr<ze;Cr++)for(var Gr=0;Gr<Se;Gr++){var Fr=De*Cr+(Gr>>5),Ar=Cr*Se+Gr<<2,en=pr[Ar]>=250&&pr[Ar+1]>=250&&pr[Ar+2]>=250,Mn=en?1<<31-Gr%32:0;Re[Fr]|=Mn}rt.board=Re,rt.hasImage=!0}},rt.timeInterval=function(Ut){D=Ut==null?1/0:Ut},rt.words=function(Ut){k=Ut},rt.size=function(Ut){h=[+Ut[0],+Ut[1]]},rt.font=function(Ut){f=Ia(Ut)},rt.fontWeight=function(Ut){g=Ia(Ut)},rt.rotate=function(Ut){x=Ia(Ut)},rt.spiral=function(Ut){M=zg[Ut]||Ut},rt.fontSize=function(Ut){d=Ia(Ut)},rt.padding=function(Ut){w=Ia(Ut)},rt.random=function(Ut){F=Ia(Ut)},rt}function Ug(h){var f=h.options,d=h.chart,g=d,x=g.width,w=g.height,M=g.padding,F=g.appendPadding,k=g.ele,D=f.data,z=f.imageMask,X=f.wordField,Y=f.weightField,rt=f.colorField,bt=f.wordStyle,_t=f.timeInterval,Ut=f.random,Dt=f.spiral,Se=f.autoFit,ze=Se===void 0?!0:Se,De=f.placementStrategy;if(!D||!D.length)return[];var Re=bt.fontFamily,ar=bt.fontWeight,pr=bt.padding,Cr=bt.fontSize,Gr=Gg(D,Y),Fr=[jg(Gr),$g(Gr)],Ar=D.map(function(yn){return{text:yn[X],value:yn[Y],color:yn[rt],datum:yn}}),en={imageMask:z,font:Re,fontSize:$f(Cr,Fr),fontWeight:ar,size:Wg({width:x,height:w,padding:M,appendPadding:F,autoFit:ze,container:k}),padding:pr,timeInterval:_t,random:Ut,spiral:Dt,rotate:Xg(f)};if((0,j.mf)(De)){var Mn=Ar.map(function(yn,zn,nr){return(0,q.pi)((0,q.pi)((0,q.pi)({},yn),{hasText:!!yn.text,font:Ia(en.font)(yn,zn,nr),weight:Ia(en.fontWeight)(yn,zn,nr),rotate:Ia(en.rotate)(yn,zn,nr),size:Ia(en.fontSize)(yn,zn,nr),style:"normal"}),De.call(d,yn,zn,nr))});return Mn.push({text:"",value:0,x:0,y:0,opacity:0}),Mn.push({text:"",value:0,x:en.size[0],y:en.size[1],opacity:0}),Mn}return _g(Ar,en)}function Wg(h){var f=h.width,d=h.height,g=h.container,x=h.autoFit,w=h.padding,M=h.appendPadding;if(x){var F=wt(g);f=F.width,d=F.height}f=f||400,d=d||400;var k=Yg({padding:w,appendPadding:M}),D=k[0],z=k[1],X=k[2],Y=k[3],rt=[f-(Y+z),d-(D+X)];return rt}function Yg(h){var f=me(h.padding),d=me(h.appendPadding),g=f[0]+d[0],x=f[1]+d[1],w=f[2]+d[2],M=f[3]+d[3];return[g,x,w,M]}function Hg(h){return new Promise(function(f,d){if(h instanceof HTMLImageElement){f(h);return}if((0,j.HD)(h)){var g=new Image;g.crossOrigin="anonymous",g.src=h,g.onload=function(){f(g)},g.onerror=function(){Pe(le.ERROR,!1,"image %s load failed !!!",h),d()};return}Pe(le.WARN,h===void 0,"The type of imageMask option must be String or HTMLImageElement."),d()})}function $f(h,f){if((0,j.mf)(h))return h;if((0,j.kJ)(h)){var d=h[0],g=h[1];if(!f)return function(){return(g+d)/2};var x=f[0],w=f[1];return w===x?function(){return(g+d)/2}:function(F){var k=F.value;return(g-d)/(w-x)*(k-x)+d}}return function(){return h}}function Gg(h,f){return h.map(function(d){return d[f]}).filter(function(d){return typeof d=="number"&&!isNaN(d)})}function Xg(h){var f=Zg(h),d=f.rotation,g=f.rotationSteps;if(!(0,j.kJ)(d))return d;var x=d[0],w=d[1],M=g===1?0:(w-x)/(g-1);return function(){return w===x?w:Math.floor(Math.random()*g)*M}}function Zg(h){var f=h.wordStyle.rotationSteps;return f<1&&(Pe(le.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),f=1),{rotation:h.wordStyle.rotation,rotationSteps:f}}function jg(h){return Math.min.apply(Math,h)}function $g(h){return Math.max.apply(Math,h)}function Kg(h){var f=h.chart,d=h.options,g=d.colorField,x=d.color,w=Ug(h);f.data(w);var M=Z({},h,{options:{xField:"x",yField:"y",seriesField:g&&dc,rawFields:(0,j.mf)(x)&&(0,q.ev)((0,q.ev)([],(0,j.U2)(d,"rawFields",[]),!0),["datum"],!1),point:{color:x,shape:"word-cloud"}}}),F=jr(M).ext;return F.geometry.label(!1),f.coordinate().reflect("y"),f.axis(!1),h}function qg(h){return ct(fr({x:{nice:!1},y:{nice:!1}}))(h)}function Jg(h){var f=h.chart,d=h.options,g=d.legend,x=d.colorField;return g===!1?f.legend(!1):x&&f.legend(dc,g),h}function Kf(h){ct(Kg,qg,er,Jg,or,je,qe,hr)(h)}(0,St.Fj)("point","word-cloud",{draw:function(h,f){var d=h.x,g=h.y,x=f.addShape("text",{attrs:(0,q.pi)((0,q.pi)({},Qg(h)),{x:d,y:g})}),w=h.data.rotate;return typeof w=="number"&&St.Zr.rotate(x,w*Math.PI/180),x}});function Qg(h){return{fontSize:h.data.size,text:h.data.text,textAlign:"center",fontFamily:h.data.font,fontWeight:h.data.weight,fill:h.color||h.defaultStyle.stroke,textBaseline:"alphabetic"}}var gy=function(h){(0,q.ZT)(f,h);function f(){var d=h!==null&&h.apply(this,arguments)||this;return d.type="word-cloud",d}return f.getDefaultOptions=function(){return ta},f.prototype.changeData=function(d){this.updateOption({data:d}),this.options.imageMask?this.render():this.chart.changeData(Ug({chart:this.chart,options:this.options}))},f.prototype.getDefaultOptions=function(){return f.getDefaultOptions()},f.prototype.render=function(){var d=this;return new Promise(function(g){var x=d.options.imageMask;if(!x){h.prototype.render.call(d),g();return}var w=function(M){d.options=(0,q.pi)((0,q.pi)({},d.options),{imageMask:M||null}),h.prototype.render.call(d),g()};Hg(x).then(w).catch(w)})},f.prototype.getSchemaAdaptor=function(){return Kf},f.prototype.triggerResize=function(){var d=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){h.prototype.triggerResize.call(d)}))},f}(wr),yy=function(h){(0,q.ZT)(f,h);function f(d,g,x,w){var M=h.call(this,d,Z({},w,g))||this;return M.type="g2-plot",M.defaultOptions=w,M.adaptor=x,M}return f.prototype.getDefaultOptions=function(){return this.defaultOptions},f.prototype.getSchemaAdaptor=function(){return this.adaptor},f}(wr),my="2.4.31";On("en-US",Tn),On("zh-CN",Wn);var xy={scale:fr,legend:Ze,tooltip:er,annotation:cr,interaction:or,theme:qe,animation:je}},31506:function(sr,Ue,H){"use strict";H.d(Ue,{Dg:function(){return ce},lh:function(){return re},m$:function(){return q},vs:function(){return jt},zu:function(){return j}});var Pt=H(35600),St=H(31437);function q(de,Te,I){var m=[0,0,0,0,0,0,0,0,0];return Pt.vc(m,I),Pt.Jp(de,m,Te)}function j(de,Te,I){var m=[0,0,0,0,0,0,0,0,0];return Pt.Us(m,I),Pt.Jp(de,m,Te)}function re(de,Te,I){var m=[0,0,0,0,0,0,0,0,0];return Pt.xJ(m,I),Pt.Jp(de,m,Te)}function le(de,Te,I){return Pt.Jp(de,I,Te)}function jt(de,Te){for(var I=de?[].concat(de):[1,0,0,0,1,0,0,0,1],m=0,Bt=Te.length;m<Bt;m++){var Et=Te[m];switch(Et[0]){case"t":q(I,I,[Et[1],Et[2]]);break;case"s":re(I,I,[Et[1],Et[2]]);break;case"r":j(I,I,Et[1]);break;case"m":le(I,I,Et[1]);break;default:break}}return I}function fe(de,Te){return de[0]*Te[1]-Te[0]*de[1]}function ce(de,Te,I){var m=St.EU(de,Te),Bt=fe(de,Te)>=0;return I?Bt?Math.PI*2-m:m:Bt?m:Math.PI*2-m}function Pe(de,Te,I){return I?(de[0]=Te[1],de[1]=-1*Te[0]):(de[0]=-1*Te[1],de[1]=Te[0]),de}},39499:function(sr,Ue,H){"use strict";H.d(Ue,{e9:function(){return ce},Wq:function(){return Fe},tr:function(){return Et},wb:function(){return Ct},zx:function(){return it}});var Pt=H(45098),St=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,q=/[^\s\,]+/ig;function j(At){var Xt=At||[];if((0,Pt.kJ)(Xt))return Xt;if((0,Pt.HD)(Xt))return Xt=Xt.match(St),(0,Pt.S6)(Xt,function($t,pe){if($t=$t.match(q),$t[0].length>1){var _e=$t[0].charAt(0);$t.splice(1,0,$t[0].substr(1)),$t[0]=_e}(0,Pt.S6)($t,function(Ve,Be){isNaN(Ve)||($t[Be]=+Ve)}),Xt[pe]=$t}),Xt}var re=j,le=H(31437);function jt(At,Xt,$t,pe){var _e=[],Ve=!!pe,Be,Le,Ie,$e,Ze,er,or;if(Ve){Ie=pe[0],$e=pe[1];for(var je=0,qe=At.length;je<qe;je+=1){var hr=At[je];Ie=le.VV([0,0],Ie,hr),$e=le.Fp([0,0],$e,hr)}}for(var je=0,dr=At.length;je<dr;je+=1){var hr=At[je];if(je===0&&!$t)or=hr;else if(je===dr-1&&!$t)er=hr,_e.push(or),_e.push(er);else{var ur=[je?je-1:dr-1,je-1][$t?0:1];Be=At[ur],Le=At[$t?(je+1)%dr:je+1];var fr=[0,0];fr=le.lu(fr,Le,Be),fr=le.bA(fr,fr,Xt);var cr=le.TE(hr,Be),gr=le.TE(hr,Le),Tr=cr+gr;Tr!==0&&(cr/=Tr,gr/=Tr);var Or=le.bA([0,0],fr,-cr),Nr=le.bA([0,0],fr,gr);er=le.IH([0,0],hr,Or),Ze=le.IH([0,0],hr,Nr),Ze=le.VV([0,0],Ze,le.Fp([0,0],Le,hr)),Ze=le.Fp([0,0],Ze,le.VV([0,0],Le,hr)),Or=le.lu([0,0],Ze,hr),Or=le.bA([0,0],Or,-cr/gr),er=le.IH([0,0],hr,Or),er=le.VV([0,0],er,le.Fp([0,0],Be,hr)),er=le.Fp([0,0],er,le.VV([0,0],Be,hr)),Nr=le.lu([0,0],hr,er),Nr=le.bA([0,0],Nr,gr/cr),Ze=le.IH([0,0],hr,Nr),Ve&&(er=le.Fp([0,0],er,Ie),er=le.VV([0,0],er,$e),Ze=le.Fp([0,0],Ze,Ie),Ze=le.VV([0,0],Ze,$e)),_e.push(or),_e.push(er),or=Ze}}return $t&&_e.push(_e.shift()),_e}function fe(At,Xt,$t){Xt===void 0&&(Xt=!1),$t===void 0&&($t=[[0,0],[1,1]]);for(var pe=!!Xt,_e=[],Ve=0,Be=At.length;Ve<Be;Ve+=2)_e.push([At[Ve],At[Ve+1]]);for(var Le=jt(_e,.4,pe,$t),Ie=_e.length,$e=[],Ze,er,or,Ve=0;Ve<Ie-1;Ve+=1)Ze=Le[Ve*2],er=Le[Ve*2+1],or=_e[Ve+1],$e.push(["C",Ze[0],Ze[1],er[0],er[1],or[0],or[1]]);return pe&&(Ze=Le[Ie],er=Le[Ie+1],or=_e[0],$e.push(["C",Ze[0],Ze[1],er[0],er[1],or[0],or[1]])),$e}var ce=fe;function Pe(At,Xt,$t){var pe=null,_e=$t;return Xt<_e&&(_e=Xt,pe="add"),At<_e&&(_e=At,pe="del"),{type:pe,min:_e}}var de=function(At,Xt){var $t=At.length,pe=Xt.length,_e,Ve,Be=0;if($t===0||pe===0)return null;for(var Le=[],Ie=0;Ie<=$t;Ie++)Le[Ie]=[],Le[Ie][0]={min:Ie};for(var $e=0;$e<=pe;$e++)Le[0][$e]={min:$e};for(var Ie=1;Ie<=$t;Ie++){_e=At[Ie-1];for(var $e=1;$e<=pe;$e++){Ve=Xt[$e-1],isEqual(_e,Ve)?Be=0:Be=1;var Ze=Le[Ie-1][$e].min+1,er=Le[Ie][$e-1].min+1,or=Le[Ie-1][$e-1].min+Be;Le[Ie][$e]=Pe(Ze,er,or)}}return Le};function Te(At,Xt){var $t=de(At,Xt),pe=At.length,_e=Xt.length,Ve=[],Be=1,Le=1;if($t[pe][_e]!==pe){for(var Ie=1;Ie<=pe;Ie++){var $e=$t[Ie][Ie].min;Le=Ie;for(var Ze=Be;Ze<=_e;Ze++)$t[Ie][Ze].min<$e&&($e=$t[Ie][Ze].min,Le=Ze);Be=Le,$t[Ie][Be].type&&Ve.push({index:Ie-1,type:$t[Ie][Be].type})}for(var Ie=Ve.length-1;Ie>=0;Ie--)Be=Ve[Ie].index,Ve[Ie].type==="add"?At.splice(Be,0,[].concat(At[Be])):At.splice(Be,1)}if(pe=At.length,pe<_e)for(var Ie=0;Ie<_e-pe;Ie++)At[pe-1][0]==="z"||At[pe-1][0]==="Z"?At.splice(pe-2,0,At[pe-2]):At.push(At[pe-1]);return At}var I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,m=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),Bt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig");function Et(At){if(!At)return null;if((0,Pt.kJ)(At))return At;var Xt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},$t=[];return String(At).replace(m,function(pe,_e,Ve){var Be=[],Le=_e.toLowerCase();if(Ve.replace(Bt,function(Ie,$e){$e&&Be.push(+$e)}),Le==="m"&&Be.length>2&&($t.push([_e].concat(Be.splice(0,2))),Le="l",_e=_e==="m"?"l":"L"),Le==="o"&&Be.length===1&&$t.push([_e,Be[0]]),Le==="r")$t.push([_e].concat(Be));else for(;Be.length>=Xt[Le]&&($t.push([_e].concat(Be.splice(0,Xt[Le]))),!!Xt[Le]););return""}),$t}var Vt=/[a-z]/;function Rt(At,Xt){return[Xt[0]+(Xt[0]-At[0]),Xt[1]+(Xt[1]-At[1])]}function Ct(At){var Xt=Et(At);if(!Xt||!Xt.length)return[["M",0,0]];for(var $t=!1,pe=0;pe<Xt.length;pe++){var _e=Xt[pe][0];if(Vt.test(_e)||["V","H","T","S"].indexOf(_e)>=0){$t=!0;break}}if(!$t)return Xt;var Ve=[],Be=0,Le=0,Ie=0,$e=0,Ze=0,er,or,je=Xt[0];(je[0]==="M"||je[0]==="m")&&(Be=+je[1],Le=+je[2],Ie=Be,$e=Le,Ze++,Ve[0]=["M",Be,Le]);for(var pe=Ze,qe=Xt.length;pe<qe;pe++){var hr=Xt[pe],dr=Ve[pe-1],ur=[],_e=hr[0],fr=_e.toUpperCase();if(_e!==fr)switch(ur[0]=fr,fr){case"A":ur[1]=hr[1],ur[2]=hr[2],ur[3]=hr[3],ur[4]=hr[4],ur[5]=hr[5],ur[6]=+hr[6]+Be,ur[7]=+hr[7]+Le;break;case"V":ur[1]=+hr[1]+Le;break;case"H":ur[1]=+hr[1]+Be;break;case"M":Ie=+hr[1]+Be,$e=+hr[2]+Le,ur[1]=Ie,ur[2]=$e;break;default:for(var cr=1,gr=hr.length;cr<gr;cr++)ur[cr]=+hr[cr]+(cr%2?Be:Le)}else ur=Xt[pe];switch(fr){case"Z":Be=+Ie,Le=+$e;break;case"H":Be=ur[1],ur=["L",Be,Le];break;case"V":Le=ur[1],ur=["L",Be,Le];break;case"T":Be=ur[1],Le=ur[2];var Tr=Rt([dr[1],dr[2]],[dr[3],dr[4]]);ur=["Q",Tr[0],Tr[1],Be,Le];break;case"S":Be=ur[ur.length-2],Le=ur[ur.length-1];var Or=dr.length,Nr=Rt([dr[Or-4],dr[Or-3]],[dr[Or-2],dr[Or-1]]);ur=["C",Nr[0],Nr[1],ur[1],ur[2],Be,Le];break;case"M":Ie=ur[ur.length-2],$e=ur[ur.length-1];break;default:Be=ur[ur.length-2],Le=ur[ur.length-1]}Ve.push(ur)}return Ve}var lt=Math.PI*2,J=function(At,Xt,$t,pe,_e,Ve,Be){var Le=At.x,Ie=At.y;Le*=Xt,Ie*=$t;var $e=pe*Le-_e*Ie,Ze=_e*Le+pe*Ie;return{x:$e+Ve,y:Ze+Be}},Z=function(At,Xt){var $t=Xt===1.5707963267948966?.551915024494:Xt===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(Xt/4),pe=Math.cos(At),_e=Math.sin(At),Ve=Math.cos(At+Xt),Be=Math.sin(At+Xt);return[{x:pe-_e*$t,y:_e+pe*$t},{x:Ve+Be*$t,y:Be-Ve*$t},{x:Ve,y:Be}]},wt=function(At,Xt,$t,pe){var _e=At*pe-Xt*$t<0?-1:1,Ve=At*$t+Xt*pe;return Ve>1&&(Ve=1),Ve<-1&&(Ve=-1),_e*Math.acos(Ve)},ct=function(At,Xt,$t,pe,_e,Ve,Be,Le,Ie,$e,Ze,er){var or=Math.pow(_e,2),je=Math.pow(Ve,2),qe=Math.pow(Ze,2),hr=Math.pow(er,2),dr=or*je-or*hr-je*qe;dr<0&&(dr=0),dr/=or*hr+je*qe,dr=Math.sqrt(dr)*(Be===Le?-1:1);var ur=dr*_e/Ve*er,fr=dr*-Ve/_e*Ze,cr=$e*ur-Ie*fr+(At+$t)/2,gr=Ie*ur+$e*fr+(Xt+pe)/2,Tr=(Ze-ur)/_e,Or=(er-fr)/Ve,Nr=(-Ze-ur)/_e,cn=(-er-fr)/Ve,On=wt(1,0,Tr,Or),Cn=wt(Tr,Or,Nr,cn);return Le===0&&Cn>0&&(Cn-=lt),Le===1&&Cn<0&&(Cn+=lt),[cr,gr,On,Cn]},ue=function(At){var Xt=At.px,$t=At.py,pe=At.cx,_e=At.cy,Ve=At.rx,Be=At.ry,Le=At.xAxisRotation,Ie=Le===void 0?0:Le,$e=At.largeArcFlag,Ze=$e===void 0?0:$e,er=At.sweepFlag,or=er===void 0?0:er,je=[];if(Ve===0||Be===0)return[{x1:0,y1:0,x2:0,y2:0,x:pe,y:_e}];var qe=Math.sin(Ie*lt/360),hr=Math.cos(Ie*lt/360),dr=hr*(Xt-pe)/2+qe*($t-_e)/2,ur=-qe*(Xt-pe)/2+hr*($t-_e)/2;if(dr===0&&ur===0)return[{x1:0,y1:0,x2:0,y2:0,x:pe,y:_e}];Ve=Math.abs(Ve),Be=Math.abs(Be);var fr=Math.pow(dr,2)/Math.pow(Ve,2)+Math.pow(ur,2)/Math.pow(Be,2);fr>1&&(Ve*=Math.sqrt(fr),Be*=Math.sqrt(fr));var cr=ct(Xt,$t,pe,_e,Ve,Be,Ze,or,qe,hr,dr,ur),gr=cr[0],Tr=cr[1],Or=cr[2],Nr=cr[3],cn=Math.abs(Nr)/(lt/4);Math.abs(1-cn)<1e-7&&(cn=1);var On=Math.max(Math.ceil(cn),1);Nr/=On;for(var Cn=0;Cn<On;Cn++)je.push(Z(Or,Nr)),Or+=Nr;return je.map(function(Tn){var Wn=J(Tn[0],Ve,Be,hr,qe,gr,Tr),Sn=Wn.x,dn=Wn.y,pn=J(Tn[1],Ve,Be,hr,qe,gr,Tr),Xr=pn.x,hn=pn.y,ri=J(Tn[2],Ve,Be,hr,qe,gr,Tr),Ii=ri.x,Yr=ri.y;return{x1:Sn,y1:dn,x2:Xr,y2:hn,x:Ii,y:Yr}})};function ve(At,Xt,$t,pe,_e,Ve,Be,Le,Ie){var $e=ue({px:At,py:Xt,cx:Le,cy:Ie,rx:$t,ry:pe,xAxisRotation:_e,largeArcFlag:Ve,sweepFlag:Be});return $e.reduce(function(Ze,er){var or=er.x1,je=er.y1,qe=er.x2,hr=er.y2,dr=er.x,ur=er.y;return Ze.push(or,je,qe,hr,dr,ur),Ze},[])}function Ht(At,Xt){"TQ".indexOf(At[0])<0&&(Xt.qx=null,Xt.qy=null);var $t=At.slice(1),pe=$t[0],_e=$t[1];switch(At[0]){case"M":return Xt.x=pe,Xt.y=_e,At;case"A":return["C"].concat(arcToCubic.apply(0,[Xt.x1,Xt.y1].concat(At.slice(1))));case"Q":return Xt.qx=pe,Xt.qy=_e,["C"].concat(quadToCubic.apply(0,[Xt.x1,Xt.y1].concat(At.slice(1))));case"L":return["C"].concat(lineToCubic(Xt.x1,Xt.y1,At[1],At[2]));case"H":return["C"].concat(lineToCubic(Xt.x1,Xt.y1,At[1],Xt.y1));case"V":return["C"].concat(lineToCubic(Xt.x1,Xt.y1,Xt.x1,At[1]));case"Z":return["C"].concat(lineToCubic(Xt.x1,Xt.y1,Xt.x,Xt.y));default:}return At}function Qt(At,Xt){Xt===void 0&&(Xt=!1);for(var $t=path2Absolute(At),pe={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},_e=[],Ve="",Be=$t.length,Le,Ie,$e=[],Ze=0;Ze<Be;Ze+=1)$t[Ze]&&(Ve=$t[Ze][0]),_e[Ze]=Ve,$t[Ze]=segmentToCubic($t[Ze],pe),ge($t,_e,Ze),Be=$t.length,Ve==="Z"&&$e.push(Ze),Le=$t[Ze],Ie=Le.length,pe.x1=+Le[Ie-2],pe.y1=+Le[Ie-1],pe.x2=+Le[Ie-4]||pe.x1,pe.y2=+Le[Ie-3]||pe.y1;return Xt?[$t,$e]:$t}function ge(At,Xt,$t){if(At[$t].length>7){At[$t].shift();for(var pe=At[$t],_e=$t;pe.length;)Xt[$t]="A",At.splice(_e+=1,0,["C"].concat(pe.splice(0,6)));At.splice($t,1)}}var Ot=function(At,Xt,$t,pe,_e){var Ve=-3*Xt+9*$t-9*pe+3*_e,Be=At*Ve+6*Xt-12*$t+6*pe;return At*Be-3*Xt+3*$t},oe=function(At,Xt,$t,pe,_e,Ve,Be,Le,Ie){Ie===null&&(Ie=1),Ie=Ie>1?1:Ie<0?0:Ie;for(var $e=Ie/2,Ze=12,er=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],or=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],je=0,qe=0;qe<Ze;qe++){var hr=$e*er[qe]+$e,dr=Ot(hr,At,$t,_e,Be),ur=Ot(hr,Xt,pe,Ve,Le),fr=dr*dr+ur*ur;je+=or[qe]*Math.sqrt(fr)}return $e*je},ie=function(At,Xt,$t,pe,_e,Ve,Be,Le){for(var Ie=[],$e=[[],[]],Ze,er,or,je,qe=0;qe<2;++qe){if(qe===0?(er=6*At-12*$t+6*_e,Ze=-3*At+9*$t-9*_e+3*Be,or=3*$t-3*At):(er=6*Xt-12*pe+6*Ve,Ze=-3*Xt+9*pe-9*Ve+3*Le,or=3*pe-3*Xt),Math.abs(Ze)<1e-12){if(Math.abs(er)<1e-12)continue;je=-or/er,je>0&&je<1&&Ie.push(je);continue}var hr=er*er-4*or*Ze,dr=Math.sqrt(hr);if(!(hr<0)){var ur=(-er+dr)/(2*Ze);ur>0&&ur<1&&Ie.push(ur);var fr=(-er-dr)/(2*Ze);fr>0&&fr<1&&Ie.push(fr)}}for(var cr=Ie.length,gr=cr,Tr;cr--;)je=Ie[cr],Tr=1-je,$e[0][cr]=Tr*Tr*Tr*At+3*Tr*Tr*je*$t+3*Tr*je*je*_e+je*je*je*Be,$e[1][cr]=Tr*Tr*Tr*Xt+3*Tr*Tr*je*pe+3*Tr*je*je*Ve+je*je*je*Le;return $e[0][gr]=At,$e[1][gr]=Xt,$e[0][gr+1]=Be,$e[1][gr+1]=Le,$e[0].length=$e[1].length=gr+2,{min:{x:Math.min.apply(0,$e[0]),y:Math.min.apply(0,$e[1])},max:{x:Math.max.apply(0,$e[0]),y:Math.max.apply(0,$e[1])}}},et=function(At,Xt,$t,pe,_e,Ve,Be,Le){if(!(Math.max(At,$t)<Math.min(_e,Be)||Math.min(At,$t)>Math.max(_e,Be)||Math.max(Xt,pe)<Math.min(Ve,Le)||Math.min(Xt,pe)>Math.max(Ve,Le))){var Ie=(At*pe-Xt*$t)*(_e-Be)-(At-$t)*(_e*Le-Ve*Be),$e=(At*pe-Xt*$t)*(Ve-Le)-(Xt-pe)*(_e*Le-Ve*Be),Ze=(At-$t)*(Ve-Le)-(Xt-pe)*(_e-Be);if(Ze){var er=Ie/Ze,or=$e/Ze,je=+er.toFixed(2),qe=+or.toFixed(2);if(!(je<+Math.min(At,$t).toFixed(2)||je>+Math.max(At,$t).toFixed(2)||je<+Math.min(_e,Be).toFixed(2)||je>+Math.max(_e,Be).toFixed(2)||qe<+Math.min(Xt,pe).toFixed(2)||qe>+Math.max(Xt,pe).toFixed(2)||qe<+Math.min(Ve,Le).toFixed(2)||qe>+Math.max(Ve,Le).toFixed(2)))return{x:er,y:or}}}},vt=function(At,Xt,$t){return Xt>=At.x&&Xt<=At.x+At.width&&$t>=At.y&&$t<=At.y+At.height},me=function(At,Xt,$t,pe){return At===null&&(At=Xt=$t=pe=0),Xt===null&&(Xt=At.y,$t=At.width,pe=At.height,At=At.x),{x:At,y:Xt,width:$t,w:$t,height:pe,h:pe,x2:At+$t,y2:Xt+pe,cx:At+$t/2,cy:Xt+pe/2,r1:Math.min($t,pe)/2,r2:Math.max($t,pe)/2,r0:Math.sqrt($t*$t+pe*pe)/2,path:rectPath(At,Xt,$t,pe),vb:[At,Xt,$t,pe].join(" ")}},Ae=function(At,Xt){return At=me(At),Xt=me(Xt),vt(Xt,At.x,At.y)||vt(Xt,At.x2,At.y)||vt(Xt,At.x,At.y2)||vt(Xt,At.x2,At.y2)||vt(At,Xt.x,Xt.y)||vt(At,Xt.x2,Xt.y)||vt(At,Xt.x,Xt.y2)||vt(At,Xt.x2,Xt.y2)||(At.x<Xt.x2&&At.x>Xt.x||Xt.x<At.x2&&Xt.x>At.x)&&(At.y<Xt.y2&&At.y>Xt.y||Xt.y<At.y2&&Xt.y>At.y)},ye=function(At,Xt,$t,pe,_e,Ve,Be,Le){isArray(At)||(At=[At,Xt,$t,pe,_e,Ve,Be,Le]);var Ie=ie.apply(null,At);return me(Ie.min.x,Ie.min.y,Ie.max.x-Ie.min.x,Ie.max.y-Ie.min.y)},be=function(At,Xt,$t,pe,_e,Ve,Be,Le,Ie){var $e=1-Ie,Ze=Math.pow($e,3),er=Math.pow($e,2),or=Ie*Ie,je=or*Ie,qe=Ze*At+er*3*Ie*$t+$e*3*Ie*Ie*_e+je*Be,hr=Ze*Xt+er*3*Ie*pe+$e*3*Ie*Ie*Ve+je*Le,dr=At+2*Ie*($t-At)+or*(_e-2*$t+At),ur=Xt+2*Ie*(pe-Xt)+or*(Ve-2*pe+Xt),fr=$t+2*Ie*(_e-$t)+or*(Be-2*_e+$t),cr=pe+2*Ie*(Ve-pe)+or*(Le-2*Ve+pe),gr=$e*At+Ie*$t,Tr=$e*Xt+Ie*pe,Or=$e*_e+Ie*Be,Nr=$e*Ve+Ie*Le,cn=90-Math.atan2(dr-fr,ur-cr)*180/Math.PI;return{x:qe,y:hr,m:{x:dr,y:ur},n:{x:fr,y:cr},start:{x:gr,y:Tr},end:{x:Or,y:Nr},alpha:cn}},ut=function(At,Xt,$t){var pe=ye(At),_e=ye(Xt);if(!Ae(pe,_e))return $t?0:[];for(var Ve=oe.apply(0,At),Be=oe.apply(0,Xt),Le=~~(Ve/8),Ie=~~(Be/8),$e=[],Ze=[],er={},or=$t?0:[],je=0;je<Le+1;je++){var qe=be.apply(0,At.concat(je/Le));$e.push({x:qe.x,y:qe.y,t:je/Le})}for(var je=0;je<Ie+1;je++){var qe=be.apply(0,Xt.concat(je/Ie));Ze.push({x:qe.x,y:qe.y,t:je/Ie})}for(var je=0;je<Le;je++)for(var hr=0;hr<Ie;hr++){var dr=$e[je],ur=$e[je+1],fr=Ze[hr],cr=Ze[hr+1],gr=Math.abs(ur.x-dr.x)<.001?"y":"x",Tr=Math.abs(cr.x-fr.x)<.001?"y":"x",Or=et(dr.x,dr.y,ur.x,ur.y,fr.x,fr.y,cr.x,cr.y);if(Or){if(er[Or.x.toFixed(4)]===Or.y.toFixed(4))continue;er[Or.x.toFixed(4)]=Or.y.toFixed(4);var Nr=dr.t+Math.abs((Or[gr]-dr[gr])/(ur[gr]-dr[gr]))*(ur.t-dr.t),cn=fr.t+Math.abs((Or[Tr]-fr[Tr])/(cr[Tr]-fr[Tr]))*(cr.t-fr.t);Nr>=0&&Nr<=1&&cn>=0&&cn<=1&&($t?or++:or.push({x:Or.x,y:Or.y,t1:Nr,t2:cn}))}}return or},Tt=function(At,Xt,$t){At=path2Curve(At),Xt=path2Curve(Xt);for(var pe,_e,Ve,Be,Le,Ie,$e,Ze,er,or,je=$t?0:[],qe=0,hr=At.length;qe<hr;qe++){var dr=At[qe];if(dr[0]==="M")pe=Le=dr[1],_e=Ie=dr[2];else{dr[0]==="C"?(er=[pe,_e].concat(dr.slice(1)),pe=er[6],_e=er[7]):(er=[pe,_e,pe,_e,Le,Ie,Le,Ie],pe=Le,_e=Ie);for(var ur=0,fr=Xt.length;ur<fr;ur++){var cr=Xt[ur];if(cr[0]==="M")Ve=$e=cr[1],Be=Ze=cr[2];else{cr[0]==="C"?(or=[Ve,Be].concat(cr.slice(1)),Ve=or[6],Be=or[7]):(or=[Ve,Be,Ve,Be,$e,Ze,$e,Ze],Ve=$e,Be=Ze);var gr=ut(er,or,$t);if($t)je+=gr;else{for(var Tr=0,Or=gr.length;Tr<Or;Tr++)gr[Tr].segment1=qe,gr[Tr].segment2=ur,gr[Tr].bez1=er,gr[Tr].bez2=or;je=je.concat(gr)}}}}}return je};function It(At,Xt){return Tt(At,Xt)}function ft(At){return Math.sqrt(At[0]*At[0]+At[1]*At[1])}function Jt(At,Xt){return ft(At)*ft(Xt)?(At[0]*Xt[0]+At[1]*Xt[1])/(ft(At)*ft(Xt)):1}function ee(At,Xt){return(At[0]*Xt[1]<At[1]*Xt[0]?-1:1)*Math.acos(Jt(At,Xt))}function at(At,Xt){return At[0]===Xt[0]&&At[1]===Xt[1]}function K(At,Xt){var $t=Xt[1],pe=Xt[2],_e=(0,Pt.wQ)((0,Pt.c$)(Xt[3]),Math.PI*2),Ve=Xt[4],Be=Xt[5],Le=At[0],Ie=At[1],$e=Xt[6],Ze=Xt[7],er=Math.cos(_e)*(Le-$e)/2+Math.sin(_e)*(Ie-Ze)/2,or=-1*Math.sin(_e)*(Le-$e)/2+Math.cos(_e)*(Ie-Ze)/2,je=er*er/($t*$t)+or*or/(pe*pe);je>1&&($t*=Math.sqrt(je),pe*=Math.sqrt(je));var qe=$t*$t*(or*or)+pe*pe*(er*er),hr=qe?Math.sqrt(($t*$t*(pe*pe)-qe)/qe):1;Ve===Be&&(hr*=-1),isNaN(hr)&&(hr=0);var dr=pe?hr*$t*or/pe:0,ur=$t?hr*-pe*er/$t:0,fr=(Le+$e)/2+Math.cos(_e)*dr-Math.sin(_e)*ur,cr=(Ie+Ze)/2+Math.sin(_e)*dr+Math.cos(_e)*ur,gr=[(er-dr)/$t,(or-ur)/pe],Tr=[(-1*er-dr)/$t,(-1*or-ur)/pe],Or=ee([1,0],gr),Nr=ee(gr,Tr);return Jt(gr,Tr)<=-1&&(Nr=Math.PI),Jt(gr,Tr)>=1&&(Nr=0),Be===0&&Nr>0&&(Nr=Nr-2*Math.PI),Be===1&&Nr<0&&(Nr=Nr+2*Math.PI),{cx:fr,cy:cr,rx:at(At,[$e,Ze])?0:$t,ry:at(At,[$e,Ze])?0:pe,startAngle:Or,endAngle:Or+Nr,xRotation:_e,arcFlag:Ve,sweepFlag:Be}}function W(At,Xt){return[Xt[0]+(Xt[0]-At[0]),Xt[1]+(Xt[1]-At[1])]}function it(At){At=re(At);for(var Xt=[],$t=null,pe=null,_e=null,Ve=0,Be=At.length,Le=0;Le<Be;Le++){var Ie=At[Le];pe=At[Le+1];var $e=Ie[0],Ze={command:$e,prePoint:$t,params:Ie,startTangent:null,endTangent:null};switch($e){case"M":_e=[Ie[1],Ie[2]],Ve=Le;break;case"A":var er=K($t,Ie);Ze.arcParams=er;break;default:break}if($e==="Z")$t=_e,pe=At[Ve+1];else{var or=Ie.length;$t=[Ie[or-2],Ie[or-1]]}pe&&pe[0]==="Z"&&(pe=At[Ve],Xt[Ve]&&(Xt[Ve].prePoint=$t)),Ze.currentPoint=$t,Xt[Ve]&&at($t,Xt[Ve].currentPoint)&&(Xt[Ve].prePoint=Ze.prePoint);var je=pe?[pe[pe.length-2],pe[pe.length-1]]:null;Ze.nextPoint=je;var qe=Ze.prePoint;if(["L","H","V"].includes($e))Ze.startTangent=[qe[0]-$t[0],qe[1]-$t[1]],Ze.endTangent=[$t[0]-qe[0],$t[1]-qe[1]];else if($e==="Q"){var hr=[Ie[1],Ie[2]];Ze.startTangent=[qe[0]-hr[0],qe[1]-hr[1]],Ze.endTangent=[$t[0]-hr[0],$t[1]-hr[1]]}else if($e==="T"){var dr=Xt[Le-1],hr=W(dr.currentPoint,qe);dr.command==="Q"?(Ze.command="Q",Ze.startTangent=[qe[0]-hr[0],qe[1]-hr[1]],Ze.endTangent=[$t[0]-hr[0],$t[1]-hr[1]]):(Ze.command="TL",Ze.startTangent=[qe[0]-$t[0],qe[1]-$t[1]],Ze.endTangent=[$t[0]-qe[0],$t[1]-qe[1]])}else if($e==="C"){var ur=[Ie[1],Ie[2]],fr=[Ie[3],Ie[4]];Ze.startTangent=[qe[0]-ur[0],qe[1]-ur[1]],Ze.endTangent=[$t[0]-fr[0],$t[1]-fr[1]],Ze.startTangent[0]===0&&Ze.startTangent[1]===0&&(Ze.startTangent=[ur[0]-fr[0],ur[1]-fr[1]]),Ze.endTangent[0]===0&&Ze.endTangent[1]===0&&(Ze.endTangent=[fr[0]-ur[0],fr[1]-ur[1]])}else if($e==="S"){var dr=Xt[Le-1],ur=W(dr.currentPoint,qe),fr=[Ie[1],Ie[2]];dr.command==="C"?(Ze.command="C",Ze.startTangent=[qe[0]-ur[0],qe[1]-ur[1]],Ze.endTangent=[$t[0]-fr[0],$t[1]-fr[1]]):(Ze.command="SQ",Ze.startTangent=[qe[0]-fr[0],qe[1]-fr[1]],Ze.endTangent=[$t[0]-fr[0],$t[1]-fr[1]])}else if($e==="A"){var cr=.001,gr=Ze.arcParams||{},Tr=gr.cx,Or=Tr===void 0?0:Tr,Nr=gr.cy,cn=Nr===void 0?0:Nr,On=gr.rx,Cn=On===void 0?0:On,Tn=gr.ry,Wn=Tn===void 0?0:Tn,Sn=gr.sweepFlag,dn=Sn===void 0?0:Sn,pn=gr.startAngle,Xr=pn===void 0?0:pn,hn=gr.endAngle,ri=hn===void 0?0:hn;dn===0&&(cr*=-1);var Ii=Cn*Math.cos(Xr-cr)+Or,Yr=Wn*Math.sin(Xr-cr)+cn;Ze.startTangent=[Ii-_e[0],Yr-_e[1]];var $n=Cn*Math.cos(Xr+ri+cr)+Or,jr=Wn*Math.sin(Xr+ri-cr)+cn;Ze.endTangent=[qe[0]-$n,qe[1]-jr]}Xt.push(Ze)}return Xt}var tt=1e-6;function yt(At){return Math.abs(At)<tt?0:At<0?-1:1}function gt(At,Xt,$t){return($t[0]-At[0])*(Xt[1]-At[1])===(Xt[0]-At[0])*($t[1]-At[1])&&Math.min(At[0],Xt[0])<=$t[0]&&$t[0]<=Math.max(At[0],Xt[0])&&Math.min(At[1],Xt[1])<=$t[1]&&$t[1]<=Math.max(At[1],Xt[1])}function Wt(At,Xt,$t){var pe=!1,_e=At.length;if(_e<=2)return!1;for(var Ve=0;Ve<_e;Ve++){var Be=At[Ve],Le=At[(Ve+1)%_e];if(gt(Be,Le,[Xt,$t]))return!0;yt(Be[1]-$t)>0!=yt(Le[1]-$t)>0&&yt(Xt-($t-Be[1])*(Be[0]-Le[0])/(Be[1]-Le[1])-Be[0])<0&&(pe=!pe)}return pe}var Kt=function(At,Xt,$t){return At>=Xt&&At<=$t};function Ce(At,Xt,$t,pe){var _e=.001,Ve={x:$t.x-At.x,y:$t.y-At.y},Be={x:Xt.x-At.x,y:Xt.y-At.y},Le={x:pe.x-$t.x,y:pe.y-$t.y},Ie=Be.x*Le.y-Be.y*Le.x,$e=Ie*Ie,Ze=Be.x*Be.x+Be.y*Be.y,er=Le.x*Le.x+Le.y*Le.y,or=null;if($e>_e*Ze*er){var je=(Ve.x*Le.y-Ve.y*Le.x)/Ie,qe=(Ve.x*Be.y-Ve.y*Be.x)/Ie;Kt(je,0,1)&&Kt(qe,0,1)&&(or={x:At.x+je*Be.x,y:At.y+je*Be.y})}return or}function He(At){for(var Xt=[],$t=At.length,pe=0;pe<$t-1;pe++){var _e=At[pe],Ve=At[pe+1];Xt.push({from:{x:_e[0],y:_e[1]},to:{x:Ve[0],y:Ve[1]}})}if(Xt.length>1){var Be=At[0],Le=At[$t-1];Xt.push({from:{x:Le[0],y:Le[1]},to:{x:Be[0],y:Be[1]}})}return Xt}function We(At,Xt){var $t=!1;return(0,Pt.S6)(At,function(pe){if(Ce(pe.from,pe.to,Xt.from,Xt.to))return $t=!0,!1}),$t}function Je(At){var Xt=At.map(function(pe){return pe[0]}),$t=At.map(function(pe){return pe[1]});return{minX:Math.min.apply(null,Xt),maxX:Math.max.apply(null,Xt),minY:Math.min.apply(null,$t),maxY:Math.max.apply(null,$t)}}function ke(At,Xt){return!(Xt.minX>At.maxX||Xt.maxX<At.minX||Xt.minY>At.maxY||Xt.maxY<At.minY)}function Fe(At,Xt){if(At.length<2||Xt.length<2)return!1;var $t=Je(At),pe=Je(Xt);if(!ke($t,pe))return!1;var _e=!1;if((0,Pt.S6)(Xt,function(Ie){if(Wt(At,Ie[0],Ie[1]))return _e=!0,!1}),_e||((0,Pt.S6)(At,function(Ie){if(Wt(Xt,Ie[0],Ie[1]))return _e=!0,!1}),_e))return!0;var Ve=He(At),Be=He(Xt),Le=!1;return(0,Pt.S6)(Be,function(Ie){if(We(Ve,Ie))return Le=!0,!1}),Le}},45098:function(sr,Ue,H){"use strict";H.d(Ue,{Ct:function(){return ae},f0:function(){return A},uZ:function(){return cr},VS:function(){return xa},d9:function(){return qn},FX:function(){return j},Ds:function(){return na},b$:function(){return Wa},e5:function(){return fe},S6:function(){return Rt},yW:function(){return Ve},hX:function(){return le},sE:function(){return Qt},cx:function(){return Ot},Wx:function(){return ie},ri:function(){return Tr},xH:function(){return vt},U5:function(){return mi},U2:function(){return O},Lo:function(){return dt},rx:function(){return Tt},ru:function(){return or},vM:function(){return Ze},Ms:function(){return er},wH:function(){return bi},YM:function(){return ke},q9:function(){return j},cq:function(){return En},kJ:function(){return Bt},jn:function(){return fn},J_:function(){return Dn},kK:function(){return ma},xb:function(){return ba},Xy:function(){return Rn},mf:function(){return Te},BD:function(){return Z},UM:function(){return m},Ft:function(){return pa},hj:function(){return Nr},vQ:function(){return hn},Kn:function(){return Et},PO:function(){return ve},HD:function(){return Kt},P9:function(){return de},o8:function(){return Ua},XP:function(){return lt},Z$:function(){return Fe},vl:function(){return mt},UI:function(){return P},Q8:function(){return S},Fp:function(){return ye},UT:function(){return jr},HP:function(){return ia},VV:function(){return be},F:function(){return gi},CD:function(){return A},wQ:function(){return da},ZT:function(){return ne},CE:function(){return Q},ei:function(){return $},u4:function(){return yt},Od:function(){return Wt},U7:function(){return Li},t8:function(){return R},dp:function(){return se},G:function(){return Le},MR:function(){return He},ng:function(){return xe},P2:function(){return ot},qo:function(){return xt},c$:function(){return yi},BB:function(){return ki},jj:function(){return We},EL:function(){return zt},jC:function(){return tr},VO:function(){return Bn},I:function(){return Je}});var Pt=function(G){return G!==null&&typeof G!="function"&&isFinite(G.length)},St=Pt,q=function(G,ht){return St(G)?G.indexOf(ht)>-1:!1},j=q,re=function(G,ht){if(!St(G))return G;for(var kt=[],Nt=0;Nt<G.length;Nt++){var he=G[Nt];ht(he,Nt)&&kt.push(he)}return kt},le=re,jt=function(G,ht){return ht===void 0&&(ht=[]),le(G,function(kt){return!j(ht,kt)})},fe=jt,ce={}.toString,Pe=function(G,ht){return ce.call(G)==="[object "+ht+"]"},de=Pe,Te=function(G){return de(G,"Function")},I=function(G){return G==null},m=I,Bt=function(G){return Array.isArray?Array.isArray(G):de(G,"Array")},Et=function(G){var ht=typeof G;return G!==null&&ht==="object"||ht==="function"};function Vt(G,ht){if(G){var kt;if(Bt(G))for(var Nt=0,he=G.length;Nt<he&&(kt=ht(G[Nt],Nt),kt!==!1);Nt++);else if(Et(G)){for(var Ee in G)if(G.hasOwnProperty(Ee)&&(kt=ht(G[Ee],Ee),kt===!1))break}}}var Rt=Vt,Ct=Object.keys?function(G){return Object.keys(G)}:function(G){var ht=[];return Rt(G,function(kt,Nt){Te(G)&&Nt==="prototype"||ht.push(Nt)}),ht},lt=Ct;function J(G,ht){var kt=lt(ht),Nt=kt.length;if(m(G))return!Nt;for(var he=0;he<Nt;he+=1){var Ee=kt[he];if(ht[Ee]!==G[Ee]||!(Ee in G))return!1}return!0}var Z=J,wt=function(G){return typeof G=="object"&&G!==null},ct=wt,ue=function(G){if(!ct(G)||!de(G,"Object"))return!1;if(Object.getPrototypeOf(G)===null)return!0;for(var ht=G;Object.getPrototypeOf(ht)!==null;)ht=Object.getPrototypeOf(ht);return Object.getPrototypeOf(G)===ht},ve=ue;function Ht(G,ht){if(!Bt(G))return null;var kt;if(Te(ht)&&(kt=ht),ve(ht)&&(kt=function(he){return Z(he,ht)}),kt){for(var Nt=0;Nt<G.length;Nt+=1)if(kt(G[Nt]))return G[Nt]}return null}var Qt=Ht;function ge(G,ht,kt){kt===void 0&&(kt=0);for(var Nt=kt;Nt<G.length;Nt++)if(ht(G[Nt],Nt))return Nt;return-1}var Ot=ge,oe=function(G,ht){for(var kt=null,Nt=0;Nt<G.length;Nt++){var he=G[Nt],Ee=he[ht];if(!m(Ee)){Bt(Ee)?kt=Ee[0]:kt=Ee;break}}return kt},ie=oe,et=function(G){if(!Bt(G))return[];for(var ht=[],kt=0;kt<G.length;kt++)ht=ht.concat(G[kt]);return ht},vt=et,me=function(G,ht){if(ht===void 0&&(ht=[]),!isArray(G))ht.push(G);else for(var kt=0;kt<G.length;kt+=1)me(G[kt],ht);return ht},Ae=null,ye=function(G){if(Bt(G))return G.reduce(function(ht,kt){return Math.max(ht,kt)},G[0])},be=function(G){if(Bt(G))return G.reduce(function(ht,kt){return Math.min(ht,kt)},G[0])},ut=function(G){var ht=G.filter(function(Ge){return!isNaN(Ge)});if(!ht.length)return{min:0,max:0};if(Bt(G[0])){for(var kt=[],Nt=0;Nt<G.length;Nt++)kt=kt.concat(G[Nt]);ht=kt}var he=ye(ht),Ee=be(ht);return{min:Ee,max:he}},Tt=ut,It=Array.prototype,ft=It.splice,Jt=It.indexOf,ee=function(G){for(var ht=[],kt=1;kt<arguments.length;kt++)ht[kt-1]=arguments[kt];for(var Nt=0;Nt<ht.length;Nt++)for(var he=ht[Nt],Ee=-1;(Ee=Jt.call(G,he))>-1;)ft.call(G,Ee,1);return G},at=null,K=Array.prototype.splice,W=function(ht,kt){if(!St(ht))return[];for(var Nt=ht?kt.length:0,he=Nt-1;Nt--;){var Ee=void 0,Ge=kt[Nt];(Nt===he||Ge!==Ee)&&(Ee=Ge,K.call(ht,Ge,1))}return ht},it=W,tt=function(G,ht,kt){if(!Bt(G)&&!ve(G))return G;var Nt=kt;return Rt(G,function(he,Ee){Nt=ht(Nt,he,Ee)}),Nt},yt=tt,gt=function(G,ht){var kt=[];if(!St(G))return kt;for(var Nt=-1,he=[],Ee=G.length;++Nt<Ee;){var Ge=G[Nt];ht(Ge,Nt,G)&&(kt.push(Ge),he.push(Nt))}return it(G,he),kt},Wt=gt,Kt=function(G){return de(G,"String")};function Ce(G,ht){var kt;if(Te(ht))kt=function(he,Ee){return ht(he)-ht(Ee)};else{var Nt=[];Kt(ht)?Nt.push(ht):Bt(ht)&&(Nt=ht),kt=function(he,Ee){for(var Ge=0;Ge<Nt.length;Ge+=1){var rr=Nt[Ge];if(he[rr]>Ee[rr])return 1;if(he[rr]<Ee[rr])return-1}return 0}}return G.sort(kt),G}var He=Ce;function We(G,ht){ht===void 0&&(ht=new Map);var kt=[];if(Array.isArray(G))for(var Nt=0,he=G.length;Nt<he;Nt++){var Ee=G[Nt];ht.has(Ee)||(kt.push(Ee),ht.set(Ee,!0))}return kt}var Je=function(G,ht){for(var kt=[],Nt={},he=0;he<G.length;he++){var Ee=G[he],Ge=Ee[ht];if(!m(Ge)){Bt(Ge)||(Ge=[Ge]);for(var rr=0;rr<Ge.length;rr++){var vr=Ge[rr];Nt[vr]||(kt.push(vr),Nt[vr]=!0)}}}return kt};function ke(G){if(St(G))return G[0]}function Fe(G){if(St(G)){var ht=G;return ht[ht.length-1]}}function At(G,ht){return isArray(G)||isString(G)?G[0]===ht:!1}var Xt=null;function $t(G,ht){return isArray(G)||isString(G)?G[G.length-1]===ht:!1}var pe=null,_e=function(G,ht){for(var kt=0;kt<G.length;kt++)if(!ht(G[kt],kt))return!1;return!0},Ve=_e,Be=function(G,ht){for(var kt=0;kt<G.length;kt++)if(ht(G[kt],kt))return!0;return!1},Le=Be,Ie=Object.prototype.hasOwnProperty;function $e(G,ht){if(!ht||!Bt(G))return{};for(var kt={},Nt=Te(ht)?ht:function(rr){return rr[ht]},he,Ee=0;Ee<G.length;Ee++){var Ge=G[Ee];he=Nt(Ge),Ie.call(kt,he)?kt[he].push(Ge):kt[he]=[Ge]}return kt}var Ze=$e;function er(G,ht){if(!ht)return{0:G};if(!Te(ht)){var kt=Bt(ht)?ht:ht.replace(/\s+/g,"").split("*");ht=function(Nt){for(var he="_",Ee=0,Ge=kt.length;Ee<Ge;Ee++)he+=Nt[kt[Ee]]&&Nt[kt[Ee]].toString();return he}}return Ze(G,ht)}var or=function(G,ht){if(!ht)return[G];var kt=er(G,ht),Nt=[];for(var he in kt)Nt.push(kt[he]);return Nt},je={};function qe(G){var ht=je[G];if(!ht){for(var kt=G.toString(16),Nt=kt.length;Nt<6;Nt++)kt="0"+kt;ht="#"+kt,je[G]=ht}return ht}var hr=null;function dr(G){var ht=0,kt=0,Nt=0,he=0;return isArray(G)?G.length===1?ht=kt=Nt=he=G[0]:G.length===2?(ht=Nt=G[0],kt=he=G[1]):G.length===3?(ht=G[0],kt=he=G[1],Nt=G[2]):(ht=G[0],kt=G[1],Nt=G[2],he=G[3]):ht=kt=Nt=he=G,{r1:ht,r2:kt,r3:Nt,r4:he}}var ur=null,fr=function(G,ht,kt){return G<ht?ht:G>kt?kt:G},cr=fr,gr=function(G,ht){var kt=ht.toString(),Nt=kt.indexOf(".");if(Nt===-1)return Math.round(G);var he=kt.substr(Nt+1).length;return he>20&&(he=20),parseFloat(G.toFixed(he))},Tr=gr,Or=function(G){return de(G,"Number")},Nr=Or,cn=function(G){return isNumber(G)&&G%1!==0},On=null,Cn=function(G){return isNumber(G)&&G%2===0},Tn=null,Wn=Number.isInteger?Number.isInteger:function(G){return Nr(G)&&G%1===0},Sn=null,dn=function(G){return isNumber(G)&&G<0},pn=null,Xr=1e-5;function hn(G,ht,kt){return kt===void 0&&(kt=Xr),Math.abs(G-ht)<kt}var ri=function(G){return isNumber(G)&&G%2!==0},Ii=null,Yr=function(G){return isNumber(G)&&G>0},$n=null,jr=function(G,ht){if(Bt(G)){for(var kt,Nt=-1/0,he=0;he<G.length;he++){var Ee=G[he],Ge=Te(ht)?ht(Ee):Ee[ht];Ge>Nt&&(kt=Ee,Nt=Ge)}return kt}},gi=function(G,ht){if(Bt(G)){for(var kt,Nt=1/0,he=0;he<G.length;he++){var Ee=G[he],Ge=Te(ht)?ht(Ee):Ee[ht];Ge<Nt&&(kt=Ee,Nt=Ge)}return kt}},Fi=function(G,ht){return(G%ht+ht)%ht},da=Fi,Xi=180/Math.PI,ea=function(G){return Xi*G},ra=null,Zi=parseInt,wr=Math.PI/180,ni=function(G){return wr*G},yi=ni,mi=Rt,xi=function(G,ht){return G.hasOwnProperty(ht)},bi=xi,Gn=Object.values?function(G){return Object.values(G)}:function(G){var ht=[];return Rt(G,function(kt,Nt){Te(G)&&Nt==="prototype"||ht.push(kt)}),ht},Bn=Gn,Fa=function(G,ht){return contains(values(G),ht)},ki=function(G){return m(G)?"":G.toString()},qt=function(G){return ki(G).toLowerCase()},mt=qt;function Zt(G,ht){return!G||!ht?G:G.replace(/\\?\{([^{}]+)\}/g,function(kt,Nt){return kt.charAt(0)==="\\"?kt.slice(1):ht[Nt]===void 0?"":ht[Nt]})}var xe=Zt,Oe=function(G){var ht=ki(G);return ht.charAt(0).toUpperCase()+ht.substring(1)},tr=Oe,lr={}.toString,ir=function(G){return lr.call(G).replace(/^\[object /,"").replace(/]$/,"")},Er=ir,nn=function(G){return isType(G,"Arguments")},An=null,on=function(G){return de(G,"Boolean")},fn=on,an=function(G){return de(G,"Date")},Dn=an,wi=function(G){return isType(G,"Error")},Xn=null;function ka(G){return isNumber(G)&&isFinite(G)}var Da=function(G){return G===null},pa=Da,za=Object.prototype,Di=function(G){var ht=G&&G.constructor,kt=typeof ht=="function"&&ht.prototype||za;return G===kt},ga=Di,Va=function(G){return isType(G,"RegExp")},ya=null,oo=function(G){return G===void 0},Ua=oo,La=function(G){return G instanceof Element||G instanceof HTMLDocument},ma=La;function Li(G){var ht=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(kt){return setTimeout(kt,16)};return ht(G)}function xa(G){var ht=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;ht(G)}var Kn=function(){for(var G=[],ht=0;ht<arguments.length;ht++)G[ht]=arguments[ht];for(var kt=G[0],Nt=1;Nt<G.length;Nt++){var he=G[Nt];isFunction(he)&&(he=he.prototype),mix(kt.prototype,he)}},Si=null,Yn=function(G){if(typeof G!="object"||G===null)return G;var ht;if(Bt(G)){ht=[];for(var kt=0,Nt=G.length;kt<Nt;kt++)typeof G[kt]=="object"&&G[kt]!=null?ht[kt]=Yn(G[kt]):ht[kt]=G[kt]}else{ht={};for(var he in G)typeof G[he]=="object"&&G[he]!=null?ht[he]=Yn(G[he]):ht[he]=G[he]}return ht},qn=Yn;function Oi(G,ht,kt){var Nt;return function(){var he=this,Ee=arguments,Ge=function(){Nt=null,kt||G.apply(he,Ee)},rr=kt&&!Nt;clearTimeout(Nt),Nt=setTimeout(Ge,ht),rr&&G.apply(he,Ee)}}var na=Oi,ia=function(G,ht){if(!Te(G))throw new TypeError("Expected a function");var kt=function(){for(var Nt=[],he=0;he<arguments.length;he++)Nt[he]=arguments[he];var Ee=ht?ht.apply(this,Nt):Nt[0],Ge=kt.cache;if(Ge.has(Ee))return Ge.get(Ee);var rr=G.apply(this,Nt);return Ge.set(Ee,rr),rr};return kt.cache=new Map,kt},so=5;function ji(G,ht,kt,Nt){kt=kt||0,Nt=Nt||so;for(var he in ht)if(ht.hasOwnProperty(he)){var Ee=ht[he];Ee!==null&&ve(Ee)?(ve(G[he])||(G[he]={}),kt<Nt?ji(G[he],Ee,kt+1,Nt):G[he]=ht[he]):Bt(Ee)?(G[he]=[],G[he]=G[he].concat(Ee)):Ee!==void 0&&(G[he]=Ee)}}var lo=function(G){for(var ht=[],kt=1;kt<arguments.length;kt++)ht[kt-1]=arguments[kt];for(var Nt=0;Nt<ht.length;Nt+=1)ji(G,ht[Nt]);return G},Wa=lo,Oa=function(G,ht,kt,Nt){isFunction(ht)||(kt=ht,ht=G,G=function(){});var he=Object.create?function(Ge,rr){return Object.create(Ge,{constructor:{value:rr}})}:function(Ge,rr){function vr(){}vr.prototype=Ge;var yr=new vr;return yr.constructor=rr,yr},Ee=he(ht.prototype,G);return G.prototype=mix(Ee,G.prototype),G.superclass=he(ht.prototype,ht),mix(Ee,kt),mix(G,Nt),G},Ya=null,Ci=function(G,ht){if(!St(G))return-1;var kt=Array.prototype.indexOf;if(kt)return kt.call(G,ht);for(var Nt=-1,he=0;he<G.length;he++)if(G[he]===ht){Nt=he;break}return Nt},En=Ci,sn=Object.prototype.hasOwnProperty;function Jn(G){if(m(G))return!0;if(St(G))return!G.length;var ht=Er(G);if(ht==="Map"||ht==="Set")return!G.size;if(ga(G))return!Object.keys(G).length;for(var kt in G)if(sn.call(G,kt))return!1;return!0}var ba=Jn,Bi=function(G,ht){if(G===ht)return!0;if(!G||!ht||Kt(G)||Kt(ht))return!1;if(St(G)||St(ht)){if(G.length!==ht.length)return!1;for(var kt=!0,Nt=0;Nt<G.length&&(kt=Bi(G[Nt],ht[Nt]),!!kt);Nt++);return kt}if(ct(G)||ct(ht)){var he=Object.keys(G),Ee=Object.keys(ht);if(he.length!==Ee.length)return!1;for(var kt=!0,Nt=0;Nt<he.length&&(kt=Bi(G[he[Nt]],ht[he[Nt]]),!!kt);Nt++);return kt}return!1},Rn=Bi,us=function(G,ht,kt){return isFunction(kt)?!!kt(G,ht):isEqual(G,ht)},uo=function(G,ht){if(!St(G))return G;for(var kt=[],Nt=0;Nt<G.length;Nt++){var he=G[Nt];kt.push(ht(he,Nt))}return kt},P=uo,b=function(G){return G},S=function(G,ht){ht===void 0&&(ht=b);var kt={};return Et(G)&&!m(G)&&Object.keys(G).forEach(function(Nt){kt[Nt]=ht(G[Nt],Nt)}),kt};function E(G,ht){for(var kt in ht)ht.hasOwnProperty(kt)&&kt!=="constructor"&&ht[kt]!==void 0&&(G[kt]=ht[kt])}function A(G,ht,kt,Nt){return ht&&E(G,ht),kt&&E(G,kt),Nt&&E(G,Nt),G}var O=function(G,ht,kt){for(var Nt=0,he=Kt(ht)?ht.split("."):ht;G&&Nt<he.length;)G=G[he[Nt++]];return G===void 0||Nt<he.length?kt:G},R=function(G,ht,kt){var Nt=G,he=Kt(ht)?ht.split("."):ht;return he.forEach(function(Ee,Ge){Ge<he.length-1?(Et(Nt[Ee])||(Nt[Ee]=Nr(he[Ge+1])?[]:{}),Nt=Nt[Ee]):Nt[Ee]=kt}),G},V=Object.prototype.hasOwnProperty,$=function(G,ht){if(G===null||!ve(G))return{};var kt={};return Rt(ht,function(Nt){V.call(G,Nt)&&(kt[Nt]=G[Nt])}),kt},Q=function(G,ht){return yt(G,function(kt,Nt,he){return ht.includes(he)||(kt[he]=Nt),kt},{})},ot=function(G,ht,kt){var Nt,he,Ee,Ge,rr=0;kt||(kt={});var vr=function(){rr=kt.leading===!1?0:Date.now(),Nt=null,Ge=G.apply(he,Ee),Nt||(he=Ee=null)},yr=function(){var Mr=Date.now();!rr&&kt.leading===!1&&(rr=Mr);var zr=ht-(Mr-rr);return he=this,Ee=arguments,zr<=0||zr>ht?(Nt&&(clearTimeout(Nt),Nt=null),rr=Mr,Ge=G.apply(he,Ee),Nt||(he=Ee=null)):!Nt&&kt.trailing!==!1&&(Nt=setTimeout(vr,zr)),Ge};return yr.cancel=function(){clearTimeout(Nt),rr=0,Nt=he=Ee=null},yr},xt=function(G){return St(G)?Array.prototype.slice.call(G):[]},Ft={},zt=function(G){return G=G||"g",Ft[G]?Ft[G]+=1:Ft[G]=1,G+Ft[G]},ne=function(){};function se(G){return m(G)?0:St(G)?G.length:Object.keys(G).length}var we=H(97582),N,st=ia(function(G,ht){ht===void 0&&(ht={});var kt=ht.fontSize,Nt=ht.fontFamily,he=ht.fontWeight,Ee=ht.fontStyle,Ge=ht.fontVariant;return N||(N=document.createElement("canvas").getContext("2d")),N.font=[Ee,Ge,he,kt+"px",Nt].join(" "),N.measureText(Kt(G)?G:"").width},function(G,ht){return ht===void 0&&(ht={}),(0,we.pr)([G],Bn(ht)).join("")}),dt=function(G,ht,kt,Nt){Nt===void 0&&(Nt="...");var he=16,Ee=st(Nt,kt),Ge=Kt(G)?G:ki(G),rr=ht,vr=[],yr,Mr;if(st(G,kt)<=ht)return G;for(;yr=Ge.substr(0,he),Mr=st(yr,kt),!(Mr+Ee>rr&&Mr>rr);)if(vr.push(yr),rr-=Mr,Ge=Ge.substr(he),!Ge)return vr.join("");for(;yr=Ge.substr(0,1),Mr=st(yr,kt),!(Mr+Ee>rr);)if(vr.push(yr),rr-=Mr,Ge=Ge.substr(1),!Ge)return vr.join("");return""+vr.join("")+Nt},Lt=function(){function G(){this.map={}}return G.prototype.has=function(ht){return this.map[ht]!==void 0},G.prototype.get=function(ht,kt){var Nt=this.map[ht];return Nt===void 0?kt:Nt},G.prototype.set=function(ht,kt){this.map[ht]=kt},G.prototype.clear=function(){this.map={}},G.prototype.delete=function(ht){delete this.map[ht]},G.prototype.size=function(){return Object.keys(this.map).length},G}(),ae=Lt},80902:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Jt}});var Pt=H(1413),St=H(91),q=H(30821),j=H.n(q),re={offsetRight:0,barWidth:8,minBarWidth:4,maxBarWidth:15,rightMinVisibleBarCount:1,leftMinVisibleBarCount:10,tradePointsBothSidesCount:10,yAxisWidth:30},le={dark:"dark",light:"light"},jt=le.light,fe={price:2,volume:2},ce={theme:jt,precision:[fe.price,fe.volume],tradeList:[]},Pe={s:1,m:60,h:3600,D:86400,W:604800,M:2592e3},de="1",Te="h",I={dark:null,light:null},m="#373a40",Bt="#686d76",Et="#f3f5f7",Vt="#20b26c",Rt="#ef454a",Ct="#00944f",lt="#cc3939",J=function(at,K){return I[K]||(I[K]=getComputedStyle(document.querySelector(":root"))),I[K].getPropertyValue(at).trim()},Z=function(at){return getComputedStyle(document.querySelector(":root")).getPropertyValue(at).trim()},wt=function(){return Z("--bds-brand-700-normal")},ct=function(){return Z("--bds-green-700-normal")||Vt},ue=function(){return Z("--bds-red-700-normal")||Rt},ve=function(){return Z("--bds-green-900-focus")||Ct},Ht=function(){return Z("--bds-red-900-focus")||lt};function Qt(ee){var at=J("--bds-gray-t2",ee),K=J("--bds-gray-t1-title",ee),W=J("--bds-gray-ele-border",ee),it=J("--bds-gray-t2",ee),tt=ee==="dark"?m:Bt,yt=J("--bds-green-700-normal",ee)||Vt,gt=J("--bds-red-700-normal",ee)||Rt,Wt=J("--bds-green-100-bg",ee),Kt=J("--bds-red-100-bg",ee);return{grid:{horizontal:{color:Et},vertical:{color:Et}},candle:{priceMark:{high:{textMargin:2,color:K},low:{textMargin:2,color:K},last:{show:!0,upColor:yt,downColor:gt,noChangeColor:yt,line:{show:!0,style:"dash",dashValue:[1,1],size:.5},text:{show:!0,size:10}}},bar:{upColor:yt,downColor:gt,noChangeColor:yt},tooltip:{text:{color:at}}},technicalIndicator:{bar:{upColor:Wt,downColor:Kt,noChangeColor:at},tooltip:{text:{color:at}}},xAxis:{axisLine:{color:W},tickLine:{color:W},tickText:{color:at,size:10}},yAxis:{axisLine:{color:W},tickLine:{color:W},tickText:{size:10,color:at}},separator:{color:W},crosshair:{horizontal:{line:{color:it},text:{backgroundColor:tt}},vertical:{line:{color:it},text:{backgroundColor:tt}}}}}var ge="n/a";function Ot(ee,at,K){var W,it=(W=K==null?void 0:K.price)!==null&&W!==void 0?W:fe.price,tt=J("--bds-green-700-normal",ee)||Vt,yt=J("--bds-red-700-normal",ee)||Rt,gt;switch(at){case"zh-MY":case"zh-CN":gt=["\u5F00=","\u9AD8=","\u4F4E=","\u6536=",""];break;case"zh-TW":case"zh-HK":gt=["\u958B=","\u9AD8=","\u4F4E=","\u6536=",""];break;default:gt=["O=","H=","L=","C=",""]}return{candle:{tooltip:{custom:function(Kt){var Ce=Kt.current,He=Ce.open,We=Ce.close,Je=Ce.high,ke=Ce.low,Fe=He<We?"+":"",At=(We-He).toFixed(it),Xt=((We-He)/He*100).toFixed(2),$t=He>We?yt:tt,pe=[He,Je,ke,We].map(function(_e){return{text:"".concat(_e),color:$t}}).concat({text:"".concat(He?Fe+At:ge," (").concat(He?Fe+Xt:ge,"%)"),color:$t});return gt.map(function(_e,Ve){return{title:_e,value:pe[Ve]}})}}}}}var oe=function(at){if(at){var K=Qt(at.theme);at.setStyles(K),at.setOffsetRightDistance(re.offsetRight),at.setRightMinVisibleBarCount(re.rightMinVisibleBarCount),at.setLeftMinVisibleBarCount(re.leftMinVisibleBarCount)}},ie=function(at){return at!=null&&at.length?Array.from(new Set(at.map(function(K){return K.replace(/\d*/g,"")}))):[]},et=function(at,K){if(at!=null&&at.length){if(!K)return at;for(var W=at.length-1;W>=0&&!(at[W].timestamp<K.timestamp);W--);return at.slice(0,W+1)}return[]},vt=H(97685),me=H(74902),Ae=H(15671),ye=H(43144),be=function(){function ee(at){var K=this,W=at.chart,it=at.theme,tt=at.precision,yt=at.tradeList,gt=at.resolution,Wt=at.supportedResolutions,Kt=at.getBars,Ce=at.onResolutionChange,He=at.enableTradePoints,We=at.showTradePoints,Je=at.openClosePoints;(0,Ae.Z)(this,ee),this.registerTradePointsOverlay=function(){var ke;if(!((ke=K.tradeList)===null||ke===void 0)&&ke.length){var Fe=ve(),At=Ht();(0,q.registerOverlay)({name:"Buy",lock:!0,styles:{polygon:{color:Fe},text:{backgroundColor:Fe,color:"#fff"}},createPointFigures:function($t){var pe=$t.coordinates,_e=pe[0].x,Ve=pe[0].y+6,Be=Ve,Le=Be+5;return[{type:"polygon",attrs:{coordinates:[{x:_e,y:Be},{x:_e-7,y:Le},{x:_e-7,y:Le+14},{x:_e+7,y:Le+14},{x:_e+7,y:Le}]}},{type:"text",attrs:{x:_e,y:Le,text:"B",align:"center",baseline:"top"}}]}}),(0,q.registerOverlay)({name:"Sell",lock:!0,styles:{polygon:{color:At},text:{backgroundColor:At,color:"#fff"}},createPointFigures:function($t){var pe=$t.coordinates,_e=pe[0].x,Ve=pe[0].y-6,Be=Ve,Le=Be-5;return[{type:"polygon",attrs:{coordinates:[{x:_e,y:Be},{x:_e-7,y:Le},{x:_e-7,y:Le-14},{x:_e+7,y:Le-14},{x:_e+7,y:Le}]}},{type:"text",attrs:{x:_e,y:Le,text:"S",align:"center",baseline:"bottom"}}]}})}},this.registerOpenLineOverlay=function(){var ke;if(!((ke=K.openClosePoints)===null||ke===void 0)&&ke.length){var Fe=ve(),At=Ht();(0,q.registerOverlay)({name:"openCloseLine",styles:{line:{style:"dashed",dashedValue:[2,2],size:1}},createPointFigures:function($t){var pe,_e=$t.coordinates,Ve=$t.bounding,Be=$t.overlay,Le=(pe=Be.extendData)!==null&&pe!==void 0?pe:{},Ie=Le.lineColor;return[{type:"line",attrs:{coordinates:[{x:_e[0].x,y:30},{x:_e[0].x,y:Ve.height}]},styles:{color:Ie}}]}}),(0,q.registerOverlay)({name:"Open",lock:!0,styles:{text:{paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,color:"#fff",borderRadius:0}},createPointFigures:function($t){var pe,_e=$t.coordinates,Ve=$t.bounding,Be=$t.overlay,Le=(pe=Be==null?void 0:Be.extendData)!==null&&pe!==void 0?pe:{},Ie=Le.isInSameCandle,$e=Le.openColor;return[{type:"text",attrs:(0,Pt.Z)((0,Pt.Z)({},_e[0]),{},{y:Ve.height-20,text:"Open",align:Ie?"right":"center",baseline:"top"}),styles:{backgroundColor:$e}},Ie&&{type:"text",attrs:(0,Pt.Z)((0,Pt.Z)({},_e[0]),{},{y:Ve.height-20,text:"Close",align:"left",baseline:"top"}),styles:{backgroundColor:$e===Fe?At:Fe}}].filter(Boolean)}}),(0,q.registerOverlay)({name:"Close",lock:!0,styles:{text:{paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,color:"#fff",borderRadius:0}},createPointFigures:function($t){var pe,_e=$t.coordinates,Ve=$t.bounding,Be=$t.overlay,Le=(pe=Be==null?void 0:Be.extendData)!==null&&pe!==void 0?pe:{},Ie=Le.closeColor;return[{type:"text",attrs:(0,Pt.Z)((0,Pt.Z)({},_e[0]),{},{y:Ve.height-20,text:"Close",align:"center",baseline:"top"}),styles:{backgroundColor:Ie}}]}})}},this.drawTradePoints=function(){var ke;K.chart.removeOverlay({groupId:K.tradeListId}),(ke=K.tradeList)===null||ke===void 0||ke.forEach(function(Fe){Fe.side==="Buy"&&Fe.low>0?K.chart.createOverlay({name:"Buy",groupId:K.tradeListId,points:[{timestamp:Fe.timestamp,value:Fe.low}]}):Fe.side==="Sell"&&Fe.high>0&&K.chart.createOverlay({name:"Sell",groupId:K.tradeListId,points:[{timestamp:Fe.timestamp,value:Fe.high}]})})},this.rendered=!1,this.shouldInsertPriceToTradeList=!0,this.chart=W,this.enableTradePoints=He,this.showTradePoints=We!=null?We:He,this.theme=it,this.tradeList=yt,this.originTradeList=yt,this.resolution=gt,this.supportedResolutions=Wt,this.getBars=Kt,this.from=null,this.openClosePoints=Je,this.openCloseLineId="openCloseLine",this.tradeListId="buySellPoint",this.onChartReadyQueue=[],this.subscribeVisibleRangeChangeTag=!1,this.execReadyQueue=function(){var ke=K.chart.getDataList();if(ke.length)for(;K.onChartReadyQueue.length>0;){var Fe;(Fe=K.onChartReadyQueue.shift())===null||Fe===void 0||Fe()}},this.setPrecision=function(ke){var Fe,At=ke;Array.isArray(At)||(At=[At]),(Fe=K.chart).setPriceVolumePrecision.apply(Fe,(0,me.Z)(At)),K.precision=K.chart.getChartStore().getPrecision()},this.changeLanguage=function(ke){K.chart.setStyles(Ot(K.theme,ke,K.precision))},this.setTradeList=function(ke){K.tradeList=ke,K.sortTradeList(),K.originTradeList=JSON.parse(JSON.stringify(K.tradeList)),K.shouldInsertPriceToTradeList=!0,K.enableTradePoints&&(K.checkShouldInsertPriceToTradeList(),K.onceCalcResolutionAndBarWidth(),K.registerTradePointsOverlay())},this.setResolution=function(ke){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ke!==K.resolution){K.resolution=ke,Fe&&(Ce==null||Ce(K.resolution));var At=K.tradeList.slice(-1)[0].timestamp;K.resetTradePoints(),K.resetOpenClosePoints(),K.getBarsData(At,!0,function(){K.calcBarWidthByResolution()})}},this.setOpenClosePoints=function(ke,Fe){var At,Xt=(At=K.openClosePoints)!==null&&At!==void 0?At:[],$t=(0,vt.Z)(Xt,2),pe=$t[0],_e=$t[1];(pe!==ke||_e!==Fe)&&(K.openClosePoints=[ke,Fe],K.registerOpenLineOverlay(),K.onChartReadyQueue.push(function(){K.drawOpenCloseLine(ke,Fe)}),K.onceSubscribeVisibleRangeChange())},this.getShowTradePoints=function(){return K.showTradePoints},this.setShowTradePoints=function(ke){ke!==K.showTradePoints&&(K.showTradePoints?K.chart.removeOverlay({groupId:K.tradeListId}):K.drawTradePoints(),K.showTradePoints=ke)},this.configureChart(tt)}return(0,ye.Z)(ee,[{key:"configureChart",value:function(K){var W=this;this.setPrecision(K),this.initResolutionUnit(),this.sortResolutions(),this.sortTradeList(),this.enableTradePoints?this.onceCalcResolutionAndBarWidth():(this.chart.setBarSpace(re.barWidth),this.getBarsData(Date.now(),!0)),this.registerTradePointsOverlay(),this.registerOpenLineOverlay(),this.onceSubscribeVisibleRangeChange(),this.chart.loadMore(function(){W.getBarsData(W.from,!1)})}},{key:"drawOpenCloseLine",value:function(K,W){var it,tt;if(!(!K||!W)){this.chart.removeOverlay({groupId:this.openCloseLineId});var yt=ct(),gt=ue(),Wt=ve(),Kt=Ht(),Ce=this.getCandleIndex(K,W),He=(0,vt.Z)(Ce,2),We=He[0],Je=He[1],ke=(it=this.tradeList)===null||it===void 0?void 0:it[0],Fe=(tt=this.tradeList)===null||tt===void 0?void 0:tt.slice(-1)[0],At=this.checkInSameCandle(We,Je),Xt=ke.side==="Sell"?[gt,Kt]:[yt,Wt],$t=(0,vt.Z)(Xt,2),pe=$t[0],_e=$t[1],Ve=Fe.side==="Buy"?[yt,Wt]:[gt,Kt],Be=(0,vt.Z)(Ve,2),Le=Be[0],Ie=Be[1];this.checkInVisibleRange(K)&&(this.chart.createOverlay({name:"openCloseLine",points:[{timestamp:K}],zLevel:-1,groupId:this.openCloseLineId,extendData:{lineColor:pe}}),this.chart.createOverlay({name:"Open",groupId:this.openCloseLineId,extendData:{isInSameCandle:At,openColor:_e},points:[{timestamp:K}]})),At||(this.chart.createOverlay({name:"openCloseLine",points:[{timestamp:W}],lock:!0,visible:!0,zLevel:-2,groupId:this.openCloseLineId,extendData:{lineColor:Le}}),this.chart.createOverlay({name:"Close",groupId:this.openCloseLineId,extendData:{closeColor:Ie},points:[{timestamp:W}]}))}}},{key:"checkInVisibleRange",value:function(K){var W,it,tt=this.chart.getDataList(),yt=this.chart.getVisibleRange(),gt=yt.realFrom,Wt=yt.realTo,Kt=(W=tt[Math.max(gt-1,0)])===null||W===void 0?void 0:W.timestamp,Ce=(it=tt[Wt-1])===null||it===void 0?void 0:it.timestamp;return K>Kt&&K<Ce}},{key:"getCandleIndex",value:function(K,W){var it=this.chart.getDataList(),tt=-1,yt=-1;if(it.length)for(var gt=this.convertResolution2Sec(this.resolution)*1e3,Wt=0;Wt<it.length-1;Wt++){var Kt=it[Wt].timestamp;if(K<it[Wt].timestamp+gt&&K>=Kt&&(tt=Wt),W<it[Wt].timestamp+gt&&W>=Kt&&(yt=Wt),tt!==-1&&yt!==-1)break}return[tt,yt]}},{key:"checkInSameCandle",value:function(K,W){return K>-1&&W>-1&&K===W}},{key:"insertPrice2TradeList",value:function(){var K,W=this.chart.getDataList();if(W.length&&(!((K=this.tradeList)===null||K===void 0)&&K.length))for(var it=this.convertResolution2Sec(this.resolution)*1e3,tt=W.length-1,yt=this.tradeList.length-1;yt>=0;yt--)for(var gt=this.tradeList[yt].timestamp;tt>=0;tt--){var Wt=W[tt].timestamp;if(gt<Wt+it&&gt>=Wt){this.tradeList[yt].high=W[tt].high,this.tradeList[yt].low=W[tt].low;break}}}},{key:"onceSubscribeVisibleRangeChange",value:function(){var K,W=this;!((K=this.openClosePoints)===null||K===void 0)&&K.length&&!this.subscribeVisibleRangeChangeTag&&(this.subscribeVisibleRangeChangeTag=!0,this.chart.subscribeAction("onVisibleRangeChange",function(){W.drawOpenCloseLine.apply(W,(0,me.Z)(W.openClosePoints))}))}},{key:"onceCalcResolutionAndBarWidth",value:function(){var K;!this.rendered&&(!((K=this.tradeList)===null||K===void 0)&&K.length)&&(this.rendered=!0,this.calcResolutionAndBarWidth())}},{key:"checkShouldInsertPriceToTradeList",value:function(){var K,W,it,tt;!((K=this.tradeList)===null||K===void 0)&&K.length&&!this.tradeList.every(function(yt){return yt.low&&yt.high})&&(!((W=this.chart)===null||W===void 0||(it=W.getDataList)===null||it===void 0||(tt=it.call(W))===null||tt===void 0)&&tt.length)&&this.shouldInsertPriceToTradeList&&(this.insertPrice2TradeList(),this.showTradePoints&&this.drawTradePoints(),this.tradeList.every(function(yt){return yt.low&&yt.high})&&(this.shouldInsertPriceToTradeList=!1))}},{key:"resetTradePoints",value:function(){this.shouldInsertPriceToTradeList=!0,this.tradeList=JSON.parse(JSON.stringify(this.originTradeList))}},{key:"resetOpenClosePoints",value:function(){var K,W=this;this.chart.removeOverlay({groupId:this.openCloseLineId}),!((K=this.openClosePoints)===null||K===void 0)&&K.length&&this.onChartReadyQueue.push(function(){W.drawOpenCloseLine.apply(W,(0,me.Z)(W.openClosePoints))})}},{key:"sortResolutions",value:function(){var K,W,it=this;this.supportedResolutions=(K=(W=this.supportedResolutions)===null||W===void 0?void 0:W.map(function(tt){return{value:tt,secs:it.convertResolution2Sec(tt)}}).sort(function(tt,yt){return tt.secs-yt.secs}).map(function(tt){return tt.value}))!==null&&K!==void 0?K:[]}},{key:"sortTradeList",value:function(){var K;(K=this.tradeList)===null||K===void 0||K.sort(function(W,it){return W.timestamp-it.timestamp})}},{key:"calcResolutionAndBarWidth",value:function(){var K=(this.tradeList.slice(-1)[0].timestamp-this.tradeList[0].timestamp)/1e3,W=this.chart.getSize("candle_pane","main").width-re.yAxisWidth,it=Math.floor(W/re.minBarWidth)-re.tradePointsBothSidesCount;it=Math.max(it,re.rightMinVisibleBarCount),this.maxChartCounts=it;for(var tt=Te,yt=0;yt<this.supportedResolutions.length;yt++){var gt=this.supportedResolutions[yt],Wt=this.convertResolution2Sec(gt),Kt=Math.ceil(K/Wt);if(Kt<it||yt===this.supportedResolutions.length-1){tt=gt,this.setResolution(tt,!0);var Ce=Math.floor(it/Kt*10)/10,He=Math.min(re.minBarWidth*Ce,re.maxBarWidth);this.chart.setBarSpace(He);break}}}},{key:"calcBarWidthByResolution",value:function(){var K=(this.tradeList.slice(-1)[0].timestamp-this.tradeList[0].timestamp)/1e3,W=this.chart.getSize("candle_pane","main").width-re.yAxisWidth,it=this.convertResolution2Sec(this.resolution),tt=K/it,yt=Math.floor(W/(tt+re.tradePointsBothSidesCount));yt=Math.max(yt,re.minBarWidth),yt=Math.min(yt,re.maxBarWidth),this.chart.setBarSpace(yt)}},{key:"getBarsData",value:function(K,W,it){var tt=this,yt=this.convertResolution2Sec(this.resolution),gt=0,Wt=0;this.enableTradePoints?(gt=K+(W?yt*re.tradePointsBothSidesCount/2*1e3:0),Wt=gt-yt*this.maxChartCounts*2*1e3):(gt=K,Wt=gt-yt*this.chart.getSize("candle_pane","main").width*1e3),this.from=Wt,this.getBars({from:Wt,to:gt,resolution:this.resolution,onHistoryCallback:function(Ce,He){if(W)tt.chart.applyNewData(Ce,He),tt.execReadyQueue();else{var We=tt.chart.getDataList()[0],Je=et(Ce,We);tt.chart.applyMoreData(Je,He),tt.execReadyQueue()}tt.enableTradePoints&&tt.checkShouldInsertPriceToTradeList(),it==null||it()}})}},{key:"convertResolution2Sec",value:function(K){var W,it=de,tt=Te;if(!((W=this.resolutionUnits)===null||W===void 0)&&W.length){var yt,gt=new RegExp("(\\d*)(".concat(this.resolutionUnits.join("|"),")")),Wt=(yt=K.match(gt))!==null&&yt!==void 0?yt:[],Kt=(0,vt.Z)(Wt,3),Ce=Kt[0],He=Kt[1],We=Kt[2];He&&(it=He),We&&(tt=We)}return it*Pe[tt]}},{key:"initResolutionUnit",value:function(){this.resolutionUnits=ie(this.supportedResolutions)}}]),ee}(),ut=be,Tt=j().init,It=(0,St.Z)(j(),["init"]),ft=(0,Pt.Z)({},It);ft.init=function(ee,at,K){var W=Tt(ee,K),it=new ut((0,Pt.Z)({chart:W},at)),tt=Object.assign(W,it);return oe(tt),tt};var Jt=ft},38191:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Et}});var Pt=H(67294),St=H(64183),q=H(11992),j;function re(Vt,Rt){return Rt||(Rt=Vt.slice(0)),Object.freeze(Object.defineProperties(Vt,{raw:{value:Object.freeze(Rt)}}))}var le=q.ZP.div(j||(j=re([`
  .g2-tooltip {
    padding: 0 8px !important;
    border: 1px solid #e9edf2;
    box-shadow: rgba(0, 0, 0, 0) 0 0 0 !important;
    min-width: 232px;
  }
  .g2-tooltip-title {
    margin: 8px 0 !important;
    font-size: 12px;
    font-weight: 500;
    color: #121214;
    line-height: 14px;
  }
  .g2-tooltip-list-item {
    display: flex;
    align-items: center;
    margin: 8px 0 !important;
    justify-content: space-between;
  }
  .g2-tooltip-name {
    display: inline-flex;
    align-items: center;
    font-size: 12px;
    line-height: 18px;
    color: #121214;
  }
  .g2-tooltip-value {
    font-size: 12px;
    line-height: 18px;
    color: #20b26c;
  }
  .g2-tooltip-marker {
    position: relative;
    width: 14px !important;
    height: 1px !important;
    background-color: `,` !important;
    opacity: 0;
  }
  .g2-tooltip-list .g2-tooltip-list-item:first-child .g2-tooltip-marker {
    opacity: 1;
  }
  .g2-tooltip-marker::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background-color: `,`;
    transform: translate(-50%, -50%) rotate(45deg);
  }
`])),function(Vt){return(Vt==null?void 0:Vt.markerColor)||"#20b26c"},function(Vt){return(Vt==null?void 0:Vt.markerColor)||"#20b26c"}),jt=le;function fe(Vt){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},fe(Vt)}function ce(){return ce=Object.assign?Object.assign.bind():function(Vt){for(var Rt=1;Rt<arguments.length;Rt++){var Ct=arguments[Rt];for(var lt in Ct)Object.prototype.hasOwnProperty.call(Ct,lt)&&(Vt[lt]=Ct[lt])}return Vt},ce.apply(this,arguments)}function Pe(Vt,Rt){var Ct=Object.keys(Vt);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(Vt);Rt&&(lt=lt.filter(function(J){return Object.getOwnPropertyDescriptor(Vt,J).enumerable})),Ct.push.apply(Ct,lt)}return Ct}function de(Vt){for(var Rt=1;Rt<arguments.length;Rt++){var Ct=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?Pe(Object(Ct),!0).forEach(function(lt){Te(Vt,lt,Ct[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Vt,Object.getOwnPropertyDescriptors(Ct)):Pe(Object(Ct)).forEach(function(lt){Object.defineProperty(Vt,lt,Object.getOwnPropertyDescriptor(Ct,lt))})}return Vt}function Te(Vt,Rt,Ct){return Rt=I(Rt),Rt in Vt?Object.defineProperty(Vt,Rt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):Vt[Rt]=Ct,Vt}function I(Vt){var Rt=m(Vt,"string");return fe(Rt)==="symbol"?Rt:String(Rt)}function m(Vt,Rt){if(fe(Vt)!=="object"||Vt===null)return Vt;var Ct=Vt[Symbol.toPrimitive];if(Ct!==void 0){var lt=Ct.call(Vt,Rt||"default");if(fe(lt)!=="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Rt==="string"?String:Number)(Vt)}var Bt=function(Rt){var Ct=Rt.data,lt=Rt.yField,J=Rt.xField,Z=Rt.tooltip,wt=Rt.color,ct=wt===void 0?{}:wt,ue=Rt.config,ve=ue===void 0?{}:ue,Ht={smooth:!0,isStack:!1,startOnZero:!1,renderer:"svg",xField:J,yField:lt,xAxis:{grid:{line:{style:{stroke:(ct==null?void 0:ct.gridX)||"rgba(0, 0, 0, 0)",lineWidth:1,lineDash:[4,5],cursor:"pointer"}}},line:{style:{stroke:"rgba(0,0,0,0)"}},tickLine:null,label:{style:{fill:"rgba(173, 177, 184, 1)"},offsetY:20}},yAxis:{grid:{line:{style:{stroke:(ct==null?void 0:ct.gridY)||"rgba(243, 245, 247, 1)",lineWidth:1,lineDash:[4,5],cursor:"pointer"}}},label:{style:{fill:"rgba(173, 177, 184, 1)"}}},areaStyle:function(){return{fill:(ct==null?void 0:ct.area)||"l(270) 0:rgba(202, 255, 230, 0) 1:rgba(32, 178, 108, 1)"}},line:{color:(ct==null?void 0:ct.line)||"rgba(32, 178, 108, 1)"},color:(ct==null?void 0:ct.dataPoint)||"rgba(32, 178, 108, 1)",tooltip:typeof Z=="boolean"?Z:{fields:(Z==null?void 0:Z.fields)||[lt],showCrosshairs:!0,crosshairs:{line:{style:{fill:"rgba(213, 218, 224, 1)",lineDash:[4,5],lineWidth:1}}},customContent:(Z==null?void 0:Z.customContent)||function(ge,Ot){var oe=Z||{},ie=oe.titleFormatter,et=oe.nameFormatter,vt=oe.valueFormatter,me=Ot.map(function(Ae){return`<li class="g2-tooltip-list-item">
                      <span class="g2-tooltip-name"><span class="g2-tooltip-marker"></span>`.concat((et==null?void 0:et(Ae.name,Ae.data))||Ae.name,`</span>
                      <span class="g2-tooltip-value">`).concat((vt==null?void 0:vt(Ae.value,Ae.data))||Ae.value,`</span>
                    </li>
                  `)});return'<div class="g2-tooltip-title">'.concat((ie==null?void 0:ie(ge,Ot))||ge,`</div>
              <ul class="g2-tooltip-list">`).concat(me.join(""),"</ul>")}}},Qt=de(de({},Ht),ve);return Pt.createElement(jt,{markerColor:(ct==null?void 0:ct.dataPoint)||"#20b26c"},Pt.createElement(St.Z,ce({data:Ct},Qt)))},Et=Bt},86955:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Z}});var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(wt,ct){var ue={};for(var ve in wt)Object.prototype.hasOwnProperty.call(wt,ve)&&ct.indexOf(ve)<0&&(ue[ve]=wt[ve]);if(wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ht=0,ve=Object.getOwnPropertySymbols(wt);Ht<ve.length;Ht++)ct.indexOf(ve[Ht])<0&&Object.prototype.propertyIsEnumerable.call(wt,ve[Ht])&&(ue[ve[Ht]]=wt[ve[Ht]]);return ue},fe=(0,Pt.forwardRef)(function(wt,ct){var ue=wt.chartRef,ve=wt.style,Ht=ve===void 0?{height:"inherit"}:ve,Qt=wt.className,ge=wt.loading,Ot=wt.loadingTemplate,oe=wt.errorTemplate,ie=jt(wt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),et=(0,q.Z)(St.sg,ie),vt=et.chart,me=et.container;return(0,Pt.useEffect)(function(){(0,j.J)(ue,vt.current)},[vt.current]),(0,Pt.useImperativeHandle)(ct,function(){return{getChart:function(){return vt.current}}}),Pt.createElement(re.Z,{errorTemplate:oe},ge&&Pt.createElement(le.Z,{loadingTemplate:Ot,theme:wt.theme}),Pt.createElement("div",{className:Qt,style:Ht,ref:me}))}),ce=fe;function Pe(wt){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},Pe(wt)}var de=["xField","yField","seriesField","data","maxColumnWidth","yTickCount","xAxisLabelColor","yAxisLabelColor","xAxisLineColor","yAxisLineColor","xTickMethod","renderer","color","legend"];function Te(wt,ct){var ue=Object.keys(wt);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(wt);ct&&(ve=ve.filter(function(Ht){return Object.getOwnPropertyDescriptor(wt,Ht).enumerable})),ue.push.apply(ue,ve)}return ue}function I(wt){for(var ct=1;ct<arguments.length;ct++){var ue=arguments[ct]!=null?arguments[ct]:{};ct%2?Te(Object(ue),!0).forEach(function(ve){m(wt,ve,ue[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(ue)):Te(Object(ue)).forEach(function(ve){Object.defineProperty(wt,ve,Object.getOwnPropertyDescriptor(ue,ve))})}return wt}function m(wt,ct,ue){return ct=Bt(ct),ct in wt?Object.defineProperty(wt,ct,{value:ue,enumerable:!0,configurable:!0,writable:!0}):wt[ct]=ue,wt}function Bt(wt){var ct=Et(wt,"string");return Pe(ct)==="symbol"?ct:String(ct)}function Et(wt,ct){if(Pe(wt)!=="object"||wt===null)return wt;var ue=wt[Symbol.toPrimitive];if(ue!==void 0){var ve=ue.call(wt,ct||"default");if(Pe(ve)!=="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ct==="string"?String:Number)(wt)}function Vt(wt,ct){if(wt==null)return{};var ue=Rt(wt,ct),ve,Ht;if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(wt);for(Ht=0;Ht<Qt.length;Ht++)ve=Qt[Ht],!(ct.indexOf(ve)>=0)&&Object.prototype.propertyIsEnumerable.call(wt,ve)&&(ue[ve]=wt[ve])}return ue}function Rt(wt,ct){if(wt==null)return{};var ue={},ve=Object.keys(wt),Ht,Qt;for(Qt=0;Qt<ve.length;Qt++)Ht=ve[Qt],!(ct.indexOf(Ht)>=0)&&(ue[Ht]=wt[Ht]);return ue}var Ct="#20B26C",lt="#EF454A";function J(wt){var ct=wt.xField,ue=wt.yField,ve=wt.seriesField,Ht=wt.data,Qt=wt.maxColumnWidth,ge=wt.yTickCount,Ot=wt.xAxisLabelColor,oe=Ot===void 0?"#ADB1B8":Ot,ie=wt.yAxisLabelColor,et=ie===void 0?"#ADB1B8":ie,vt=wt.xAxisLineColor,me=vt===void 0?"#ADB1B8":vt,Ae=wt.yAxisLineColor,ye=Ae===void 0?"#E9EDF2":Ae,be=wt.xTickMethod,ut=be===void 0?"r-pretty":be,Tt=wt.renderer,It=Tt===void 0?"canvas":Tt,ft=wt.color,Jt=ft===void 0?function(it){var tt=it[ue];return tt>=0?Ct:lt}:ft,ee=wt.legend,at=ee===void 0?!1:ee,K=Vt(wt,de),W=I({data:Ht,xField:ct,yField:ue,seriesField:ve,maxColumnWidth:Qt,color:Jt,renderer:It,colorField:ue,legend:at,xAxis:{tickMethod:ut,line:{style:{stroke:me}},label:{autoHide:!0,autoRotate:!1,style:{fill:oe}}},yAxis:{tickCount:ge,grid:{line:{style:{stroke:ye}}},label:{style:{fill:et}}}},K);return(0,Pt.useMemo)(function(){return Pt.createElement(ce,W)},[Ht])}var Z=J},66440:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Rt}});var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(Ct,lt){var J={};for(var Z in Ct)Object.prototype.hasOwnProperty.call(Ct,Z)&&lt.indexOf(Z)<0&&(J[Z]=Ct[Z]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wt=0,Z=Object.getOwnPropertySymbols(Ct);wt<Z.length;wt++)lt.indexOf(Z[wt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,Z[wt])&&(J[Z[wt]]=Ct[Z[wt]]);return J},fe=(0,Pt.forwardRef)(function(Ct,lt){var J=Ct.chartRef,Z=Ct.style,wt=Z===void 0?{height:"inherit"}:Z,ct=Ct.className,ue=Ct.loading,ve=Ct.loadingTemplate,Ht=Ct.errorTemplate,Qt=jt(Ct,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),ge=(0,q.Z)(St.aC,Qt),Ot=ge.chart,oe=ge.container;return(0,Pt.useEffect)(function(){(0,j.J)(J,Ot.current)},[Ot.current]),(0,Pt.useImperativeHandle)(lt,function(){return{getChart:function(){return Ot.current}}}),Pt.createElement(re.Z,{errorTemplate:Ht},ue&&Pt.createElement(le.Z,{loadingTemplate:ve,theme:Ct.theme}),Pt.createElement("div",{className:ct,style:wt,ref:oe}))}),ce=fe,Pe=H(85893);function de(Ct){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},de(Ct)}function Te(Ct,lt){var J=Object.keys(Ct);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(Ct);lt&&(Z=Z.filter(function(wt){return Object.getOwnPropertyDescriptor(Ct,wt).enumerable})),J.push.apply(J,Z)}return J}function I(Ct){for(var lt=1;lt<arguments.length;lt++){var J=arguments[lt]!=null?arguments[lt]:{};lt%2?Te(Object(J),!0).forEach(function(Z){m(Ct,Z,J[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(J)):Te(Object(J)).forEach(function(Z){Object.defineProperty(Ct,Z,Object.getOwnPropertyDescriptor(J,Z))})}return Ct}function m(Ct,lt,J){return lt=Bt(lt),lt in Ct?Object.defineProperty(Ct,lt,{value:J,enumerable:!0,configurable:!0,writable:!0}):Ct[lt]=J,Ct}function Bt(Ct){var lt=Et(Ct,"string");return de(lt)==="symbol"?lt:String(lt)}function Et(Ct,lt){if(de(Ct)!=="object"||Ct===null)return Ct;var J=Ct[Symbol.toPrimitive];if(J!==void 0){var Z=J.call(Ct,lt||"default");if(de(Z)!=="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lt==="string"?String:Number)(Ct)}var Vt=function(lt){var J=lt.percent,Z=lt.width,wt=lt.height,ct=wt===void 0?Z:wt,ue=lt.strokeWidth,ve=ue===void 0?4:ue,Ht=(0,Pt.useMemo)(function(){var Qt={percent:J,radius:.75,startAngle:-1.3333333333333333*Math.PI,endAngle:.3333333333333333*Math.PI,range:{color:["#30BF78","#D5DAE0"],width:ve},indicator:null},ge=J*365*.77-50;return(0,Pe.jsxs)("div",{style:{position:"relative",width:Z,height:ct},children:[(0,Pe.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:Z/4+ve/2,left:Z/4,transform:"rotate(".concat(ge,"deg)"),width:Z/2,height:Z/2},viewBox:"0 0 28 28",fill:"none",children:[(0,Pe.jsx)("path",{id:"path",d:"M13.0053 15.9224C13.7855 16.6404 15.0002 16.59 15.7183 15.8098C16.4363 15.0295 16.3859 13.8149 15.6057 13.0968C14.8254 12.3788 13.6108 12.4292 12.8927 13.2094C12.1746 13.9896 12.225 15.2042 13.0053 15.9224ZM18.5438 18.4102C16.3896 20.7509 12.7457 20.9021 10.4049 18.7479C8.06418 16.5936 7.91297 12.9498 10.0672 10.609C12.2214 8.26831 15.8653 8.11707 18.206 10.2712C20.5468 12.4255 20.698 16.0693 18.5438 18.4102Z",fillRule:"evenodd",fill:"#666666"}),(0,Pe.jsx)("path",{id:"path",d:"M-0.0975037 14.1718L10.498 12.4586L10.4229 16.2979L-0.0975037 14.1718Z",fillRule:"nonzero",fill:"#666666"})]}),(0,Pe.jsx)(ce,I({},Qt))]})},[J]);return Ht},Rt=Vt},7287:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Vt}});var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(Rt,Ct){var lt={};for(var J in Rt)Object.prototype.hasOwnProperty.call(Rt,J)&&Ct.indexOf(J)<0&&(lt[J]=Rt[J]);if(Rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,J=Object.getOwnPropertySymbols(Rt);Z<J.length;Z++)Ct.indexOf(J[Z])<0&&Object.prototype.propertyIsEnumerable.call(Rt,J[Z])&&(lt[J[Z]]=Rt[J[Z]]);return lt},fe=(0,Pt.forwardRef)(function(Rt,Ct){var lt=Rt.chartRef,J=Rt.style,Z=J===void 0?{height:"inherit"}:J,wt=Rt.className,ct=Rt.loading,ue=Rt.loadingTemplate,ve=Rt.errorTemplate,Ht=jt(Rt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Qt=(0,q.Z)(St.VT,Ht),ge=Qt.chart,Ot=Qt.container;return(0,Pt.useEffect)(function(){(0,j.J)(lt,ge.current)},[ge.current]),(0,Pt.useImperativeHandle)(Ct,function(){return{getChart:function(){return ge.current}}}),Pt.createElement(re.Z,{errorTemplate:ve},ct&&Pt.createElement(le.Z,{loadingTemplate:ue,theme:Rt.theme}),Pt.createElement("div",{className:wt,style:Z,ref:Ot}))}),ce=fe;function Pe(Rt){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},Pe(Rt)}function de(Rt,Ct){var lt=Object.keys(Rt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Rt);Ct&&(J=J.filter(function(Z){return Object.getOwnPropertyDescriptor(Rt,Z).enumerable})),lt.push.apply(lt,J)}return lt}function Te(Rt){for(var Ct=1;Ct<arguments.length;Ct++){var lt=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?de(Object(lt),!0).forEach(function(J){I(Rt,J,lt[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(lt)):de(Object(lt)).forEach(function(J){Object.defineProperty(Rt,J,Object.getOwnPropertyDescriptor(lt,J))})}return Rt}function I(Rt,Ct,lt){return Ct=m(Ct),Ct in Rt?Object.defineProperty(Rt,Ct,{value:lt,enumerable:!0,configurable:!0,writable:!0}):Rt[Ct]=lt,Rt}function m(Rt){var Ct=Bt(Rt,"string");return Pe(Ct)==="symbol"?Ct:String(Ct)}function Bt(Rt,Ct){if(Pe(Rt)!=="object"||Rt===null)return Rt;var lt=Rt[Symbol.toPrimitive];if(lt!==void 0){var J=lt.call(Rt,Ct||"default");if(Pe(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ct==="string"?String:Number)(Rt)}var Et=function(Ct){var lt=Ct.data,J=Ct.config,Z={padding:[40,16,16,16],useDeferredLabel:200,legend:{marker:{symbol:"square"}},geometryOptions:[{geometry:"line",smooth:!0,color:"rgba(80,150,255,0.7)",lineStyle:{lineWidth:3}},{geometry:"line",smooth:!0,color:"rgba(247, 166, 0, 0.7)",lineStyle:{lineWidth:3}}],xAxis:{line:{style:{stroke:"#ADB1B8"}},tickLine:{style:{stroke:"#ADB1B8"},alignTick:!0},label:{style:{fill:"#ADB1B8"}}}},wt=Te(Te(Te({},Z),J),{},{data:[lt,lt]});return Pt.createElement(ce,wt)},Vt=Et},47199:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return lt}});var Pt=H(67294),St=H(11992),q=H(26002),j=function(Z,wt,ct){var ue=(wt-Z)/(ct-1),ve=Array.from({length:ct},function(Ht,Qt){return{value:parseFloat((Z+ue*Qt).toFixed(1))}});return ve},re=function(Z){var wt=Z.point,ct=wt===void 0?{offsetRadius:.2,size:3}:wt,ue=Z.gaugeColor,ve=ue===void 0?"l(0) 0:#FF0000 0.5:#FFFF00 1:#008000":ue,Ht=Z.stages,Qt=Z.lineWidth,ge=Qt===void 0?10:Qt,Ot=Z.width,oe=(0,Pt.useRef)(null),ie=ct.size,et=ct.offsetRadius;return(0,Pt.useEffect)(function(){if(oe.current){var vt=new q.kL({container:oe.current,autoFit:!0,height:Ot/2,padding:1});vt.coordinate("polar",{startAngle:-Math.PI,endAngle:0,innerRadius:.96-et,radius:.96}),vt.scale("value",{min:0,max:100,tickInterval:10}),vt.axis(!1),vt.legend(!1),vt.annotation().arc({top:!1,start:[0,1],end:[100,1],style:{stroke:ve,lineWidth:ge,lineDash:null}}),vt.render();var me=vt.getCoordinate(),Ae=me.radius*me.innerRadius,ye=j(.5,99.5,Ht),be=Ae-et;vt.data(ye),vt.point().position("value*".concat(be)).shape("circle").size(ie).style({fill:"rgb(64,67,71)"}),vt.render()}},[Ot]),Pt.createElement("div",{ref:oe,id:"gauge-container"})},le=re,jt=H(94184),fe=H.n(jt),ce;function Pe(J,Z){return Z||(Z=J.slice(0)),Object.freeze(Object.defineProperties(J,{raw:{value:Object.freeze(Z)}}))}var de=St.ZP.div(ce||(ce=Pe([`
  width: `,`px;
  position: absolute;
  top: 0;
  .title {
    font-size: var(--gtd-fz-sm);
    line-height: var(--gtd-lh-sm);
    color: #81858c;
  }
  
  
  .sectorBox {
    width: 100%;
    height: 100%;
    border-top-left-radius: 90px;
    border-top-right-radius: 90px;
  }
  
  .sectorBox.green {
    .block {
      background: linear-gradient(
        118.39deg,
        rgba(32, 178, 108, 0.24) 15.66%,
        rgba(32, 178, 108, 0) 65.71%
      );
    }
    .circle .arrow::after {
      background-color: #20b26c;
    }
  }

  .sectorBox.red {
    .block {
      background: linear-gradient(
        118.39deg,
        rgba(239, 69, 74, 0.24) 15.66%,
        rgba(239, 69, 74, 0) 65.71%
      );
    }
    .circle .arrow::after {
      background-color: rgba(239, 69, 74, 1);
    }
  }
  
 
  .sectorBox.orange {
    .block {
      background: linear-gradient(
        118.39deg,
        rgba(247, 166, 0, 0.24) 15.66%,
        rgba(247, 166, 0, 0) 65.71%
      );
    }
    .circle .arrow::after {
      background-color: rgba(247, 166, 0, 1);
    }
  }
  
  .sector {
    width: 100%;
    height: 100%;
    position: relative;
    display: inline-block;
    vertical-align: super;
  }
  
  .sectorContent {
    width: `,`px;
    height: `,`px;
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
    overflow: hidden;
  }
  
  .circle {
    width: `,`px;
    height: `,`px;
    background: transparent;
    position: absolute;
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
    transform-origin: center `,`px 0;
    transform: rotate(0deg);
    transition: transform 1s cubic-bezier(0, 0, 0.2, 1);
    top: 0;
  }
  
  .arrow {
    position: absolute;
    width: 14px;
    height: 14px;
    left: calc(14px / -4);
    bottom: calc(14px / -2);
    border: 1px solid #121212;
    filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.16));
    border-radius: 50%;
    background-color: #fff;
  }
  
  .arrow::after {
    content: '';
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: rgba(32, 178, 108, 1);
    display: block;
    margin-top: 4px;
    margin-left: 3px;
  }
  
  .block {
    width: `,`px;
    height: `,`px;
    background-color: transparent;
    position: relative;
    border-top-right-radius: `,`px;
    border-bottom-right-radius: `,`px;
    bottom: `,`px;
    transform-origin: `,`px 0;
    transform: rotate(0deg);
    transition: transform 1s cubic-bezier(0, 0, 0.2, 1);
  }
  
  .count {
    font-weight: 600;
    font-size: 34px;
    text-align: center;
    color: #20b26c;
    position: absolute;
    width: 100%;
    bottom: 15px;
  }
  
  .desc {
    font-weight: 600;
    font-size: 18px;
    line-height: 22px;
    text-align: center;
    color: #20b26c;
    bottom: 0;
    position: absolute;
    width: 100%;
  }
  
  .color-green {
    color: #20b26c;
  }
  
  .color-red {
    color: rgba(239, 69, 74, 1);
  }
  
  .color-orange {
    color: rgba(247, 166, 0, 1);
  }
`])),function(J){return J.width},function(J){return J.width},function(J){return J.width/2},function(J){return J.width*2},function(J){return J.width*2},function(J){return J.width},function(J){return J.width/2},function(J){return J.width*2},function(J){return J.width*2},function(J){return J.width/2},function(J){return J.width},function(J){return J.width/2},function(J){return J.width*2},function(J){return J.width*2},function(J){return J.width/-2},function(J){return J.width/2}),Te=de,I=function(Z,wt){for(var ct=(0,Pt.useMemo)(function(){return Z>=100?180:Z<=0?0:Z/100*180},[Z]),ue=wt[wt.length-1],ve=0;ve<wt.length;ve+=1)if(Z<wt[ve].threshold){ue=wt[ve];break}return{rotate:ct,text:ue.text,color:ue.color}},m=function(Z){var wt=Z.value,ct=Z.stages,ue=Z.width,ve=Z.height,Ht=I(wt,ct),Qt=Ht.rotate,ge=Ht.text,Ot=Ht.color;return wt?Pt.createElement(Te,{width:ue,height:ve},Pt.createElement("div",{className:"sector"},Pt.createElement("div",{className:fe()("sectorBox",Ot)},Pt.createElement("div",{className:"sectorContent"},Pt.createElement("div",{className:"block",style:{transform:"rotate(".concat(Qt,"deg)")}}),Pt.createElement("div",{className:"circle",style:{transform:"rotate(".concat(Qt,"deg)")}},Pt.createElement("div",{className:"arrow"}))))),Pt.createElement("div",{className:fe()("count","color-".concat(Ot))},wt),Pt.createElement("div",{className:fe()("desc","color-".concat(Ot))},ge)):null},Bt=m,Et;function Vt(J,Z){return Z||(Z=J.slice(0)),Object.freeze(Object.defineProperties(J,{raw:{value:Object.freeze(Z)}}))}var Rt=St.ZP.div(Et||(Et=Vt([`
  width: `,`px;
  height: `,`px;
  position: relative;
`])),function(J){return J.width},function(J){return J.height}),Ct=function(Z){var wt=Z.value,ct=Z.stages,ue=Z.gaugeColor,ve=Z.width,Ht=ve===void 0?300:ve,Qt=Z.height,ge=Qt===void 0?200:Qt;return Pt.createElement(Rt,{width:Ht,height:ge},Pt.createElement(le,{gaugeColor:ue,width:Ht,stages:ct.length+2}),Pt.createElement(Bt,{value:wt,stages:ct,width:Ht,height:ge}))},lt=Ct},90011:function(sr,Ue,H){"use strict";var Pt=H(67294);function St(Vt){return re(Vt)||j(Vt)||fe(Vt)||q()}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(Vt){if(typeof Symbol!="undefined"&&Vt[Symbol.iterator]!=null||Vt["@@iterator"]!=null)return Array.from(Vt)}function re(Vt){if(Array.isArray(Vt))return ce(Vt)}function le(Vt,Rt){return de(Vt)||Pe(Vt,Rt)||fe(Vt,Rt)||jt()}function jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(Vt,Rt){if(Vt){if(typeof Vt=="string")return ce(Vt,Rt);var Ct=Object.prototype.toString.call(Vt).slice(8,-1);if(Ct==="Object"&&Vt.constructor&&(Ct=Vt.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(Vt);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return ce(Vt,Rt)}}function ce(Vt,Rt){(Rt==null||Rt>Vt.length)&&(Rt=Vt.length);for(var Ct=0,lt=new Array(Rt);Ct<Rt;Ct++)lt[Ct]=Vt[Ct];return lt}function Pe(Vt,Rt){var Ct=Vt==null?null:typeof Symbol!="undefined"&&Vt[Symbol.iterator]||Vt["@@iterator"];if(Ct!=null){var lt,J,Z,wt,ct=[],ue=!0,ve=!1;try{if(Z=(Ct=Ct.call(Vt)).next,Rt===0){if(Object(Ct)!==Ct)return;ue=!1}else for(;!(ue=(lt=Z.call(Ct)).done)&&(ct.push(lt.value),ct.length!==Rt);ue=!0);}catch(Ht){ve=!0,J=Ht}finally{try{if(!ue&&Ct.return!=null&&(wt=Ct.return(),Object(wt)!==wt))return}finally{if(ve)throw J}}return ct}}function de(Vt){if(Array.isArray(Vt))return Vt}var Te=function(Rt){var Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ct>90?Rt:+Rt.toFixed(Ct)||0},I={up:["rgb(36, 174, 100)","rgb(32, 178, 108)"],down:["rgb(224, 64, 64)","rgb(224, 64, 64)"],default:["rgb(129, 133, 140)","rgb(129, 133, 140)"]},m=function(Rt){return[{offset:"0%",color:I[Rt][1],opacity:".3"},{offset:"40%",color:I[Rt][0],opacity:".1"},{offset:"100%",color:"rgb(255, 255, 255)",opacity:"0"}]},Bt=[{offset:"0%",color:"#EDEDED",opacity:"1"},{offset:"71.02%",color:"rgb(249, 249, 249)",opacity:"0"}],Et=function(Rt){var Ct=Rt.data,lt=Rt.colorType,J=Rt.width,Z=J===void 0?200:J,wt=Rt.height,ct=wt===void 0?100:wt,ue=Rt.strokeWidth,ve=ue===void 0?1:ue,Ht=Rt.marginTop,Qt=Ht===void 0?5:Ht,ge=Rt.paddingBottom,Ot=ge===void 0?20:ge,oe=Rt.strokeColor,ie=oe===void 0?"rgba(24, 22, 55, .11)":oe,et=Rt.background,vt=et===void 0?Bt:et,me=(0,Pt.useState)(),Ae=le(me,2),ye=Ae[0],be=Ae[1],ut=(0,Pt.useState)(Math.random().toString(36).slice(2)),Tt=le(ut,1),It=Tt[0];(0,Pt.useEffect)(function(){if(Ct.length){var Jt=[0,0],ee=Math.max.apply(Math,St(Ct))||0,at=Math.min.apply(Math,St(Ct))||0;if(ee!==at){var K=ee-at,W=ct-(Ot>1?Ot:1)-Qt;Jt=Ct.map(function(Wt){return Te(W-(Wt-at)/K*W+Qt,2)})}var it=Te(Z/(Jt.length-1),2),tt="M-1 ".concat(ct,"L-1 ").concat(Jt[0]),yt="L".concat(Z+1," ").concat(ct+1," Z"),gt=Jt.map(function(Wt,Kt){return"L".concat(Te(Kt*it,2)," ").concat(Wt)});be("".concat(tt).concat(gt.join("")).concat(yt))}},[Ct,ct,Qt,Ot,Z]);var ft=(0,Pt.useMemo)(function(){return lt?m(lt):Bt},[vt,lt]);return ye?Pt.createElement("svg",{width:Z,height:ct,viewBox:"0 0 ".concat(Z-ve," ").concat(ct-ve),version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},Array.isArray(vt)&&Pt.createElement("defs",null,Pt.createElement("linearGradient",{id:It,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},ft.map(function(Jt){return Pt.createElement("stop",{key:Jt.color,offset:Jt.offset,style:{stopColor:Jt.color,stopOpacity:Jt.opacity||1}})}))),Pt.createElement("path",{d:ye,fill:typeof ft=="string"?ft:"url(#".concat(It,")"),stroke:ie,strokeWidth:ve})):null};Ue.Z=Et},49345:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return Ct}});var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(lt,J){var Z={};for(var wt in lt)Object.prototype.hasOwnProperty.call(lt,wt)&&J.indexOf(wt)<0&&(Z[wt]=lt[wt]);if(lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,wt=Object.getOwnPropertySymbols(lt);ct<wt.length;ct++)J.indexOf(wt[ct])<0&&Object.prototype.propertyIsEnumerable.call(lt,wt[ct])&&(Z[wt[ct]]=lt[wt[ct]]);return Z},fe=(0,Pt.forwardRef)(function(lt,J){var Z=lt.chartRef,wt=lt.style,ct=wt===void 0?{height:"inherit"}:wt,ue=lt.className,ve=lt.loading,Ht=lt.loadingTemplate,Qt=lt.errorTemplate,ge=jt(lt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Ot=(0,q.Z)(St.by,ge),oe=Ot.chart,ie=Ot.container;return(0,Pt.useEffect)(function(){(0,j.J)(Z,oe.current)},[oe.current]),(0,Pt.useImperativeHandle)(J,function(){return{getChart:function(){return oe.current}}}),Pt.createElement(re.Z,{errorTemplate:Qt},ve&&Pt.createElement(le.Z,{loadingTemplate:Ht,theme:lt.theme}),Pt.createElement("div",{className:ue,style:ct,ref:ie}))}),ce=fe,Pe={emptyPieBg:"nrabfVIOwhAxXy2cXdWI",emptyPieBox:"RhHvpAzJE4FyZEXA3GHs",emptyPieTitle:"SJcTQFHrMjY3MhPkKq3U",emptyPieText:"JbU9fTMvswkODQ0Rru9v"};function de(lt){var J=lt.title,Z=lt.desc;return Pt.createElement("div",{className:Pe.emptyPieBg},Pt.createElement("div",{className:Pe.emptyPieBox},J&&Pt.createElement("h5",{className:Pe.emptyPieTitle},J),Z&&Pt.createElement("p",{className:Pe.emptyPieText},Z)))}function Te(lt){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},Te(lt)}function I(lt,J){var Z=Object.keys(lt);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(lt);J&&(wt=wt.filter(function(ct){return Object.getOwnPropertyDescriptor(lt,ct).enumerable})),Z.push.apply(Z,wt)}return Z}function m(lt){for(var J=1;J<arguments.length;J++){var Z=arguments[J]!=null?arguments[J]:{};J%2?I(Object(Z),!0).forEach(function(wt){Bt(lt,wt,Z[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(Z)):I(Object(Z)).forEach(function(wt){Object.defineProperty(lt,wt,Object.getOwnPropertyDescriptor(Z,wt))})}return lt}function Bt(lt,J,Z){return J=Et(J),J in lt?Object.defineProperty(lt,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):lt[J]=Z,lt}function Et(lt){var J=Vt(lt,"string");return Te(J)==="symbol"?J:String(J)}function Vt(lt,J){if(Te(lt)!=="object"||lt===null)return lt;var Z=lt[Symbol.toPrimitive];if(Z!==void 0){var wt=Z.call(lt,J||"default");if(Te(wt)!=="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(lt)}var Rt=function(J){var Z=J.data,wt=J.config,ct=J.legend,ue=ct===void 0?!1:ct,ve=J.isShowEmpty,Ht=ve===void 0?!0:ve,Qt=J.isShowToolTip,ge=Qt===void 0?!1:Qt,Ot=J.emptyPieTitle,oe=J.emptyPieDesc,ie={trigger:"element:mouseenter",action:"cursor:pointer"},et={forceFit:!0,appendPadding:10,angleField:"openOrderCount",colorField:"symbol",color:["#F7A600","#448FFF","#FF7C53","#FF7A9A","#5DE051"],radius:1,innerRadius:.68,pieStyle:{lineWidth:0},legend:ue,label:{type:"inner",offset:"-50%",style:{textAlign:"center"},autoRotate:!1,content:""},interactions:ge?[{type:"element-active",cfg:{start:[ie]}}]:[{type:"element-selected",cursor:"pointer"},{type:"element-active",cfg:{start:[{trigger:"element:mouseenter",action:"element-single-selected:toggle"},ie],end:[{trigger:"element:mouseleave",action:"element-single-selected:reset",cursor:"default"}]}},{type:"pie-statistic-active"}]},vt=m(m(m({},et),wt),{},{data:Z});return Ht&&!(Z!=null&&Z.length)?Pt.createElement(de,{title:Ot,desc:oe}):Pt.createElement(ce,vt)},Ct=Rt},61589:function(sr,Ue,H){"use strict";var Pt=H(67294),St=H(64183),q=function(jt,fe){var ce=Math.min.apply(Math,jt.map(function(de){return de[fe]})),Pe=Math.max.apply(Math,jt.map(function(de){return de[fe]}));return{min:ce,max:Pe}},j=function(jt){return typeof jt=="undefined"?"--":jt},re=function(jt){var fe=jt.xField,ce=jt.yField,Pe=jt.data,de=jt.smooth,Te=de===void 0?!0:de,I=jt.tooltip,m=I===void 0?!1:I,Bt=jt.noXYAxis,Et=Bt===void 0?!1:Bt,Vt=jt.yFontSize,Rt=Vt===void 0?8:Vt,Ct=jt.yFontColor,lt=Ct===void 0?"#ADB1B8":Ct,J=jt.lineSize,Z=J===void 0?1.5:J,wt=jt.lineColor,ct=wt===void 0?"#20B26C":wt,ue=jt.areaBgFill,ve=ue===void 0?"l(90) 0:rgba(32, 178, 108, 1) 1:rgba(32, 178, 108, 0)":ue,Ht=jt.formatYAxis,Qt=Ht===void 0?j:Ht,ge=q(Pe,ce),Ot=ge.min,oe=ge.max,ie={data:Pe,xField:fe,yField:ce,smooth:Te,limitInPlot:!1,appendPadding:[2,0,2,0],xAxis:{range:[0,1],tickCount:0,line:Et?null:{style:{stroke:"#D5DAE0",lineDash:[2,3]}}},startOnZero:!1,renderer:"canvas",yAxis:{label:Et?null:{style:{fontSize:Rt,fill:lt,textAlign:"right"},formatter:function(vt){return Qt(vt)}},grid:Et?null:{line:{style:{stroke:"#D5DAE0",lineDash:[2,3]}}},min:Ot,mimLimit:Ot,max:oe,maxLimit:oe,tickCount:1},tooltip:m,line:{color:ct,size:Z},areaStyle:function(){return{fill:ve}}};return(0,Pt.useMemo)(function(){return Pt.createElement(St.Z,ie)},[Pe])};Ue.Z=re},24322:function(sr,Ue,H){"use strict";H.d(Ue,{Z:function(){return lt}});var Pt=H(67294),St=H(75383),q=H(11924),j=H(79360),re=H(24770),le=H(79642),jt=function(J,Z){var wt={};for(var ct in J)Object.prototype.hasOwnProperty.call(J,ct)&&Z.indexOf(ct)<0&&(wt[ct]=J[ct]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,ct=Object.getOwnPropertySymbols(J);ue<ct.length;ue++)Z.indexOf(ct[ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ct[ue])&&(wt[ct[ue]]=J[ct[ue]]);return wt},fe=(0,Pt.forwardRef)(function(J,Z){var wt=J.chartRef,ct=J.style,ue=ct===void 0?{height:"inherit"}:ct,ve=J.className,Ht=J.loading,Qt=J.loadingTemplate,ge=J.errorTemplate,Ot=jt(J,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),oe=(0,q.Z)(St.x1,Ot),ie=oe.chart,et=oe.container;return(0,Pt.useEffect)(function(){(0,j.J)(wt,ie.current)},[ie.current]),(0,Pt.useImperativeHandle)(Z,function(){return{getChart:function(){return ie.current}}}),Pt.createElement(re.Z,{errorTemplate:ge},Ht&&Pt.createElement(le.Z,{loadingTemplate:Qt,theme:J.theme}),Pt.createElement("div",{className:ve,style:ue,ref:et}))}),ce=fe;function Pe(J){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},Pe(J)}var de=["yTickCount","xField","yField","data","xAxisLabelColor","yAxisLabelColor","xAxisLineColor","yAxisLineColor","showYAxis","renderer","color","smooth","legend"];function Te(J,Z){var wt=Object.keys(J);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(J);Z&&(ct=ct.filter(function(ue){return Object.getOwnPropertyDescriptor(J,ue).enumerable})),wt.push.apply(wt,ct)}return wt}function I(J){for(var Z=1;Z<arguments.length;Z++){var wt=arguments[Z]!=null?arguments[Z]:{};Z%2?Te(Object(wt),!0).forEach(function(ct){m(J,ct,wt[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(wt)):Te(Object(wt)).forEach(function(ct){Object.defineProperty(J,ct,Object.getOwnPropertyDescriptor(wt,ct))})}return J}function m(J,Z,wt){return Z=Bt(Z),Z in J?Object.defineProperty(J,Z,{value:wt,enumerable:!0,configurable:!0,writable:!0}):J[Z]=wt,J}function Bt(J){var Z=Et(J,"string");return Pe(Z)==="symbol"?Z:String(Z)}function Et(J,Z){if(Pe(J)!=="object"||J===null)return J;var wt=J[Symbol.toPrimitive];if(wt!==void 0){var ct=wt.call(J,Z||"default");if(Pe(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(J)}function Vt(J,Z){if(J==null)return{};var wt=Rt(J,Z),ct,ue;if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(J);for(ue=0;ue<ve.length;ue++)ct=ve[ue],!(Z.indexOf(ct)>=0)&&Object.prototype.propertyIsEnumerable.call(J,ct)&&(wt[ct]=J[ct])}return wt}function Rt(J,Z){if(J==null)return{};var wt={},ct=Object.keys(J),ue,ve;for(ve=0;ve<ct.length;ve++)ue=ct[ve],!(Z.indexOf(ue)>=0)&&(wt[ue]=J[ue]);return wt}function Ct(J){var Z=J.yTickCount,wt=J.xField,ct=J.yField,ue=J.data,ve=J.xAxisLabelColor,Ht=ve===void 0?"#ADB1B8":ve,Qt=J.yAxisLabelColor,ge=Qt===void 0?"#ADB1B8":Qt,Ot=J.xAxisLineColor,oe=Ot===void 0?"#ADB1B8":Ot,ie=J.yAxisLineColor,et=ie===void 0?"#E9EDF2":ie,vt=J.showYAxis,me=vt===void 0?!0:vt,Ae=J.renderer,ye=Ae===void 0?"canvas":Ae,be=J.color,ut=be===void 0?"rgba(247, 166, 0, 0.7)":be,Tt=J.smooth,It=Tt===void 0?!0:Tt,ft=J.legend,Jt=ft===void 0?!1:ft,ee=Vt(J,de),at=I({data:ue,smooth:It,xField:wt,yField:ct,color:ut,renderer:ye,legend:Jt,xAxis:{tickCount:20,line:{style:{stroke:oe}},label:{style:{fill:Ht}}},yAxis:{tickCount:Z,grid:{line:me?{style:{stroke:et}}:null},label:me?{style:{fill:ge,autoHide:!1,autoEllipsis:!1,autoRotate:!1}}:null}},ee);return(0,Pt.useMemo)(function(){return Pt.createElement(ce,at)},[ue])}var lt=Ct},11992:function(sr,Ue,H){"use strict";H.d(Ue,{ZP:function(){return Q}});var Pt=H(97582),St=H(67294),q=H(96774),j=H.n(q),re="-ms-",le="-moz-",jt="-webkit-",fe="comm",ce="rule",Pe="decl",de="@page",Te="@media",I="@import",m="@charset",Bt="@viewport",Et="@supports",Vt="@document",Rt="@namespace",Ct="@keyframes",lt="@font-face",J="@counter-style",Z="@font-feature-values",wt="@layer",ct=Math.abs,ue=String.fromCharCode,ve=Object.assign;function Ht(N,st){return ie(N,0)^45?(((st<<2^ie(N,0))<<2^ie(N,1))<<2^ie(N,2))<<2^ie(N,3):0}function Qt(N){return N.trim()}function ge(N,st){return(N=st.exec(N))?N[0]:N}function Ot(N,st,dt){return N.replace(st,dt)}function oe(N,st){return N.indexOf(st)}function ie(N,st){return N.charCodeAt(st)|0}function et(N,st,dt){return N.slice(st,dt)}function vt(N){return N.length}function me(N){return N.length}function Ae(N,st){return st.push(N),N}function ye(N,st){return N.map(st).join("")}function be(N,st){return N.filter(function(dt){return!ge(dt,st)})}var ut=1,Tt=1,It=0,ft=0,Jt=0,ee="";function at(N,st,dt,Lt,ae,G,ht,kt){return{value:N,root:st,parent:dt,type:Lt,props:ae,children:G,line:ut,column:Tt,length:ht,return:"",siblings:kt}}function K(N,st){return ve(at("",null,null,"",null,null,0,N.siblings),N,{length:-N.length},st)}function W(N){for(;N.root;)N=K(N.root,{children:[N]});Ae(N,N.siblings)}function it(){return Jt}function tt(){return Jt=ft>0?ie(ee,--ft):0,Tt--,Jt===10&&(Tt=1,ut--),Jt}function yt(){return Jt=ft<It?ie(ee,ft++):0,Tt++,Jt===10&&(Tt=1,ut++),Jt}function gt(){return ie(ee,ft)}function Wt(){return ft}function Kt(N,st){return et(ee,N,st)}function Ce(N){switch(N){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function He(N){return ut=Tt=1,It=vt(ee=N),ft=0,[]}function We(N){return ee="",N}function Je(N){return Qt(Kt(ft-1,$t(N===91?N+2:N===40?N+1:N)))}function ke(N){return We(At(He(N)))}function Fe(N){for(;(Jt=gt())&&Jt<33;)yt();return Ce(N)>2||Ce(Jt)>3?"":" "}function At(N){for(;yt();)switch(Ce(Jt)){case 0:append(_e(ft-1),N);break;case 2:append(Je(Jt),N);break;default:append(from(Jt),N)}return N}function Xt(N,st){for(;--st&&yt()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Kt(N,Wt()+(st<6&&gt()==32&&yt()==32))}function $t(N){for(;yt();)switch(Jt){case N:return ft;case 34:case 39:N!==34&&N!==39&&$t(Jt);break;case 40:N===41&&$t(N);break;case 92:yt();break}return ft}function pe(N,st){for(;yt()&&N+Jt!==47+10;)if(N+Jt===42+42&&gt()===47)break;return"/*"+Kt(st,ft-1)+"*"+ue(N===47?N:yt())}function _e(N){for(;!Ce(gt());)yt();return Kt(N,ft)}function Ve(N,st){for(var dt="",Lt=0;Lt<N.length;Lt++)dt+=st(N[Lt],Lt,N,st)||"";return dt}function Be(N,st,dt,Lt){switch(N.type){case wt:if(N.children.length)break;case I:case Pe:return N.return=N.return||N.value;case fe:return"";case Ct:return N.return=N.value+"{"+Ve(N.children,Lt)+"}";case ce:if(!vt(N.value=N.props.join(",")))return""}return vt(dt=Ve(N.children,Lt))?N.return=N.value+"{"+dt+"}":""}function Le(N,st,dt){switch(Ht(N,st)){case 5103:return jt+"print-"+N+N;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+N+N;case 4789:return le+N+N;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+N+le+N+re+N+N;case 5936:switch(ie(N,st+11)){case 114:return jt+N+re+Ot(N,/[svh]\w+-[tblr]{2}/,"tb")+N;case 108:return jt+N+re+Ot(N,/[svh]\w+-[tblr]{2}/,"tb-rl")+N;case 45:return jt+N+re+Ot(N,/[svh]\w+-[tblr]{2}/,"lr")+N}case 6828:case 4268:case 2903:return jt+N+re+N+N;case 6165:return jt+N+re+"flex-"+N+N;case 5187:return jt+N+Ot(N,/(\w+).+(:[^]+)/,jt+"box-$1$2"+re+"flex-$1$2")+N;case 5443:return jt+N+re+"flex-item-"+Ot(N,/flex-|-self/g,"")+(ge(N,/flex-|baseline/)?"":re+"grid-row-"+Ot(N,/flex-|-self/g,""))+N;case 4675:return jt+N+re+"flex-line-pack"+Ot(N,/align-content|flex-|-self/g,"")+N;case 5548:return jt+N+re+Ot(N,"shrink","negative")+N;case 5292:return jt+N+re+Ot(N,"basis","preferred-size")+N;case 6060:return jt+"box-"+Ot(N,"-grow","")+jt+N+re+Ot(N,"grow","positive")+N;case 4554:return jt+Ot(N,/([^-])(transform)/g,"$1"+jt+"$2")+N;case 6187:return Ot(Ot(Ot(N,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),N,"")+N;case 5495:case 3959:return Ot(N,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return Ot(Ot(N,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+N+N;case 4200:if(!ge(N,/flex-|baseline/))return re+"grid-column-align"+et(N,st)+N;break;case 2592:case 3360:return re+Ot(N,"template-","")+N;case 4384:case 3616:return dt&&dt.some(function(Lt,ae){return st=ae,ge(Lt.props,/grid-\w+-end/)})?~oe(N+(dt=dt[st].value),"span")?N:re+Ot(N,"-start","")+N+re+"grid-row-span:"+(~oe(dt,"span")?ge(dt,/\d+/):+ge(dt,/\d+/)-+ge(N,/\d+/))+";":re+Ot(N,"-start","")+N;case 4896:case 4128:return dt&&dt.some(function(Lt){return ge(Lt.props,/grid-\w+-start/)})?N:re+Ot(Ot(N,"-end","-span"),"span ","")+N;case 4095:case 3583:case 4068:case 2532:return Ot(N,/(.+)-inline(.+)/,jt+"$1$2")+N;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vt(N)-1-st>6)switch(ie(N,st+1)){case 109:if(ie(N,st+4)!==45)break;case 102:return Ot(N,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+le+(ie(N,st+3)==108?"$3":"$2-$3"))+N;case 115:return~oe(N,"stretch")?Le(Ot(N,"stretch","fill-available"),st,dt)+N:N}break;case 5152:case 5920:return Ot(N,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(Lt,ae,G,ht,kt,Nt,he){return re+ae+":"+G+he+(ht?re+ae+"-span:"+(kt?Nt:+Nt-+G)+he:"")+N});case 4949:if(ie(N,st+6)===121)return Ot(N,":",":"+jt)+N;break;case 6444:switch(ie(N,ie(N,14)===45?18:11)){case 120:return Ot(N,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+jt+(ie(N,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+re+"$2box$3")+N;case 100:return Ot(N,":",":"+re)+N}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ot(N,"scroll-","scroll-snap-")+N}return N}function Ie(N){var st=me(N);return function(dt,Lt,ae,G){for(var ht="",kt=0;kt<st;kt++)ht+=N[kt](dt,Lt,ae,G)||"";return ht}}function $e(N){return function(st){st.root||(st=st.return)&&N(st)}}function Ze(N,st,dt,Lt){if(N.length>-1&&!N.return)switch(N.type){case Pe:N.return=Le(N.value,N.length,dt);return;case Ct:return Ve([K(N,{value:Ot(N.value,"@","@"+jt)})],Lt);case ce:if(N.length)return ye(dt=N.props,function(ae){switch(ge(ae,Lt=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":W(K(N,{props:[Ot(ae,/:(read-\w+)/,":"+le+"$1")]})),W(K(N,{props:[ae]})),ve(N,{props:be(dt,Lt)});break;case"::placeholder":W(K(N,{props:[Ot(ae,/:(plac\w+)/,":"+jt+"input-$1")]})),W(K(N,{props:[Ot(ae,/:(plac\w+)/,":"+le+"$1")]})),W(K(N,{props:[Ot(ae,/:(plac\w+)/,re+"input-$1")]})),W(K(N,{props:[ae]})),ve(N,{props:be(dt,Lt)});break}return""})}}function er(N){switch(N.type){case RULESET:N.props=N.props.map(function(st){return combine(tokenize(st),function(dt,Lt,ae){switch(charat(dt,0)){case 12:return substr(dt,1,strlen(dt));case 0:case 40:case 43:case 62:case 126:return dt;case 58:ae[++Lt]==="global"&&(ae[Lt]="",ae[++Lt]="\f"+substr(ae[Lt],Lt=1,-1));case 32:return Lt===1?"":dt;default:switch(Lt){case 0:return N=dt,sizeof(ae)>1?"":dt;case(Lt=sizeof(ae)-1):case 2:return Lt===2?dt+N+N:dt+N;default:return dt}}})})}}function or(N){return We(je("",null,null,null,[""],N=He(N),0,[0],N))}function je(N,st,dt,Lt,ae,G,ht,kt,Nt){for(var he=0,Ee=0,Ge=ht,rr=0,vr=0,yr=0,Mr=1,zr=1,$r=1,Ur=0,Kr="",Br=ae,Rr=G,Wr=Lt,kr=Kr;zr;)switch(yr=Ur,Ur=yt()){case 40:if(yr!=108&&ie(kr,Ge-1)==58){oe(kr+=Ot(Je(Ur),"&","&\f"),"&\f")!=-1&&($r=-1);break}case 34:case 39:case 91:kr+=Je(Ur);break;case 9:case 10:case 13:case 32:kr+=Fe(yr);break;case 92:kr+=Xt(Wt()-1,7);continue;case 47:switch(gt()){case 42:case 47:Ae(hr(pe(yt(),Wt()),st,dt,Nt),Nt);break;default:kr+="/"}break;case 123*Mr:kt[he++]=vt(kr)*$r;case 125*Mr:case 59:case 0:switch(Ur){case 0:case 125:zr=0;case 59+Ee:$r==-1&&(kr=Ot(kr,/\f/g,"")),vr>0&&vt(kr)-Ge&&Ae(vr>32?dr(kr+";",Lt,dt,Ge-1,Nt):dr(Ot(kr," ","")+";",Lt,dt,Ge-2,Nt),Nt);break;case 59:kr+=";";default:if(Ae(Wr=qe(kr,st,dt,he,Ee,ae,kt,Kr,Br=[],Rr=[],Ge,G),G),Ur===123)if(Ee===0)je(kr,st,Wr,Wr,Br,G,Ge,kt,Rr);else switch(rr===99&&ie(kr,3)===110?100:rr){case 100:case 108:case 109:case 115:je(N,Wr,Wr,Lt&&Ae(qe(N,Wr,Wr,0,0,ae,kt,Kr,ae,Br=[],Ge,Rr),Rr),ae,Rr,Ge,kt,Lt?Br:Rr);break;default:je(kr,Wr,Wr,Wr,[""],Rr,0,kt,Rr)}}he=Ee=vr=0,Mr=$r=1,Kr=kr="",Ge=ht;break;case 58:Ge=1+vt(kr),vr=yr;default:if(Mr<1){if(Ur==123)--Mr;else if(Ur==125&&Mr++==0&&tt()==125)continue}switch(kr+=ue(Ur),Ur*Mr){case 38:$r=Ee>0?1:(kr+="\f",-1);break;case 44:kt[he++]=(vt(kr)-1)*$r,$r=1;break;case 64:gt()===45&&(kr+=Je(yt())),rr=gt(),Ee=Ge=vt(Kr=kr+=_e(Wt())),Ur++;break;case 45:yr===45&&vt(kr)==2&&(Mr=0)}}return G}function qe(N,st,dt,Lt,ae,G,ht,kt,Nt,he,Ee,Ge){for(var rr=ae-1,vr=ae===0?G:[""],yr=me(vr),Mr=0,zr=0,$r=0;Mr<Lt;++Mr)for(var Ur=0,Kr=et(N,rr+1,rr=ct(zr=ht[Mr])),Br=N;Ur<yr;++Ur)(Br=Qt(zr>0?vr[Ur]+" "+Kr:Ot(Kr,/&\f/g,vr[Ur])))&&(Nt[$r++]=Br);return at(N,st,dt,ae===0?ce:kt,Nt,he,Ee,Ge)}function hr(N,st,dt,Lt){return at(N,st,dt,fe,ue(it()),et(N,2,-2),0,Lt)}function dr(N,st,dt,Lt,ae){return at(N,st,dt,Pe,et(N,0,Lt),et(N,Lt+1,-1),Lt,ae)}var ur=H(94371),fr=H(34155),cr=typeof fr!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&({NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_ATTR)||"data-styled",gr="6.1.1",Tr=typeof window!="undefined"&&"HTMLElement"in window,Or=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof fr!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!==""?{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY:typeof fr!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!==""&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!=="false"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY),Nr={},cn=/invalid hook call/i,On=new Set,Cn=function(N,st){if(!1)var dt,Lt,ae,G},Tn=Object.freeze([]),Wn=Object.freeze({});function Sn(N,st,dt){return dt===void 0&&(dt=Wn),N.theme!==dt.theme&&N.theme||st||dt.theme}var dn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),pn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Xr=/(^-|-$)/g;function hn(N){return N.replace(pn,"-").replace(Xr,"")}var ri=/(a)(d)/gi,Ii=function(N){return String.fromCharCode(N+(N>25?39:97))};function Yr(N){var st,dt="";for(st=Math.abs(N);st>52;st=st/52|0)dt=Ii(st%52)+dt;return(Ii(st%52)+dt).replace(ri,"$1-$2")}var $n,jr=function(N,st){for(var dt=st.length;dt;)N=33*N^st.charCodeAt(--dt);return N},gi=function(N){return jr(5381,N)};function Fi(N){return Yr(gi(N)>>>0)}function da(N){return N.displayName||N.name||"Component"}function Xi(N){return typeof N=="string"&&!0}var ea=typeof Symbol=="function"&&Symbol.for,ra=ea?Symbol.for("react.memo"):60115,Zi=ea?Symbol.for("react.forward_ref"):60112,wr={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ni={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yi={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mi=(($n={})[Zi]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$n[ra]=yi,$n);function xi(N){return("type"in(st=N)&&st.type.$$typeof)===ra?yi:"$$typeof"in N?mi[N.$$typeof]:wr;var st}var bi=Object.defineProperty,Gn=Object.getOwnPropertyNames,Bn=Object.getOwnPropertySymbols,Fa=Object.getOwnPropertyDescriptor,ki=Object.getPrototypeOf,qt=Object.prototype;function mt(N,st,dt){if(typeof st!="string"){if(qt){var Lt=ki(st);Lt&&Lt!==qt&&mt(N,Lt,dt)}var ae=Gn(st);Bn&&(ae=ae.concat(Bn(st)));for(var G=xi(N),ht=xi(st),kt=0;kt<ae.length;++kt){var Nt=ae[kt];if(!(Nt in ni||dt&&dt[Nt]||ht&&Nt in ht||G&&Nt in G)){var he=Fa(st,Nt);try{bi(N,Nt,he)}catch(Ee){}}}}return N}function Zt(N){return typeof N=="function"}function xe(N){return typeof N=="object"&&"styledComponentId"in N}function Oe(N,st){return N&&st?"".concat(N," ").concat(st):N||st||""}function tr(N,st){if(N.length===0)return"";for(var dt=N[0],Lt=1;Lt<N.length;Lt++)dt+=st?st+N[Lt]:N[Lt];return dt}function lr(N){return N!==null&&typeof N=="object"&&N.constructor.name===Object.name&&!("props"in N&&N.$$typeof)}function ir(N,st,dt){if(dt===void 0&&(dt=!1),!dt&&!lr(N)&&!Array.isArray(N))return st;if(Array.isArray(st))for(var Lt=0;Lt<st.length;Lt++)N[Lt]=ir(N[Lt],st[Lt]);else if(lr(st))for(var Lt in st)N[Lt]=ir(N[Lt],st[Lt]);return N}function Er(N,st){Object.defineProperty(N,"toString",{value:st})}var nn={};function An(){for(var N=[],st=0;st<arguments.length;st++)N[st]=arguments[st];for(var dt=N[0],Lt=[],ae=1,G=N.length;ae<G;ae+=1)Lt.push(N[ae]);return Lt.forEach(function(ht){dt=dt.replace(/%[a-z]/,ht)}),dt}function on(N){for(var st=[],dt=1;dt<arguments.length;dt++)st[dt-1]=arguments[dt];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(N," for more information.").concat(st.length>0?" Args: ".concat(st.join(", ")):""))}var fn=function(){function N(st){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=st}return N.prototype.indexOfGroup=function(st){for(var dt=0,Lt=0;Lt<st;Lt++)dt+=this.groupSizes[Lt];return dt},N.prototype.insertRules=function(st,dt){if(st>=this.groupSizes.length){for(var Lt=this.groupSizes,ae=Lt.length,G=ae;st>=G;)if((G<<=1)<0)throw on(16,"".concat(st));this.groupSizes=new Uint32Array(G),this.groupSizes.set(Lt),this.length=G;for(var ht=ae;ht<G;ht++)this.groupSizes[ht]=0}for(var kt=this.indexOfGroup(st+1),Nt=(ht=0,dt.length);ht<Nt;ht++)this.tag.insertRule(kt,dt[ht])&&(this.groupSizes[st]++,kt++)},N.prototype.clearGroup=function(st){if(st<this.length){var dt=this.groupSizes[st],Lt=this.indexOfGroup(st),ae=Lt+dt;this.groupSizes[st]=0;for(var G=Lt;G<ae;G++)this.tag.deleteRule(Lt)}},N.prototype.getGroup=function(st){var dt="";if(st>=this.length||this.groupSizes[st]===0)return dt;for(var Lt=this.groupSizes[st],ae=this.indexOfGroup(st),G=ae+Lt,ht=ae;ht<G;ht++)dt+="".concat(this.tag.getRule(ht)).concat(`/*!sc*/
`);return dt},N}(),an=new Map,Dn=new Map,wi=1,Xn=function(N){if(an.has(N))return an.get(N);for(;Dn.has(wi);)wi++;var st=wi++;return an.set(N,st),Dn.set(st,N),st},ka=function(N,st){wi=st+1,an.set(N,st),Dn.set(st,N)},Da="style[".concat(cr,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),pa=new RegExp("^".concat(cr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),za=function(N,st,dt){for(var Lt,ae=dt.split(","),G=0,ht=ae.length;G<ht;G++)(Lt=ae[G])&&N.registerName(st,Lt)},Di=function(N,st){for(var dt,Lt=((dt=st.textContent)!==null&&dt!==void 0?dt:"").split(`/*!sc*/
`),ae=[],G=0,ht=Lt.length;G<ht;G++){var kt=Lt[G].trim();if(kt){var Nt=kt.match(pa);if(Nt){var he=0|parseInt(Nt[1],10),Ee=Nt[2];he!==0&&(ka(Ee,he),za(N,Ee,Nt[3]),N.getTag().insertRules(he,ae)),ae.length=0}else ae.push(kt)}}};function ga(){return H.nc}var Va=function(N){var st=document.head,dt=N||st,Lt=document.createElement("style"),ae=function(kt){var Nt=Array.from(kt.querySelectorAll("style[".concat(cr,"]")));return Nt[Nt.length-1]}(dt),G=ae!==void 0?ae.nextSibling:null;Lt.setAttribute(cr,"active"),Lt.setAttribute("data-styled-version","6.1.1");var ht=ga();return ht&&Lt.setAttribute("nonce",ht),dt.insertBefore(Lt,G),Lt},ya=function(){function N(st){this.element=Va(st),this.element.appendChild(document.createTextNode("")),this.sheet=function(dt){if(dt.sheet)return dt.sheet;for(var Lt=document.styleSheets,ae=0,G=Lt.length;ae<G;ae++){var ht=Lt[ae];if(ht.ownerNode===dt)return ht}throw on(17)}(this.element),this.length=0}return N.prototype.insertRule=function(st,dt){try{return this.sheet.insertRule(dt,st),this.length++,!0}catch(Lt){return!1}},N.prototype.deleteRule=function(st){this.sheet.deleteRule(st),this.length--},N.prototype.getRule=function(st){var dt=this.sheet.cssRules[st];return dt&&dt.cssText?dt.cssText:""},N}(),oo=function(){function N(st){this.element=Va(st),this.nodes=this.element.childNodes,this.length=0}return N.prototype.insertRule=function(st,dt){if(st<=this.length&&st>=0){var Lt=document.createTextNode(dt);return this.element.insertBefore(Lt,this.nodes[st]||null),this.length++,!0}return!1},N.prototype.deleteRule=function(st){this.element.removeChild(this.nodes[st]),this.length--},N.prototype.getRule=function(st){return st<this.length?this.nodes[st].textContent:""},N}(),Ua=function(){function N(st){this.rules=[],this.length=0}return N.prototype.insertRule=function(st,dt){return st<=this.length&&(this.rules.splice(st,0,dt),this.length++,!0)},N.prototype.deleteRule=function(st){this.rules.splice(st,1),this.length--},N.prototype.getRule=function(st){return st<this.length?this.rules[st]:""},N}(),La=Tr,ma={isServer:!Tr,useCSSOMInjection:!Or},Li=function(){function N(st,dt,Lt){st===void 0&&(st=Wn),dt===void 0&&(dt={});var ae=this;this.options=(0,Pt.pi)((0,Pt.pi)({},ma),st),this.gs=dt,this.names=new Map(Lt),this.server=!!st.isServer,!this.server&&Tr&&La&&(La=!1,function(G){for(var ht=document.querySelectorAll(Da),kt=0,Nt=ht.length;kt<Nt;kt++){var he=ht[kt];he&&he.getAttribute(cr)!=="active"&&(Di(G,he),he.parentNode&&he.parentNode.removeChild(he))}}(this)),Er(this,function(){return function(G){for(var ht=G.getTag(),kt=ht.length,Nt="",he=function(Ge){var rr=function($r){return Dn.get($r)}(Ge);if(rr===void 0)return"continue";var vr=G.names.get(rr),yr=ht.getGroup(Ge);if(vr===void 0||yr.length===0)return"continue";var Mr="".concat(cr,".g").concat(Ge,'[id="').concat(rr,'"]'),zr="";vr!==void 0&&vr.forEach(function($r){$r.length>0&&(zr+="".concat($r,","))}),Nt+="".concat(yr).concat(Mr,'{content:"').concat(zr,'"}').concat(`/*!sc*/
`)},Ee=0;Ee<kt;Ee++)he(Ee);return Nt}(ae)})}return N.registerId=function(st){return Xn(st)},N.prototype.reconstructWithOptions=function(st,dt){return dt===void 0&&(dt=!0),new N((0,Pt.pi)((0,Pt.pi)({},this.options),st),this.gs,dt&&this.names||void 0)},N.prototype.allocateGSInstance=function(st){return this.gs[st]=(this.gs[st]||0)+1},N.prototype.getTag=function(){return this.tag||(this.tag=(st=function(dt){var Lt=dt.useCSSOMInjection,ae=dt.target;return dt.isServer?new Ua(ae):Lt?new ya(ae):new oo(ae)}(this.options),new fn(st)));var st},N.prototype.hasNameForId=function(st,dt){return this.names.has(st)&&this.names.get(st).has(dt)},N.prototype.registerName=function(st,dt){if(Xn(st),this.names.has(st))this.names.get(st).add(dt);else{var Lt=new Set;Lt.add(dt),this.names.set(st,Lt)}},N.prototype.insertRules=function(st,dt,Lt){this.registerName(st,dt),this.getTag().insertRules(Xn(st),Lt)},N.prototype.clearNames=function(st){this.names.has(st)&&this.names.get(st).clear()},N.prototype.clearRules=function(st){this.getTag().clearGroup(Xn(st)),this.clearNames(st)},N.prototype.clearTag=function(){this.tag=void 0},N}(),xa=/&/g,Kn=/^\s*\/\/.*$/gm;function Si(N,st){return N.map(function(dt){return dt.type==="rule"&&(dt.value="".concat(st," ").concat(dt.value),dt.value=dt.value.replaceAll(",",",".concat(st," ")),dt.props=dt.props.map(function(Lt){return"".concat(st," ").concat(Lt)})),Array.isArray(dt.children)&&dt.type!=="@keyframes"&&(dt.children=Si(dt.children,st)),dt})}function Yn(N){var st,dt,Lt,ae=N===void 0?Wn:N,G=ae.options,ht=G===void 0?Wn:G,kt=ae.plugins,Nt=kt===void 0?Tn:kt,he=function(rr,vr,yr){return yr===dt||yr.startsWith(dt)&&yr.endsWith(dt)&&yr.replaceAll(dt,"").length>0?".".concat(st):rr},Ee=Nt.slice();Ee.push(function(rr){rr.type===ce&&rr.value.includes("&")&&(rr.props[0]=rr.props[0].replace(xa,dt).replace(Lt,he))}),ht.prefix&&Ee.push(Ze),Ee.push(Be);var Ge=function(rr,vr,yr,Mr){vr===void 0&&(vr=""),yr===void 0&&(yr=""),Mr===void 0&&(Mr="&"),st=Mr,dt=vr,Lt=new RegExp("\\".concat(dt,"\\b"),"g");var zr=rr.replace(Kn,""),$r=or(yr||vr?"".concat(yr," ").concat(vr," { ").concat(zr," }"):zr);ht.namespace&&($r=Si($r,ht.namespace));var Ur=[];return Ve($r,Ie(Ee.concat($e(function(Kr){return Ur.push(Kr)})))),Ur};return Ge.hash=Nt.length?Nt.reduce(function(rr,vr){return vr.name||on(15),jr(rr,vr.name)},5381).toString():"",Ge}var qn=new Li,Oi=Yn(),na=St.createContext({shouldForwardProp:void 0,styleSheet:qn,stylis:Oi}),ia=na.Consumer,so=St.createContext(void 0);function ji(){return(0,St.useContext)(na)}function lo(N){var st=(0,St.useState)(N.stylisPlugins),dt=st[0],Lt=st[1],ae=ji().styleSheet,G=(0,St.useMemo)(function(){var Nt=ae;return N.sheet?Nt=N.sheet:N.target&&(Nt=Nt.reconstructWithOptions({target:N.target},!1)),N.disableCSSOMInjection&&(Nt=Nt.reconstructWithOptions({useCSSOMInjection:!1})),Nt},[N.disableCSSOMInjection,N.sheet,N.target,ae]),ht=(0,St.useMemo)(function(){return Yn({options:{namespace:N.namespace,prefix:N.enableVendorPrefixes},plugins:dt})},[N.enableVendorPrefixes,N.namespace,dt]);(0,St.useEffect)(function(){j()(dt,N.stylisPlugins)||Lt(N.stylisPlugins)},[N.stylisPlugins]);var kt=(0,St.useMemo)(function(){return{shouldForwardProp:N.shouldForwardProp,styleSheet:G,stylis:ht}},[N.shouldForwardProp,G,ht]);return St.createElement(na.Provider,{value:kt},St.createElement(so.Provider,{value:ht},N.children))}var Wa=function(){function N(st,dt){var Lt=this;this.inject=function(ae,G){G===void 0&&(G=Oi);var ht=Lt.name+G.hash;ae.hasNameForId(Lt.id,ht)||ae.insertRules(Lt.id,ht,G(Lt.rules,ht,"@keyframes"))},this.name=st,this.id="sc-keyframes-".concat(st),this.rules=dt,Er(this,function(){throw on(12,String(Lt.name))})}return N.prototype.getName=function(st){return st===void 0&&(st=Oi),this.name+st.hash},N}(),Oa=function(N){return N>="A"&&N<="Z"};function Ya(N){for(var st="",dt=0;dt<N.length;dt++){var Lt=N[dt];if(dt===1&&Lt==="-"&&N[0]==="-")return N;Oa(Lt)?st+="-"+Lt.toLowerCase():st+=Lt}return st.startsWith("ms-")?"-"+st:st}var Ci=function(N){return N==null||N===!1||N===""},En=function(N){var st,dt,Lt=[];for(var ae in N){var G=N[ae];N.hasOwnProperty(ae)&&!Ci(G)&&(Array.isArray(G)&&G.isCss||Zt(G)?Lt.push("".concat(Ya(ae),":"),G,";"):lr(G)?Lt.push.apply(Lt,(0,Pt.ev)((0,Pt.ev)(["".concat(ae," {")],En(G),!1),["}"],!1)):Lt.push("".concat(Ya(ae),": ").concat((st=ae,(dt=G)==null||typeof dt=="boolean"||dt===""?"":typeof dt!="number"||dt===0||st in ur.Z||st.startsWith("--")?String(dt).trim():"".concat(dt,"px")),";")))}return Lt};function sn(N,st,dt,Lt){if(Ci(N))return[];if(xe(N))return[".".concat(N.styledComponentId)];if(Zt(N)){if(!Zt(G=N)||G.prototype&&G.prototype.isReactComponent||!st)return[N];var ae=N(st);return sn(ae,st,dt,Lt)}var G;return N instanceof Wa?dt?(N.inject(dt,Lt),[N.getName(Lt)]):[N]:lr(N)?En(N):Array.isArray(N)?Array.prototype.concat.apply(Tn,N.map(function(ht){return sn(ht,st,dt,Lt)})):[N.toString()]}function Jn(N){for(var st=0;st<N.length;st+=1){var dt=N[st];if(Zt(dt)&&!xe(dt))return!1}return!0}var ba=gi("6.1.1"),Bi=function(){function N(st,dt,Lt){this.rules=st,this.staticRulesId="",this.isStatic=(Lt===void 0||Lt.isStatic)&&Jn(st),this.componentId=dt,this.baseHash=jr(ba,dt),this.baseStyle=Lt,Li.registerId(dt)}return N.prototype.generateAndInjectStyles=function(st,dt,Lt){var ae=this.baseStyle?this.baseStyle.generateAndInjectStyles(st,dt,Lt):"";if(this.isStatic&&!Lt.hash)if(this.staticRulesId&&dt.hasNameForId(this.componentId,this.staticRulesId))ae=Oe(ae,this.staticRulesId);else{var G=tr(sn(this.rules,st,dt,Lt)),ht=Yr(jr(this.baseHash,G)>>>0);if(!dt.hasNameForId(this.componentId,ht)){var kt=Lt(G,".".concat(ht),void 0,this.componentId);dt.insertRules(this.componentId,ht,kt)}ae=Oe(ae,ht),this.staticRulesId=ht}else{for(var Nt=jr(this.baseHash,Lt.hash),he="",Ee=0;Ee<this.rules.length;Ee++){var Ge=this.rules[Ee];if(typeof Ge=="string")he+=Ge;else if(Ge){var rr=tr(sn(Ge,st,dt,Lt));Nt=jr(Nt,rr+Ee),he+=rr}}if(he){var vr=Yr(Nt>>>0);dt.hasNameForId(this.componentId,vr)||dt.insertRules(this.componentId,vr,Lt(he,".".concat(vr),void 0,this.componentId)),ae=Oe(ae,vr)}}return ae},N}(),Rn=St.createContext(void 0),us=Rn.Consumer;function uo(){var N=c(Rn);if(!N)throw on(18);return N}function P(N){var st=o.useContext(Rn),dt=i(function(){return function(Lt,ae){if(!Lt)throw on(14);if(Zt(Lt)){var G=Lt(ae);return G}if(Array.isArray(Lt)||typeof Lt!="object")throw on(8);return ae?t(t({},ae),Lt):Lt}(N.theme,st)},[N.theme,st]);return N.children?o.createElement(Rn.Provider,{value:dt},N.children):null}var b={},S=new Set;function E(N,st,dt){var Lt=xe(N),ae=N,G=!Xi(N),ht=st.attrs,kt=ht===void 0?Tn:ht,Nt=st.componentId,he=Nt===void 0?function(Br,Rr){var Wr=typeof Br!="string"?"sc":hn(Br);b[Wr]=(b[Wr]||0)+1;var kr="".concat(Wr,"-").concat(Fi("6.1.1"+Wr+b[Wr]));return Rr?"".concat(Rr,"-").concat(kr):kr}(st.displayName,st.parentComponentId):Nt,Ee=st.displayName,Ge=Ee===void 0?function(Br){return Xi(Br)?"styled.".concat(Br):"Styled(".concat(da(Br),")")}(N):Ee,rr=st.displayName&&st.componentId?"".concat(hn(st.displayName),"-").concat(st.componentId):st.componentId||he,vr=Lt&&ae.attrs?ae.attrs.concat(kt).filter(Boolean):kt,yr=st.shouldForwardProp;if(Lt&&ae.shouldForwardProp){var Mr=ae.shouldForwardProp;if(st.shouldForwardProp){var zr=st.shouldForwardProp;yr=function(Br,Rr){return Mr(Br,Rr)&&zr(Br,Rr)}}else yr=Mr}var $r=new Bi(dt,rr,Lt?ae.componentStyle:void 0);function Ur(Br,Rr){return function(Wr,kr,Pn){var ii=Wr.attrs,fi=Wr.componentStyle,vi=Wr.defaultProps,Ri=Wr.foldedComponentIds,Mi=Wr.styledComponentId,ai=Wr.target,$i=St.useContext(Rn),Do=ji(),wa=Wr.shouldForwardProp||Do.shouldForwardProp,oi=function(Sa,aa,si){for(var Ni,zi=(0,Pt.pi)((0,Pt.pi)({},aa),{className:void 0,theme:si}),ho=0;ho<Sa.length;ho+=1){var Ga=Zt(Ni=Sa[ho])?Ni(zi):Ni;for(var Vi in Ga)zi[Vi]=Vi==="className"?Oe(zi[Vi],Ga[Vi]):Vi==="style"?(0,Pt.pi)((0,Pt.pi)({},zi[Vi]),Ga[Vi]):Ga[Vi]}return aa.className&&(zi.className=Oe(zi.className,aa.className)),zi}(ii,kr,Sn(kr,$i,vi)||Wn),di=oi.as||ai,Hn={};for(var In in oi)oi[In]===void 0||In[0]==="$"||In==="as"||In==="theme"||(In==="forwardedAs"?Hn.as=oi.forwardedAs:wa&&!wa(In,di)||(Hn[In]=oi[In]));var co=function(Sa,aa){var si=ji(),Ni=Sa.generateAndInjectStyles(aa,si.styleSheet,si.stylis);return Ni}(fi,oi),Ha=Oe(Ri,Mi);return co&&(Ha+=" "+co),oi.className&&(Ha+=" "+oi.className),Hn[Xi(di)&&!dn.has(di)?"class":"className"]=Ha,Hn.ref=Pn,(0,St.createElement)(di,Hn)}(Kr,Br,Rr)}Ur.displayName=Ge;var Kr=St.forwardRef(Ur);return Kr.attrs=vr,Kr.componentStyle=$r,Kr.displayName=Ge,Kr.shouldForwardProp=yr,Kr.foldedComponentIds=Lt?Oe(ae.foldedComponentIds,ae.styledComponentId):"",Kr.styledComponentId=rr,Kr.target=Lt?ae.target:N,Object.defineProperty(Kr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Br){this._foldedDefaultProps=Lt?function(Rr){for(var Wr=[],kr=1;kr<arguments.length;kr++)Wr[kr-1]=arguments[kr];for(var Pn=0,ii=Wr;Pn<ii.length;Pn++)ir(Rr,ii[Pn],!0);return Rr}({},ae.defaultProps,Br):Br}}),Er(Kr,function(){return".".concat(Kr.styledComponentId)}),G&&mt(Kr,N,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Kr}function A(N,st){for(var dt=[N[0]],Lt=0,ae=st.length;Lt<ae;Lt+=1)dt.push(st[Lt],N[Lt+1]);return dt}var O=function(N){return Object.assign(N,{isCss:!0})};function R(N){for(var st=[],dt=1;dt<arguments.length;dt++)st[dt-1]=arguments[dt];if(Zt(N)||lr(N)){var Lt=N;return O(sn(A(Tn,(0,Pt.ev)([Lt],st,!0))))}var ae=N;return st.length===0&&ae.length===1&&typeof ae[0]=="string"?sn(ae):O(sn(A(ae,st)))}function V(N,st,dt){if(dt===void 0&&(dt=Wn),!st)throw on(1,st);var Lt=function(ae){for(var G=[],ht=1;ht<arguments.length;ht++)G[ht-1]=arguments[ht];return N(st,dt,R.apply(void 0,(0,Pt.ev)([ae],G,!1)))};return Lt.attrs=function(ae){return V(N,st,(0,Pt.pi)((0,Pt.pi)({},dt),{attrs:Array.prototype.concat(dt.attrs,ae).filter(Boolean)}))},Lt.withConfig=function(ae){return V(N,st,(0,Pt.pi)((0,Pt.pi)({},dt),ae))},Lt}var $=function(N){return V(E,N)},Q=$;dn.forEach(function(N){Q[N]=$(N)});var ot=function(){function N(st,dt){this.rules=st,this.componentId=dt,this.isStatic=Jn(st),Li.registerId(this.componentId+1)}return N.prototype.createStyles=function(st,dt,Lt,ae){var G=ae(tr(sn(this.rules,dt,Lt,ae)),""),ht=this.componentId+st;Lt.insertRules(ht,ht,G)},N.prototype.removeStyles=function(st,dt){dt.clearRules(this.componentId+st)},N.prototype.renderStyles=function(st,dt,Lt,ae){st>2&&Li.registerId(this.componentId+st),this.removeStyles(st,Lt),this.createStyles(st,dt,Lt,ae)},N}();function xt(N){for(var st=[],dt=1;dt<arguments.length;dt++)st[dt-1]=arguments[dt];var Lt=R.apply(void 0,e([N],st,!1)),ae="sc-global-".concat(Fi(JSON.stringify(Lt))),G=new ot(Lt,ae),ht=function(Nt){var he=ji(),Ee=o.useContext(Rn),Ge=o.useRef(he.styleSheet.allocateGSInstance(ae)).current;return he.styleSheet.server&&kt(Ge,Nt,he.styleSheet,Ee,he.stylis),o.useLayoutEffect(function(){if(!he.styleSheet.server)return kt(Ge,Nt,he.styleSheet,Ee,he.stylis),function(){return G.removeStyles(Ge,he.styleSheet)}},[Ge,Nt,he.styleSheet,Ee,he.stylis]),null};function kt(Nt,he,Ee,Ge,rr){if(G.isStatic)G.renderStyles(Nt,Nr,Ee,rr);else{var vr=t(t({},he),{theme:Sn(he,Ge,ht.defaultProps)});G.renderStyles(Nt,vr,Ee,rr)}}return o.memo(ht)}function Ft(N){for(var st=[],dt=1;dt<arguments.length;dt++)st[dt-1]=arguments[dt];var Lt=tr(R.apply(void 0,e([N],st,!1))),ae=Fi(Lt);return new Wa(ae,Lt)}function zt(N){var st=o.forwardRef(function(dt,Lt){var ae=Sn(dt,o.useContext(Rn),N.defaultProps);return o.createElement(N,t({},dt,{theme:ae,ref:Lt}))});return st.displayName="WithTheme(".concat(da(N),")"),mt(st,N)}var ne=function(){function N(){var st=this;this._emitSheetCSS=function(){var dt=st.instance.toString(),Lt=ga(),ae=tr([Lt&&'nonce="'.concat(Lt,'"'),"".concat(cr,'="true"'),"".concat("data-styled-version",'="').concat("6.1.1",'"')].filter(Boolean)," ");return"<style ".concat(ae,">").concat(dt,"</style>")},this.getStyleTags=function(){if(st.sealed)throw on(2);return st._emitSheetCSS()},this.getStyleElement=function(){var dt;if(st.sealed)throw on(2);var Lt=((dt={})[cr]="",dt["data-styled-version"]="6.1.1",dt.dangerouslySetInnerHTML={__html:st.instance.toString()},dt),ae=ga();return ae&&(Lt.nonce=ae),[St.createElement("style",(0,Pt.pi)({},Lt,{key:"sc-0-0"}))]},this.seal=function(){st.sealed=!0},this.instance=new Li({isServer:!0}),this.sealed=!1}return N.prototype.collectStyles=function(st){if(this.sealed)throw on(2);return St.createElement(lo,{sheet:this.instance},st)},N.prototype.interleaveWithNodeStream=function(st){throw on(3)},N}(),se={StyleSheet:Li,mainSheet:qn},we="__sc-".concat(cr,"__")},84072:function(sr,Ue,H){"use strict";sr.exports=H(70696)},32180:function(sr,Ue,H){sr.exports=H(84072),Object.defineProperty(sr.exports,"__esModule",{value:!0})},56645:function(sr,Ue){(function(H,Pt){Pt(Ue)})(this,function(H){"use strict";function Pt(Ht,Qt){return St(Ht)||q(Ht,Qt)||j()}function St(Ht){if(Array.isArray(Ht))return Ht}function q(Ht,Qt){var ge=[],Ot=!0,oe=!1,ie=void 0;try{for(var et=Ht[Symbol.iterator](),vt;!(Ot=(vt=et.next()).done)&&(ge.push(vt.value),!(Qt&&ge.length===Qt));Ot=!0);}catch(me){oe=!0,ie=me}finally{try{!Ot&&et.return!=null&&et.return()}finally{if(oe)throw ie}}return ge}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function re(Ht,Qt,ge,Ot){Ht=Ht.filter(function(It,ft){var Jt=Qt(It,ft),ee=ge(It,ft);return Jt!=null&&isFinite(Jt)&&ee!=null&&isFinite(ee)}),Ot&&Ht.sort(function(It,ft){return Qt(It)-Qt(ft)});for(var oe=Ht.length,ie=new Float64Array(oe),et=new Float64Array(oe),vt=0,me=0,Ae,ye,be,ut=0;ut<oe;)be=Ht[ut],ie[ut]=Ae=+Qt(be,ut,Ht),et[ut]=ye=+ge(be,ut,Ht),++ut,vt+=(Ae-vt)/ut,me+=(ye-me)/ut;for(var Tt=0;Tt<oe;++Tt)ie[Tt]-=vt,et[Tt]-=me;return[ie,et,vt,me]}function le(Ht,Qt,ge,Ot){for(var oe=0,ie=0,et=Ht.length;ie<et;ie++){var vt=Ht[ie],me=+Qt(vt,ie,Ht),Ae=+ge(vt,ie,Ht);me!=null&&isFinite(me)&&Ae!=null&&isFinite(Ae)&&Ot(me,Ae,oe++)}}function jt(Ht,Qt,ge,Ot,oe){var ie=0,et=0;return le(Ht,Qt,ge,function(vt,me){var Ae=me-oe(vt),ye=me-Ot;ie+=Ae*Ae,et+=ye*ye}),1-ie/et}function fe(Ht){return Math.atan2(Ht[1][1]-Ht[0][1],Ht[1][0]-Ht[0][0])*180/Math.PI}function ce(Ht){return[(Ht[0][0]+Ht[1][0])/2,(Ht[0][1]+Ht[1][1])/2]}function Pe(Ht,Qt,ge){for(var Ot=Math.log(Qt-Ht)*Math.LOG10E+1|0,oe=1*Math.pow(10,-Ot/2-1),ie=1e4,et=[me(Ht),me(Qt)],vt=0;Ae(et)&&vt<ie;);return et;function me(ye){return[ye,ge(ye)]}function Ae(ye){vt++;for(var be=ye.length,ut=!1,Tt=0;Tt<be-1;Tt++){var It=ye[Tt],ft=ye[Tt+1],Jt=ce([It,ft]),ee=me(Jt[0]),at=fe([It,Jt]),K=fe([It,ee]),W=Math.abs(at-K);W>oe&&(ye.splice(Tt+1,0,ee),ut=!0)}return ut}}function de(Ht,Qt,ge,Ot){var oe=Ot-Ht*Ht,ie=Math.abs(oe)<1e-24?0:(ge-Ht*Qt)/oe,et=Qt-ie*Ht;return[et,ie]}function Te(){var Ht=function(ie){return ie[0]},Qt=function(ie){return ie[1]},ge;function Ot(oe){var ie=0,et=0,vt=0,me=0,Ae=0,ye=0,be=ge?+ge[0]:1/0,ut=ge?+ge[1]:-1/0;le(oe,Ht,Qt,function(K,W){var it=Math.log(W),tt=K*W;++ie,et+=(W-et)/ie,me+=(tt-me)/ie,ye+=(K*tt-ye)/ie,vt+=(W*it-vt)/ie,Ae+=(tt*it-Ae)/ie,ge||(K<be&&(be=K),K>ut&&(ut=K))});var Tt=de(me/et,vt/et,Ae/et,ye/et),It=Pt(Tt,2),ft=It[0],Jt=It[1];ft=Math.exp(ft);var ee=function(W){return ft*Math.exp(Jt*W)},at=Pe(be,ut,ee);return at.a=ft,at.b=Jt,at.predict=ee,at.rSquared=jt(oe,Ht,Qt,et,ee),at}return Ot.domain=function(oe){return arguments.length?(ge=oe,Ot):ge},Ot.x=function(oe){return arguments.length?(Ht=oe,Ot):Ht},Ot.y=function(oe){return arguments.length?(Qt=oe,Ot):Qt},Ot}function I(){var Ht=function(ie){return ie[0]},Qt=function(ie){return ie[1]},ge;function Ot(oe){var ie=0,et=0,vt=0,me=0,Ae=0,ye=ge?+ge[0]:1/0,be=ge?+ge[1]:-1/0;le(oe,Ht,Qt,function(at,K){++ie,et+=(at-et)/ie,vt+=(K-vt)/ie,me+=(at*K-me)/ie,Ae+=(at*at-Ae)/ie,ge||(at<ye&&(ye=at),at>be&&(be=at))});var ut=de(et,vt,me,Ae),Tt=Pt(ut,2),It=Tt[0],ft=Tt[1],Jt=function(K){return ft*K+It},ee=[[ye,Jt(ye)],[be,Jt(be)]];return ee.a=ft,ee.b=It,ee.predict=Jt,ee.rSquared=jt(oe,Ht,Qt,vt,Jt),ee}return Ot.domain=function(oe){return arguments.length?(ge=oe,Ot):ge},Ot.x=function(oe){return arguments.length?(Ht=oe,Ot):Ht},Ot.y=function(oe){return arguments.length?(Qt=oe,Ot):Qt},Ot}function m(Ht){Ht.sort(function(ge,Ot){return ge-Ot});var Qt=Ht.length/2;return Qt%1===0?(Ht[Qt-1]+Ht[Qt])/2:Ht[Math.floor(Qt)]}var Bt=2,Et=1e-12;function Vt(){var Ht=function(ie){return ie[0]},Qt=function(ie){return ie[1]},ge=.3;function Ot(oe){for(var ie=re(oe,Ht,Qt,!0),et=Pt(ie,4),vt=et[0],me=et[1],Ae=et[2],ye=et[3],be=vt.length,ut=Math.max(2,~~(ge*be)),Tt=new Float64Array(be),It=new Float64Array(be),ft=new Float64Array(be).fill(1),Jt=-1;++Jt<=Bt;){for(var ee=[0,ut-1],at=0;at<be;++at){for(var K=vt[at],W=ee[0],it=ee[1],tt=K-vt[W]>vt[it]-K?W:it,yt=0,gt=0,Wt=0,Kt=0,Ce=0,He=1/Math.abs(vt[tt]-K||1),We=W;We<=it;++We){var Je=vt[We],ke=me[We],Fe=Rt(Math.abs(K-Je)*He)*ft[We],At=Je*Fe;yt+=Fe,gt+=At,Wt+=ke*Fe,Kt+=ke*At,Ce+=Je*At}var Xt=de(gt/yt,Wt/yt,Kt/yt,Ce/yt),$t=Pt(Xt,2),pe=$t[0],_e=$t[1];Tt[at]=pe+_e*K,It[at]=Math.abs(me[at]-Tt[at]),Ct(vt,at+1,ee)}if(Jt===Bt)break;var Ve=m(It);if(Math.abs(Ve)<Et)break;for(var Be=0,Le,Ie;Be<be;++Be)Le=It[Be]/(6*Ve),ft[Be]=Le>=1?Et:(Ie=1-Le*Le)*Ie}return lt(vt,Tt,Ae,ye)}return Ot.bandwidth=function(oe){return arguments.length?(ge=oe,Ot):ge},Ot.x=function(oe){return arguments.length?(Ht=oe,Ot):Ht},Ot.y=function(oe){return arguments.length?(Qt=oe,Ot):Qt},Ot}function Rt(Ht){return(Ht=1-Ht*Ht*Ht)*Ht*Ht}function Ct(Ht,Qt,ge){var Ot=Ht[Qt],oe=ge[0],ie=ge[1]+1;if(!(ie>=Ht.length))for(;Qt>oe&&Ht[ie]-Ot<=Ot-Ht[oe];)ge[0]=++oe,ge[1]=ie,++ie}function lt(Ht,Qt,ge,Ot){for(var oe=Ht.length,ie=[],et=0,vt=0,me=[],Ae;et<oe;++et)Ae=Ht[et]+ge,me[0]===Ae?me[1]+=(Qt[et]-me[1])/++vt:(vt=0,me[1]+=Ot,me=[Ae,Qt[et]],ie.push(me));return me[1]+=Ot,ie}function J(){var Ht=function(et){return et[0]},Qt=function(et){return et[1]},ge=Math.E,Ot;function oe(ie){var et=0,vt=0,me=0,Ae=0,ye=0,be=Ot?+Ot[0]:1/0,ut=Ot?+Ot[1]:-1/0,Tt=Math.log(ge);le(ie,Ht,Qt,function(W,it){var tt=Math.log(W)/Tt;++et,vt+=(tt-vt)/et,me+=(it-me)/et,Ae+=(tt*it-Ae)/et,ye+=(tt*tt-ye)/et,Ot||(W<be&&(be=W),W>ut&&(ut=W))});var It=de(vt,me,Ae,ye),ft=Pt(It,2),Jt=ft[0],ee=ft[1],at=function(it){return ee*Math.log(it)/Tt+Jt},K=Pe(be,ut,at);return K.a=ee,K.b=Jt,K.predict=at,K.rSquared=jt(ie,Ht,Qt,me,at),K}return oe.domain=function(ie){return arguments.length?(Ot=ie,oe):Ot},oe.x=function(ie){return arguments.length?(Ht=ie,oe):Ht},oe.y=function(ie){return arguments.length?(Qt=ie,oe):Qt},oe.base=function(ie){return arguments.length?(ge=ie,oe):ge},oe}function Z(){var Ht=function(ie){return ie[0]},Qt=function(ie){return ie[1]},ge;function Ot(oe){var ie=re(oe,Ht,Qt),et=Pt(ie,4),vt=et[0],me=et[1],Ae=et[2],ye=et[3],be=vt.length,ut=0,Tt=0,It=0,ft=0,Jt=0,ee,at,K,W;for(ee=0;ee<be;)at=vt[ee],K=me[ee++],W=at*at,ut+=(W-ut)/ee,Tt+=(W*at-Tt)/ee,It+=(W*W-It)/ee,ft+=(at*K-ft)/ee,Jt+=(W*K-Jt)/ee;var it=0,tt=0,yt=ge?+ge[0]:1/0,gt=ge?+ge[1]:-1/0;le(oe,Ht,Qt,function(Fe,At){tt++,it+=(At-it)/tt,ge||(Fe<yt&&(yt=Fe),Fe>gt&&(gt=Fe))});var Wt=It-ut*ut,Kt=ut*Wt-Tt*Tt,Ce=(Jt*ut-ft*Tt)/Kt,He=(ft*Wt-Jt*Tt)/Kt,We=-Ce*ut,Je=function(At){return At=At-Ae,Ce*At*At+He*At+We+ye},ke=Pe(yt,gt,Je);return ke.a=Ce,ke.b=He-2*Ce*Ae,ke.c=We-He*Ae+Ce*Ae*Ae+ye,ke.predict=Je,ke.rSquared=jt(oe,Ht,Qt,it,Je),ke}return Ot.domain=function(oe){return arguments.length?(ge=oe,Ot):ge},Ot.x=function(oe){return arguments.length?(Ht=oe,Ot):Ht},Ot.y=function(oe){return arguments.length?(Qt=oe,Ot):Qt},Ot}function wt(){var Ht=function(et){return et[0]},Qt=function(et){return et[1]},ge=3,Ot;function oe(ie){if(ge===1){var et=I().x(Ht).y(Qt).domain(Ot)(ie);return et.coefficients=[et.b,et.a],delete et.a,delete et.b,et}if(ge===2){var vt=Z().x(Ht).y(Qt).domain(Ot)(ie);return vt.coefficients=[vt.c,vt.b,vt.a],delete vt.a,delete vt.b,delete vt.c,vt}var me=re(ie,Ht,Qt),Ae=Pt(me,4),ye=Ae[0],be=Ae[1],ut=Ae[2],Tt=Ae[3],It=ye.length,ft=[],Jt=[],ee=ge+1,at=0,K=0,W=Ot?+Ot[0]:1/0,it=Ot?+Ot[1]:-1/0;le(ie,Ht,Qt,function(Je,ke){++K,at+=(ke-at)/K,Ot||(Je<W&&(W=Je),Je>it&&(it=Je))});var tt,yt,gt,Wt,Kt;for(tt=0;tt<ee;++tt){for(gt=0,Wt=0;gt<It;++gt)Wt+=Math.pow(ye[gt],tt)*be[gt];for(ft.push(Wt),Kt=new Float64Array(ee),yt=0;yt<ee;++yt){for(gt=0,Wt=0;gt<It;++gt)Wt+=Math.pow(ye[gt],tt+yt);Kt[yt]=Wt}Jt.push(Kt)}Jt.push(ft);var Ce=ue(Jt),He=function(ke){ke-=ut;var Fe=Tt+Ce[0]+Ce[1]*ke+Ce[2]*ke*ke;for(tt=3;tt<ee;++tt)Fe+=Ce[tt]*Math.pow(ke,tt);return Fe},We=Pe(W,it,He);return We.coefficients=ct(ee,Ce,-ut,Tt),We.predict=He,We.rSquared=jt(ie,Ht,Qt,at,He),We}return oe.domain=function(ie){return arguments.length?(Ot=ie,oe):Ot},oe.x=function(ie){return arguments.length?(Ht=ie,oe):Ht},oe.y=function(ie){return arguments.length?(Qt=ie,oe):Qt},oe.order=function(ie){return arguments.length?(ge=ie,oe):ge},oe}function ct(Ht,Qt,ge,Ot){var oe=Array(Ht),ie,et,vt,me;for(ie=0;ie<Ht;++ie)oe[ie]=0;for(ie=Ht-1;ie>=0;--ie)for(vt=Qt[ie],me=1,oe[ie]+=vt,et=1;et<=ie;++et)me*=(ie+1-et)/et,oe[ie-et]+=vt*Math.pow(ge,et)*me;return oe[0]+=Ot,oe}function ue(Ht){var Qt=Ht.length-1,ge=[],Ot,oe,ie,et,vt;for(Ot=0;Ot<Qt;++Ot){for(et=Ot,oe=Ot+1;oe<Qt;++oe)Math.abs(Ht[Ot][oe])>Math.abs(Ht[Ot][et])&&(et=oe);for(ie=Ot;ie<Qt+1;++ie)vt=Ht[ie][Ot],Ht[ie][Ot]=Ht[ie][et],Ht[ie][et]=vt;for(oe=Ot+1;oe<Qt;++oe)for(ie=Qt;ie>=Ot;ie--)Ht[ie][oe]-=Ht[ie][Ot]*Ht[Ot][oe]/Ht[Ot][Ot]}for(oe=Qt-1;oe>=0;--oe){for(vt=0,ie=oe+1;ie<Qt;++ie)vt+=Ht[ie][oe]*ge[ie];ge[oe]=(Ht[Qt][oe]-vt)/Ht[oe][oe]}return ge}function ve(){var Ht=function(ie){return ie[0]},Qt=function(ie){return ie[1]},ge;function Ot(oe){var ie=0,et=0,vt=0,me=0,Ae=0,ye=0,be=ge?+ge[0]:1/0,ut=ge?+ge[1]:-1/0;le(oe,Ht,Qt,function(K,W){var it=Math.log(K),tt=Math.log(W);++ie,et+=(it-et)/ie,vt+=(tt-vt)/ie,me+=(it*tt-me)/ie,Ae+=(it*it-Ae)/ie,ye+=(W-ye)/ie,ge||(K<be&&(be=K),K>ut&&(ut=K))});var Tt=de(et,vt,me,Ae),It=Pt(Tt,2),ft=It[0],Jt=It[1];ft=Math.exp(ft);var ee=function(W){return ft*Math.pow(W,Jt)},at=Pe(be,ut,ee);return at.a=ft,at.b=Jt,at.predict=ee,at.rSquared=jt(oe,Ht,Qt,ye,ee),at}return Ot.domain=function(oe){return arguments.length?(ge=oe,Ot):ge},Ot.x=function(oe){return arguments.length?(Ht=oe,Ot):Ht},Ot.y=function(oe){return arguments.length?(Qt=oe,Ot):Qt},Ot}H.regressionExp=Te,H.regressionLinear=I,H.regressionLoess=Vt,H.regressionLog=J,H.regressionPoly=wt,H.regressionPow=ve,H.regressionQuad=Z,Object.defineProperty(H,"__esModule",{value:!0})})},43631:function(sr,Ue,H){"use strict";H.d(Ue,{qY:function(){return I}});var Pt=H(34155),St=function(lt,J,Z){if(Z||arguments.length===2)for(var wt=0,ct=J.length,ue;wt<ct;wt++)(ue||!(wt in J))&&(ue||(ue=Array.prototype.slice.call(J,0,wt)),ue[wt]=J[wt]);return lt.concat(ue||Array.prototype.slice.call(J))},q=function(){function lt(J,Z,wt){this.name=J,this.version=Z,this.os=wt,this.type="browser"}return lt}(),j=function(){function lt(J){this.version=J,this.type="node",this.name="node",this.os=Pt.platform}return lt}(),re=function(){function lt(J,Z,wt,ct){this.name=J,this.version=Z,this.os=wt,this.bot=ct,this.type="bot-device"}return lt}(),le=function(){function lt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return lt}(),jt=function(){function lt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return lt}(),fe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ce=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Pe=3,de=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fe]],Te=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function I(lt){return lt?Et(lt):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new jt:typeof navigator!="undefined"?Et(navigator.userAgent):Rt()}function m(lt){return lt!==""&&de.reduce(function(J,Z){var wt=Z[0],ct=Z[1];if(J)return J;var ue=ct.exec(lt);return!!ue&&[wt,ue]},!1)}function Bt(lt){var J=m(lt);return J?J[0]:null}function Et(lt){var J=m(lt);if(!J)return null;var Z=J[0],wt=J[1];if(Z==="searchbot")return new le;var ct=wt[1]&&wt[1].split(".").join("_").split("_").slice(0,3);ct?ct.length<Pe&&(ct=St(St([],ct,!0),Ct(Pe-ct.length),!0)):ct=[];var ue=ct.join("."),ve=Vt(lt),Ht=ce.exec(lt);return Ht&&Ht[1]?new re(Z,ue,ve,Ht[1]):new q(Z,ue,ve)}function Vt(lt){for(var J=0,Z=Te.length;J<Z;J++){var wt=Te[J],ct=wt[0],ue=wt[1],ve=ue.exec(lt);if(ve)return ct}return null}function Rt(){var lt=typeof Pt!="undefined"&&Pt.version;return lt?new j(Pt.version.slice(1)):null}function Ct(lt){for(var J=[],Z=0;Z<lt;Z++)J.push("0");return J}},87026:function(sr,Ue){(function(H,Pt){Pt(Ue)})(this,function(H){"use strict";function Pt(I,m,Bt,Et){Et=Et||{};var Vt=Et.maxIterations||100,Rt=Et.tolerance||1e-10,Ct=I(m),lt=I(Bt),J=Bt-m;if(Ct*lt>0)throw"Initial bisect points must have opposite signs";if(Ct===0)return m;if(lt===0)return Bt;for(var Z=0;Z<Vt;++Z){J/=2;var wt=m+J,ct=I(wt);if(ct*Ct>=0&&(m=wt),Math.abs(J)<Rt||ct===0)return wt}return m+J}function St(I){for(var m=new Array(I),Bt=0;Bt<I;++Bt)m[Bt]=0;return m}function q(I,m){return St(I).map(function(){return St(m)})}function j(I,m){for(var Bt=0,Et=0;Et<I.length;++Et)Bt+=I[Et]*m[Et];return Bt}function re(I){return Math.sqrt(j(I,I))}function le(I,m,Bt){for(var Et=0;Et<m.length;++Et)I[Et]=m[Et]*Bt}function jt(I,m,Bt,Et,Vt){for(var Rt=0;Rt<I.length;++Rt)I[Rt]=m*Bt[Rt]+Et*Vt[Rt]}function fe(I,m,Bt){Bt=Bt||{};var Et=Bt.maxIterations||m.length*200,Vt=Bt.nonZeroDelta||1.05,Rt=Bt.zeroDelta||.001,Ct=Bt.minErrorDelta||1e-6,lt=Bt.minErrorDelta||1e-5,J=Bt.rho!==void 0?Bt.rho:1,Z=Bt.chi!==void 0?Bt.chi:2,wt=Bt.psi!==void 0?Bt.psi:-.5,ct=Bt.sigma!==void 0?Bt.sigma:.5,ue,ve=m.length,Ht=new Array(ve+1);Ht[0]=m,Ht[0].fx=I(m),Ht[0].id=0;for(var Qt=0;Qt<ve;++Qt){var ge=m.slice();ge[Qt]=ge[Qt]?ge[Qt]*Vt:Rt,Ht[Qt+1]=ge,Ht[Qt+1].fx=I(ge),Ht[Qt+1].id=Qt+1}function Ot(It){for(var ft=0;ft<It.length;ft++)Ht[ve][ft]=It[ft];Ht[ve].fx=It.fx}for(var oe=function(It,ft){return It.fx-ft.fx},ie=m.slice(),et=m.slice(),vt=m.slice(),me=m.slice(),Ae=0;Ae<Et;++Ae){if(Ht.sort(oe),Bt.history){var ye=Ht.map(function(It){var ft=It.slice();return ft.fx=It.fx,ft.id=It.id,ft});ye.sort(function(It,ft){return It.id-ft.id}),Bt.history.push({x:Ht[0].slice(),fx:Ht[0].fx,simplex:ye})}for(ue=0,Qt=0;Qt<ve;++Qt)ue=Math.max(ue,Math.abs(Ht[0][Qt]-Ht[1][Qt]));if(Math.abs(Ht[0].fx-Ht[ve].fx)<Ct&&ue<lt)break;for(Qt=0;Qt<ve;++Qt){ie[Qt]=0;for(var be=0;be<ve;++be)ie[Qt]+=Ht[be][Qt];ie[Qt]/=ve}var ut=Ht[ve];if(jt(et,1+J,ie,-J,ut),et.fx=I(et),et.fx<Ht[0].fx)jt(me,1+Z,ie,-Z,ut),me.fx=I(me),me.fx<et.fx?Ot(me):Ot(et);else if(et.fx>=Ht[ve-1].fx){var Tt=!1;if(et.fx>ut.fx?(jt(vt,1+wt,ie,-wt,ut),vt.fx=I(vt),vt.fx<ut.fx?Ot(vt):Tt=!0):(jt(vt,1-wt*J,ie,wt*J,ut),vt.fx=I(vt),vt.fx<et.fx?Ot(vt):Tt=!0),Tt){if(ct>=1)break;for(Qt=1;Qt<Ht.length;++Qt)jt(Ht[Qt],1-ct,Ht[0],ct,Ht[Qt]),Ht[Qt].fx=I(Ht[Qt])}}else Ot(et)}return Ht.sort(oe),{fx:Ht[0].fx,x:Ht[0]}}function ce(I,m,Bt,Et,Vt,Rt,Ct){var lt=Bt.fx,J=j(Bt.fxprime,m),Z=lt,wt=lt,ct=J,ue=0;Vt=Vt||1,Rt=Rt||1e-6,Ct=Ct||.1;function ve(Qt,ge,Ot){for(var oe=0;oe<16;++oe)if(Vt=(Qt+ge)/2,jt(Et.x,1,Bt.x,Vt,m),Z=Et.fx=I(Et.x,Et.fxprime),ct=j(Et.fxprime,m),Z>lt+Rt*Vt*J||Z>=Ot)ge=Vt;else{if(Math.abs(ct)<=-Ct*J)return Vt;ct*(ge-Qt)>=0&&(ge=Qt),Qt=Vt,Ot=Z}return 0}for(var Ht=0;Ht<10;++Ht){if(jt(Et.x,1,Bt.x,Vt,m),Z=Et.fx=I(Et.x,Et.fxprime),ct=j(Et.fxprime,m),Z>lt+Rt*Vt*J||Ht&&Z>=wt)return ve(ue,Vt,wt);if(Math.abs(ct)<=-Ct*J)return Vt;if(ct>=0)return ve(Vt,ue,Z);wt=Z,ue=Vt,Vt*=2}return Vt}function Pe(I,m,Bt){var Et={x:m.slice(),fx:0,fxprime:m.slice()},Vt={x:m.slice(),fx:0,fxprime:m.slice()},Rt=m.slice(),Ct,lt,J=1,Z;Bt=Bt||{},Z=Bt.maxIterations||m.length*20,Et.fx=I(Et.x,Et.fxprime),Ct=Et.fxprime.slice(),le(Ct,Et.fxprime,-1);for(var wt=0;wt<Z;++wt){if(J=ce(I,Ct,Et,Vt,J),Bt.history&&Bt.history.push({x:Et.x.slice(),fx:Et.fx,fxprime:Et.fxprime.slice(),alpha:J}),!J)le(Ct,Et.fxprime,-1);else{jt(Rt,1,Vt.fxprime,-1,Et.fxprime);var ct=j(Et.fxprime,Et.fxprime),ue=Math.max(0,j(Rt,Vt.fxprime)/ct);jt(Ct,ue,Ct,-1,Vt.fxprime),lt=Et,Et=Vt,Vt=lt}if(re(Et.fxprime)<=1e-5)break}return Bt.history&&Bt.history.push({x:Et.x.slice(),fx:Et.fx,fxprime:Et.fxprime.slice(),alpha:J}),Et}function de(I,m,Bt){Bt=Bt||{};for(var Et=Bt.maxIterations||m.length*100,Vt=Bt.learnRate||.001,Rt={x:m.slice(),fx:0,fxprime:m.slice()},Ct=0;Ct<Et&&(Rt.fx=I(Rt.x,Rt.fxprime),Bt.history&&Bt.history.push({x:Rt.x.slice(),fx:Rt.fx,fxprime:Rt.fxprime.slice()}),jt(Rt.x,1,Rt.x,-Vt,Rt.fxprime),!(re(Rt.fxprime)<=1e-5));++Ct);return Rt}function Te(I,m,Bt){Bt=Bt||{};var Et={x:m.slice(),fx:0,fxprime:m.slice()},Vt={x:m.slice(),fx:0,fxprime:m.slice()},Rt=Bt.maxIterations||m.length*100,Ct=Bt.learnRate||1,lt=m.slice(),J=Bt.c1||.001,Z=Bt.c2||.1,wt,ct=[];if(Bt.history){var ue=I;I=function(Ht,Qt){return ct.push(Ht.slice()),ue(Ht,Qt)}}Et.fx=I(Et.x,Et.fxprime);for(var ve=0;ve<Rt&&(le(lt,Et.fxprime,-1),Ct=ce(I,lt,Et,Vt,Ct,J,Z),Bt.history&&(Bt.history.push({x:Et.x.slice(),fx:Et.fx,fxprime:Et.fxprime.slice(),functionCalls:ct,learnRate:Ct,alpha:Ct}),ct=[]),wt=Et,Et=Vt,Vt=wt,!(Ct===0||re(Et.fxprime)<1e-5));++ve);return Et}H.bisect=Pt,H.nelderMead=fe,H.conjugateGradient=Pe,H.gradientDescent=de,H.gradientDescentLineSearch=Te,H.zeros=St,H.zerosM=q,H.norm2=re,H.weightedSum=jt,H.scale=le})},49685:function(sr,Ue,H){"use strict";H.d(Ue,{WT:function(){return St}});var Pt=1e-6,St=typeof Float32Array!="undefined"?Float32Array:Array,q=Math.random;function j(fe){St=fe}var re=Math.PI/180;function le(fe){return fe*re}function jt(fe,ce){return Math.abs(fe-ce)<=Pt*Math.max(1,Math.abs(fe),Math.abs(ce))}Math.hypot||(Math.hypot=function(){for(var fe=0,ce=arguments.length;ce--;)fe+=arguments[ce]*arguments[ce];return Math.sqrt(fe)})},35600:function(sr,Ue,H){"use strict";H.d(Ue,{Jp:function(){return Te},U_:function(){return ce},Us:function(){return Vt},vc:function(){return Et},xJ:function(){return Rt}});function Pt(){var et=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(et[1]=0,et[2]=0,et[3]=0,et[5]=0,et[6]=0,et[7]=0),et[0]=1,et[4]=1,et[8]=1,et}function St(et,vt){return et[0]=vt[0],et[1]=vt[1],et[2]=vt[2],et[3]=vt[4],et[4]=vt[5],et[5]=vt[6],et[6]=vt[8],et[7]=vt[9],et[8]=vt[10],et}function q(et){var vt=new glMatrix.ARRAY_TYPE(9);return vt[0]=et[0],vt[1]=et[1],vt[2]=et[2],vt[3]=et[3],vt[4]=et[4],vt[5]=et[5],vt[6]=et[6],vt[7]=et[7],vt[8]=et[8],vt}function j(et,vt){return et[0]=vt[0],et[1]=vt[1],et[2]=vt[2],et[3]=vt[3],et[4]=vt[4],et[5]=vt[5],et[6]=vt[6],et[7]=vt[7],et[8]=vt[8],et}function re(et,vt,me,Ae,ye,be,ut,Tt,It){var ft=new glMatrix.ARRAY_TYPE(9);return ft[0]=et,ft[1]=vt,ft[2]=me,ft[3]=Ae,ft[4]=ye,ft[5]=be,ft[6]=ut,ft[7]=Tt,ft[8]=It,ft}function le(et,vt,me,Ae,ye,be,ut,Tt,It,ft){return et[0]=vt,et[1]=me,et[2]=Ae,et[3]=ye,et[4]=be,et[5]=ut,et[6]=Tt,et[7]=It,et[8]=ft,et}function jt(et){return et[0]=1,et[1]=0,et[2]=0,et[3]=0,et[4]=1,et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function fe(et,vt){if(et===vt){var me=vt[1],Ae=vt[2],ye=vt[5];et[1]=vt[3],et[2]=vt[6],et[3]=me,et[5]=vt[7],et[6]=Ae,et[7]=ye}else et[0]=vt[0],et[1]=vt[3],et[2]=vt[6],et[3]=vt[1],et[4]=vt[4],et[5]=vt[7],et[6]=vt[2],et[7]=vt[5],et[8]=vt[8];return et}function ce(et,vt){var me=vt[0],Ae=vt[1],ye=vt[2],be=vt[3],ut=vt[4],Tt=vt[5],It=vt[6],ft=vt[7],Jt=vt[8],ee=Jt*ut-Tt*ft,at=-Jt*be+Tt*It,K=ft*be-ut*It,W=me*ee+Ae*at+ye*K;return W?(W=1/W,et[0]=ee*W,et[1]=(-Jt*Ae+ye*ft)*W,et[2]=(Tt*Ae-ye*ut)*W,et[3]=at*W,et[4]=(Jt*me-ye*It)*W,et[5]=(-Tt*me+ye*be)*W,et[6]=K*W,et[7]=(-ft*me+Ae*It)*W,et[8]=(ut*me-Ae*be)*W,et):null}function Pe(et,vt){var me=vt[0],Ae=vt[1],ye=vt[2],be=vt[3],ut=vt[4],Tt=vt[5],It=vt[6],ft=vt[7],Jt=vt[8];return et[0]=ut*Jt-Tt*ft,et[1]=ye*ft-Ae*Jt,et[2]=Ae*Tt-ye*ut,et[3]=Tt*It-be*Jt,et[4]=me*Jt-ye*It,et[5]=ye*be-me*Tt,et[6]=be*ft-ut*It,et[7]=Ae*It-me*ft,et[8]=me*ut-Ae*be,et}function de(et){var vt=et[0],me=et[1],Ae=et[2],ye=et[3],be=et[4],ut=et[5],Tt=et[6],It=et[7],ft=et[8];return vt*(ft*be-ut*It)+me*(-ft*ye+ut*Tt)+Ae*(It*ye-be*Tt)}function Te(et,vt,me){var Ae=vt[0],ye=vt[1],be=vt[2],ut=vt[3],Tt=vt[4],It=vt[5],ft=vt[6],Jt=vt[7],ee=vt[8],at=me[0],K=me[1],W=me[2],it=me[3],tt=me[4],yt=me[5],gt=me[6],Wt=me[7],Kt=me[8];return et[0]=at*Ae+K*ut+W*ft,et[1]=at*ye+K*Tt+W*Jt,et[2]=at*be+K*It+W*ee,et[3]=it*Ae+tt*ut+yt*ft,et[4]=it*ye+tt*Tt+yt*Jt,et[5]=it*be+tt*It+yt*ee,et[6]=gt*Ae+Wt*ut+Kt*ft,et[7]=gt*ye+Wt*Tt+Kt*Jt,et[8]=gt*be+Wt*It+Kt*ee,et}function I(et,vt,me){var Ae=vt[0],ye=vt[1],be=vt[2],ut=vt[3],Tt=vt[4],It=vt[5],ft=vt[6],Jt=vt[7],ee=vt[8],at=me[0],K=me[1];return et[0]=Ae,et[1]=ye,et[2]=be,et[3]=ut,et[4]=Tt,et[5]=It,et[6]=at*Ae+K*ut+ft,et[7]=at*ye+K*Tt+Jt,et[8]=at*be+K*It+ee,et}function m(et,vt,me){var Ae=vt[0],ye=vt[1],be=vt[2],ut=vt[3],Tt=vt[4],It=vt[5],ft=vt[6],Jt=vt[7],ee=vt[8],at=Math.sin(me),K=Math.cos(me);return et[0]=K*Ae+at*ut,et[1]=K*ye+at*Tt,et[2]=K*be+at*It,et[3]=K*ut-at*Ae,et[4]=K*Tt-at*ye,et[5]=K*It-at*be,et[6]=ft,et[7]=Jt,et[8]=ee,et}function Bt(et,vt,me){var Ae=me[0],ye=me[1];return et[0]=Ae*vt[0],et[1]=Ae*vt[1],et[2]=Ae*vt[2],et[3]=ye*vt[3],et[4]=ye*vt[4],et[5]=ye*vt[5],et[6]=vt[6],et[7]=vt[7],et[8]=vt[8],et}function Et(et,vt){return et[0]=1,et[1]=0,et[2]=0,et[3]=0,et[4]=1,et[5]=0,et[6]=vt[0],et[7]=vt[1],et[8]=1,et}function Vt(et,vt){var me=Math.sin(vt),Ae=Math.cos(vt);return et[0]=Ae,et[1]=me,et[2]=0,et[3]=-me,et[4]=Ae,et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function Rt(et,vt){return et[0]=vt[0],et[1]=0,et[2]=0,et[3]=0,et[4]=vt[1],et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function Ct(et,vt){return et[0]=vt[0],et[1]=vt[1],et[2]=0,et[3]=vt[2],et[4]=vt[3],et[5]=0,et[6]=vt[4],et[7]=vt[5],et[8]=1,et}function lt(et,vt){var me=vt[0],Ae=vt[1],ye=vt[2],be=vt[3],ut=me+me,Tt=Ae+Ae,It=ye+ye,ft=me*ut,Jt=Ae*ut,ee=Ae*Tt,at=ye*ut,K=ye*Tt,W=ye*It,it=be*ut,tt=be*Tt,yt=be*It;return et[0]=1-ee-W,et[3]=Jt-yt,et[6]=at+tt,et[1]=Jt+yt,et[4]=1-ft-W,et[7]=K-it,et[2]=at-tt,et[5]=K+it,et[8]=1-ft-ee,et}function J(et,vt){var me=vt[0],Ae=vt[1],ye=vt[2],be=vt[3],ut=vt[4],Tt=vt[5],It=vt[6],ft=vt[7],Jt=vt[8],ee=vt[9],at=vt[10],K=vt[11],W=vt[12],it=vt[13],tt=vt[14],yt=vt[15],gt=me*Tt-Ae*ut,Wt=me*It-ye*ut,Kt=me*ft-be*ut,Ce=Ae*It-ye*Tt,He=Ae*ft-be*Tt,We=ye*ft-be*It,Je=Jt*it-ee*W,ke=Jt*tt-at*W,Fe=Jt*yt-K*W,At=ee*tt-at*it,Xt=ee*yt-K*it,$t=at*yt-K*tt,pe=gt*$t-Wt*Xt+Kt*At+Ce*Fe-He*ke+We*Je;return pe?(pe=1/pe,et[0]=(Tt*$t-It*Xt+ft*At)*pe,et[1]=(It*Fe-ut*$t-ft*ke)*pe,et[2]=(ut*Xt-Tt*Fe+ft*Je)*pe,et[3]=(ye*Xt-Ae*$t-be*At)*pe,et[4]=(me*$t-ye*Fe+be*ke)*pe,et[5]=(Ae*Fe-me*Xt-be*Je)*pe,et[6]=(it*We-tt*He+yt*Ce)*pe,et[7]=(tt*Kt-W*We-yt*Wt)*pe,et[8]=(W*He-it*Kt+yt*gt)*pe,et):null}function Z(et,vt,me){return et[0]=2/vt,et[1]=0,et[2]=0,et[3]=0,et[4]=-2/me,et[5]=0,et[6]=-1,et[7]=1,et[8]=1,et}function wt(et){return"mat3("+et[0]+", "+et[1]+", "+et[2]+", "+et[3]+", "+et[4]+", "+et[5]+", "+et[6]+", "+et[7]+", "+et[8]+")"}function ct(et){return Math.hypot(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8])}function ue(et,vt,me){return et[0]=vt[0]+me[0],et[1]=vt[1]+me[1],et[2]=vt[2]+me[2],et[3]=vt[3]+me[3],et[4]=vt[4]+me[4],et[5]=vt[5]+me[5],et[6]=vt[6]+me[6],et[7]=vt[7]+me[7],et[8]=vt[8]+me[8],et}function ve(et,vt,me){return et[0]=vt[0]-me[0],et[1]=vt[1]-me[1],et[2]=vt[2]-me[2],et[3]=vt[3]-me[3],et[4]=vt[4]-me[4],et[5]=vt[5]-me[5],et[6]=vt[6]-me[6],et[7]=vt[7]-me[7],et[8]=vt[8]-me[8],et}function Ht(et,vt,me){return et[0]=vt[0]*me,et[1]=vt[1]*me,et[2]=vt[2]*me,et[3]=vt[3]*me,et[4]=vt[4]*me,et[5]=vt[5]*me,et[6]=vt[6]*me,et[7]=vt[7]*me,et[8]=vt[8]*me,et}function Qt(et,vt,me,Ae){return et[0]=vt[0]+me[0]*Ae,et[1]=vt[1]+me[1]*Ae,et[2]=vt[2]+me[2]*Ae,et[3]=vt[3]+me[3]*Ae,et[4]=vt[4]+me[4]*Ae,et[5]=vt[5]+me[5]*Ae,et[6]=vt[6]+me[6]*Ae,et[7]=vt[7]+me[7]*Ae,et[8]=vt[8]+me[8]*Ae,et}function ge(et,vt){return et[0]===vt[0]&&et[1]===vt[1]&&et[2]===vt[2]&&et[3]===vt[3]&&et[4]===vt[4]&&et[5]===vt[5]&&et[6]===vt[6]&&et[7]===vt[7]&&et[8]===vt[8]}function Ot(et,vt){var me=et[0],Ae=et[1],ye=et[2],be=et[3],ut=et[4],Tt=et[5],It=et[6],ft=et[7],Jt=et[8],ee=vt[0],at=vt[1],K=vt[2],W=vt[3],it=vt[4],tt=vt[5],yt=vt[6],gt=vt[7],Wt=vt[8];return Math.abs(me-ee)<=glMatrix.EPSILON*Math.max(1,Math.abs(me),Math.abs(ee))&&Math.abs(Ae-at)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ae),Math.abs(at))&&Math.abs(ye-K)<=glMatrix.EPSILON*Math.max(1,Math.abs(ye),Math.abs(K))&&Math.abs(be-W)<=glMatrix.EPSILON*Math.max(1,Math.abs(be),Math.abs(W))&&Math.abs(ut-it)<=glMatrix.EPSILON*Math.max(1,Math.abs(ut),Math.abs(it))&&Math.abs(Tt-tt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(tt))&&Math.abs(It-yt)<=glMatrix.EPSILON*Math.max(1,Math.abs(It),Math.abs(yt))&&Math.abs(ft-gt)<=glMatrix.EPSILON*Math.max(1,Math.abs(ft),Math.abs(gt))&&Math.abs(Jt-Wt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(Wt))}var oe=null,ie=null},31437:function(sr,Ue,H){"use strict";H.d(Ue,{$X:function(){return fe},AK:function(){return ue},EU:function(){return vt},Fp:function(){return m},Fv:function(){return ct},I6:function(){return ye},IH:function(){return jt},TE:function(){return Rt},VV:function(){return I},bA:function(){return Et},kE:function(){return lt},kK:function(){return oe},lu:function(){return Tt}});var Pt=H(49685);function St(){var W=new Pt.WT(2);return Pt.WT!=Float32Array&&(W[0]=0,W[1]=0),W}function q(W){var it=new glMatrix.ARRAY_TYPE(2);return it[0]=W[0],it[1]=W[1],it}function j(W,it){var tt=new glMatrix.ARRAY_TYPE(2);return tt[0]=W,tt[1]=it,tt}function re(W,it){return W[0]=it[0],W[1]=it[1],W}function le(W,it,tt){return W[0]=it,W[1]=tt,W}function jt(W,it,tt){return W[0]=it[0]+tt[0],W[1]=it[1]+tt[1],W}function fe(W,it,tt){return W[0]=it[0]-tt[0],W[1]=it[1]-tt[1],W}function ce(W,it,tt){return W[0]=it[0]*tt[0],W[1]=it[1]*tt[1],W}function Pe(W,it,tt){return W[0]=it[0]/tt[0],W[1]=it[1]/tt[1],W}function de(W,it){return W[0]=Math.ceil(it[0]),W[1]=Math.ceil(it[1]),W}function Te(W,it){return W[0]=Math.floor(it[0]),W[1]=Math.floor(it[1]),W}function I(W,it,tt){return W[0]=Math.min(it[0],tt[0]),W[1]=Math.min(it[1],tt[1]),W}function m(W,it,tt){return W[0]=Math.max(it[0],tt[0]),W[1]=Math.max(it[1],tt[1]),W}function Bt(W,it){return W[0]=Math.round(it[0]),W[1]=Math.round(it[1]),W}function Et(W,it,tt){return W[0]=it[0]*tt,W[1]=it[1]*tt,W}function Vt(W,it,tt,yt){return W[0]=it[0]+tt[0]*yt,W[1]=it[1]+tt[1]*yt,W}function Rt(W,it){var tt=it[0]-W[0],yt=it[1]-W[1];return Math.hypot(tt,yt)}function Ct(W,it){var tt=it[0]-W[0],yt=it[1]-W[1];return tt*tt+yt*yt}function lt(W){var it=W[0],tt=W[1];return Math.hypot(it,tt)}function J(W){var it=W[0],tt=W[1];return it*it+tt*tt}function Z(W,it){return W[0]=-it[0],W[1]=-it[1],W}function wt(W,it){return W[0]=1/it[0],W[1]=1/it[1],W}function ct(W,it){var tt=it[0],yt=it[1],gt=tt*tt+yt*yt;return gt>0&&(gt=1/Math.sqrt(gt)),W[0]=it[0]*gt,W[1]=it[1]*gt,W}function ue(W,it){return W[0]*it[0]+W[1]*it[1]}function ve(W,it,tt){var yt=it[0]*tt[1]-it[1]*tt[0];return W[0]=W[1]=0,W[2]=yt,W}function Ht(W,it,tt,yt){var gt=it[0],Wt=it[1];return W[0]=gt+yt*(tt[0]-gt),W[1]=Wt+yt*(tt[1]-Wt),W}function Qt(W,it){it=it||1;var tt=glMatrix.RANDOM()*2*Math.PI;return W[0]=Math.cos(tt)*it,W[1]=Math.sin(tt)*it,W}function ge(W,it,tt){var yt=it[0],gt=it[1];return W[0]=tt[0]*yt+tt[2]*gt,W[1]=tt[1]*yt+tt[3]*gt,W}function Ot(W,it,tt){var yt=it[0],gt=it[1];return W[0]=tt[0]*yt+tt[2]*gt+tt[4],W[1]=tt[1]*yt+tt[3]*gt+tt[5],W}function oe(W,it,tt){var yt=it[0],gt=it[1];return W[0]=tt[0]*yt+tt[3]*gt+tt[6],W[1]=tt[1]*yt+tt[4]*gt+tt[7],W}function ie(W,it,tt){var yt=it[0],gt=it[1];return W[0]=tt[0]*yt+tt[4]*gt+tt[12],W[1]=tt[1]*yt+tt[5]*gt+tt[13],W}function et(W,it,tt,yt){var gt=it[0]-tt[0],Wt=it[1]-tt[1],Kt=Math.sin(yt),Ce=Math.cos(yt);return W[0]=gt*Ce-Wt*Kt+tt[0],W[1]=gt*Kt+Wt*Ce+tt[1],W}function vt(W,it){var tt=W[0],yt=W[1],gt=it[0],Wt=it[1],Kt=Math.sqrt(tt*tt+yt*yt)*Math.sqrt(gt*gt+Wt*Wt),Ce=Kt&&(tt*gt+yt*Wt)/Kt;return Math.acos(Math.min(Math.max(Ce,-1),1))}function me(W){return W[0]=0,W[1]=0,W}function Ae(W){return"vec2("+W[0]+", "+W[1]+")"}function ye(W,it){return W[0]===it[0]&&W[1]===it[1]}function be(W,it){var tt=W[0],yt=W[1],gt=it[0],Wt=it[1];return Math.abs(tt-gt)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(gt))&&Math.abs(yt-Wt)<=glMatrix.EPSILON*Math.max(1,Math.abs(yt),Math.abs(Wt))}var ut=null,Tt=fe,It=null,ft=null,Jt=null,ee=null,at=null,K=function(){var W=St();return function(it,tt,yt,gt,Wt,Kt){var Ce,He;for(tt||(tt=2),yt||(yt=0),gt?He=Math.min(gt*tt+yt,it.length):He=it.length,Ce=yt;Ce<He;Ce+=tt)W[0]=it[Ce],W[1]=it[Ce+1],Wt(W,W,Kt),it[Ce]=W[0],it[Ce+1]=W[1];return it}}()},96270:function(sr,Ue){(function(H,Pt){Pt(Ue)})(this,function(H){"use strict";function Pt(P,b){if(re(P)||re(b)){for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)){var E=P[S],A=b[S];re(A)&&re(E)&&!q(A)&&!q(E)?Pt(E,A):jt(b[S])&&(P[S]=b[S])}}}function St(P){if(!re(P)||!q(P))return P;var b;for(var S in b=q(P)?[]:{},P)if(Object.prototype.hasOwnProperty.call(P,S)){var E=P[S];b[S]=re(E)?St(E):E}return b}function q(P){return Object.prototype.toString.call(P)==="[object Array]"}function j(P){return typeof P=="function"}function re(P){return typeof P=="object"}function le(P){return typeof P=="number"&&!isNaN(P)}function jt(P){return P!=null}function fe(P){return typeof P=="boolean"}function ce(P){return typeof P=="string"}var Pe,de,Te,I,m,Bt,Et,Vt,Rt,Ct,lt=/\\(\\)?/g,J=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function Z(P,b,S){if(jt(P)){var E=[];b.replace(J,function(V){for(var $=[],Q=1;arguments.length>Q;Q++)$[Q-1]=arguments[Q];var ot=V;return jt($[1])?ot=$[2].replace(lt,"$1"):jt($[0])&&(ot=$[0].trim()),E.push(ot),""});for(var A=P,O=0,R=E.length;jt(A)&&R>O;)A=A==null?void 0:A[E[O++]];return jt(A)?A:S!=null?S:"--"}return S!=null?S:"--"}function wt(P,b,S){var E=P.format(new Date(b)).split(", "),A=E[0].split("/"),O=E[1].split(":"),R={YYYY:A[2],MM:A[0],DD:A[1],HH:O[0]==="24"?"00":O[0],mm:O[1],ss:O[2]};return S.replace(/YYYY|MM|DD|HH|mm|ss/g,function(V){return R[V]})}function ct(P,b){var S=+P;return le(S)?S.toFixed(b!=null?b:2):"".concat(P)}function ue(P){var b=+P;if(le(b)){if(b>1e9)return"".concat(+(b/1e9).toFixed(3),"B");if(b>1e6)return"".concat(+(b/1e6).toFixed(3),"M");if(b>1e3)return"".concat(+(b/1e3).toFixed(3),"K")}return"".concat(P)}function ve(P,b){var S="".concat(P);if(b.length===0)return S;if(S.includes(".")){var E=S.split(".");return"".concat(E[0].replace(/(\d)(?=(\d{3})+$)/g,function(A){return"".concat(A).concat(b)}),".").concat(E[1])}return S.replace(/(\d)(?=(\d{3})+$)/g,function(A){return"".concat(A).concat(b)})}H.LineType=void 0,(Pe=H.LineType||(H.LineType={})).Dashed="dashed",Pe.Solid="solid",H.PolygonType=void 0,(de=H.PolygonType||(H.PolygonType={})).Stroke="stroke",de.Fill="fill",de.StrokeFill="stroke_fill",H.TooltipShowRule=void 0,(Te=H.TooltipShowRule||(H.TooltipShowRule={})).Always="always",Te.FollowCross="follow_cross",Te.None="none",H.TooltipShowType=void 0,(I=H.TooltipShowType||(H.TooltipShowType={})).Standard="standard",I.Rect="rect",H.TooltipIconPosition=void 0,(m=H.TooltipIconPosition||(H.TooltipIconPosition={})).Left="left",m.Middle="middle",m.Right="right",function(P){P.Fixed="fixed",P.Pointer="pointer"}(Bt||(Bt={})),H.CandleType=void 0,(Et=H.CandleType||(H.CandleType={})).CandleSolid="candle_solid",Et.CandleStroke="candle_stroke",Et.CandleUpStroke="candle_up_stroke",Et.CandleDownStroke="candle_down_stroke",Et.Ohlc="ohlc",Et.Area="area",H.YAxisPosition=void 0,(Vt=H.YAxisPosition||(H.YAxisPosition={})).Left="left",Vt.Right="right",H.YAxisType=void 0,(Rt=H.YAxisType||(H.YAxisType={})).Normal="normal",Rt.Percentage="percentage",Rt.Log="log",H.FormatDateType=void 0,(Ct=H.FormatDateType||(H.FormatDateType={}))[Ct.Tooltip=0]="Tooltip",Ct[Ct.Crosshair=1]="Crosshair",Ct[Ct.XAxis=2]="XAxis";var Ht=function(P,b){return Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(S[A]=E[A])},Ht(P,b)};function Qt(P,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+b+" is not a constructor or null");function S(){this.constructor=P}Ht(P,b),P.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}var ge,Ot=function(){return Ot=Object.assign||function(P){for(var b,S=1,E=arguments.length;E>S;S++)for(var A in b=arguments[S])Object.prototype.hasOwnProperty.call(b,A)&&(P[A]=b[A]);return P},Ot.apply(this,arguments)};function oe(P,b,S,E){return new(S||(S=Promise))(function(A,O){function R(Q){try{$(E.next(Q))}catch(ot){O(ot)}}function V(Q){try{$(E.throw(Q))}catch(ot){O(ot)}}function $(Q){var ot;Q.done?A(Q.value):(ot=Q.value,ot instanceof S?ot:new S(function(xt){xt(ot)})).then(R,V)}$((E=E.apply(P,b||[])).next())})}function ie(P,b){var S,E,A,O,R={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return O={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function V($){return function(Q){return function(ot){if(S)throw new TypeError("Generator is already executing.");for(;O&&(O=0,ot[0]&&(R=0)),R;)try{if(S=1,E&&(A=2&ot[0]?E.return:ot[0]?E.throw||((A=E.return)&&A.call(E),0):E.next)&&!(A=A.call(E,ot[1])).done)return A;switch(E=0,A&&(ot=[2&ot[0],A.value]),ot[0]){case 0:case 1:A=ot;break;case 4:return R.label++,{value:ot[1],done:!1};case 5:R.label++,E=ot[1],ot=[0];continue;case 7:ot=R.ops.pop(),R.trys.pop();continue;default:if(A=R.trys,!((A=A.length>0&&A[A.length-1])||ot[0]!==6&&ot[0]!==2)){R=0;continue}if(ot[0]===3&&(!A||ot[1]>A[0]&&A[3]>ot[1])){R.label=ot[1];break}if(ot[0]===6&&A[1]>R.label){R.label=A[1],A=ot;break}if(A&&A[2]>R.label){R.label=A[2],R.ops.push(ot);break}A[2]&&R.ops.pop(),R.trys.pop();continue}ot=b.call(P,R)}catch(xt){ot=[6,xt],E=0}finally{S=A=0}if(5&ot[0])throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}([$,Q])}}}function et(P){var b=typeof Symbol=="function"&&Symbol.iterator,S=b&&P[b],E=0;if(S)return S.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&E>=P.length&&(P=void 0),{value:P&&P[E++],done:!P}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(P,b){var S=typeof Symbol=="function"&&P[Symbol.iterator];if(!S)return P;var E,A,O=S.call(P),R=[];try{for(;(b===void 0||b-- >0)&&!(E=O.next()).done;)R.push(E.value)}catch(V){A={error:V}}finally{try{E&&!E.done&&(S=O.return)&&S.call(O)}finally{if(A)throw A.error}}return R}function me(P,b,S){if(S||arguments.length===2)for(var E,A=0,O=b.length;O>A;A++)!E&&A in b||(E||(E=Array.prototype.slice.call(b,0,A)),E[A]=b[A]);return P.concat(E||Array.prototype.slice.call(b))}typeof SuppressedError=="function"&&SuppressedError,H.ActionType=void 0,(ge=H.ActionType||(H.ActionType={})).OnZoom="onZoom",ge.OnScroll="onScroll",ge.OnVisibleRangeChange="onVisibleRangeChange",ge.OnTooltipIconClick="onTooltipIconClick",ge.OnCrosshairChange="onCrosshairChange",ge.OnCandleBarClick="onCandleBarClick",ge.OnPaneDrag="onPaneDrag";var Ae,ye=function(){function P(){this._callbacks=[]}return P.prototype.subscribe=function(b){var S;0>((S=this._callbacks.indexOf(b))!==null&&S!==void 0?S:-1)&&this._callbacks.push(b)},P.prototype.unsubscribe=function(b){var S;if(b!==void 0){var E=(S=this._callbacks.indexOf(b))!==null&&S!==void 0?S:-1;E>-1&&this._callbacks.splice(E,1)}else this._callbacks=[]},P.prototype.execute=function(b){this._callbacks.forEach(function(S){S(b)})},P.prototype.isEmpty=function(){return this._callbacks.length===0},P}(),be=1,ut=new Date().getTime();function Tt(P){var b=new Date().getTime();return b===ut?++be:be=1,ut=b,"".concat(P!=null?P:"").concat(b,"_").concat(be)}function It(P,b){var S,E=document.createElement(P),A=b!=null?b:{};for(var O in A)E.style[O]=(S=A[O])!==null&&S!==void 0?S:"";return E}function ft(P){var b,S,E;return Math.ceil((E=(S=(b=P.ownerDocument)===null||b===void 0?void 0:b.defaultView)===null||S===void 0?void 0:S.devicePixelRatio)!==null&&E!==void 0?E:2)}function Jt(P,b,S){return"".concat(b!=null?b:"normal"," ").concat(P!=null?P:12,"px ").concat(S!=null?S:"Helvetica Neue")}function ee(P,b,S,E){if(Ae===void 0){var A=document.createElement("canvas"),O=ft(A);(Ae=A.getContext("2d")).scale(O,O)}return Ae.font=Jt(b,S,E),Math.round(Ae.measureText(P).width)}function at(P,b,S){var E=0,A=0;for(A=P.length-1;E!==A;){var O=Math.floor((A+E)/2),R=A-E,V=P[O][b];if(S===P[E][b])return E;if(S===P[A][b])return A;if(S===V)return O;if(S>V?E=O:A=O,2>=R)break}return E}function K(P,b){return b==null&&(b=10),+(+P).toFixed(b=Math.min(Math.max(0,b),20))}function W(P,b,S){var E=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return P.forEach(function(A){var O,R;E[0]=Math.max((O=A[b])!==null&&O!==void 0?O:A,E[0]),E[1]=Math.min((R=A[S])!==null&&R!==void 0?R:A,E[1])}),E}function it(P){return Math.log(P)/Math.log(10)}function tt(P){return Math.pow(10,P)}var yt,gt=1,Wt=50,Kt=function(){function P(b){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=6,this._offsetRightDistance=50,this._startScrollOffsetRightBarCount=0,this._minVisibleBarCount={left:2,right:2},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._chartStore=b,this._gapBarSpace=this._calcGapBarSpace(),this._offsetRightBarCount=this._offsetRightDistance/this._barSpace}return P.prototype._calcGapBarSpace=function(){return Math.max(1,Math.min(Math.floor(.82*this._barSpace),Math.floor(this._barSpace)-1))},P.prototype.adjustVisibleRange=function(){var b,S=this._chartStore.getDataList(),E=S.length,A=this._totalBarSpace/this._barSpace,O=A-Math.min(this._minVisibleBarCount.left,E);this._offsetRightBarCount>O&&(this._offsetRightBarCount=O);var R=-E+Math.min(this._minVisibleBarCount.right,E);R>this._offsetRightBarCount&&(this._offsetRightBarCount=R);var V=Math.round(this._offsetRightBarCount+E+.5);V>E&&(V=E);var $=Math.round(V-A)-1;if(0>$&&($=0),this._visibleRange={from:$,to:V,realFrom:this._offsetRightBarCount>0?Math.round(E+this._offsetRightBarCount-A)-1:$,realTo:V},this._chartStore.getActionStore().execute(H.ActionType.OnVisibleRangeChange,this._visibleRange),this._chartStore.adjustVisibleDataList(),$===0&&this._more&&!this._loading&&this._loadMoreCallback!==null){this._loading=!0;var Q=S[0];this._loadMoreCallback((b=Q==null?void 0:Q.timestamp)!==null&&b!==void 0?b:null)}},P.prototype.setMore=function(b){return this._more=b,this},P.prototype.setLoading=function(b){return this._loading=b,this},P.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},P.prototype._buildDateTimeFormat=function(b){var S={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};b!==void 0&&(S.timeZone=b);var E=null;try{E=new Intl.DateTimeFormat("en",S)}catch(A){}return E},P.prototype.setTimezone=function(b){var S=this._buildDateTimeFormat(b);S!==null&&(this._dateTimeFormat=S)},P.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},P.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},P.prototype.setBarSpace=function(b,S){gt>b||b>Wt||this._barSpace===b||(this._barSpace=b,this._gapBarSpace=this._calcGapBarSpace(),S==null||S(),this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},P.prototype.setTotalBarSpace=function(b){return this._totalBarSpace!==b&&(this._totalBarSpace=b,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0)),this},P.prototype.setOffsetRightDistance=function(b,S){return this._offsetRightDistance=b,this._offsetRightBarCount=b/this._barSpace,S!=null&&S&&(this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},P.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},P.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},P.prototype.getOffsetRightDistance=function(){return Math.max(0,this._offsetRightBarCount*this._barSpace)},P.prototype.getOffsetRightBarCount=function(){return this._offsetRightBarCount},P.prototype.setOffsetRightBarCount=function(b){return this._offsetRightBarCount=b,this},P.prototype.setLeftMinVisibleBarCount=function(b){return this._minVisibleBarCount.left=b,this},P.prototype.setRightMinVisibleBarCount=function(b){return this._minVisibleBarCount.right=b,this},P.prototype.getVisibleRange=function(){return this._visibleRange},P.prototype.startScroll=function(){this._startScrollOffsetRightBarCount=this._offsetRightBarCount},P.prototype.scroll=function(b){if(this._scrollEnabled){var S=b/this._barSpace;this._chartStore.getActionStore().execute(H.ActionType.OnScroll),this._offsetRightBarCount=this._startScrollOffsetRightBarCount-S,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},P.prototype.getDataByDataIndex=function(b){var S;return(S=this._chartStore.getDataList()[b])!==null&&S!==void 0?S:null},P.prototype.coordinateToFloatIndex=function(b){var S=this._chartStore.getDataList().length;return Math.round(1e6*(S+this._offsetRightBarCount-(this._totalBarSpace-b)/this._barSpace))/1e6},P.prototype.dataIndexToTimestamp=function(b){var S,E=this.getDataByDataIndex(b);return(S=E==null?void 0:E.timestamp)!==null&&S!==void 0?S:null},P.prototype.timestampToDataIndex=function(b){var S=this._chartStore.getDataList();return S.length===0?0:at(S,"timestamp",b)},P.prototype.dataIndexToCoordinate=function(b){var S=this._chartStore.getDataList().length;return this._totalBarSpace-(S+this._offsetRightBarCount-b-.5)*this._barSpace},P.prototype.coordinateToDataIndex=function(b){return Math.ceil(this.coordinateToFloatIndex(b))-1},P.prototype.zoom=function(b,S){var E,A=this;if(this._zoomEnabled){if((S==null?void 0:S.x)===void 0){var O=this._chartStore.getTooltipStore().getCrosshair();S={x:(E=O==null?void 0:O.x)!==null&&E!==void 0?E:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(H.ActionType.OnZoom);var R=this.coordinateToFloatIndex(S.x);this.setBarSpace(this._barSpace+b*(this._barSpace/10),function(){A._offsetRightBarCount+=R-A.coordinateToFloatIndex(S==null?void 0:S.x)})}},P.prototype.setZoomEnabled=function(b){return this._zoomEnabled=b,this},P.prototype.getZoomEnabled=function(){return this._zoomEnabled},P.prototype.setScrollEnabled=function(b){return this._scrollEnabled=b,this},P.prototype.getScrollEnabled=function(){return this._scrollEnabled},P.prototype.setLoadMoreCallback=function(b){return this._loadMoreCallback=b,this},P.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange={from:0,to:0,realFrom:0,realTo:0}},P}();function Ce(P,b,S,E,A){var O,R=b.result,V=b.figures,$=b.styles,Q=Z($,"circles",E.circles),ot=Q.length,xt=Z($,"bars",E.bars),Ft=xt.length,zt=Z($,"lines",E.lines),ne=zt.length,se=0,we=0,N=0;V.forEach(function(st){var dt;switch(st.type){case"circle":var Lt=Q[se%ot];O=Ot(Ot({},Lt),{color:Lt.noChangeColor}),se++;break;case"bar":var ae=xt[we%Ft];O=Ot(Ot({},ae),{color:ae.noChangeColor}),we++;break;case"line":O=zt[N%ne],N++}if(jt(O)){var G=(dt=st.styles)===null||dt===void 0?void 0:dt.call(st,{prev:{kLineData:P[S-1],indicatorData:R[S-1]},current:{kLineData:P[S],indicatorData:R[S]},next:{kLineData:P[S+1],indicatorData:R[S+1]}},b,E);A(st,Ot(Ot({},O),G))}})}H.IndicatorSeries=void 0,(yt=H.IndicatorSeries||(H.IndicatorSeries={})).Normal="normal",yt.Price="price",yt.Volume="volume";var He=function(){function P(b){this.result=[],this._precisionFlag=!1;var S=b.name,E=b.shortName,A=b.series,O=b.calcParams,R=b.figures,V=b.precision,$=b.shouldOhlc,Q=b.shouldFormatBigNumber,ot=b.visible,xt=b.minValue,Ft=b.maxValue,zt=b.styles,ne=b.extendData,se=b.regenerateFigures,we=b.createTooltipDataSource,N=b.draw;this.name=S,this.shortName=E!=null?E:S,this.series=A!=null?A:H.IndicatorSeries.Normal,this.precision=V!=null?V:4,this.calcParams=O!=null?O:[],this.figures=R!=null?R:[],this.shouldOhlc=$!=null&&$,this.shouldFormatBigNumber=Q!=null&&Q,this.visible=ot==null||ot,this.minValue=xt!=null?xt:null,this.maxValue=Ft!=null?Ft:null,this.styles=zt!=null?zt:{},this.extendData=ne,this.regenerateFigures=se!=null?se:null,this.createTooltipDataSource=we!=null?we:null,this.draw=N!=null?N:null}return P.prototype.setShortName=function(b){return this.shortName!==b&&(this.shortName=b,!0)},P.prototype.setSeries=function(b){return this.series!==b&&(this.series=b,!0)},P.prototype.setPrecision=function(b,S){var E=S!=null&&S,A=Math.floor(b);return!(A===this.precision||0>b||E&&(!E||this._precisionFlag))&&(this.precision=A,E||(this._precisionFlag=!0),!0)},P.prototype.setCalcParams=function(b){var S,E;return this.calcParams=b,this.figures=(E=(S=this.regenerateFigures)===null||S===void 0?void 0:S.call(this,b))!==null&&E!==void 0?E:this.figures,!0},P.prototype.setShouldOhlc=function(b){return this.shouldOhlc!==b&&(this.shouldOhlc=b,!0)},P.prototype.setShouldFormatBigNumber=function(b){return this.shouldFormatBigNumber!==b&&(this.shouldFormatBigNumber=b,!0)},P.prototype.setVisible=function(b){return this.visible!==b&&(this.visible=b,!0)},P.prototype.setStyles=function(b){return b!==null&&(Pt(this.styles,b),!0)},P.prototype.setExtendData=function(b){return this.extendData!==b&&(this.extendData=b,!0)},P.prototype.setFigures=function(b){return this.figures!==b&&(this.figures=b,!0)},P.prototype.setMinValue=function(b){return this.minValue!==b&&(this.minValue=b,!0)},P.prototype.setMaxValue=function(b){return this.maxValue!==b&&(this.maxValue=b,!0)},P.prototype.setRegenerateFigures=function(b){return this.regenerateFigures!==b&&(this.regenerateFigures=b,!0)},P.prototype.setCreateTooltipDataSource=function(b){return this.createTooltipDataSource!==b&&(this.createTooltipDataSource=b,!0)},P.prototype.setDraw=function(b){return this.draw!==b&&(this.draw=b,!0)},P.prototype.calcIndicator=function(b){return oe(this,void 0,void 0,function(){var S;return ie(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.calc(b,this)];case 1:return S=E.sent(),this.result=S,[2,!0];case 2:return E.sent(),[2,!1];case 3:return[2]}})})},P.extend=function(b){return function(S){function E(){return S.call(this,b)||this}return Qt(E,S),E.prototype.calc=function(A,O){return b.calc(A,O)},E}(P)},P}(),We={name:"AVP",shortName:"AVP",series:H.IndicatorSeries.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(P){var b=0,S=0;return P.map(function(E){var A,O,R={},V=(A=E==null?void 0:E.turnover)!==null&&A!==void 0?A:0,$=(O=E==null?void 0:E.volume)!==null&&O!==void 0?O:0;return b+=V,(S+=$)!==0&&(R.avp=b/S),R})}},Je={name:"EMA",shortName:"EMA",series:H.IndicatorSeries.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(P){return P.map(function(b,S){return{key:"ema".concat(S+1),title:"EMA".concat(b,": "),type:"line"}})},calc:function(P,b){var S=b.calcParams,E=b.figures,A=0,O=[];return P.map(function(R,V){var $={},Q=R.close;return A+=Q,S.forEach(function(ot,xt){ot-1>V||(O[xt]=V>ot-1?(2*Q+(ot-1)*O[xt])/(ot+1):A/ot,$[E[xt].key]=O[xt])}),$})}},ke={name:"MA",shortName:"MA",series:H.IndicatorSeries.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(P){return P.map(function(b,S){return{key:"ma".concat(S+1),title:"MA".concat(b,": "),type:"line"}})},calc:function(P,b){var S=b.calcParams,E=b.figures,A=[];return P.map(function(O,R){var V={},$=O.close;return S.forEach(function(Q,ot){var xt;A[ot]=((xt=A[ot])!==null&&xt!==void 0?xt:0)+$,Q-1>R||(V[E[ot].key]=A[ot]/Q,A[ot]-=P[R-(Q-1)].close)}),V})}},Fe={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(P){return P.map(function(b,S){var E=S+1;return{key:"rsi".concat(E),title:"RSI".concat(E,": "),type:"line"}})},calc:function(P,b){var S=b.calcParams,E=b.figures,A=[],O=[];return P.map(function(R,V){var $,Q={},ot=(($=P[V-1])!==null&&$!==void 0?$:R).close,xt=R.close-ot;return S.forEach(function(Ft,zt){var ne,se,we;if(xt>0?A[zt]=((ne=A[zt])!==null&&ne!==void 0?ne:0)+xt:O[zt]=((se=O[zt])!==null&&se!==void 0?se:0)+Math.abs(xt),V>=Ft-1){Q[E[zt].key]=O[zt]!==0?100-100/(1+A[zt]/O[zt]):0;var N=P[V-(Ft-1)],st=(we=P[V-Ft])!==null&&we!==void 0?we:N,dt=N.close-st.close;dt>0?A[zt]-=dt:O[zt]-=Math.abs(dt)}}),Q})}},At={name:"VOL",shortName:"VOL",series:H.IndicatorSeries.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(P,b,S){var E=P.current.kLineData;return{color:E.close>E.open?Z(b.styles,"bars[0].upColor",S.bars[0].upColor):E.open>E.close?Z(b.styles,"bars[0].downColor",S.bars[0].downColor):Z(b.styles,"bars[0].noChangeColor",S.bars[0].noChangeColor)}}}],regenerateFigures:function(P){var b=P.map(function(S,E){return{key:"ma".concat(E+1),title:"MA".concat(S,": "),type:"line"}});return b.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(S,E,A){var O=S.current.kLineData;return{color:O.close>O.open?Z(E.styles,"bars[0].upColor",A.bars[0].upColor):O.open>O.close?Z(E.styles,"bars[0].downColor",A.bars[0].downColor):Z(E.styles,"bars[0].noChangeColor",A.bars[0].noChangeColor)}}}),b},calc:function(P,b){var S=b.calcParams,E=b.figures,A=[];return P.map(function(O,R){var V,$=(V=O.volume)!==null&&V!==void 0?V:0,Q={volume:$};return S.forEach(function(ot,xt){var Ft,zt;A[xt]=((Ft=A[xt])!==null&&Ft!==void 0?Ft:0)+$,ot-1>R||(Q[E[xt].key]=A[xt]/ot,A[xt]-=(zt=P[R-(ot-1)].volume)!==null&&zt!==void 0?zt:0)}),Q})}},Xt={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(P){return P.map(function(b,S){return{key:"wr".concat(S+1),title:"WR".concat(S+1,": "),type:"line"}})},calc:function(P,b){var S=b.calcParams,E=b.figures;return P.map(function(A,O){var R={},V=A.close;return S.forEach(function($,Q){var ot=$-1;if(O>=ot){var xt=W(P.slice(O-ot,O+1),"high","low"),Ft=xt[0],zt=Ft-xt[1];R[E[Q].key]=zt===0?0:(V-Ft)/zt*100}}),R})}},$t={},pe=[We,{name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(P,b,S){var E,A,O,R,V,$=(A=(E=P.prev.indicatorData)===null||E===void 0?void 0:E.ao)!==null&&A!==void 0?A:Number.MIN_SAFE_INTEGER,Q=(R=(O=P.current.indicatorData)===null||O===void 0?void 0:O.ao)!==null&&R!==void 0?R:Number.MIN_SAFE_INTEGER;return{color:V=Q>$?Z(b.styles,"bars[0].upColor",S.bars[0].upColor):Z(b.styles,"bars[0].downColor",S.bars[0].downColor),style:Q>$?H.PolygonType.Stroke:H.PolygonType.Fill,borderColor:V}}}],calc:function(P,b){var S=b.calcParams,E=Math.max(S[0],S[1]),A=0,O=0,R=0,V=0;return P.map(function($,Q){var ot,xt={},Ft=($.low+$.high)/2;return A+=Ft,O+=Ft,Q<S[0]-1||(R=A/S[0],A-=((ot=P[Q-(S[0]-1)]).low+ot.high)/2),Q<S[1]-1||(V=O/S[1],O-=((ot=P[Q-(S[1]-1)]).low+ot.high)/2),E-1>Q||(xt.ao=R-V),xt})}},{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(P){return P.map(function(b,S){return{key:"bias".concat(S+1),title:"BIAS".concat(b,": "),type:"line"}})},calc:function(P,b){var S=b.calcParams,E=b.figures,A=[];return P.map(function(O,R){var V={},$=O.close;return S.forEach(function(Q,ot){var xt;if(A[ot]=((xt=A[ot])!==null&&xt!==void 0?xt:0)+$,R>=Q-1){var Ft=A[ot]/S[ot];V[E[ot].key]=($-Ft)/Ft*100,A[ot]-=P[R-(Q-1)].close}}),V})}},{name:"BOLL",shortName:"BOLL",series:H.IndicatorSeries.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=S[0]-1,A=0;return P.map(function(O,R){var V={};if(A+=O.close,R>=E){V.mid=A/S[0];var $=function(Q,ot){var xt=Q.length,Ft=0;return Q.forEach(function(zt){var ne=zt.close-ot;Ft+=ne*ne}),Math.sqrt((Ft=Math.abs(Ft))/xt)}(P.slice(R-E,R+1),V.mid);V.up=V.mid+S[1]*$,V.dn=V.mid-S[1]*$,A-=P[R-E].close}return V})}},{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=0,O=0,R=0;return P.map(function(V,$){var Q,ot,xt={},Ft=V.high,zt=V.low,ne=V.open,se=((Q=P[$-1])!==null&&Q!==void 0?Q:V).close;if(O+=Ft-ne,R+=ne-zt,E+=Ft-se,A+=se-zt,$>=S[0]-1){xt.ar=R!==0?O/R*100:0,xt.br=A!==0?E/A*100:0;var we=P[$-(S[0]-1)],N=we.high,st=we.low,dt=we.open,Lt=((ot=P[$-S[0]])!==null&&ot!==void 0?ot:P[$-(S[0]-1)]).close;E-=N-Lt,A-=Lt-st,O-=N-dt,R-=dt-st}return xt})}},{name:"BBI",shortName:"BBI",series:H.IndicatorSeries.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=Math.max.apply(Math,me([],vt(S),!1)),A=[],O=[];return P.map(function(R,V){var $={},Q=R.close;if(S.forEach(function(xt,Ft){var zt;A[Ft]=((zt=A[Ft])!==null&&zt!==void 0?zt:0)+Q,xt-1>V||(O[Ft]=A[Ft]/xt,A[Ft]-=P[V-(xt-1)].close)}),V>=E-1){var ot=0;O.forEach(function(xt){ot+=xt}),$.bbi=ot/4}return $})}},{name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=S[0]-1,A=0,O=[];return P.map(function(R,V){var $={},Q=(R.high+R.low+R.close)/3;if(A+=Q,O.push(Q),V>=E){var ot=A/S[0],xt=O.slice(V-E,V+1),Ft=0;xt.forEach(function(ne){Ft+=Math.abs(ne-ot)});var zt=Ft/S[0];$.cci=zt!==0?(Q-ot)/zt/.015:0,A-=(P[V-E].high+P[V-E].low+P[V-E].close)/3}return $})}},{name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=Math.ceil(S[1]/2.5+1),A=Math.ceil(S[2]/2.5+1),O=Math.ceil(S[3]/2.5+1),R=Math.ceil(S[4]/2.5+1),V=0,$=[],Q=0,ot=[],xt=0,Ft=[],zt=0,ne=[],se=[];return P.forEach(function(we,N){var st,dt,Lt,ae,G,ht={},kt=(st=P[N-1])!==null&&st!==void 0?st:we,Nt=(kt.high+kt.close+kt.low+kt.open)/4,he=Math.max(0,we.high-Nt),Ee=Math.max(0,Nt-we.low);S[0]-1>N||(ht.cr=Ee!==0?he/Ee*100:0,V+=ht.cr,Q+=ht.cr,xt+=ht.cr,zt+=ht.cr,S[0]+S[1]-2>N||($.push(V/S[1]),S[0]+S[1]+E-3>N||(ht.ma1=$[$.length-1-E]),V-=(dt=se[N-(S[1]-1)].cr)!==null&&dt!==void 0?dt:0),S[0]+S[2]-2>N||(ot.push(Q/S[2]),S[0]+S[2]+A-3>N||(ht.ma2=ot[ot.length-1-A]),Q-=(Lt=se[N-(S[2]-1)].cr)!==null&&Lt!==void 0?Lt:0),S[0]+S[3]-2>N||(Ft.push(xt/S[3]),S[0]+S[3]+O-3>N||(ht.ma3=Ft[Ft.length-1-O]),xt-=(ae=se[N-(S[3]-1)].cr)!==null&&ae!==void 0?ae:0),S[0]+S[4]-2>N||(ne.push(zt/S[4]),S[0]+S[4]+R-3>N||(ht.ma4=ne[ne.length-1-R]),zt-=(G=se[N-(S[4]-1)].cr)!==null&&G!==void 0?G:0)),se.push(ht)}),se}},{name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=Math.max(S[0],S[1]),A=0,O=0,R=0,V=[];return P.forEach(function($,Q){var ot,xt={},Ft=$.close;A+=Ft,O+=Ft;var zt=0,ne=0;if(S[0]-1>Q||(zt=A/S[0],A-=P[Q-(S[0]-1)].close),S[1]-1>Q||(ne=O/S[1],O-=P[Q-(S[1]-1)].close),Q>=E-1){var se=zt-ne;xt.dma=se,R+=se,E+S[2]-2>Q||(xt.ama=R/S[2],R-=(ot=V[Q-(S[2]-1)].dma)!==null&&ot!==void 0?ot:0)}V.push(xt)}),V}},{name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=0,O=0,R=0,V=0,$=0,Q=0,ot=0,xt=[];return P.forEach(function(Ft,zt){var ne,se,we={},N=(ne=P[zt-1])!==null&&ne!==void 0?ne:Ft,st=N.close,dt=Ft.high,Lt=Ft.low,ae=dt-Lt,G=Math.abs(dt-st),ht=Math.abs(st-Lt),kt=dt-N.high,Nt=N.low-Lt,he=Math.max(Math.max(ae,G),ht),Ee=kt>0&&kt>Nt?kt:0,Ge=Nt>0&&Nt>kt?Nt:0;if(E+=he,A+=Ee,O+=Ge,zt>=S[0]-1){zt>S[0]-1?(R=R-R/S[0]+he,V=V-V/S[0]+Ee,$=$-$/S[0]+Ge):(R=E,V=A,$=O);var rr=0,vr=0;R!==0&&(rr=100*V/R,vr=100*$/R),we.pdi=rr,we.mdi=vr;var yr=0;vr+rr!==0&&(yr=Math.abs(vr-rr)/(vr+rr)*100),Q+=yr,2*S[0]-2>zt||(we.adx=ot=zt>2*S[0]-2?(ot*(S[0]-1)+yr)/S[0]:Q/S[0],2*S[0]+S[1]-3>zt||(we.adxr=(((se=xt[zt-(S[1]-1)].adx)!==null&&se!==void 0?se:0)+ot)/2))}xt.push(we)}),xt}},{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=[];return P.map(function(O,R){var V,$={};if(R>0){var Q=P[R-1],ot=O.high,xt=O.low,Ft=(V=O.volume)!==null&&V!==void 0?V:0,zt=(ot+xt)/2-(Q.high+Q.low)/2;Ft===0||ot-xt==0?$.emv=0:$.emv=zt/(Ft/1e8/(ot-xt)),E+=$.emv,A.push($.emv),S[0]>R||($.maEmv=E/S[0],E-=A[R-S[0]])}return $})}},Je,{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=[];return P.forEach(function(O,R){var V,$={};R<S[0]||($.mtm=O.close-P[R-S[0]].close,E+=$.mtm,S[0]+S[1]-1>R||($.maMtm=E/S[1],E-=(V=A[R-(S[1]-1)].mtm)!==null&&V!==void 0?V:0)),A.push($)}),A}},ke,{name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(P,b,S){var E,A,O,R,V,$=(A=(E=P.prev.indicatorData)===null||E===void 0?void 0:E.macd)!==null&&A!==void 0?A:Number.MIN_SAFE_INTEGER,Q=(R=(O=P.current.indicatorData)===null||O===void 0?void 0:O.macd)!==null&&R!==void 0?R:Number.MIN_SAFE_INTEGER;return V=Q>0?Z(b.styles,"bars[0].upColor",S.bars[0].upColor):0>Q?Z(b.styles,"bars[0].downColor",S.bars[0].downColor):Z(b.styles,"bars[0].noChangeColor",S.bars[0].noChangeColor),{style:Q>$?H.PolygonType.Stroke:H.PolygonType.Fill,color:V,borderColor:V}}}],calc:function(P,b){var S,E,A=b.calcParams,O=0,R=0,V=0,$=0,Q=Math.max(A[0],A[1]);return P.map(function(ot,xt){var Ft={},zt=ot.close;return O+=zt,A[0]-1>xt||(S=xt>A[0]-1?(2*zt+(A[0]-1)*S)/(A[0]+1):O/A[0]),A[1]-1>xt||(E=xt>A[1]-1?(2*zt+(A[1]-1)*E)/(A[1]+1):O/A[1]),Q-1>xt||(Ft.dif=R=S-E,V+=R,Q+A[2]-2>xt||(Ft.macd=2*(R-($=xt>Q+A[2]-2?(2*R+$*(A[2]-1))/(A[2]+1):V/A[2])),Ft.dea=$)),Ft})}},{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=0,O=[];return P.forEach(function(R,V){var $,Q,ot,xt,Ft=($=P[V-1])!==null&&$!==void 0?$:R;Ft.close>R.close?A-=(Q=R.volume)!==null&&Q!==void 0?Q:0:R.close>Ft.close&&(A+=(ot=R.volume)!==null&&ot!==void 0?ot:0);var zt={obv:A};E+=A,S[0]-1>V||(zt.maObv=E/S[0],E-=(xt=O[V-(S[0]-1)].obv)!==null&&xt!==void 0?xt:0),O.push(zt)}),O}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(P){var b=0;return P.map(function(S,E){var A,O,R={},V=(A=S.volume)!==null&&A!==void 0?A:1,$=((O=P[E-1])!==null&&O!==void 0?O:S).close,Q=0,ot=$*V;return ot!==0&&(Q=(S.close-$)/ot),R.pvt=b+=Q,R})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=0,O=[],R=[];return P.forEach(function(V,$){var Q,ot,xt={},Ft=((Q=P[$-1])!==null&&Q!==void 0?Q:V).close,zt=V.close-Ft>0?1:0;O.push(zt),E+=zt,S[0]-1>$||(xt.psy=E/S[0]*100,A+=xt.psy,S[0]+S[1]-2>$||(xt.maPsy=A/S[1],A-=(ot=R[$-(S[1]-1)].psy)!==null&&ot!==void 0?ot:0),E-=O[$-(S[0]-1)]),R.push(xt)}),R}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=[],A=0;return P.forEach(function(O,R){var V,$,Q={};if(R>=S[0]-1){var ot=((V=P[R-S[0]])!==null&&V!==void 0?V:P[R-(S[0]-1)]).close;Q.roc=ot!==0?(O.close-ot)/ot*100:0,A+=Q.roc,S[0]-1+S[1]-1>R||(Q.maRoc=A/S[1],A-=($=E[R-(S[1]-1)].roc)!==null&&$!==void 0?$:0)}E.push(Q)}),E}},Fe,{name:"SMA",shortName:"SMA",series:H.IndicatorSeries.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(P,b){var S=b.calcParams,E=0,A=0;return P.map(function(O,R){var V={},$=O.close;return E+=$,S[0]-1>R||(V.sma=A=R>S[0]-1?($*S[1]+A*(S[0]-S[1]+1))/(S[0]+1):E/S[0]),V})}},{name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=[];return P.forEach(function(A,O){var R,V,$,Q,ot={},xt=A.close;if(O>=S[0]-1){var Ft=W(P.slice(O-(S[0]-1),O+1),"high","low"),zt=Ft[1],ne=Ft[0]-zt;ot.k=((S[1]-1)*((V=(R=E[O-1])===null||R===void 0?void 0:R.k)!==null&&V!==void 0?V:50)+(xt-zt)/(ne===0?1:ne)*100)/S[1],ot.d=((S[2]-1)*((Q=($=E[O-1])===null||$===void 0?void 0:$.d)!==null&&Q!==void 0?Q:50)+ot.k)/S[2],ot.j=3*ot.k-2*ot.d}E.push(ot)}),E}},{name:"SAR",shortName:"SAR",series:H.IndicatorSeries.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(P,b,S){var E,A,O=P.current,R=(A=(E=O.indicatorData)===null||E===void 0?void 0:E.sar)!==null&&A!==void 0?A:Number.MIN_SAFE_INTEGER,V=O.kLineData;return{color:((V==null?void 0:V.high)+(V==null?void 0:V.low))/2>R?Z(b.styles,"circles[0].upColor",S.circles[0].upColor):Z(b.styles,"circles[0].downColor",S.circles[0].downColor)}}}],calc:function(P,b){var S=b.calcParams,E=S[0]/100,A=S[1]/100,O=S[2]/100,R=E,V=-100,$=!1,Q=0;return P.map(function(ot,xt){var Ft=Q,zt=ot.high,ne=ot.low;if($){(V===-100||zt>V)&&(V=zt,R=Math.min(R+A,O)),Q=Ft+R*(V-Ft);var se=Math.min(P[Math.max(1,xt)-1].low,ne);Q>ot.low?(Q=V,R=E,V=-100,$=!$):Q>se&&(Q=se)}else{(V===-100||V>ne)&&(V=ne,R=Math.min(R+A,O)),Q=Ft+R*(V-Ft);var we=Math.max(P[Math.max(1,xt)-1].high,zt);ot.high>Q?(Q=V,R=0,V=-100,$=!$):we>Q&&(Q=we)}return{sar:Q}})}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(P,b){var S,E,A,O=b.calcParams,R=0,V=0,$=0,Q=0,ot=[];return P.forEach(function(xt,Ft){var zt,ne={},se=xt.close;if(R+=se,Ft>=O[0]-1&&(V+=S=Ft>O[0]-1?(2*se+(O[0]-1)*S)/(O[0]+1):R/O[0],Ft>=2*O[0]-2&&($+=E=Ft>2*O[0]-2?(2*S+(O[0]-1)*E)/(O[0]+1):V/O[0],Ft>=3*O[0]-3))){var we=void 0,N=0;Ft>3*O[0]-3?N=((we=(2*E+(O[0]-1)*A)/(O[0]+1))-A)/A*100:we=$/O[0],A=we,ne.trix=N,Q+=N,3*O[0]+O[1]-4>Ft||(ne.maTrix=Q/O[1],Q-=(zt=ot[Ft-(O[1]-1)].trix)!==null&&zt!==void 0?zt:0)}ot.push(ne)}),ot}},At,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(P,b){var S=b.calcParams,E=0,A=0,O=0,R=0,V=[];return P.forEach(function($,Q){var ot,xt,Ft,zt,ne,se={},we=$.close,N=((ot=P[Q-1])!==null&&ot!==void 0?ot:$).close,st=(xt=$.volume)!==null&&xt!==void 0?xt:0;if(we>N?E+=st:N>we?A+=st:O+=st,Q>=S[0]-1){var dt=O/2;se.vr=A+dt===0?0:(E+dt)/(A+dt)*100,R+=se.vr,S[0]+S[1]-2>Q||(se.maVr=R/S[1],R-=(Ft=V[Q-(S[1]-1)].vr)!==null&&Ft!==void 0?Ft:0);var Lt=P[Q-(S[0]-1)],ae=(zt=P[Q-S[0]])!==null&&zt!==void 0?zt:Lt,G=Lt.close,ht=(ne=Lt.volume)!==null&&ne!==void 0?ne:0;G>ae.close?E-=ht:ae.close>G?A-=ht:O-=ht}V.push(se)}),V}},Xt];function _e(P){var b;return(b=$t[P])!==null&&b!==void 0?b:null}pe.forEach(function(P){$t[P.name]=He.extend(P)});var Ve,Be=function(){function P(b){this._instances=new Map,this._chartStore=b}return P.prototype._overrideInstance=function(b,S){var E=S.shortName,A=S.series,O=S.calcParams,R=S.precision,V=S.figures,$=S.minValue,Q=S.maxValue,ot=S.shouldOhlc,xt=S.shouldFormatBigNumber,Ft=S.visible,zt=S.styles,ne=S.extendData,se=S.regenerateFigures,we=S.createTooltipDataSource,N=S.draw,st=S.calc,dt=!1;E!==void 0&&b.setShortName(E)&&(dt=!0),A!==void 0&&b.setSeries(A)&&(dt=!0);var Lt=!1;return O!==void 0&&b.setCalcParams(O)&&(dt=!0,Lt=!0),V!==void 0&&b.setFigures(V)&&(dt=!0,Lt=!0),$!==void 0&&b.setMinValue($)&&(dt=!0),Q!==void 0&&b.setMinValue(Q)&&(dt=!0),R!==void 0&&b.setPrecision(R)&&(dt=!0),ot!==void 0&&b.setShouldOhlc(ot)&&(dt=!0),xt!==void 0&&b.setShouldFormatBigNumber(xt)&&(dt=!0),Ft!==void 0&&b.setVisible(Ft)&&(dt=!0),zt!==void 0&&b.setStyles(zt)&&(dt=!0),ne!==void 0&&b.setExtendData(ne)&&(dt=!0,Lt=!0),se!==void 0&&b.setRegenerateFigures(se)&&(dt=!0),we!==void 0&&b.setCreateTooltipDataSource(we)&&(dt=!0),N!==void 0&&b.setDraw(N)&&(dt=!0),st!==void 0&&(b.calc=st,Lt=!0),[dt,Lt]},P.prototype.addInstance=function(b,S,E){var A;return oe(this,void 0,void 0,function(){var O,R,V,$;return ie(this,function(Q){switch(Q.label){case 0:return O=b.name,R=this._instances.get(S),(A=R==null?void 0:R.has(O))!==null&&A!==void 0&&A?[4,Promise.reject(Error("Duplicate indicators."))]:[3,2];case 1:case 3:return[2,Q.sent()];case 2:return R===void 0&&(R=new Map,this._instances.set(S,R)),V=_e(O),$=new V,this._overrideInstance($,b),E||R.clear(),R.set(O,$),[4,$.calcIndicator(this._chartStore.getDataList())]}})})},P.prototype.getInstances=function(b){var S;return(S=this._instances.get(b))!==null&&S!==void 0?S:new Map},P.prototype.removeInstance=function(b,S){var E=!1,A=this._instances.get(b);return A!==void 0&&(S!==void 0?A.has(S)&&(A.delete(S),E=!0):(A.clear(),E=!0),A.size===0&&this._instances.delete(b)),E},P.prototype.hasInstances=function(b){return this._instances.has(b)},P.prototype.calcInstance=function(b,S){var E;return oe(this,void 0,void 0,function(){var A,O,R,V=this;return ie(this,function($){switch($.label){case 0:return A=[],b!==void 0?S!==void 0?(O=this._instances.get(S),(E=O==null?void 0:O.has(b))!==null&&E!==void 0&&E&&(R=O==null?void 0:O.get(b),A.push(R.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach(function(Q){if(Q.has(b)){var ot=Q==null?void 0:Q.get(b);A.push(ot.calcIndicator(V._chartStore.getDataList()))}}):this._instances.forEach(function(Q){Q.forEach(function(ot){A.push(ot.calcIndicator(V._chartStore.getDataList()))})}),[4,Promise.all(A)];case 1:return[2,$.sent().includes(!0)]}})})},P.prototype.getInstanceByPaneId=function(b,S){var E;if(b!==void 0){var A=this._instances.get(b);return S!==void 0?(E=A==null?void 0:A.get(S))!==null&&E!==void 0?E:null:A!=null?A:null}return this._instances},P.prototype.setSeriesPrecision=function(b){this._instances.forEach(function(S){S.forEach(function(E){E.series===H.IndicatorSeries.Price&&E.setPrecision(b.price,!0),E.series===H.IndicatorSeries.Volume&&E.setPrecision(b.volume,!0)})})},P.prototype.override=function(b,S){return oe(this,void 0,void 0,function(){var E,A,O,R,V,$,Q=this;return ie(this,function(ot){switch(ot.label){case 0:return E=b.name,A=new Map,S!==null?(O=this._instances.get(S))!==void 0&&A.set(S,O):A=this._instances,R=!1,V=[],A.forEach(function(xt){var Ft=xt.get(E);if(Ft!==void 0){var zt=Q._overrideInstance(Ft,b);zt[1]?V.push(Ft.calcIndicator(Q._chartStore.getDataList())):zt[0]&&(R=!0)}}),[4,Promise.all(V)];case 1:return $=ot.sent(),[2,[R,$.includes(!0)]]}})})},P}(),Le=function(){function P(b){this._crosshair={},this._activeIcon=null,this._chartStore=b}return P.prototype.setCrosshair=function(b,S){var E,A,O=this._chartStore.getDataList(),R=b!=null?b:{},V=O[A=R.x!==void 0?0>(E=this._chartStore.getTimeScaleStore().coordinateToDataIndex(R.x))?0:E>O.length-1?O.length-1:E:E=O.length-1],$=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(E),Q=this._crosshair.x,ot=this._crosshair.y,xt=this._crosshair.paneId;this._crosshair=Ot(Ot({},R),{realX:$,kLineData:V,realDataIndex:E,dataIndex:A}),Q===R.x&&ot===R.y&&xt===R.paneId||(V!==null&&this._chartStore.getChart().crosshairChange(this._crosshair),S!=null&&S||this._chartStore.getChart().updatePane(1))},P.prototype.recalculateCrosshair=function(b){this.setCrosshair(this._crosshair,b)},P.prototype.getCrosshair=function(){return this._crosshair},P.prototype.setActiveIcon=function(b){this._activeIcon=b!=null?b:null},P.prototype.getActiveIcon=function(){return this._activeIcon},P.prototype.clear=function(){this.setCrosshair({},!0),this.setActiveIcon()},P}();H.OverlayMode=void 0,(Ve=H.OverlayMode||(H.OverlayMode={})).Normal="normal",Ve.WeakMagnet="weak_magnet",Ve.StrongMagnet="strong_magnet";var Ie="overlay_figure_",$e=Number.MAX_SAFE_INTEGER,Ze=function(){function P(b){this.currentStep=1,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var S=b.mode,E=b.modeSensitivity,A=b.extendData,O=b.styles,R=b.totalStep,V=b.lock,$=b.visible,Q=b.zLevel,ot=b.needDefaultPointFigure,xt=b.needDefaultXAxisFigure,Ft=b.needDefaultYAxisFigure,zt=b.createPointFigures,ne=b.createXAxisFigures,se=b.createYAxisFigures,we=b.performEventPressedMove,N=b.performEventMoveForDrawing,st=b.onDrawStart,dt=b.onDrawing,Lt=b.onDrawEnd,ae=b.onClick,G=b.onDoubleClick,ht=b.onRightClick,kt=b.onPressedMoveStart,Nt=b.onPressedMoving,he=b.onPressedMoveEnd,Ee=b.onMouseEnter,Ge=b.onMouseLeave,rr=b.onRemoved,vr=b.onSelected,yr=b.onDeselected;this.name=b.name,this.totalStep=R===void 0||2>R?1:R,this.lock=V!=null&&V,this.visible=$==null||$,this.zLevel=Q!=null?Q:0,this.needDefaultPointFigure=ot!=null&&ot,this.needDefaultXAxisFigure=xt!=null&&xt,this.needDefaultYAxisFigure=Ft!=null&&Ft,this.mode=S!=null?S:H.OverlayMode.Normal,this.modeSensitivity=E!=null?E:8,this.extendData=A,this.styles=O!=null?O:{},this.createPointFigures=zt!=null?zt:null,this.createXAxisFigures=ne!=null?ne:null,this.createYAxisFigures=se!=null?se:null,this.performEventPressedMove=we!=null?we:null,this.performEventMoveForDrawing=N!=null?N:null,this.onDrawStart=st!=null?st:null,this.onDrawing=dt!=null?dt:null,this.onDrawEnd=Lt!=null?Lt:null,this.onClick=ae!=null?ae:null,this.onDoubleClick=G!=null?G:null,this.onRightClick=ht!=null?ht:null,this.onPressedMoveStart=kt!=null?kt:null,this.onPressedMoving=Nt!=null?Nt:null,this.onPressedMoveEnd=he!=null?he:null,this.onMouseEnter=Ee!=null?Ee:null,this.onMouseLeave=Ge!=null?Ge:null,this.onRemoved=rr!=null?rr:null,this.onSelected=vr!=null?vr:null,this.onDeselected=yr!=null?yr:null}return P.prototype.setId=function(b){return this.id===void 0&&(this.id=b,!0)},P.prototype.setGroupId=function(b){return this.groupId===void 0&&(this.groupId=b,!0)},P.prototype.setDefaultZLevel=function(b){return this.defaultZLevel===void 0&&(this.defaultZLevel=b,!0)},P.prototype.setPaneId=function(b){this.paneId=b},P.prototype.setExtendData=function(b){return b!==this.extendData&&(this.extendData=b,!0)},P.prototype.setStyles=function(b){return b!==null&&(Pt(this.styles,b),!0)},P.prototype.setPoints=function(b){if(b.length>0){var S=void 0;if(this.points=me([],vt(b),!1),this.totalStep-1>b.length?(this.currentStep=b.length+1,S=b.length):(this.currentStep=-1,S=this.totalStep-1),this.performEventMoveForDrawing!==null)for(var E=0;S>E;E++)this.performEventMoveForDrawing({currentStep:E+2,mode:this.mode,points:this.points,performPointIndex:E,performPoint:this.points[E]});return this.currentStep===-1&&this.performEventPressedMove!==null&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},P.prototype.setLock=function(b){return this.lock!==b&&(this.lock=b,!0)},P.prototype.setVisible=function(b){return this.visible!==b&&(this.visible=b,!0)},P.prototype.resetZLevel=function(){this.zLevel=this.defaultZLevel},P.prototype.setZLevel=function(b){return this.zLevel!==b&&(this.zLevel=b,!0)},P.prototype.setMode=function(b){return this.mode!==b&&(this.mode=b,!0)},P.prototype.setModeSensitivity=function(b){return this.modeSensitivity!==b&&(this.modeSensitivity=b,!0)},P.prototype.setOnDrawStartCallback=function(b){return this.onDrawStart!==b&&(this.onDrawStart=b,!0)},P.prototype.setOnDrawingCallback=function(b){return this.onDrawing!==b&&(this.onDrawing=b,!0)},P.prototype.setOnDrawEndCallback=function(b){return this.onDrawEnd!==b&&(this.onDrawEnd=b,!0)},P.prototype.setOnClickCallback=function(b){return this.onClick!==b&&(this.onClick=b,!0)},P.prototype.setOnDoubleClickCallback=function(b){return this.onDoubleClick!==b&&(this.onDoubleClick=b,!0)},P.prototype.setOnRightClickCallback=function(b){return this.onRightClick!==b&&(this.onRightClick=b,!0)},P.prototype.setOnPressedMoveStartCallback=function(b){return this.onPressedMoveStart!==b&&(this.onPressedMoveStart=b,!0)},P.prototype.setOnPressedMovingCallback=function(b){return this.onPressedMoving!==b&&(this.onPressedMoving=b,!0)},P.prototype.setOnPressedMoveEndCallback=function(b){return this.onPressedMoveEnd!==b&&(this.onPressedMoveEnd=b,!0)},P.prototype.setOnMouseEnterCallback=function(b){return this.onMouseEnter!==b&&(this.onMouseEnter=b,!0)},P.prototype.setOnMouseLeaveCallback=function(b){return this.onMouseLeave!==b&&(this.onMouseLeave=b,!0)},P.prototype.setOnRemovedCallback=function(b){return this.onRemoved!==b&&(this.onRemoved=b,!0)},P.prototype.setOnSelectedCallback=function(b){return this.onSelected!==b&&(this.onSelected=b,!0)},P.prototype.setOnDeselectedCallback=function(b){return this.onDeselected!==b&&(this.onDeselected=b,!0)},P.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},P.prototype.forceComplete=function(){this.currentStep=-1},P.prototype.isDrawing=function(){return this.currentStep!==-1},P.prototype.isStart=function(){return this.currentStep===1},P.prototype.eventMoveForDrawing=function(b){var S,E=this.currentStep-1,A={};b.timestamp!==void 0&&(A.timestamp=b.timestamp),b.dataIndex!==void 0&&(A.dataIndex=b.dataIndex),b.value!==void 0&&(A.value=b.value),this.points[E]=A,(S=this.performEventMoveForDrawing)===null||S===void 0||S.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:E,performPoint:A})},P.prototype.eventPressedPointMove=function(b,S){var E;b.dataIndex!==void 0&&(this.points[S].dataIndex=b.dataIndex,this.points[S].timestamp=b.timestamp),b.value!==void 0&&(this.points[S].value=b.value),(E=this.performEventPressedMove)===null||E===void 0||E.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:S,performPoint:this.points[S]})},P.prototype.startPressedMove=function(b){this._prevPressedPoint=Ot({},b),this._prevPressedPoints=St(this.points)},P.prototype.eventPressedOtherMove=function(b,S){var E,A;this._prevPressedPoint!==null&&(b.dataIndex!==void 0&&this._prevPressedPoint.dataIndex!==void 0&&(E=b.dataIndex-this._prevPressedPoint.dataIndex),b.value!==void 0&&this._prevPressedPoint.value!==void 0&&(A=b.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(O){var R;O.dataIndex===void 0&&O.timestamp!==void 0&&(O.dataIndex=S.timestampToDataIndex(O.timestamp));var V=Ot({},O);return E!==void 0&&O.dataIndex!==void 0&&(V.dataIndex=O.dataIndex+E,V.timestamp=(R=S.dataIndexToTimestamp(V.dataIndex))!==null&&R!==void 0?R:void 0),A!==void 0&&O.value!==void 0&&(V.value=O.value+A),V}))},P.extend=function(b){return function(S){function E(){return S.call(this,b)||this}return Qt(E,S),E}(P)},P}(),er={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates,S=P.precision,E=P.thousandsSeparator,A=P.overlay.points;if(b.length>0){var O=[],R=[],V=P.bounding.width;if(b.length>1&&A[0].value!==void 0&&A[1].value!==void 0){var $=b[0].y-b[1].y,Q=A[0].value-A[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(ot){var xt,Ft=b[1].y+$*ot,zt=ve((((xt=A[1].value)!==null&&xt!==void 0?xt:0)+Q*ot).toFixed(S.price),E);O.push({coordinates:[{x:0,y:Ft},{x:V,y:Ft}]}),R.push({x:0,y:Ft,text:"".concat(zt," (").concat((100*ot).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:O},{type:"text",isCheckEvent:!1,attrs:R}]}return[]}},or={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates,S={x:0,y:b[0].y};return b[1]!==void 0&&b[1].x>b[0].x&&(S.x=P.bounding.width),[{type:"line",attrs:{coordinates:[b[0],S]}}]},performEventPressedMove:function(P){var b=P.points,S=P.performPoint;b[0].value=S.value,b[1].value=S.value},performEventMoveForDrawing:function(P){P.currentStep===2&&(P.points[0].value=P.performPoint.value)}},je=function(){function P(){this._children=[],this._callbacks=new Map}return P.prototype.registerEvent=function(b,S){return this._callbacks.set(b,S),this},P.prototype.onEvent=function(b,S,E){var A=this._callbacks.get(b);return!(A===void 0||!this.checkEventOn(S))&&A(S,E)},P.prototype.checkEventOn=function(b){var S,E;try{for(var A=et(this._children),O=A.next();!O.done;O=A.next())if(O.value.checkEventOn(b))return!0}catch(R){S={error:R}}finally{try{O&&!O.done&&(E=A.return)&&E.call(A)}finally{if(S)throw S.error}}return!1},P.prototype.dispatchEvent=function(b,S,E){var A=this._children.length-1;if(A>-1){for(var O=A;O>-1;O--)if(this._children[O].dispatchEvent(b,S,E))return!0}return this.onEvent(b,S,E)},P.prototype.addChild=function(b){return this._children.push(b),this},P.prototype.clear=function(){this._children=[]},P}(),qe=function(P){function b(S){var E=P.call(this)||this;return E.attrs=S.attrs,E.styles=S.styles,E}return Qt(b,P),b.prototype.checkEventOn=function(S){return this.checkEventOnImp(S,this.attrs,this.styles)},b.prototype.draw=function(S){this.drawImp(S,this.attrs,this.styles)},b.extend=function(S){var E=function(A){function O(){return A!==null&&A.apply(this,arguments)||this}return Qt(O,A),O.prototype.checkEventOnImp=function(R,V,$){return S.checkEventOn(R,V,$)},O.prototype.drawImp=function(R,V,$){S.draw(R,V,$)},O}(b);return E},b}(je);function hr(P,b){return Math.sqrt(Math.pow(P.x+b.x,2)+Math.pow(P.y+b.y,2))}function dr(P){var b=hr(P[0],P[1]),S=b+hr(P[1],P[2]),E=[P[2].x-P[0].x,P[2].y-P[0].y];return[{x:P[1].x-.5*E[0]*b/S,y:P[1].y-.5*E[1]*b/S},{x:P[1].x+.5*E[0]*b/S,y:P[1].y+.5*E[1]*b/S}]}function ur(P,b){var S=b.coordinates;if(S.length>1)for(var E=1;S.length>E;E++){var A=S[E-1],O=S[E];if(A.x===O.x){if(4>Math.abs(A.y-P.y)+Math.abs(O.y-P.y)-Math.abs(A.y-O.y)&&2>Math.abs(P.x-A.x))return!0}else{var R=gr(A,O),V=fr(R,P),$=Math.abs(V-P.y);if(4>Math.abs(A.x-P.x)+Math.abs(O.x-P.x)-Math.abs(A.x-O.x)&&4>$*$/(R[0]*R[0]+1))return!0}}return!1}function fr(P,b){return P!=null?b.x*P[0]+P[1]:b.y}function cr(P,b,S){return fr(gr(P,b),S)}function gr(P,b){var S=P.x-b.x;if(S!==0){var E=(P.y-b.y)/S;return[E,P.y-E*P.x]}return null}function Tr(P,b,S){var E=b.coordinates,A=E.length;if(A>1){var O=S.style,R=O===void 0?H.LineType.Solid:O,V=S.smooth,$=S.size,Q=S.color,ot=Q===void 0?"currentColor":Q,xt=S.dashedValue,Ft=xt===void 0?[2,2]:xt;if(P.lineWidth=$===void 0?1:$,P.strokeStyle=ot,P.setLineDash(R===H.LineType.Dashed?Ft:[]),P.beginPath(),P.moveTo(E[0].x,E[0].y),V!=null&&V){for(var zt=[],ne=1;A-1>ne;ne++)zt=zt.concat(dr([E[ne-1],E[ne],E[ne+1]]));P.quadraticCurveTo(zt[0].x,zt[0].y,E[1].x,E[1].y);for(var se=2;A-1>se;se++)P.bezierCurveTo(zt[2*(se-2)+1].x,zt[2*(se-2)+1].y,zt[2*(se-1)].x,zt[2*(se-1)].y,E[se].x,E[se].y);P.quadraticCurveTo(zt[2*(se-2)+1].x,zt[2*(se-2)+1].y,E[se].x,E[se].y)}else for(se=1;E.length>se;se++)P.lineTo(E[se].x,E[se].y);P.stroke(),P.closePath()}}var Or={name:"line",checkEventOn:ur,draw:function(P,b,S){Tr(P,b,S)}};function Nr(P,b,S){var E=S!=null?S:0,A=[];if(P.length>1)if(P[0].x===P[1].x){var O=b.height;if(A.push({coordinates:[{x:P[0].x,y:0},{x:P[0].x,y:O}]}),P.length>2){A.push({coordinates:[{x:P[2].x,y:0},{x:P[2].x,y:O}]});for(var R=P[0].x-P[2].x,V=0;E>V;V++){var $=R*(V+1);A.push({coordinates:[{x:P[0].x+$,y:0},{x:P[0].x+$,y:O}]})}}}else{var Q=b.width,ot=gr(P[0],P[1]),xt=ot[0],Ft=ot[1];if(A.push({coordinates:[{x:0,y:0*xt+Ft},{x:Q,y:Q*xt+Ft}]}),P.length>2){var zt=P[2].y-xt*P[2].x;for(A.push({coordinates:[{x:0,y:0*xt+zt},{x:Q,y:Q*xt+zt}]}),R=Ft-zt,V=0;E>V;V++){var ne=Ft+R*(V+1);A.push({coordinates:[{x:0,y:0*xt+ne},{x:Q,y:Q*xt+ne}]})}}}return A}function cn(P,b){if(P.length>1){var S=void 0;return S=P[0].x===P[1].x&&P[0].y!==P[1].y?P[1].y>P[0].y?{x:P[0].x,y:b.height}:{x:P[0].x,y:0}:P[0].x>P[1].x?{x:0,y:cr(P[0],P[1],{x:0,y:P[0].y})}:{x:b.width,y:cr(P[0],P[1],{x:b.width,y:P[0].y})},{coordinates:[P[0],S]}}return[]}var On={name:"simpleAnnotation",totalStep:2,styles:{text:{borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"},line:{style:H.LineType.Dashed}},createPointFigures:function(P){var b,S,E=P.overlay,A=P.coordinates;jt(E.extendData)&&(S=j(E.extendData)?E.extendData(E):(b=E.extendData)!==null&&b!==void 0?b:"");var O=A[0].x,R=A[0].y-6,V=R-50,$=V-5;return[{type:"line",attrs:{coordinates:[{x:O,y:R},{x:O,y:V}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:O,y:V},{x:O-4,y:$},{x:O+4,y:$}]},ignoreEvent:!0},{type:"text",attrs:{x:O,y:$,text:S!=null?S:"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Cn={name:"simpleTag",totalStep:2,styles:{text:{borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}},createPointFigures:function(P){var b=P.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:b[0].y},{x:P.bounding.width,y:b[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(P){var b,S,E,A,O,R=P.overlay,V=P.coordinates,$=P.bounding,Q=P.yAxis,ot=P.precision;return(b=Q==null?void 0:Q.isFromZero())!==null&&b!==void 0&&b?(E="left",A=0):(E="right",A=$.width),jt(R.extendData)&&(O=j(R.extendData)?R.extendData(R):(S=R.extendData)!==null&&S!==void 0?S:""),jt(O)||R.points[0].value===void 0||(O=ct(R.points[0].value,ot.price)),{type:"text",attrs:{x:A,y:V[0].y,text:O!=null?O:"",align:E,baseline:"middle"}}}},Tn={};function Wn(P){var b;return(b=Tn[P])!==null&&b!==void 0?b:null}function Sn(P){var b={width:0,height:0,left:0,right:0,top:0,bottom:0};return P!==void 0&&Pt(b,P),b}[er,or,{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates,S=[];return b.length===2&&S.push({coordinates:b}),[{type:"line",attrs:S}]},performEventPressedMove:function(P){var b=P.points,S=P.performPoint;b[0].value=S.value,b[1].value=S.value},performEventMoveForDrawing:function(P){P.currentStep===2&&(P.points[0].value=P.performPoint.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates;return[{type:"line",attrs:{coordinates:[{x:0,y:b[0].y},{x:P.bounding.width,y:b[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){return[{type:"line",attrs:Nr(P.coordinates,P.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){return[{type:"line",attrs:Nr(P.coordinates,P.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates,S=P.thousandsSeparator,E=P.overlay.points[0].value;return[{type:"line",attrs:{coordinates:[b[0],{x:P.bounding.width,y:b[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:b[0].x,y:b[0].y,text:ve((E===void 0?0:E).toFixed(P.precision.price),S),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){return[{type:"line",attrs:cn(P.coordinates,P.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates;return b.length===2?[{type:"line",attrs:{coordinates:b}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates,S=P.bounding;return b.length===2?b[0].x===b[1].x?[{type:"line",attrs:{coordinates:[{x:b[0].x,y:0},{x:b[0].x,y:S.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:cr(b[0],b[1],{x:0,y:b[0].y})},{x:S.width,y:cr(b[0],b[1],{x:S.width,y:b[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates;if(b.length===2){var S={x:b[0].x,y:0};return b[1].y>b[0].y&&(S.y=P.bounding.height),[{type:"line",attrs:{coordinates:[b[0],S]}}]}return[]},performEventPressedMove:function(P){var b=P.points,S=P.performPoint;b[0].timestamp=S.timestamp,b[0].dataIndex=S.dataIndex,b[1].timestamp=S.timestamp,b[1].dataIndex=S.dataIndex},performEventMoveForDrawing:function(P){var b=P.points,S=P.performPoint;P.currentStep===2&&(b[0].timestamp=S.timestamp,b[0].dataIndex=S.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates;return b.length===2?[{type:"line",attrs:{coordinates:b}}]:[]},performEventPressedMove:function(P){var b=P.points,S=P.performPoint;b[0].timestamp=S.timestamp,b[0].dataIndex=S.dataIndex,b[1].timestamp=S.timestamp,b[1].dataIndex=S.dataIndex},performEventMoveForDrawing:function(P){var b=P.points,S=P.performPoint;P.currentStep===2&&(b[0].timestamp=S.timestamp,b[0].dataIndex=S.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(P){var b=P.coordinates;return[{type:"line",attrs:{coordinates:[{x:b[0].x,y:0},{x:b[0].x,y:P.bounding.height}]}}]}},On,Cn].forEach(function(P){Tn[P.name]=Ze.extend(P)});var dn="main",pn="xAxis",Xr="yAxis",hn="separator",ri=function(P){function b(S,E){var A=P.call(this)||this;return A._bounding=Sn(),A._pane=E,A._init(S),A}return Qt(b,P),b.prototype._init=function(S){if(this._container=It("div",this.getContainerStyle()),this.insertBefore()){var E=S.lastChild;E!==null?S.insertBefore(this._container,E):S.appendChild(this._container)}else S.appendChild(this._container);this.initDom(this._container)},b.prototype.setBounding=function(S){return Pt(this._bounding,S),this},b.prototype.getContainer=function(){return this._container},b.prototype.getBounding=function(){return this._bounding},b.prototype.getPane=function(){return this._pane},b.prototype.update=function(S){this.updateImp(this._container,this._bounding,S!=null?S:3)},b.prototype.insertBefore=function(){return!1},b}(je),Ii=function(P){function b(S,E){var A,O,R,V=P.call(this,S,E)||this;return V._dragFlag=!1,V._dragStartY=0,V._topPaneHeight=0,V._currentPaneHeight=0,V._pressedMouseMoveEvent=(A=V._pressedTouchMouseMoveEvent,O=20,R=0,function(){var $=Date.now();$-R>(O!=null?O:20)&&(A.apply(this,arguments),R=$)}),V.registerEvent("touchStartEvent",V._mouseDownEvent.bind(V)).registerEvent("touchMoveEvent",V._pressedMouseMoveEvent.bind(V)).registerEvent("touchEndEvent",V._mouseUpEvent.bind(V)).registerEvent("mouseDownEvent",V._mouseDownEvent.bind(V)).registerEvent("mouseUpEvent",V._mouseUpEvent.bind(V)).registerEvent("pressedMouseMoveEvent",V._pressedMouseMoveEvent.bind(V)).registerEvent("mouseEnterEvent",V._mouseEnterEvent.bind(V)).registerEvent("mouseLeaveEvent",V._mouseLeaveEvent.bind(V)),V}return Qt(b,P),b.prototype.getName=function(){return hn},b.prototype.checkEventOn=function(){return!0},b.prototype._mouseDownEvent=function(S){var E,A;this._dragFlag=!0,this._dragStartY=S.pageY;var O=this.getPane();return this._topPaneHeight=(A=(E=O.getTopPane())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,this._currentPaneHeight=O.getBounding().height,!0},b.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},b.prototype._pressedTouchMouseMoveEvent=function(S){var E=S.pageY-this._dragStartY,A=this.getPane(),O=A.getTopPane(),R=0>E;if(O!==null&&A.getOptions().dragEnabled){var V=void 0,$=void 0,Q=void 0,ot=void 0;R?(V=O,$=A,Q=this._topPaneHeight,ot=this._currentPaneHeight):(V=A,$=O,Q=this._currentPaneHeight,ot=this._topPaneHeight);var xt=V.getOptions().minHeight;if(Q>xt){var Ft=Math.max(Q-Math.abs(E),xt),zt=Q-Ft;V.setBounding({height:Ft}),$.setBounding({height:ot+zt});var ne=A.getChart();ne.getChartStore().getActionStore().execute(H.ActionType.OnPaneDrag,{paneId:A.getId}),ne.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},b.prototype._mouseEnterEvent=function(){var S=this.getPane();if(S.getOptions().dragEnabled){var E=S.getChart().getStyles().separator;return this._moveDom.style.background=E.activeBackgroundColor,!0}return!1},b.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this._moveDom.style.background="",!0)},b.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}},b.prototype.insertBefore=function(){return!0},b.prototype.initDom=function(S){this._moveDom=It("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"}),S.appendChild(this._moveDom)},b.prototype.updateImp=function(S,E,A){if(A===4||A===2){var O=this.getPane().getChart().getStyles().separator;this._moveDom.style.top="".concat(-Math.floor((7-O.size)/2),"px"),this._moveDom.style.height="".concat(7,"px");var R=O.fill;S.style.backgroundColor=O.color,S.style.height="".concat(O.size,"px"),S.style.marginLeft="".concat(R?0:E.left,"px"),S.style.width=R?"100%":"".concat(E.width,"px")}},b.prototype.getImage=function(){var S=this.getPane().getChart().getStyles().separator,E=this.getContainer().offsetWidth,A=S.size,O=It("canvas",{width:"".concat(E,"px"),height:"".concat(A,"px"),boxSizing:"border-box"}),R=O.getContext("2d"),V=ft(O);return O.width=E*V,O.height=A*V,R.scale(V,V),R.fillStyle=S.color,R.fillRect(this.getBounding().left,0,E,A),O},b}(ri),Yr="candle_pane",$n="indicator_pane_",jr="xaxis_pane",gi=function(){function P(b,S,E,A,O){this._yAxisWidget=null,this._separatorWidget=null,this._axis=this.createAxisComponent(),this._bounding=Sn(),this._options={minHeight:30,dragEnabled:!0,gap:{top:.2,bottom:.1},axisOptions:{scrollZoomEnabled:!0}},this._chart=S,this._id=E,this._topPane=A!=null?A:null,this._bottomPane=O!=null?O:null,this._init(b)}return P.prototype._init=function(b){this._container=b,this._seriesContainer=It("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),this._separatorWidget=this.createSeparatorWidget(b);var S=b.lastChild;S!==null?b.insertBefore(this._seriesContainer,S):b.appendChild(this._seriesContainer),this._mainWidget=this.createMainWidget(this._seriesContainer),this._yAxisWidget=this.createYAxisWidget(this._seriesContainer)},P.prototype.getContainer=function(){return this._seriesContainer},P.prototype.getId=function(){return this._id},P.prototype.setOptions=function(b){var S,E,A,O,R;return Pt(this._options,b),this.getId()===jr?(O=this.getMainWidget().getContainer(),R="ew-resize"):(O=(S=this.getYAxisWidget())===null||S===void 0?void 0:S.getContainer(),R="ns-resize"),O.style.cursor=(A=(E=b.axisOptions)===null||E===void 0?void 0:E.scrollZoomEnabled)===null||A===void 0||A?R:"default",this},P.prototype.getOptions=function(){return this._options},P.prototype.getChart=function(){return this._chart},P.prototype.getAxisComponent=function(){return this._axis},P.prototype.setBounding=function(b,S,E){var A,O,R;Pt(this._bounding,b);var V=0;if(this._separatorWidget!==null){V=this._chart.getStyles().separator.size;var $=Ot(Ot({},b),{height:7});b.top!==void 0&&($.top=b.top-Math.floor((7-V)/2)),this._separatorWidget.setBounding($)}var Q={};return b.height!==void 0&&(Q.height=b.height-V),b.top!==void 0&&(Q.top=b.top+V),this._mainWidget.setBounding(Q),(A=this._yAxisWidget)===null||A===void 0||A.setBounding(Q),S!==void 0&&(this._mainWidget.setBounding(S),(O=this._separatorWidget)===null||O===void 0||O.setBounding(S)),E!==void 0&&((R=this._yAxisWidget)===null||R===void 0||R.setBounding(E)),this},P.prototype.getTopPane=function(){return this._topPane},P.prototype.setTopPane=function(b){return this._topPane=b,this},P.prototype.getBottomPane=function(){return this._bottomPane},P.prototype.setBottomPane=function(b){return this._bottomPane=b,this},P.prototype.getBounding=function(){return this._bounding},P.prototype.getMainWidget=function(){return this._mainWidget},P.prototype.getYAxisWidget=function(){return this._yAxisWidget},P.prototype.getSeparatorWidget=function(){return this._separatorWidget},P.prototype.update=function(b){var S,E;this._bounding.width!==this._seriesContainer.offsetWidth&&(this._seriesContainer.style.width="".concat(this._bounding.width,"px"));var A=this._mainWidget.getBounding().height;A!==this._seriesContainer.offsetHeight&&(this._seriesContainer.style.height="".concat(A,"px"));var O=b!=null?b:3;this._mainWidget.update(O),(S=this._yAxisWidget)===null||S===void 0||S.update(O),(E=this._separatorWidget)===null||E===void 0||E.update(O)},P.prototype.getImage=function(b){var S=this._bounding,E=S.width,A=S.height,O=It("canvas",{width:"".concat(E,"px"),height:"".concat(A,"px"),boxSizing:"border-box"}),R=O.getContext("2d"),V=ft(O);O.width=E*V,O.height=A*V,R.scale(V,V);var $=0;if(this._separatorWidget!=null){var Q=this.getChart().getStyles().separator.size;$=Q,R.drawImage(this._separatorWidget.getImage(),0,0,E,Q)}var ot=this._mainWidget.getBounding();if(R.drawImage(this._mainWidget.getImage(b),ot.left,$,ot.width,ot.height),this._yAxisWidget!==null){var xt=this._yAxisWidget.getBounding();R.drawImage(this._yAxisWidget.getImage(b),xt.left,$,xt.width,xt.height)}return O},P.prototype.destroy=function(){this._container.removeChild(this._seriesContainer),this._separatorWidget!==null&&this._container.removeChild(this._separatorWidget.getContainer())},P.prototype.createSeparatorWidget=function(b){return null},P.prototype.createYAxisWidget=function(b){return null},P}(),Fi=function(){function P(b){this._instances=new Map,this._counter=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=b}return P.prototype._overrideInstance=function(b,S){var E=S.id,A=S.groupId,O=S.points,R=S.styles,V=S.lock,$=S.visible,Q=S.zLevel,ot=S.mode,xt=S.modeSensitivity,Ft=S.extendData,zt=S.onDrawStart,ne=S.onDrawing,se=S.onDrawEnd,we=S.onClick,N=S.onDoubleClick,st=S.onRightClick,dt=S.onPressedMoveStart,Lt=S.onPressedMoving,ae=S.onPressedMoveEnd,G=S.onMouseEnter,ht=S.onMouseLeave,kt=S.onRemoved,Nt=S.onSelected,he=S.onDeselected,Ee=!1,Ge=!1;return E!==void 0&&b.setId(E),A!==void 0&&b.setGroupId(A),O!==void 0&&b.setPoints(O)&&(Ee=!0),R!==void 0&&b.setStyles(R)&&(Ee=!0),V!==void 0&&b.setLock(V),$!==void 0&&b.setVisible($)&&(Ee=!0),Q!==void 0&&b.setZLevel(Q)&&(Ee=!0,Ge=!0),ot!==void 0&&b.setMode(ot),xt!==void 0&&b.setModeSensitivity(xt),Ft!==void 0&&b.setExtendData(Ft)&&(Ee=!0),zt!==void 0&&b.setOnDrawStartCallback(zt),ne!==void 0&&b.setOnDrawingCallback(ne),se!==void 0&&b.setOnDrawEndCallback(se),we!==void 0&&b.setOnClickCallback(we),N!==void 0&&b.setOnDoubleClickCallback(N),st!==void 0&&b.setOnRightClickCallback(st),dt!==void 0&&b.setOnPressedMoveStartCallback(dt),Lt!==void 0&&b.setOnPressedMovingCallback(Lt),ae!==void 0&&b.setOnPressedMoveEndCallback(ae),G!==void 0&&b.setOnMouseEnterCallback(G),ht!==void 0&&b.setOnMouseLeaveCallback(ht),kt!==void 0&&b.setOnRemovedCallback(kt),Nt!==void 0&&b.setOnSelectedCallback(Nt),he!==void 0&&b.setOnDeselectedCallback(he),[Ee,Ge]},P.prototype.getInstanceById=function(b){var S,E;try{for(var A=et(this._instances),O=A.next();!O.done;O=A.next()){var R=O.value[1].find(function(V){return V.id===b});if(R!==void 0)return R}}catch(V){S={error:V}}finally{try{O&&!O.done&&(E=A.return)&&E.call(A)}finally{if(S)throw S.error}}return this._progressInstanceInfo!==null&&this._progressInstanceInfo.instance.id===b?this._progressInstanceInfo.instance:null},P.prototype._sort=function(b){var S;b!==void 0?(S=this._instances.get(b))===null||S===void 0||S.sort(function(E,A){return E.defaultZLevel-A.defaultZLevel}).sort(function(E,A){return E.zLevel-A.zLevel}):this._instances.forEach(function(E){E.sort(function(A,O){return A.defaultZLevel-O.defaultZLevel}).sort(function(A,O){return A.zLevel-O.zLevel})})},P.prototype.addInstances=function(b,S,E){var A=this,O=b.map(function(R){var V,$,Q,ot,xt,Ft=(V=R.id)!==null&&V!==void 0?V:Tt("overlay_");if(A.getInstanceById(Ft)===null){var zt=Wn(R.name);if(zt!==null){var ne=new zt,se=(($=A._counter.get(S))!==null&&$!==void 0?$:0)+1;A._counter.set(S,se),ne.setDefaultZLevel(se),ne.setPaneId(S);var we=(Q=R.groupId)!==null&&Q!==void 0?Q:Ft;return R.id=Ft,R.groupId=we,A._overrideInstance(ne,R),ne.isDrawing()?A._progressInstanceInfo={paneId:S,instance:ne,appointPaneFlag:E}:(A._instances.has(S)||A._instances.set(S,[]),(ot=A._instances.get(S))===null||ot===void 0||ot.push(ne)),ne.isStart()&&((xt=ne.onDrawStart)===null||xt===void 0||xt.call(ne,{overlay:ne})),Ft}}return null});return O.some(function(R){return R!==null})&&(this._sort(),this._chartStore.getChart().updatePane(1,S)),O},P.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},P.prototype.progressInstanceComplete=function(){var b;if(this._progressInstanceInfo!==null){var S=this._progressInstanceInfo,E=S.instance,A=S.paneId;E.isDrawing()||(this._instances.has(A)||this._instances.set(A,[]),(b=this._instances.get(A))===null||b===void 0||b.push(E),this._sort(A),this._progressInstanceInfo=null)}},P.prototype.updateProgressInstanceInfo=function(b,S){this._progressInstanceInfo!==null&&(S!==void 0&&S&&(this._progressInstanceInfo.appointPaneFlag=S),this._progressInstanceInfo.paneId=b,this._progressInstanceInfo.instance.setPaneId(b))},P.prototype.getInstances=function(b){var S;if(b===void 0){var E=[];return this._instances.forEach(function(A){E=E.concat(A)}),E}return(S=this._instances.get(b))!==null&&S!==void 0?S:[]},P.prototype.override=function(b){var S=this,E=b.id,A=b.groupId,O=b.name,R=!1,V=!1,$=function(xt){var Ft=S._overrideInstance(xt,b);Ft[0]&&(R=!0),Ft[1]&&(V=!0)};if(E!==void 0){var Q=this.getInstanceById(E);Q!==null&&$(Q)}else if(this._instances.forEach(function(xt){xt.forEach(function(Ft){(O!==void 0&&Ft.name===O||A!==void 0&&Ft.groupId===A||O===void 0&&A===void 0)&&$(Ft)})}),this._progressInstanceInfo!==null){var ot=this._progressInstanceInfo.instance;(O!==void 0&&ot.name===O||A!==void 0&&ot.groupId===A||O===void 0&&A===void 0)&&$(ot)}V&&this._sort(),R&&this._chartStore.getChart().updatePane(1)},P.prototype.removeInstance=function(b){var S,E,A,O=function(zt,ne){if(zt.id!==void 0){if(ne.id!==zt.id)return!1}else if(zt.groupId!==void 0){if(ne.groupId!==zt.groupId)return!1}else if(zt.name!==void 0&&ne.name!==zt.name)return!1;return!0},R=[];if(this._progressInstanceInfo!==null){var V=this._progressInstanceInfo.instance;(b===void 0||b!==void 0&&O(b,V))&&(R.push(this._progressInstanceInfo.paneId),(A=V.onRemoved)===null||A===void 0||A.call(V,{overlay:V}),this._progressInstanceInfo=null)}if(b!==void 0){var $=new Map,Q=function(zt){var ne=zt[1].filter(function(se){var we;return!O(b,se)||(R.includes(zt[0])||R.push(zt[0]),(we=se.onRemoved)===null||we===void 0||we.call(se,{overlay:se}),!1)});ne.length>0&&$.set(zt[0],ne)};try{for(var ot=et(this._instances),xt=ot.next();!xt.done;xt=ot.next())Q(xt.value)}catch(zt){S={error:zt}}finally{try{xt&&!xt.done&&(E=ot.return)&&E.call(ot)}finally{if(S)throw S.error}}this._instances=$}else this._instances.forEach(function(zt,ne){R.push(ne),zt.forEach(function(se){var we;(we=se.onRemoved)===null||we===void 0||we.call(se,{overlay:se})})}),this._instances.clear();if(R.length>0){var Ft=this._chartStore.getChart();R.forEach(function(zt){Ft.updatePane(1,zt)}),Ft.updatePane(1,jr)}},P.prototype.setPressedInstanceInfo=function(b){this._pressedInstanceInfo=b},P.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},P.prototype.setHoverInstanceInfo=function(b,S){var E,A,O=this._hoverInstanceInfo,R=O.instance,V=O.figureKey,$=O.figureIndex;if(((R==null?void 0:R.id)!==((E=b.instance)===null||E===void 0?void 0:E.id)||O.figureType!==b.figureType||$!==b.figureIndex)&&(this._hoverInstanceInfo=b,(R==null?void 0:R.id)!==((A=b.instance)===null||A===void 0?void 0:A.id))){var Q=!1,ot=!1;R!==null&&(ot=!0,R.resetZLevel(),j(R.onMouseLeave)&&(R.onMouseLeave(Ot({overlay:R,figureKey:V,figureIndex:$},S)),Q=!0)),b.instance!==null&&(ot=!0,b.instance.setZLevel($e),j(b.instance.onMouseEnter)&&(b.instance.onMouseEnter(Ot({overlay:b.instance,figureKey:b.figureKey,figureIndex:b.figureIndex},S)),Q=!0)),ot&&this._sort(),Q||this._chartStore.getChart().updatePane(1)}},P.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},P.prototype.setClickInstanceInfo=function(b,S){var E,A,O,R,V,$,Q,ot,xt,Ft=this._clickInstanceInfo,zt=Ft.paneId,ne=Ft.instance,se=Ft.figureType,we=Ft.figureKey,N=Ft.figureIndex;if((A=(E=b.instance)===null||E===void 0?void 0:E.isDrawing())!==null&&A!==void 0&&A||(R=(O=b.instance)===null||O===void 0?void 0:O.onClick)===null||R===void 0||R.call(O,Ot({overlay:b.instance,figureKey:b.figureKey,figureIndex:b.figureIndex},S)),((ne==null?void 0:ne.id)!==((V=b.instance)===null||V===void 0?void 0:V.id)||se!==b.figureType||N!==b.figureIndex)&&(this._clickInstanceInfo=b,(ne==null?void 0:ne.id)!==(($=b.instance)===null||$===void 0?void 0:$.id))){(Q=ne==null?void 0:ne.onDeselected)===null||Q===void 0||Q.call(ne,Ot({overlay:ne,figureKey:we,figureIndex:N},S)),(xt=(ot=b.instance)===null||ot===void 0?void 0:ot.onSelected)===null||xt===void 0||xt.call(ot,Ot({overlay:b.instance,figureKey:b.figureKey,figureIndex:b.figureIndex},S));var st=this._chartStore.getChart();st.updatePane(1,b.paneId),zt!==b.paneId&&st.updatePane(1,zt),st.updatePane(1,jr)}},P.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},P.prototype.isEmpty=function(){return this._instances.size===0&&this._progressInstanceInfo===null},P.prototype.isDrawing=function(){var b,S;return this._progressInstanceInfo!==null&&(S=(b=this._progressInstanceInfo)===null||b===void 0?void 0:b.instance.isDrawing())!==null&&S!==void 0&&S},P}(),da=function(){function P(){this._actions=new Map}return P.prototype.execute=function(b,S){var E;(E=this._actions.get(b))===null||E===void 0||E.execute(S)},P.prototype.subscribe=function(b,S){var E;this._actions.has(b)||this._actions.set(b,new ye),(E=this._actions.get(b))===null||E===void 0||E.subscribe(S)},P.prototype.unsubscribe=function(b,S){var E=this._actions.get(b);E!==void 0&&(E.unsubscribe(S),E.isEmpty()&&this._actions.delete(b))},P.prototype.has=function(b){var S=this._actions.get(b);return S!==void 0&&!S.isEmpty()},P}(),Xi={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function ea(P){var b;return(b=Xi[P])!==null&&b!==void 0?b:null}var ra=function(){function P(b,S){this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:H.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:H.LineType.Dashed,dashedValue:[2,2]}},candle:{type:H.CandleType.CandleSolid,bar:{upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",upBorderColor:"#2DC08E",downBorderColor:"#F92855",noChangeBorderColor:"#888888",upWickColor:"#2DC08E",downWickColor:"#F92855",noChangeWickColor:"#888888"},area:{lineSize:2,lineColor:"#1677FF",value:"close",backgroundColor:[{offset:0,color:"rgba(22, 119, 255, 0.01)"},{offset:1,color:"rgba(22, 119, 255, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",line:{show:!0,style:H.LineType.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:H.PolygonType.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:H.LineType.Solid,borderSize:0,borderDashedValue:[2,2],color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:H.TooltipShowRule.Always,showType:H.TooltipShowType.Standard,custom:null,defaultValue:"n/a",rect:{position:Bt.Fixed,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},indicator:{ohlc:{upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"},bars:[{style:H.PolygonType.Fill,borderStyle:H.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lines:[{style:H.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#FF9600"},{style:H.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#935EBD"},{style:H.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#1677FF"},{style:H.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#E11D74"},{style:H.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:H.PolygonType.Fill,borderStyle:H.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lastValueMark:{show:!1,text:{show:!1,style:H.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:H.LineType.Solid,borderColor:"transparent",borderSize:1,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:H.TooltipShowRule.Always,showType:H.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,size:"auto",type:H.YAxisType.Normal,position:H.YAxisPosition.Right,inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:H.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:H.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:H.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:"#686D76",borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:H.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:H.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:H.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#686D76",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:H.LineType.Solid,smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:H.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:H.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:H.PolygonType.Fill,color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:H.LineType.Solid,borderDashedValue:[2,2]},circle:{style:H.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:H.LineType.Solid,borderDashedValue:[2,2]},arc:{style:H.LineType.Solid,color:"#1677FF",size:1,dashedValue:[2,2]},text:{style:H.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:H.LineType.Solid,borderDashedValue:[2,2],borderSize:0,borderRadius:2,borderColor:"#1677FF",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,backgroundColor:"transparent"},rectText:{style:H.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:H.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}}},this._customApi={formatDate:wt,formatBigNumber:ue},this._locale="en-US",this._precision={price:2,volume:0},this._thousandsSeparator=",",this._dataList=[],this._timeScaleStore=new Kt(this),this._indicatorStore=new Be(this),this._overlayStore=new Fi(this),this._tooltipStore=new Le(this),this._actionStore=new da,this._visibleDataList=[],this._chart=b,this.setOptions(S)}return P.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var b=this._timeScaleStore.getVisibleRange(),S=b.to,E=b.from;S>E;E++){var A=this._dataList[E],O=this._timeScaleStore.dataIndexToCoordinate(E);this._visibleDataList.push({dataIndex:E,x:O,data:A})}},P.prototype.setOptions=function(b){if(b!==void 0){var S=b.locale,E=b.timezone,A=b.styles,O=b.customApi;S!==void 0&&(this._locale=S),E!==void 0&&this._timeScaleStore.setTimezone(E),A!==void 0&&(ce(A)?Pt(this._styles,ea(A)):Pt(this._styles,A)),O!==void 0&&Pt(this._customApi,O),b.thousandsSeparator!==void 0&&(this._thousandsSeparator=b.thousandsSeparator)}return this},P.prototype.getStyles=function(){return this._styles},P.prototype.getLocale=function(){return this._locale},P.prototype.getCustomApi=function(){return this._customApi},P.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},P.prototype.getPrecision=function(){return this._precision},P.prototype.setPrecision=function(b){return this._precision=b,this._indicatorStore.setSeriesPrecision(b),this},P.prototype.getDataList=function(){return this._dataList},P.prototype.getVisibleDataList=function(){return this._visibleDataList},P.prototype.addData=function(b,S,E){if(q(b)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(E==null||E);var A=this._dataList.length===0;this._dataList=b.concat(this._dataList),A&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else if(S<this._dataList.length)this._dataList[S]=b,this.adjustVisibleDataList();else{this._dataList.push(b);var O=this._timeScaleStore.getOffsetRightBarCount();0>O&&this._timeScaleStore.setOffsetRightBarCount(--O),this._timeScaleStore.adjustVisibleRange()}this._tooltipStore.recalculateCrosshair(!0)},P.prototype.clear=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear(),this._tooltipStore.clear()},P.prototype.getTimeScaleStore=function(){return this._timeScaleStore},P.prototype.getIndicatorStore=function(){return this._indicatorStore},P.prototype.getOverlayStore=function(){return this._overlayStore},P.prototype.getTooltipStore=function(){return this._tooltipStore},P.prototype.getActionStore=function(){return this._actionStore},P.prototype.getChart=function(){return this._chart},P}();function Zi(P){return window.requestAnimationFrame==null?window.setTimeout(P,20):window.requestAnimationFrame(P)}function wr(P){window.cancelAnimationFrame==null&&window.clearTimeout(P),window.cancelAnimationFrame(P)}var ni=-1,yi=function(P){function b(){var S=P!==null&&P.apply(this,arguments)||this;return S._mainRequestAnimationId=ni,S._overlayRequestAnimationId=ni,S}return Qt(b,P),b.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}},b.prototype.initDom=function(S){this._mainCanvas=It("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=It("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d"),S.appendChild(this._mainCanvas),S.appendChild(this._overlayCanvas)},b.prototype._optimalUpdateMain=function(S,E){var A=this;this._mainRequestAnimationId!==ni&&(wr(this._mainRequestAnimationId),this._mainRequestAnimationId=ni),this._mainRequestAnimationId=Zi(function(){if(S!==A._mainCanvas.offsetWidth||E!==A._mainCanvas.offsetHeight){A._mainCtx.clearRect(0,0,A._mainCanvas.offsetWidth,A._mainCanvas.offsetHeight);var O=ft(A._mainCanvas),R=Math.floor(S*O),V=Math.floor(E*O);A._mainCanvas.style.width="".concat(S,"px"),A._mainCanvas.style.height="".concat(E,"px"),A._mainCanvas.width=R,A._mainCanvas.height=V,A._mainCtx.scale(O,O)}else A._mainCtx.clearRect(0,0,A._mainCanvas.offsetWidth,A._mainCanvas.offsetHeight);A.updateMain(A._mainCtx)})},b.prototype._optimalUpdateOverlay=function(S,E){var A=this;this._overlayRequestAnimationId!==ni&&(wr(this._overlayRequestAnimationId),this._overlayRequestAnimationId=ni),this._overlayRequestAnimationId=Zi(function(){if(S!==A._overlayCanvas.offsetWidth||E!==A._overlayCanvas.offsetHeight){A._overlayCtx.clearRect(0,0,A._overlayCanvas.offsetWidth,A._overlayCanvas.offsetHeight);var O=ft(A._overlayCanvas),R=Math.floor(S*O),V=Math.floor(E*O);A._overlayCanvas.style.width="".concat(S,"px"),A._overlayCanvas.style.height="".concat(E,"px"),A._overlayCanvas.width=R,A._overlayCanvas.height=V,A._overlayCtx.scale(O,O)}else A._overlayCtx.clearRect(0,0,A._overlayCanvas.offsetWidth,A._overlayCanvas.offsetHeight);A.updateOverlay(A._overlayCtx)})},b.prototype.updateImp=function(S,E,A){var O=E.width,R=E.height;S.style.left="".concat(E.left,"px");var V=A;switch(O===S.offsetWidth&&R===S.offsetHeight||(S.style.width="".concat(O,"px"),S.style.height="".concat(R,"px"),V=3),V){case 0:this._optimalUpdateMain(O,R);break;case 1:this._optimalUpdateOverlay(O,R);break;case 3:case 4:this._optimalUpdateMain(O,R),this._optimalUpdateOverlay(O,R)}},b.prototype.getImage=function(S){var E=this.getBounding(),A=E.width,O=E.height,R=It("canvas",{width:"".concat(A,"px"),height:"".concat(O,"px"),boxSizing:"border-box"}),V=R.getContext("2d"),$=ft(R);return R.width=A*$,R.height=O*$,V.scale($,$),V.drawImage(this._mainCanvas,0,0,A,O),S&&V.drawImage(this._overlayCanvas,0,0,A,O),R},b}(ri);function mi(P,b){var S=P.x-b.x,E=P.y-b.y,A=b.r;return!(S*S+E*E>A*A)}function xi(P,b,S){var E=b.x,A=b.y,O=b.r,R=S.style,V=R===void 0?H.PolygonType.Fill:R,$=S.color,Q=S.borderSize,ot=Q===void 0?1:Q,xt=S.borderColor,Ft=xt===void 0?"currentColor":xt,zt=S.borderStyle,ne=zt===void 0?H.LineType.Solid:zt,se=S.borderDashedValue,we=se===void 0?[2,2]:se;V!==H.PolygonType.Fill&&S.style!==H.PolygonType.StrokeFill||(P.fillStyle=$===void 0?"currentColor":$,P.beginPath(),P.arc(E,A,O,0,2*Math.PI),P.closePath(),P.fill()),V!==H.PolygonType.Stroke&&S.style!==H.PolygonType.StrokeFill||(P.strokeStyle=Ft,P.lineWidth=ot,P.setLineDash(ne===H.LineType.Dashed?we:[]),P.beginPath(),P.arc(E,A,O,0,2*Math.PI),P.closePath(),P.stroke())}var bi={name:"circle",checkEventOn:mi,draw:function(P,b,S){xi(P,b,S)}};function Gn(P,b){for(var S=!1,E=b.coordinates,A=0,O=E.length-1;E.length>A;O=A++)E[A].y>P.y!=E[O].y>P.y&&(E[O].x-E[A].x)*(P.y-E[A].y)/(E[O].y-E[A].y)+E[A].x>P.x&&(S=!S);return S}function Bn(P,b,S){var E=b.coordinates,A=S.style,O=A===void 0?H.PolygonType.Fill:A,R=S.color,V=S.borderSize,$=V===void 0?1:V,Q=S.borderColor,ot=Q===void 0?"currentColor":Q,xt=S.borderStyle,Ft=xt===void 0?H.LineType.Solid:xt,zt=S.borderDashedValue,ne=zt===void 0?[2,2]:zt;if(O===H.PolygonType.Fill||S.style===H.PolygonType.StrokeFill){P.fillStyle=R===void 0?"currentColor":R,P.beginPath(),P.moveTo(E[0].x,E[0].y);for(var se=1;E.length>se;se++)P.lineTo(E[se].x,E[se].y);P.closePath(),P.fill()}if(O===H.PolygonType.Stroke||S.style===H.PolygonType.StrokeFill){for(P.strokeStyle=ot,P.lineWidth=$,P.setLineDash(Ft===H.LineType.Dashed?ne:[]),P.beginPath(),P.moveTo(E[0].x,E[0].y),se=1;E.length>se;se++)P.lineTo(E[se].x,E[se].y);P.closePath(),P.stroke()}}var Fa={name:"polygon",checkEventOn:Gn,draw:function(P,b,S){Bn(P,b,S)}};function ki(P){return P==="transparent"}function qt(P,b){var S=b.x,E=b.width;4>E&&(S-=2,E=4);var A=b.y,O=b.height;return 4>O&&(A-=2,O=4),!(S>P.x||P.x>S+E||A>P.y||P.y>A+O)}function mt(P,b,S){var E=b.x,A=b.y,O=b.width,R=b.height,V=S.style,$=V===void 0?H.PolygonType.Fill:V,Q=S.color,ot=Q===void 0?"transparent":Q,xt=S.borderSize,Ft=xt===void 0?1:xt,zt=S.borderColor,ne=zt===void 0?"transparent":zt,se=S.borderStyle,we=se===void 0?H.LineType.Solid:se,N=S.borderRadius,st=N===void 0?0:N,dt=S.borderDashedValue,Lt=dt===void 0?[2,2]:dt;if($===H.PolygonType.Fill||S.style===H.PolygonType.StrokeFill){var ae=!0;ce(ot)&&(ae=!ki(ot)),ae&&(P.fillStyle=ot,P.beginPath(),P.moveTo(E+st,A),P.arcTo(E+O,A,E+O,A+R,st),P.arcTo(E+O,A+R,E,A+R,st),P.arcTo(E,A+R,E,A,st),P.arcTo(E,A,E+O,A,st),P.closePath(),P.fill())}$!==H.PolygonType.Stroke&&S.style!==H.PolygonType.StrokeFill||ki(ne)||0>Ft||(P.strokeStyle=ne,P.lineWidth=Ft,P.setLineDash(we===H.LineType.Dashed?Lt:[]),P.beginPath(),P.moveTo(E+st,A),P.arcTo(E+O,A,E+O,A+R,st),P.arcTo(E+O,A+R,E,A+R,st),P.arcTo(E,A+R,E,A,st),P.arcTo(E,A,E+O,A,st),P.closePath(),P.stroke())}var Zt={name:"rect",checkEventOn:qt,draw:function(P,b,S){mt(P,b,S)}};function xe(P,b){var S,E,A=b.size,O=A===void 0?12:A,R=b.paddingLeft,V=b.paddingTop,$=V===void 0?0:V,Q=b.paddingRight,ot=Q===void 0?0:Q,xt=b.paddingBottom,Ft=xt===void 0?0:xt,zt=b.weight,ne=P.x,se=P.y,we=P.align,N=we===void 0?"left":we,st=P.baseline,dt=st===void 0?"top":st,Lt=P.width,ae=P.height,G=Lt!=null?Lt:(R===void 0?0:R)+ee(P.text,O,zt===void 0?"normal":zt,b.family)+ot,ht=ae!=null?ae:$+O+Ft;switch(N){case"left":case"start":S=ne;break;case"right":case"end":S=ne-G;break;default:S=ne-G/2}switch(dt){case"top":case"hanging":E=se;break;case"bottom":case"ideographic":case"alphabetic":E=se-ht;break;default:E=se-ht/2}return{x:S,y:E,width:G,height:ht}}function Oe(P,b,S){var E=xe(b,S),A=E.x,O=E.y;return!(A>P.x||P.x>A+E.width||O>P.y||P.y>O+E.height)}function tr(P,b,S){var E=b.text,A=S.color,O=A===void 0?"currentColor":A,R=S.size,V=R===void 0?12:R,$=S.family,Q=S.weight,ot=S.paddingLeft,xt=ot===void 0?0:ot,Ft=S.paddingTop,zt=Ft===void 0?0:Ft,ne=S.paddingRight,se=ne===void 0?0:ne,we=xe(b,S);mt(P,we,Ot(Ot({},S),{color:S.backgroundColor})),P.textAlign="left",P.textBaseline="top",P.font=Jt(V,Q,$),P.fillStyle=O,P.fillText(E,we.x+xt,we.y+zt,we.width-xt-se)}var lr={name:"text",checkEventOn:function(P,b,S){return Oe(P,b,S)},draw:function(P,b,S){tr(P,b,S)}},ir=tr;function Er(P,b){if(2>Math.abs(Math.sqrt((xt=(Q=P).x-(ot=b).x)*xt+(Ft=Q.y-ot.y)*Ft)-b.r)){var S=b.r,E=b.startAngle,A=b.endAngle,O=S*Math.cos(E)+b.x,R=S*Math.sin(E)+b.y,V=S*Math.cos(A)+b.x,$=S*Math.sin(A)+b.y;return!(P.x>Math.max(O,V)+2||Math.min(O,V)-2>P.x||P.y>Math.max(R,$)+2||Math.min(R,$)-2>P.y)}var Q,ot,xt,Ft;return!1}function nn(P,b,S){var E=b.x,A=b.y,O=b.r,R=b.startAngle,V=b.endAngle,$=S.style,Q=$===void 0?H.LineType.Solid:$,ot=S.size,xt=S.color,Ft=xt===void 0?"currentColor":xt,zt=S.dashedValue,ne=zt===void 0?[2,2]:zt;P.lineWidth=ot===void 0?1:ot,P.strokeStyle=Ft,P.setLineDash(Q===H.LineType.Dashed?ne:[]),P.beginPath(),P.arc(E,A,O,R,V),P.stroke(),P.closePath()}var An={name:"arc",checkEventOn:Er,draw:function(P,b,S){nn(P,b,S)}},on={};[bi,Or,Fa,Zt,lr,lr,An].forEach(function(P){on[P.name]=qe.extend(P)});var fn=function(P){function b(S){var E=P.call(this)||this;return E._widget=S,E}return Qt(b,P),b.prototype.getWidget=function(){return this._widget},b.prototype.createFigure=function(S,E,A,O){var R=function(Q){var ot;return(ot=on[Q])!==null&&ot!==void 0?ot:null}(S);if(R!==null){var V=new R({name:S,attrs:E,styles:A});if(O!==void 0){for(var $ in O)O.hasOwnProperty($)&&V.registerEvent($,O[$]);this.addChild(V)}return V}return null},b.prototype.draw=function(S){this.clear(),this.drawImp(S)},b}(je),an=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this,O=this.getWidget(),R=this.getWidget().getPane(),V=R.getChart(),$=O.getBounding(),Q=V.getStyles().grid;if(Q.show){S.save(),S.globalCompositeOperation="destination-over";var ot=Q.horizontal;ot.show&&R.getAxisComponent().getTicks().forEach(function(Ft){var zt;(zt=A.createFigure("line",{coordinates:[{x:0,y:Ft.coord},{x:$.width,y:Ft.coord}]},ot))===null||zt===void 0||zt.draw(S)});var xt=Q.vertical;xt.show&&((E=V.getPaneById(jr))===null||E===void 0?void 0:E.getAxisComponent()).getTicks().forEach(function(Ft){var zt;(zt=A.createFigure("line",{coordinates:[{x:Ft.coord,y:0},{x:Ft.coord,y:$.height}]},xt))===null||zt===void 0||zt.draw(S)}),S.restore()}},b}(fn),Dn=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.eachChildren=function(S){var E=this.getWidget().getPane().getChart().getChartStore(),A=E.getVisibleDataList(),O=E.getTimeScaleStore().getBarSpace();A.forEach(function(R,V){S(R,O,V)})},b}(fn),wi=function(P){function b(){var S=P!==null&&P.apply(this,arguments)||this;return S._boundCandleBarClickEvent=function(E){return function(){return S.getWidget().getPane().getChart().getChartStore().getActionStore().execute(H.ActionType.OnCandleBarClick,E),!1}},S}return Qt(b,P),b.prototype.drawImp=function(S){var E=this,A=this.getWidget().getPane(),O=A.getId()===Yr,R=A.getChart().getChartStore(),V=this.getCandleBarOptions(R);if(V!==null){var $=A.getAxisComponent();this.eachChildren(function(Q,ot){E._drawCandleBar(S,$,Q,ot,V,O)})}},b.prototype.getCandleBarOptions=function(S){var E=S.getStyles().candle;return{type:E.type,styles:E.bar}},b.prototype._drawCandleBar=function(S,E,A,O,R,V){var $,Q,ot,xt=this,Ft=A.data,zt=A.x,ne=Ft.open,se=Ft.high,we=Ft.low,N=Ft.close,st=O.halfGapBar,dt=O.gapBar,Lt=R.type,ae=R.styles;N>ne?($=ae.upColor,Q=ae.upBorderColor,ot=ae.upWickColor):ne>N?($=ae.downColor,Q=ae.downBorderColor,ot=ae.downWickColor):($=ae.noChangeColor,Q=ae.noChangeBorderColor,ot=ae.noChangeWickColor);var G=E.convertToPixel(ne),ht=E.convertToPixel(N),kt=[G,ht,E.convertToPixel(se),E.convertToPixel(we)];kt.sort(function(Ee,Ge){return Ee-Ge});var Nt=Math.max(1,kt[2]-kt[1]),he=[];Lt!==H.CandleType.Ohlc?(he.push({name:"rect",attrs:{x:zt-.5,y:kt[0],width:1,height:kt[1]-kt[0]},styles:{color:ot}}),he.push(Lt===H.CandleType.CandleStroke||Lt===H.CandleType.CandleUpStroke&&N>ne||Lt===H.CandleType.CandleDownStroke&&ne>N?{name:"rect",attrs:{x:zt-st+.5,y:kt[1],width:dt-1,height:Nt},styles:{style:H.PolygonType.Stroke,borderColor:Q}}:{name:"rect",attrs:{x:zt-st+.5,y:kt[1],width:dt-1,height:Nt},styles:{style:H.PolygonType.StrokeFill,color:$,borderColor:Q}}),he.push({name:"rect",attrs:{x:zt-.5,y:kt[2],width:1,height:kt[3]-kt[2]},styles:{color:ot}})):he=[{name:"rect",attrs:{x:zt-.5,y:kt[0],width:1,height:kt[3]-kt[0]},styles:{color:$}},{name:"rect",attrs:{x:zt-st,y:G,width:st,height:1},styles:{color:$}},{name:"rect",attrs:{x:zt,y:ht,width:st,height:1},styles:{color:$}}],he.forEach(function(Ee){var Ge,rr,vr=Ee.attrs,yr=Ee.styles;V&&(rr={mouseClickEvent:xt._boundCandleBarClickEvent(A)}),(Ge=xt.createFigure("rect",vr,yr,rr))===null||Ge===void 0||Ge.draw(S)})},b}(Dn),Xn=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getCandleBarOptions=function(S){var E,A,O=this.getWidget().getPane();if(!O.getAxisComponent().isInCandle()){var R=S.getIndicatorStore().getInstances(O.getId());try{for(var V=et(R),$=V.next();!$.done;$=V.next()){var Q=$.value[1];if(Q.shouldOhlc&&Q.visible){var ot=Q.styles,xt=S.getStyles().indicator,Ft=Z(ot,"ohlc.upColor",xt.ohlc.upColor),zt=Z(ot,"ohlc.downColor",xt.ohlc.downColor),ne=Z(ot,"ohlc.noChangeColor",xt.ohlc.noChangeColor);return{type:H.CandleType.Ohlc,styles:{upColor:Ft,downColor:zt,noChangeColor:ne,upBorderColor:Ft,downBorderColor:zt,noChangeBorderColor:ne,upWickColor:Ft,downWickColor:zt,noChangeWickColor:ne}}}}}catch(se){E={error:se}}finally{try{$&&!$.done&&(A=V.return)&&A.call(V)}finally{if(E)throw E.error}}}return null},b.prototype.drawImp=function(S){var E,A=this;P.prototype.drawImp.call(this,S);var O=this.getWidget(),R=O.getPane(),V=R.getChart(),$=O.getBounding(),Q=(E=V.getPaneById(jr))===null||E===void 0?void 0:E.getAxisComponent(),ot=R.getAxisComponent(),xt=V.getChartStore(),Ft=xt.getDataList(),zt=xt.getTimeScaleStore(),ne=zt.getVisibleRange(),se=xt.getIndicatorStore().getInstances(R.getId()),we=xt.getStyles().indicator;se.forEach(function(N){var st;if(N.visible){var dt=!1;if(N.draw!==null&&(S.save(),dt=(st=N.draw({ctx:S,kLineDataList:Ft,indicator:N,visibleRange:ne,bounding:$,barSpace:zt.getBarSpace(),defaultStyles:we,xAxis:Q,yAxis:ot}))!==null&&st!==void 0&&st,S.restore()),!dt){var Lt=N.result;A.eachChildren(function(ae,G){var ht,kt,Nt,he=G.halfGapBar,Ee=G.gapBar,Ge=ae.dataIndex,rr=ae.x,vr=Q.convertToPixel(Ge-1),yr=Q.convertToPixel(Ge+1),Mr=(ht=Lt[Ge-1])!==null&&ht!==void 0?ht:{},zr=(kt=Lt[Ge])!==null&&kt!==void 0?kt:{},$r=(Nt=Lt[Ge+1])!==null&&Nt!==void 0?Nt:{},Ur={x:vr},Kr={x:rr},Br={x:yr};N.figures.forEach(function(Rr){var Wr=Rr.key;Ur[Wr]=ot.convertToPixel(Mr[Wr]),Kr[Wr]=ot.convertToPixel(zr[Wr]),Br[Wr]=ot.convertToPixel($r[Wr])}),Ce(Ft,N,Ge,we,function(Rr,Wr){var kr,Pn,ii;if(jt(zr[Rr.key])){var fi=Kr[Rr.key],vi=(kr=Rr.attrs)===null||kr===void 0?void 0:kr.call(Rr,{coordinate:{prev:Ur,current:Kr,next:Br},bounding:$,barSpace:G,xAxis:Q,yAxis:ot});if(!jt(vi))switch(Rr.type){case"circle":vi={x:rr,y:fi,r:he};break;case"rect":case"bar":var Ri=(Pn=Rr.baseValue)!==null&&Pn!==void 0?Pn:ot.getExtremum().min,Mi=ot.convertToPixel(Ri),ai=Math.abs(Mi-fi);Ri!==zr[Rr.key]&&(ai=Math.max(1,ai)),vi={x:rr-he,y:fi>Mi?Mi:fi,width:Ee,height:ai};break;case"line":le(Kr[Rr.key])&&le(Br[Rr.key])&&(vi={coordinates:[{x:Kr.x,y:Kr[Rr.key]},{x:Br.x,y:Br[Rr.key]}]})}if(jt(vi)){var $i=Rr.type;(ii=A.createFigure($i==="bar"?"rect":$i,vi,Wr))===null||ii===void 0||ii.draw(S)}}})})}}})},b}(wi),ka=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E=this.getWidget(),A=E.getPane(),O=E.getBounding(),R=E.getPane().getChart().getChartStore(),V=R.getTooltipStore().getCrosshair(),$=R.getStyles().crosshair;if(V.paneId!==void 0&&$.show){if(V.paneId===A.getId()){var Q=V.y;this._drawLine(S,[{x:0,y:Q},{x:O.width,y:Q}],$.horizontal)}var ot=V.realX;this._drawLine(S,[{x:ot,y:0},{x:ot,y:O.height}],$.vertical)}},b.prototype._drawLine=function(S,E,A){var O;if(A.show){var R=A.line;R.show&&((O=this.createFigure("line",{coordinates:E},R))===null||O===void 0||O.draw(S))}},b}(fn),Da=function(P){function b(){var S=P!==null&&P.apply(this,arguments)||this;return S._boundIconClickEvent=function(E,A){return function(){return S.getWidget().getPane().getChart().getChartStore().getActionStore().execute(H.ActionType.OnTooltipIconClick,Ot(Ot({},E),{iconId:A})),!0}},S._boundIconMouseMoveEvent=function(E,A){return function(){return S.getWidget().getPane().getChart().getChartStore().getTooltipStore().setActiveIcon(Ot(Ot({},E),{iconId:A})),!0}},S}return Qt(b,P),b.prototype.drawImp=function(S){var E=this.getWidget(),A=E.getPane(),O=A.getChart().getChartStore(),R=O.getTooltipStore().getCrosshair();if(R.kLineData!==void 0){var V=E.getBounding(),$=O.getCustomApi(),Q=O.getThousandsSeparator(),ot=O.getIndicatorStore().getInstances(A.getId()),xt=O.getTooltipStore().getActiveIcon(),Ft=O.getStyles().indicator;this.drawIndicatorTooltip(S,A.getId(),O.getDataList(),R,xt,ot,$,Q,V,Ft)}},b.prototype.drawIndicatorTooltip=function(S,E,A,O,R,V,$,Q,ot,xt,Ft){var zt=this,ne=xt.tooltip,se=0;if(this.isDrawTooltip(O,ne)){var we=ne.text,N=0,st=Ft!=null?Ft:0,dt=0;V.forEach(function(Lt){var ae=zt.getIndicatorTooltipData(A,O,Lt,$,Q,xt),G=ae.name,ht=ae.calcParamsText,kt=ae.values,Nt=G.length>0,he=kt.length>0;if(Nt||he){var Ee=vt(zt.classifyTooltipIcons(ae.icons),3),Ge=Ee[1],rr=Ee[2],vr=vt(zt.drawStandardTooltipIcons(S,ot,{paneId:E,indicatorName:Lt.name,iconId:""},R,Ee[0],N,st,dt),4);if(N=vr[0],st=vr[1],se+=vr[3],dt=vr[2],Nt){var yr=G;ht.length>0&&(yr="".concat(yr).concat(ht));var Mr=vt(zt.drawStandardTooltipLabels(S,ot,[{title:{text:"",color:we.color},value:{text:yr,color:we.color}}],N,st,dt,we),4);N=Mr[0],st=Mr[1],se+=Mr[3],dt=Mr[2]}var zr=vt(zt.drawStandardTooltipIcons(S,ot,{paneId:E,indicatorName:Lt.name,iconId:""},R,Ge,N,st,dt),4);if(N=zr[0],st=zr[1],se+=zr[3],dt=zr[2],he){var $r=vt(zt.drawStandardTooltipLabels(S,ot,kt,N,st,dt,we),4);N=$r[0],st=$r[1],se+=$r[3],dt=$r[2]}var Ur=vt(zt.drawStandardTooltipIcons(S,ot,{paneId:E,indicatorName:Lt.name,iconId:""},R,rr,N,st,dt),4);N=0,se+=Ur[3],st=Ur[1]+Ur[2],dt=0}})}return se},b.prototype.drawStandardTooltipIcons=function(S,E,A,O,R,V,$,Q){var ot=this,xt=V,Ft=$,zt=0,ne=0,se=0;return R.length>0&&(R.forEach(function(we){var N=we.marginLeft,st=we.marginTop,dt=we.marginRight,Lt=we.marginBottom,ae=we.paddingLeft,G=we.paddingTop,ht=we.paddingRight,kt=we.paddingBottom,Nt=we.size,he=we.icon;S.font=Jt(Nt,"normal",we.fontFamily),zt+=N+ae+S.measureText(he).width+ht+dt,ne=Math.max(ne,st+G+Nt+kt+Lt)}),xt+zt>E.width?(xt=R[0].marginLeft,Ft+=Q,se=ne):se=Math.max(0,ne-Q),R.forEach(function(we){var N,st=we.marginRight,dt=we.paddingLeft,Lt=we.paddingRight,ae=we.icon,G=(O==null?void 0:O.paneId)===A.paneId&&(O==null?void 0:O.indicatorName)===A.indicatorName&&(O==null?void 0:O.iconId)===we.id;(N=ot.createFigure("text",{text:ae,x:xt+=we.marginLeft,y:Ft+we.marginTop},{paddingLeft:dt,paddingTop:we.paddingTop,paddingRight:Lt,paddingBottom:we.paddingBottom,color:G?we.activeColor:we.color,size:we.size,family:we.fontFamily,backgroundColor:G?we.activeBackgroundColor:we.backgroundColor},{mouseClickEvent:ot._boundIconClickEvent(A,we.id),mouseMoveEvent:ot._boundIconMouseMoveEvent(A,we.id)}))===null||N===void 0||N.draw(S),xt+=dt+S.measureText(ae).width+Lt+st})),[xt,Ft,Math.max(Q,ne),se]},b.prototype.drawStandardTooltipLabels=function(S,E,A,O,R,V,$){var Q=this,ot=O,xt=R,Ft=0,zt=0,ne=V;if(A.length>0){var se=$.marginLeft,we=$.marginTop,N=$.marginRight,st=$.marginBottom,dt=$.size,Lt=$.family,ae=$.weight;S.font=Jt(dt,ae,Lt),A.forEach(function(G){var ht,kt,Nt=G.title,he=G.value,Ee=S.measureText(Nt.text).width,Ge=S.measureText(he.text).width,rr=dt+we+st;ot+se+(Ee+Ge)+N>E.width?(ot=se,xt+=rr,zt+=rr):(ot+=se,zt+=Math.max(0,rr-ne)),ne=Ft=Math.max(ne,rr),Nt.text.length>0&&((ht=Q.createFigure("text",{x:ot,y:xt+we,text:Nt.text},{color:Nt.color,size:dt,family:Lt,weight:ae}))===null||ht===void 0||ht.draw(S),ot+=Ee),(kt=Q.createFigure("text",{x:ot,y:xt+we,text:he.text},{color:he.color,size:dt,family:Lt,weight:ae}))===null||kt===void 0||kt.draw(S),ot+=Ge+N})}return[ot,xt,Ft,zt]},b.prototype.isDrawTooltip=function(S,E){var A=E.showRule;return A===H.TooltipShowRule.Always||A===H.TooltipShowRule.FollowCross&&S.paneId!==void 0},b.prototype.getIndicatorTooltipData=function(S,E,A,O,R,V){var $,Q,ot,xt=V.tooltip,Ft=xt.showName?A.shortName:"",zt="",ne=A.calcParams;ne.length>0&&xt.showParams&&(zt="(".concat(ne.join(","),")"));var se={name:Ft,calcParamsText:zt,values:[],icons:xt.icons},we=E.dataIndex,N=($=A.result)!==null&&$!==void 0?$:[],st=[];if(A.visible){var dt=(Q=N[we])!==null&&Q!==void 0?Q:{};Ce(S,A,we,V,function(vr,yr){if(vr.title!==void 0){var Mr=yr.color,zr=dt[vr.key];jt(zr)&&(zr=ct(zr,A.precision),A.shouldFormatBigNumber&&(zr=O.formatBigNumber(zr))),st.push({title:{text:vr.title,color:Mr},value:{text:ve(zr!=null?zr:xt.defaultValue,R),color:Mr}})}}),se.values=st}if(A.createTooltipDataSource!==null){var Lt=this.getWidget(),ae=Lt.getPane(),G=ae.getChart().getChartStore(),ht=A.createTooltipDataSource({kLineDataList:S,indicator:A,visibleRange:G.getTimeScaleStore().getVisibleRange(),bounding:Lt.getBounding(),crosshair:E,defaultStyles:V,xAxis:(ot=ae.getChart().getPaneById(jr))===null||ot===void 0?void 0:ot.getAxisComponent(),yAxis:ae.getAxisComponent()}),kt=ht.name,Nt=ht.calcParamsText,he=ht.values,Ee=ht.icons;if(kt!==void 0&&xt.showName&&(se.name=kt),Nt!==void 0&&xt.showParams&&(se.calcParamsText=Nt),Ee!==void 0&&(se.icons=Ee),he!==void 0&&A.visible){var Ge=[],rr=V.tooltip.text.color;he.forEach(function(vr){var yr={text:"",color:rr};re(vr.title)?yr=vr.title:yr.text=vr.title;var Mr={text:"",color:rr};re(vr.value)?Mr=vr.value:Mr.text=vr.value,Mr.text=ve(Mr.text,R),Ge.push({title:yr,value:Mr})}),se.values=Ge}}return se},b.prototype.classifyTooltipIcons=function(S){var E=[],A=[],O=[];return S.forEach(function(R){switch(R.position){case H.TooltipIconPosition.Left:E.push(R);break;case H.TooltipIconPosition.Middle:A.push(R);break;case H.TooltipIconPosition.Right:O.push(R)}}),[E,A,O]},b}(fn),pa=function(P){function b(S){var E=P.call(this,S)||this;return E._initEvent(),E}return Qt(b,P),b.prototype._initEvent=function(){var S=this,E=this.getWidget().getPane(),A=E.getId(),O=E.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",function(R){var V,$=O.getProgressInstanceInfo();if($!==null){var Q=$.instance,ot=$.paneId;Q.isStart()&&(O.updateProgressInstanceInfo(A),ot=A);var xt=Q.points.length-1,Ft="".concat(Ie,"point_").concat(xt);return Q.isDrawing()&&ot===A&&(Q.eventMoveForDrawing(S._coordinateToPoint($.instance,R)),(V=Q.onDrawing)===null||V===void 0||V.call(Q,Ot({overlay:Q,figureKey:Ft,figureIndex:xt},R))),S._figureMouseMoveEvent(Q,1,Ft,xt,0)(R)}return O.setHoverInstanceInfo({paneId:A,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},R),!1}).registerEvent("mouseClickEvent",function(R){var V,$,Q=O.getProgressInstanceInfo();if(Q!==null){var ot=Q.instance,xt=Q.paneId;ot.isStart()&&(O.updateProgressInstanceInfo(A,!0),xt=A);var Ft=ot.points.length-1,zt="".concat(Ie,"point_").concat(Ft);return ot.isDrawing()&&xt===A&&(ot.eventMoveForDrawing(S._coordinateToPoint(ot,R)),(V=ot.onDrawing)===null||V===void 0||V.call(ot,Ot({overlay:ot,figureKey:zt,figureIndex:Ft},R)),ot.nextStep(),ot.isDrawing()||(O.progressInstanceComplete(),($=ot.onDrawEnd)===null||$===void 0||$.call(ot,Ot({overlay:ot,figureKey:zt,figureIndex:Ft},R)))),S._figureMouseClickEvent(ot,1,zt,Ft,0)(R)}return O.setClickInstanceInfo({paneId:A,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},R),!1}).registerEvent("mouseDoubleClickEvent",function(R){var V,$=O.getProgressInstanceInfo();if($!==null){var Q=$.instance,ot=$.paneId;if(Q.isDrawing()&&ot===A&&(Q.forceComplete(),!Q.isDrawing())){O.progressInstanceComplete();var xt=Q.points.length-1,Ft="".concat(Ie,"point_").concat(xt);(V=Q.onDrawEnd)===null||V===void 0||V.call(Q,Ot({overlay:Q,figureKey:Ft,figureIndex:xt},R))}var zt=Q.points.length-1;return S._figureMouseClickEvent(Q,1,"".concat(Ie,"point_").concat(zt),zt,0)(R)}return!1}).registerEvent("mouseRightClickEvent",function(R){var V=O.getProgressInstanceInfo();if(V!==null){var $=V.instance;if($.isDrawing()){var Q=$.points.length-1;return S._figureMouseRightClickEvent($,1,"".concat(Ie,"point_").concat(Q),Q,0)(R)}}return!1}).registerEvent("mouseUpEvent",function(R){var V,$=O.getPressedInstanceInfo(),Q=$.instance;return Q!==null&&((V=Q.onPressedMoveEnd)===null||V===void 0||V.call(Q,Ot({overlay:Q,figureKey:$.figureKey,figureIndex:$.figureIndex},R))),O.setPressedInstanceInfo({paneId:A,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(R){var V,$,Q=O.getPressedInstanceInfo(),ot=Q.instance,xt=Q.figureType,Ft=Q.figureIndex;if(ot!==null){if(!(ot.lock||($=(V=ot.onPressedMoving)===null||V===void 0?void 0:V.call(ot,Ot({overlay:ot,figureIndex:Ft,figureKey:Q.figureKey},R)))!==null&&$!==void 0&&$)){var zt=S._coordinateToPoint(ot,R);xt===1?ot.eventPressedPointMove(zt,Ft):ot.eventPressedOtherMove(zt,S.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1})},b.prototype._createFigureEvents=function(S,E,A,O,R,V){var $;if(!S.isDrawing()){var Q=[];if(V!==void 0&&(fe(V)?V&&(Q=["mouseClickEvent","mouseDoubleClickEvent","mouseRightClickEvent","tapEvent","doubleTapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]):Q=V),Q.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(S,E,A,O,R),mouseDownEvent:this._figureMouseDownEvent(S,E,A,O,R),mouseClickEvent:this._figureMouseClickEvent(S,E,A,O,R),mouseRightClickEvent:this._figureMouseRightClickEvent(S,E,A,O,R),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(S,E,A,O,R)};$={},Q.includes("mouseMoveEvent")||Q.includes("touchMoveEvent")||($.mouseMoveEvent=this._figureMouseMoveEvent(S,E,A,O,R)),Q.includes("mouseDownEvent")||Q.includes("touchStartEvent")||($.mouseDownEvent=this._figureMouseDownEvent(S,E,A,O,R)),Q.includes("mouseClickEvent")||Q.includes("tapEvent")||($.mouseClickEvent=this._figureMouseClickEvent(S,E,A,O,R)),Q.includes("mouseDoubleClickEvent")||Q.includes("doubleTapEvent")||($.mouseDoubleClickEvent=this._figureMouseDoubleClickEvent(S,E,A,O,R)),Q.includes("mouseRightClickEvent")||($.mouseRightClickEvent=this._figureMouseRightClickEvent(S,E,A,O,R))}return $},b.prototype._figureMouseMoveEvent=function(S,E,A,O,R){var V=this;return function($){var Q=V.getWidget().getPane();return Q.getChart().getChartStore().getOverlayStore().setHoverInstanceInfo({paneId:Q.getId(),instance:S,figureType:E,figureKey:A,figureIndex:O,attrsIndex:R},$),!0}},b.prototype._figureMouseDownEvent=function(S,E,A,O,R){var V=this;return function($){var Q,ot=V.getWidget().getPane(),xt=ot.getId(),Ft=ot.getChart().getChartStore().getOverlayStore();return S.startPressedMove(V._coordinateToPoint(S,$)),(Q=S.onPressedMoveStart)===null||Q===void 0||Q.call(S,Ot({overlay:S,figureIndex:O,figureKey:A},$)),Ft.setPressedInstanceInfo({paneId:xt,instance:S,figureType:E,figureKey:A,figureIndex:O,attrsIndex:R}),!0}},b.prototype._figureMouseClickEvent=function(S,E,A,O,R){var V=this;return function($){var Q=V.getWidget().getPane(),ot=Q.getId();return Q.getChart().getChartStore().getOverlayStore().setClickInstanceInfo({paneId:ot,instance:S,figureType:E,figureKey:A,figureIndex:O,attrsIndex:R},$),!0}},b.prototype._figureMouseDoubleClickEvent=function(S,E,A,O,R){return function(V){var $;return($=S.onDoubleClick)===null||$===void 0||$.call(S,Ot(Ot({},V),{figureIndex:O,figureKey:A,overlay:S})),!0}},b.prototype._figureMouseRightClickEvent=function(S,E,A,O,R){var V=this;return function($){var Q,ot;return(ot=(Q=S.onRightClick)===null||Q===void 0?void 0:Q.call(S,Ot({overlay:S,figureIndex:O,figureKey:A},$)))!==null&&ot!==void 0&&ot||V.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(S),!0}},b.prototype._coordinateToPoint=function(S,E){var A,O,R={},V=this.getWidget().getPane(),$=V.getChart(),Q=V.getId(),ot=$.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var xt=((A=$.getPaneById(jr))===null||A===void 0?void 0:A.getAxisComponent()).convertFromPixel(E.x),Ft=(O=ot.dataIndexToTimestamp(xt))!==null&&O!==void 0?O:void 0;R.dataIndex=xt,R.timestamp=Ft}if(this.coordinateToPointValueFlag()){var zt=V.getAxisComponent(),ne=zt.convertFromPixel(E.y);if(S.mode!==H.OverlayMode.Normal&&Q===Yr&&R.dataIndex!==void 0){var se=ot.getDataByDataIndex(R.dataIndex);if(se!==null){var we=S.modeSensitivity;if(ne>se.high)if(S.mode===H.OverlayMode.WeakMagnet){var N=zt.convertToPixel(se.high);zt.convertFromPixel(N-we)>ne&&(ne=se.high)}else ne=se.high;else if(se.low>ne)if(S.mode===H.OverlayMode.WeakMagnet){var st=zt.convertToPixel(se.low);ne>zt.convertFromPixel(st-we)&&(ne=se.low)}else ne=se.low;else{var dt=Math.max(se.open,se.close),Lt=Math.min(se.open,se.close);ne=ne>dt?se.high-ne>ne-dt?dt:se.high:Lt>ne?Lt-ne>ne-se.low?se.low:Lt:ne-Lt>dt-ne?dt:Lt}}}R.value=ne}return R},b.prototype.coordinateToPointValueFlag=function(){return!0},b.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},b.prototype.dispatchEvent=function(S,E,A){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(S,E,A):P.prototype.dispatchEvent.call(this,S,E,A)},b.prototype.checkEventOn=function(){return!0},b.prototype.drawImp=function(S){var E,A=this,O=this.getWidget(),R=O.getPane(),V=R.getId(),$=R.getChart(),Q=R.getAxisComponent(),ot=(E=$.getPaneById(jr))===null||E===void 0?void 0:E.getAxisComponent(),xt=O.getBounding(),Ft=$.getChartStore(),zt=Ft.getCustomApi(),ne=Ft.getThousandsSeparator(),se=Ft.getTimeScaleStore(),we=se.getDateTimeFormat(),N=se.getBarSpace(),st=Ft.getPrecision(),dt=Ft.getStyles().overlay,Lt=Ft.getOverlayStore(),ae=Lt.getHoverInstanceInfo(),G=Lt.getClickInstanceInfo();this.getCompleteOverlays(Lt,V).forEach(function(Nt){Nt.visible&&A._drawOverlay(S,Nt,xt,N,st,we,zt,ne,dt,ot,Q,ae,G,se)});var ht=Lt.getProgressInstanceInfo();if(ht!==null){var kt=this.getProgressOverlay(ht,V);kt!==null&&kt.visible&&this._drawOverlay(S,kt,xt,N,st,we,zt,ne,dt,ot,Q,ae,G,se)}},b.prototype._drawOverlay=function(S,E,A,O,R,V,$,Q,ot,xt,Ft,zt,ne,se){var we=E.points.map(function(st){var dt,Lt,ae=st.dataIndex;st.timestamp!==void 0&&(ae=se.timestampToDataIndex(st.timestamp));var G={x:0,y:0};return ae!==void 0&&(G.x=(dt=xt==null?void 0:xt.convertToPixel(ae))!==null&&dt!==void 0?dt:0),st.value!==void 0&&(G.y=(Lt=Ft==null?void 0:Ft.convertToPixel(st.value))!==null&&Lt!==void 0?Lt:0),G});if(we.length>0){var N=[].concat(this.getFigures(E,we,A,O,R,Q,V,ot,xt,Ft));this.drawFigures(S,E,N,ot)}this.drawDefaultFigures(S,E,we,A,R,V,$,Q,ot,xt,Ft,zt,ne)},b.prototype.drawFigures=function(S,E,A,O){var R=this;A.forEach(function(V,$){var Q=V.type,ot=V.styles,xt=V.ignoreEvent;[].concat(V.attrs).forEach(function(Ft,zt){var ne,se,we,N=R._createFigureEvents(E,2,(ne=V.key)!==null&&ne!==void 0?ne:"",$,zt,xt),st=Ot(Ot(Ot({},O[Q]),(se=E.styles)===null||se===void 0?void 0:se[Q]),ot);(we=R.createFigure(Q,Ft,st,N))===null||we===void 0||we.draw(S)})})},b.prototype.getCompleteOverlays=function(S,E){return S.getInstances(E)},b.prototype.getProgressOverlay=function(S,E){return S.paneId===E?S.instance:null},b.prototype.getFigures=function(S,E,A,O,R,V,$,Q,ot,xt){var Ft,zt;return(zt=(Ft=S.createPointFigures)===null||Ft===void 0?void 0:Ft.call(S,{overlay:S,coordinates:E,bounding:A,barSpace:O,precision:R,thousandsSeparator:V,dateTimeFormat:$,defaultStyles:Q,xAxis:ot,yAxis:xt}))!==null&&zt!==void 0?zt:[]},b.prototype.drawDefaultFigures=function(S,E,A,O,R,V,$,Q,ot,xt,Ft,zt,ne){var se,we,N=this;if(E.needDefaultPointFigure&&(((se=zt.instance)===null||se===void 0?void 0:se.id)===E.id&&zt.figureType!==0||((we=ne.instance)===null||we===void 0?void 0:we.id)===E.id&&ne.figureType!==0)){var st=E.styles,dt=Ot(Ot({},ot.point),st==null?void 0:st.point);A.forEach(function(Lt,ae){var G,ht,kt,Nt=Lt.x,he=Lt.y,Ee=dt.radius,Ge=dt.color,rr=dt.borderColor,vr=dt.borderSize;((G=zt.instance)===null||G===void 0?void 0:G.id)===E.id&&zt.figureType===1&&zt.figureIndex===ae&&(Ee=dt.activeRadius,Ge=dt.activeColor,rr=dt.activeBorderColor,vr=dt.activeBorderSize),(ht=N.createFigure("circle",{x:Nt,y:he,r:Ee+vr},{color:rr},N._createFigureEvents(E,1,"".concat(Ie,"point_").concat(ae),ae,0)))===null||ht===void 0||ht.draw(S),(kt=N.createFigure("circle",{x:Nt,y:he,r:Ee},{color:Ge}))===null||kt===void 0||kt.draw(S)})}},b}(fn),za=function(P){function b(S,E){var A=P.call(this,S,E)||this;return A._gridView=new an(A),A._indicatorView=new Xn(A),A._crosshairLineView=new ka(A),A._tooltipView=A.createTooltipView(),A._overlayView=new pa(A),A.addChild(A._tooltipView),A.addChild(A._overlayView),A.getContainer().style.cursor="crosshair",A.registerEvent("mouseMoveEvent",function(){return E.getChart().getChartStore().getTooltipStore().setActiveIcon(),!1}),A}return Qt(b,P),b.prototype.getName=function(){return dn},b.prototype.updateMain=function(S){this.updateMainContent(S),this._indicatorView.draw(S),this._gridView.draw(S)},b.prototype.createTooltipView=function(){return new Da(this)},b.prototype.updateMainContent=function(S){},b.prototype.updateOverlay=function(S){this._overlayView.draw(S),this._crosshairLineView.draw(S),this._tooltipView.draw(S)},b}(yi),Di=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A,O=this.getWidget(),R=O.getPane(),V=R.getChart(),$=O.getBounding(),Q=R.getAxisComponent(),ot=V.getStyles().candle.area,xt=[],Ft=[],zt=Number.MAX_SAFE_INTEGER;this.eachChildren(function(Lt,ae,G){var ht=Lt.x,kt=ae.halfGapBar,Nt=Lt.data[ot.value];if(le(Nt)){var he=Q.convertToPixel(Nt);if(G===0){var Ee=ht-kt;Ft.push({x:Ee,y:$.height}),Ft.push({x:Ee,y:he}),xt.push({x:Ee,y:he})}xt.push({x:ht,y:he}),Ft.push({x:ht,y:he}),zt=Math.min(zt,he)}});var ne=Ft.length;if(ne>0){var se=Ft[ne-1],we=se.x;xt.push({x:we,y:se.y}),Ft.push({x:we,y:se.y}),Ft.push({x:we,y:$.height})}if(xt.length>0&&((E=this.createFigure("line",{coordinates:xt},{color:ot.lineColor,size:ot.lineSize}))===null||E===void 0||E.draw(S)),Ft.length>0){var N=ot.backgroundColor,st=void 0;if(q(N)){var dt=S.createLinearGradient(0,$.height,0,zt);try{N.forEach(function(Lt){dt.addColorStop(Lt.offset,Lt.color)})}catch(Lt){}st=dt}else st=N;(A=this.createFigure("polygon",{coordinates:Ft},{color:st}))===null||A===void 0||A.draw(S)}},b}(Dn),ga=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E=this.getWidget().getPane(),A=E.getChart().getChartStore(),O=A.getStyles().candle.priceMark,R=O.high,V=O.low;if(O.show&&(R.show||V.show)){var $=A.getThousandsSeparator(),Q=A.getPrecision(),ot=E.getAxisComponent(),xt=Number.MIN_SAFE_INTEGER,Ft=0,zt=Number.MAX_SAFE_INTEGER,ne=0;this.eachChildren(function(N){var st=N.data,dt=N.x;st.high>xt&&(xt=st.high,Ft=dt),zt>st.low&&(zt=st.low,ne=dt)});var se=ot.convertToPixel(xt),we=ot.convertToPixel(zt);R.show&&xt!==Number.MIN_SAFE_INTEGER&&this._drawMark(S,ve(ct(xt,Q.price),$),{x:Ft,y:se},we>se?[-2,-5]:[2,5],R),V.show&&zt!==Number.MAX_SAFE_INTEGER&&this._drawMark(S,ve(ct(zt,Q.price),$),{x:ne,y:we},we>se?[2,5]:[-2,-5],V)}},b.prototype._drawMark=function(S,E,A,O,R){var V,$,Q,ot,xt,Ft,zt=A.x,ne=A.y+O[0];(V=this.createFigure("line",{coordinates:[{x:zt-2,y:ne+O[0]},{x:zt,y:ne},{x:zt+2,y:ne+O[0]}]},{color:R.color}))===null||V===void 0||V.draw(S),zt>this.getWidget().getBounding().width/2?(xt=(ot=zt-5)-R.textOffset,Ft="right"):(Ft="left",xt=(ot=zt+5)+R.textOffset);var se=ne+O[1];($=this.createFigure("line",{coordinates:[{x:zt,y:ne},{x:zt,y:se},{x:ot,y:se}]},{color:R.color}))===null||$===void 0||$.draw(S),(Q=this.createFigure("text",{x:xt,y:se,text:E,align:Ft,baseline:"middle"},{color:R.color,size:R.textSize,family:R.textFamily,weight:R.textWeight}))===null||Q===void 0||Q.draw(S)},b}(Dn),Va=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this.getWidget(),O=A.getPane(),R=A.getBounding(),V=O.getChart().getChartStore(),$=V.getStyles().candle.priceMark,Q=$.last,ot=Q.line;if($.show&&Q.show&&ot.show){var xt=O.getAxisComponent(),Ft=V.getDataList(),zt=Ft[Ft.length-1];if(zt!=null){var ne=zt.close,se=zt.open,we=xt.convertToNicePixel(ne);(E=this.createFigure("line",{coordinates:[{x:0,y:we},{x:R.width,y:we}]},{style:ot.style,color:ne>se?Q.upColor:se>ne?Q.downColor:Q.noChangeColor,size:ot.size,dashedValue:ot.dashedValue}))===null||E===void 0||E.draw(S)}}},b}(fn),ya={"zh-CN":{time:"\u65F6\u95F4\uFF1A",open:"\u5F00\uFF1A",high:"\u9AD8\uFF1A",low:"\u4F4E\uFF1A",close:"\u6536\uFF1A",volume:"\u6210\u4EA4\u91CF\uFF1A",change:"\u6DA8\u5E45\uFF1A"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",change:"Change: "}},oo=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this.getWidget(),O=A.getPane(),R=O.getId(),V=O.getChart().getChartStore(),$=V.getTooltipStore().getCrosshair();if($.kLineData!==void 0){var Q=A.getBounding(),ot=(E=O.getYAxisWidget())===null||E===void 0?void 0:E.getBounding(),xt=V.getDataList(),Ft=V.getPrecision(),zt=V.getLocale(),ne=V.getCustomApi(),se=V.getThousandsSeparator(),we=V.getTooltipStore().getActiveIcon(),N=V.getIndicatorStore().getInstances(O.getId()),st=V.getTimeScaleStore().getDateTimeFormat(),dt=V.getStyles(),Lt=dt.candle,ae=dt.indicator;if(Lt.tooltip.showType===H.TooltipShowType.Rect&&ae.tooltip.showType===H.TooltipShowType.Rect){var G=this.isDrawTooltip($,Lt.tooltip),ht=this.isDrawTooltip($,ae.tooltip);this._drawRectTooltip(S,xt,N,Q,ot,$,Ft,st,zt,ne,se,G,ht,dt,0)}else if(Lt.tooltip.showType===H.TooltipShowType.Standard&&ae.tooltip.showType===H.TooltipShowType.Standard){var kt=this._drawCandleStandardTooltip(S,xt,R,Q,$,we,Ft,st,zt,ne,se,Lt);this.drawIndicatorTooltip(S,R,xt,$,we,N,ne,se,Q,ae,kt)}else if(Lt.tooltip.showType===H.TooltipShowType.Rect&&ae.tooltip.showType===H.TooltipShowType.Standard){var Nt=this.drawIndicatorTooltip(S,R,xt,$,we,N,ne,se,Q,ae,0);G=this.isDrawTooltip($,Lt.tooltip),this._drawRectTooltip(S,xt,N,Q,ot,$,Ft,st,zt,ne,se,G,!1,dt,Nt)}else{var he=this._drawCandleStandardTooltip(S,xt,R,Q,$,we,Ft,st,zt,ne,se,Lt);ht=this.isDrawTooltip($,ae.tooltip),this._drawRectTooltip(S,xt,N,Q,ot,$,Ft,st,zt,ne,se,!1,ht,dt,he)}}},b.prototype._drawCandleStandardTooltip=function(S,E,A,O,R,V,$,Q,ot,xt,Ft,zt){var ne,se,we,N=zt.tooltip,st=N.text,dt=0;if(this.isDrawTooltip(R,N)){var Lt=(ne=R.dataIndex)!==null&&ne!==void 0?ne:0,ae=this._getCandleTooltipData({prev:(se=E[Lt-1])!==null&&se!==void 0?se:null,current:R.kLineData,next:(we=E[Lt+1])!==null&&we!==void 0?we:null},$,Q,ot,xt,Ft,zt),G=0,ht=0,kt=0,Nt=vt(this.classifyTooltipIcons(N.icons),3),he=Nt[1],Ee=Nt[2],Ge=vt(this.drawStandardTooltipIcons(S,O,{paneId:A,indicatorName:"",iconId:""},V,Nt[0],G,ht,0),4);dt+=Ge[3];var rr=vt(this.drawStandardTooltipIcons(S,O,{paneId:A,indicatorName:"",iconId:""},V,he,G=Ge[0],ht=Ge[1],kt=Ge[2]),4);if(G=rr[0],ht=rr[1],dt+=rr[3],kt=rr[2],ae.length>0){var vr=vt(this.drawStandardTooltipLabels(S,O,ae,G,ht,kt,st),4);G=vr[0],ht=vr[1],dt+=vr[3],kt=vr[2]}var yr=vt(this.drawStandardTooltipIcons(S,O,{paneId:A,indicatorName:"",iconId:""},V,Ee,G,ht,kt),4);G=yr[0],ht=yr[1],dt+=yr[3],kt=yr[2]}return dt},b.prototype._drawRectTooltip=function(S,E,A,O,R,V,$,Q,ot,xt,Ft,zt,ne,se,we){var N,st,dt,Lt,ae,G=this,ht=se.candle,kt=se.indicator,Nt=ht.tooltip,he=kt.tooltip;if(zt||ne){var Ee=(N=V.dataIndex)!==null&&N!==void 0?N:0,Ge=this._getCandleTooltipData({prev:(st=E[Ee-1])!==null&&st!==void 0?st:null,current:V.kLineData,next:(dt=E[Ee+1])!==null&&dt!==void 0?dt:null},$,Q,ot,xt,Ft,ht),rr=Nt.text,vr=rr.marginLeft,yr=rr.marginRight,Mr=rr.marginTop,zr=rr.marginBottom,$r=rr.size,Ur=rr.weight,Kr=rr.family,Br=Nt.rect,Rr=Br.position,Wr=Br.paddingLeft,kr=Br.paddingRight,Pn=Br.paddingTop,ii=Br.paddingBottom,fi=Br.offsetLeft,vi=Br.offsetRight,Ri=Br.offsetTop,Mi=Br.offsetBottom,ai=Br.borderSize,$i=Br.borderRadius,Do=Br.borderColor,wa=Br.color,oi=0,di=0,Hn=0;zt&&(S.font=Jt($r,Ur,Kr),Ge.forEach(function(oa){var Ui=oa.value,Wi="".concat(oa.title.text).concat(Ui.text),pi=S.measureText(Wi).width+vr+yr;oi=Math.max(oi,pi)}),Hn+=(zr+Mr+$r)*Ge.length);var In=he.text,co=In.marginLeft,Ha=In.marginRight,Sa=In.marginTop,aa=In.marginBottom,si=In.size,Ni=In.weight,zi=In.family,ho=[];if(ne&&(S.font=Jt(si,Ni,zi),A.forEach(function(oa){var Ui,Wi=(Ui=G.getIndicatorTooltipData(E,V,oa,xt,Ft,kt).values)!==null&&Ui!==void 0?Ui:[];ho.push(Wi),Wi.forEach(function(pi){var Xa=pi.value,cs="".concat(pi.title.text).concat(Xa.text),Tc=S.measureText(cs).width+co+Ha;oi=Math.max(oi,Tc),Hn+=Sa+aa+si})})),(di+=oi)!==0&&Hn!==0){di+=2*ai+Wr+kr,Hn+=2*ai+Pn+ii;var Ga=Rr===Bt.Pointer&&V.paneId===Yr,Vi=((Lt=V.realX)!==null&&Lt!==void 0?Lt:0)>O.width/2,Ki=0;if(Ga){var Ql=V.realX;Ki=Vi?Ql-vi-di:Ql+fi}else Vi?(Ki=fi,se.yAxis.inside&&se.yAxis.position===H.YAxisPosition.Left&&(Ki+=R.width)):(Ki=O.width-vi-di,se.yAxis.inside&&se.yAxis.position===H.YAxisPosition.Right&&(Ki-=R.width));var Ba=we+Ri;Ga&&((Ba=V.y-Hn/2)+Hn>O.height-Mi&&(Ba=O.height-Mi-Hn),we+Ri>Ba&&(Ba=we+Ri)),(ae=this.createFigure("rect",{x:Ki,y:Ba,width:di,height:Hn},{style:H.PolygonType.StrokeFill,color:wa,borderColor:Do,borderSize:ai,borderRadius:$i}))===null||ae===void 0||ae.draw(S);var Cc=Ki+ai+Wr+vr,fo=Ba+ai+Pn;if(zt&&Ge.forEach(function(oa){var Ui,Wi,pi=oa.title;(Ui=G.createFigure("text",{x:Cc,y:fo+=Mr,text:pi.text},{color:pi.color,size:$r,family:Kr,weight:Ur}))===null||Ui===void 0||Ui.draw(S);var Xa=oa.value;(Wi=G.createFigure("text",{x:Ki+di-ai-yr-kr,y:fo,text:Xa.text,align:"right"},{color:Xa.color,size:$r,family:Kr,weight:Ur}))===null||Wi===void 0||Wi.draw(S),fo+=$r+zr}),ne){var Mc=Ki+ai+Wr+co;ho.forEach(function(oa){oa.forEach(function(Ui){var Wi,pi,Xa=Ui.title,cs=Ui.value;(Wi=G.createFigure("text",{x:Mc,y:fo+=Sa,text:Xa.text},{color:Xa.color,size:si,family:zi,weight:Ni}))===null||Wi===void 0||Wi.draw(S),(pi=G.createFigure("text",{x:Ki+di-ai-Ha-kr,y:fo,text:cs.text,align:"right"},{color:cs.color,size:si,family:zi,weight:Ni}))===null||pi===void 0||pi.draw(S),fo+=si+aa})})}}}},b.prototype._getCandleTooltipData=function(S,E,A,O,R,V,$){var Q,ot,xt,Ft,zt,ne=$.tooltip,se=ne.text.color,we=S.current,N=(ot=(Q=S.prev)===null||Q===void 0?void 0:Q.close)!==null&&ot!==void 0?ot:we.close,st=we.close-N,dt=E.price,Lt=E.volume,ae={"{time}":R.formatDate(A,we.timestamp,"YYYY-MM-DD HH:mm",H.FormatDateType.Tooltip),"{open}":ve(ct(we.open,dt),V),"{high}":ve(ct(we.high,dt),V),"{low}":ve(ct(we.low,dt),V),"{close}":ve(ct(we.close,dt),V),"{volume}":ve(R.formatBigNumber(ct((xt=we.volume)!==null&&xt!==void 0?xt:ne.defaultValue,Lt)),V),"{change}":N===0?ne.defaultValue:"".concat(ct(st/N*100),"%")};return((zt=j(ne.custom)?(Ft=ne.custom)===null||Ft===void 0?void 0:Ft.call(ne,S,$):ne.custom)!==null&&zt!==void 0?zt:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]).map(function(G){var ht,kt=G.title,Nt=G.value,he={text:"",color:""};re(kt)?he=Ot({},kt):(he.text=kt,he.color=se),he.text=function(vr,yr){var Mr,zr;return(zr=(Mr=ya[yr])===null||Mr===void 0?void 0:Mr[vr])!==null&&zr!==void 0?zr:vr}(he.text,O);var Ee={text:ne.defaultValue,color:""};re(Nt)?Ee=Ot({},Nt):(Ee.text=Nt,Ee.color=se);var Ge=Ee.text.match(/{(\S*)}/);if(Ge!==null&&Ge.length>1){var rr="{".concat(Ge[1],"}");Ee.text=Ee.text.replace(rr,(ht=ae[rr])!==null&&ht!==void 0?ht:ne.defaultValue),rr==="{change}"&&(Ee.color=st===0?$.priceMark.last.noChangeColor:st>0?$.priceMark.last.upColor:$.priceMark.last.downColor)}return{title:he,value:Ee}})},b}(Da),Ua=function(P){function b(S,E){var A=P.call(this,S,E)||this;return A._candleBarView=new wi(A),A._candleAreaView=new Di(A),A._candleHighLowPriceView=new ga(A),A._candleLastPriceLineView=new Va(A),A.addChild(A._candleBarView),A}return Qt(b,P),b.prototype.updateMainContent=function(S){this.getPane().getChart().getStyles().candle.type!==H.CandleType.Area?(this._candleBarView.draw(S),this._candleHighLowPriceView.draw(S)):this._candleAreaView.draw(S),this._candleLastPriceLineView.draw(S)},b.prototype.createTooltipView=function(){return new oo(this)},b}(za),La=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this,O=this.getWidget(),R=O.getPane(),V=O.getBounding(),$=R.getAxisComponent(),Q=this.getAxisStyles(R.getChart().getStyles());if(Q.show){Q.axisLine.show&&((E=this.createFigure("line",this.createAxisLine(V,Q),Q.axisLine))===null||E===void 0||E.draw(S));var ot=$.getTicks();Q.tickLine.show&&this.createTickLines(ot,V,Q).forEach(function(xt){var Ft;(Ft=A.createFigure("line",xt,Q.tickLine))===null||Ft===void 0||Ft.draw(S)}),Q.tickText.show&&this.createTickTexts(ot,V,Q).forEach(function(xt){var Ft;(Ft=A.createFigure("text",xt,Q.tickText))===null||Ft===void 0||Ft.draw(S)})}},b}(fn),ma=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getAxisStyles=function(S){return S.yAxis},b.prototype.createAxisLine=function(S,E){var A,O=this.getWidget().getPane().getAxisComponent(),R=E.axisLine.size;return{coordinates:[{x:A=O.isFromZero()?R/2:S.width-R,y:0},{x:A,y:S.height}]}},b.prototype.createTickLines=function(S,E,A){var O=this.getWidget().getPane().getAxisComponent(),R=A.axisLine,V=A.tickLine,$=0,Q=0;return O.isFromZero()?($=0,R.show&&($+=R.size),Q=$+V.length):($=E.width,R.show&&($-=R.size),Q=$-V.length),S.map(function(ot){return{coordinates:[{x:$,y:ot.coord},{x:Q,y:ot.coord}]}})},b.prototype.createTickTexts=function(S,E,A){var O=this.getWidget().getPane().getAxisComponent(),R=A.axisLine,V=A.tickLine,$=A.tickText,Q=0;O.isFromZero()?(Q=$.marginStart,R.show&&(Q+=R.size),V.show&&(Q+=V.length)):(Q=E.width-$.marginEnd,R.show&&(Q-=R.size),V.show&&(Q-=V.length));var ot=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return S.map(function(xt){return{x:Q,y:xt.coord,text:xt.text,align:ot,baseline:"middle"}})},b}(La),Li=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this.getWidget(),O=A.getPane(),R=A.getBounding(),V=O.getChart().getChartStore(),$=V.getStyles().candle.priceMark,Q=$.last,ot=Q.text;if($.show&&Q.show&&ot.show){var xt=V.getPrecision(),Ft=O.getAxisComponent(),zt=V.getDataList(),ne=V.getVisibleDataList(),se=zt[zt.length-1];if(se!==void 0){var we=se.close,N=se.open,st=Ft.convertToNicePixel(we),dt=void 0;dt=we>N?Q.upColor:N>we?Q.downColor:Q.noChangeColor;var Lt=void 0;if(Ft.getType()===H.YAxisType.Percentage){var ae=ne[0].data.close;Lt="".concat(((we-ae)/ae*100).toFixed(2),"%")}else Lt=ct(we,xt.price);Lt=ve(Lt,V.getThousandsSeparator());var G=void 0,ht=void 0;Ft.isFromZero()?(G=0,ht="left"):(G=R.width,ht="right"),(E=this.createFigure("text",{x:G,y:st,text:Lt,align:ht,baseline:"middle"},Ot(Ot({},ot),{backgroundColor:dt})))===null||E===void 0||E.draw(S)}}},b}(fn),xa=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E=this,A=this.getWidget(),O=A.getPane(),R=A.getBounding(),V=O.getChart().getChartStore(),$=V.getCustomApi(),Q=V.getStyles().indicator,ot=Q.lastValueMark,xt=ot.text;if(ot.show){var Ft=O.getAxisComponent(),zt=V.getDataList(),ne=zt.length-1,se=V.getIndicatorStore().getInstances(O.getId()),we=V.getThousandsSeparator();se.forEach(function(N){var st=N.result[ne];if(st!==void 0&&N.visible){var dt=N.precision;Ce(zt,N,ne,Q,function(Lt,ae){var G,ht=st[Lt.key];if(jt(ht)){var kt=Ft.convertToNicePixel(ht),Nt=ct(ht,dt);N.shouldFormatBigNumber&&(Nt=$.formatBigNumber(Nt)),Nt=ve(Nt,we);var he=void 0,Ee=void 0;Ft.isFromZero()?(he=0,Ee="left"):(he=R.width,Ee="right"),(G=E.createFigure("text",{x:he,y:kt,text:Nt,align:Ee,baseline:"middle"},Ot(Ot({},xt),{backgroundColor:ae.color})))===null||G===void 0||G.draw(S)}})}})}},b}(fn),Kn=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},b.prototype.drawDefaultFigures=function(S,E,A,O,R,V,$,Q,ot,xt,Ft,zt,ne){this.drawFigures(S,E,this.getDefaultFigures(E,A,O,R,V,$,Q,xt,Ft,ne),ot)},b.prototype.getDefaultFigures=function(S,E,A,O,R,V,$,Q,ot,xt){var Ft,zt,ne=[];if(S.needDefaultYAxisFigure&&S.id===((Ft=xt.instance)===null||Ft===void 0?void 0:Ft.id)&&xt.paneId===this.getWidget().getPane().getId()){var se,we,N=Number.MAX_SAFE_INTEGER,st=Number.MIN_SAFE_INTEGER;(zt=ot==null?void 0:ot.isFromZero())!==null&&zt!==void 0&&zt?(se="left",we=0):(se="right",we=A.width),E.forEach(function(dt,Lt){var ae=S.points[Lt];if(ae.value!==void 0){N=Math.min(N,dt.y),st=Math.max(st,dt.y);var G=ve(ct(ae.value,O.price),$);ne.push({type:"text",attrs:{x:we,y:dt.y,text:G,align:se,baseline:"middle"},ignoreEvent:!0})}}),E.length>1&&ne.unshift({type:"rect",attrs:{x:0,y:N,width:A.width,height:st-N},ignoreEvent:!0})}return ne},b.prototype.getFigures=function(S,E,A,O,R,V,$,Q,ot,xt){var Ft,zt;return(zt=(Ft=S.createYAxisFigures)===null||Ft===void 0?void 0:Ft.call(S,{overlay:S,coordinates:E,bounding:A,barSpace:O,precision:R,thousandsSeparator:V,dateTimeFormat:$,defaultStyles:Q,xAxis:ot,yAxis:xt}))!==null&&zt!==void 0?zt:[]},b}(pa),Si=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.drawImp=function(S){var E,A=this.getWidget(),O=A.getPane(),R=A.getBounding(),V=A.getPane().getChart().getChartStore(),$=V.getTooltipStore().getCrosshair(),Q=V.getStyles().crosshair;if($.paneId!==void 0&&this.compare($,O.getId())&&Q.show){var ot=this.getDirectionStyles(Q),xt=ot.text;if(ot.show&&xt.show){var Ft=O.getAxisComponent(),zt=this.getText($,V,Ft);S.font=Jt(xt.size,xt.weight,xt.family),(E=this.createFigure("text",this.getTextAttrs(zt,S.measureText(zt).width,$,R,Ft,xt),xt))===null||E===void 0||E.draw(S)}}},b.prototype.compare=function(S,E){return S.paneId===E},b.prototype.getDirectionStyles=function(S){return S.horizontal},b.prototype.getText=function(S,E,A){var O,R,V,$=A,Q=A.convertFromPixel(S.y);if($.getType()===H.YAxisType.Percentage){var ot=(R=(O=E.getVisibleDataList()[0])===null||O===void 0?void 0:O.data)!==null&&R!==void 0?R:{};V="".concat(((Q-ot.close)/ot.close*100).toFixed(2),"%")}else{var xt=E.getIndicatorStore().getInstances(S.paneId),Ft=0,zt=!1;$.isInCandle()?Ft=E.getPrecision().price:xt.forEach(function(ne){Ft=Math.max(ne.precision,Ft),zt||(zt=ne.shouldFormatBigNumber)}),V=ct(Q,Ft),zt&&(V=E.getCustomApi().formatBigNumber(V))}return ve(V,E.getThousandsSeparator())},b.prototype.getTextAttrs=function(S,E,A,O,R,V){var $,Q;return R.isFromZero()?($=0,Q="left"):($=O.width,Q="right"),{x:$,y:A.y,text:S,align:Q,baseline:"middle"}},b}(fn),Yn=function(P){function b(S,E){var A=P.call(this,S,E)||this;return A._yAxisView=new ma(A),A._candleLastPriceLabelView=new Li(A),A._indicatorLastValueView=new xa(A),A._overlayYAxisView=new Kn(A),A._crosshairHorizontalLabelView=new Si(A),A.getContainer().style.cursor="ns-resize",A.addChild(A._overlayYAxisView),A}return Qt(b,P),b.prototype.getName=function(){return Xr},b.prototype.updateMain=function(S){this._yAxisView.draw(S),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(S),this._indicatorLastValueView.draw(S)},b.prototype.updateOverlay=function(S){this._overlayYAxisView.draw(S),this._crosshairHorizontalLabelView.draw(S)},b}(yi),qn=function(){function P(b){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=b}return P.prototype.getParent=function(){return this._parent},P.prototype.buildTicks=function(b){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),!(this._prevExtremum.min===this._extremum.min&&this._prevExtremum.max===this._extremum.max&&!b)&&(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0)},P.prototype.getTicks=function(){return this._ticks},P.prototype.getScrollZoomEnabled=function(){var b;return(b=this.getParent().getOptions().axisOptions.scrollZoomEnabled)===null||b===void 0||b},P.prototype.setExtremum=function(b){this._autoCalcTickFlag=!1,this._extremum=b},P.prototype.getExtremum=function(){return this._extremum},P.prototype.setAutoCalcTickFlag=function(b){this._autoCalcTickFlag=b},P.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},P.prototype._calcTicks=function(){var b=this._extremum,S=b.realMin,E=b.realMax,A=b.realRange,O=[];if(A>=0){var R=vt(this._calcTickInterval(A),2),V=R[0],$=R[1],Q=K(Math.ceil(S/V)*V,$),ot=K(Math.floor(E/V)*V,$),xt=0,Ft=Q;if(V!==0)for(;ot>=Ft;){var zt=Ft.toFixed($);O[xt]={text:zt,coord:0,value:zt},++xt,Ft+=V}}return O},P.prototype._calcTickInterval=function(b){var S,E,A,O,R=(E=Math.floor(it(S=b/8)),A=tt(E),S=(1.5>(O=S/A)?1:2.5>O?2:3.5>O?3:4.5>O?4:5.5>O?5:6.5>O?6:8)*A,-20>E?S:+S.toFixed(0>E?-E:0)),V=function($){var Q=""+$,ot=Q.indexOf("e");if(ot>0){var xt=+Q.slice(ot+1);return 0>xt?-xt:0}var Ft=Q.indexOf(".");return 0>Ft?0:Q.length-1-Ft}(R);return[R,V]},P}(),Oi=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.calcExtremum=function(){var S,E,A,O,R,V=this.getParent(),$=V.getChart(),Q=$.getChartStore(),ot=Number.MAX_SAFE_INTEGER,xt=Number.MIN_SAFE_INTEGER,Ft=[],zt=!1,ne=Number.MAX_SAFE_INTEGER,se=Number.MIN_SAFE_INTEGER,we=Number.MAX_SAFE_INTEGER;Q.getIndicatorStore().getInstances(V.getId()).forEach(function(Rr){var Wr,kr,Pn;zt||(zt=(Wr=Rr.shouldOhlc)!==null&&Wr!==void 0&&Wr),we=Math.min(we,Rr.precision),Rr.minValue!==null&&(ne=Math.min(ne,Rr.minValue)),Rr.maxValue!==null&&(se=Math.max(se,Rr.maxValue)),Ft.push({figures:(kr=Rr.figures)!==null&&kr!==void 0?kr:[],result:(Pn=Rr.result)!==null&&Pn!==void 0?Pn:[]})});var N=4,st=this.isInCandle();if(st){var dt=Q.getPrecision().price;N=we!==Number.MAX_SAFE_INTEGER?Math.min(we,dt):dt}else we!==Number.MAX_SAFE_INTEGER&&(N=we);var Lt=Q.getVisibleDataList(),ae=$.getStyles().candle,G=ae.type===H.CandleType.Area,ht=ae.area.value,kt=st&&!G||!st&&zt;Lt.forEach(function(Rr){var Wr=Rr.dataIndex,kr=Rr.data;if(kt&&(ot=Math.min(ot,kr.low),xt=Math.max(xt,kr.high)),st&&G){var Pn=kr[ht];ot=Math.min(ot,Pn),xt=Math.max(xt,Pn)}Ft.forEach(function(ii){var fi,vi=(fi=ii.result[Wr])!==null&&fi!==void 0?fi:{};ii.figures.forEach(function(Ri){var Mi=vi[Ri.key];jt(Mi)&&(ot=Math.min(ot,Mi),xt=Math.max(xt,Mi))})})}),ot!==Number.MAX_SAFE_INTEGER&&xt!==Number.MIN_SAFE_INTEGER?(ot=Math.min(ne,ot),xt=Math.max(se,xt)):(ot=0,xt=10);var Nt,he=this.getType();switch(he){case H.YAxisType.Percentage:var Ee=(S=Lt[0])===null||S===void 0?void 0:S.data;(Ee==null?void 0:Ee.close)!==void 0&&(ot=(ot-Ee.close)/Ee.close*100,xt=(xt-Ee.close)/Ee.close*100),Nt=.01;break;case H.YAxisType.Log:ot=it(ot),xt=it(xt),Nt=.05*tt(-N);break;default:Nt=tt(-N)}if(ot===xt||Nt>Math.abs(ot-xt)){var Ge=ne===ot,rr=se===xt;ot=Ge?ot:rr?ot-8*Nt:ot-4*Nt,xt=rr?xt:Ge?xt+8*Nt:xt+4*Nt}var vr=(A=(E=this.getParent().getYAxisWidget())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,yr=V.getOptions().gap,Mr=(O=yr==null?void 0:yr.top)!==null&&O!==void 0?O:.2;1>Mr||(Mr/=vr);var zr=(R=yr==null?void 0:yr.bottom)!==null&&R!==void 0?R:.1;1>zr||(zr/=vr);var $r,Ur,Kr,Br=Math.abs(xt-ot);return Br=Math.abs((xt+=Br*Mr)-(ot-=Br*zr)),he===H.YAxisType.Log?($r=tt(ot),Ur=tt(xt),Kr=Math.abs(Ur-$r)):($r=ot,Ur=xt,Kr=Br),{min:ot,max:xt,range:Br,realMin:$r,realMax:Ur,realRange:Kr}},b.prototype._innerConvertToPixel=function(S){var E,A,O=(A=(E=this.getParent().getYAxisWidget())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,R=this.getExtremum(),V=(S-R.min)/R.range;return this.isReverse()?Math.round(V*O):Math.round((1-V)*O)},b.prototype.isInCandle=function(){return this.getParent().getName()==="candle"},b.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:H.YAxisType.Normal},b.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},b.prototype.isReverse=function(){return!!this.isInCandle()&&this.getParent().getChart().getStyles().yAxis.reverse},b.prototype.isFromZero=function(){var S=this.getParent().getChart().getStyles().yAxis,E=S.inside;return S.position===H.YAxisPosition.Left&&E||S.position===H.YAxisPosition.Right&&!E},b.prototype.optimalTicks=function(S){var E,A,O=this,R=this.getParent(),V=(A=(E=R.getYAxisWidget())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,$=R.getChart().getChartStore(),Q=$.getCustomApi(),ot=[],xt=this.getType(),Ft=$.getIndicatorStore().getInstances(R.getId()),zt=$.getThousandsSeparator(),ne=0,se=!1;this.isInCandle()?ne=$.getPrecision().price:Ft.forEach(function(st){ne=Math.max(ne,st.precision),se||(se=st.shouldFormatBigNumber)});var we,N=$.getStyles().xAxis.tickText.size;return S.forEach(function(st){var dt,Lt=st.value,ae=O._innerConvertToPixel(+Lt);switch(xt){case H.YAxisType.Percentage:dt="".concat(ct(Lt,2),"%");break;case H.YAxisType.Log:ae=O._innerConvertToPixel(it(+Lt)),dt=ct(Lt,ne);break;default:dt=ct(Lt,ne),se&&(dt=Q.formatBigNumber(Lt))}dt=ve(dt,zt),ae>N&&V-N>ae&&(we!==void 0&&Math.abs(we-ae)>2*N||we===void 0)&&(ot.push({text:dt,coord:ae,value:Lt}),we=ae)}),ot},b.prototype.getAutoSize=function(){var S=this.getParent(),E=S.getChart(),A=E.getStyles(),O=A.yAxis,R=O.size;if(R!=="auto")return R;var V=E.getChartStore(),$=V.getCustomApi(),Q=0;if(O.show&&(O.axisLine.show&&(Q+=O.axisLine.size),O.tickLine.show&&(Q+=O.tickLine.length),O.tickText.show)){var ot=0;this.getTicks().forEach(function(Lt){ot=Math.max(ot,ee(Lt.text,O.tickText.size,O.tickText.weight,O.tickText.family))}),Q+=O.tickText.marginStart+O.tickText.marginEnd+ot}var xt=A.crosshair,Ft=0;if(xt.show&&xt.horizontal.show&&xt.horizontal.text.show){var zt=V.getIndicatorStore().getInstances(S.getId()),ne=0,se=!1;zt.forEach(function(Lt){ne=Math.max(Lt.precision,ne),se||(se=Lt.shouldFormatBigNumber)});var we=2;if(this.getType()!==H.YAxisType.Percentage)if(this.isInCandle()){var N=V.getPrecision().price,st=A.indicator.lastValueMark;we=st.show&&st.text.show?Math.max(ne,N):N}else we=ne;var dt=ct(this.getExtremum().max,we);se&&(dt=$.formatBigNumber(dt)),Ft+=xt.horizontal.text.paddingLeft+xt.horizontal.text.paddingRight+2*xt.horizontal.text.borderSize+ee(dt,xt.horizontal.text.size,xt.horizontal.text.weight,xt.horizontal.text.family)}return Math.max(Q,Ft)},b.prototype.convertFromPixel=function(S){var E,A,O,R=(A=(E=this.getParent().getYAxisWidget())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,V=this.getExtremum(),$=V.min,Q=V.range,ot=(this.isReverse()?S/R:1-S/R)*Q+$;switch(this.getType()){case H.YAxisType.Percentage:var xt=(O=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||O===void 0?void 0:O.data;return(xt==null?void 0:xt.close)!==void 0?xt.close*ot/100+xt.close:0;case H.YAxisType.Log:return tt(ot);default:return ot}},b.prototype.convertToRealValue=function(S){var E=S;return this.getType()===H.YAxisType.Log&&(E=tt(S)),E},b.prototype.convertToPixel=function(S){var E,A=S;switch(this.getType()){case H.YAxisType.Percentage:var O=(E=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||E===void 0?void 0:E.data;(O==null?void 0:O.close)!==void 0&&(A=(S-O.close)/O.close*100);break;case H.YAxisType.Log:A=it(S);break;default:A=S}return this._innerConvertToPixel(A)},b.prototype.convertToNicePixel=function(S){var E,A,O=(A=(E=this.getParent().getYAxisWidget())===null||E===void 0?void 0:E.getBounding().height)!==null&&A!==void 0?A:0,R=this.convertToPixel(S);return Math.round(Math.max(.05*O,Math.min(R,.98*O)))},b}(qn),na=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getName=function(){return"indicator"},b.prototype.createAxisComponent=function(){return new Oi(this)},b.prototype.createMainWidget=function(S){return new za(S,this)},b.prototype.createSeparatorWidget=function(S){return new Ii(S,this)},b.prototype.createYAxisWidget=function(S){return new Yn(S,this)},b}(gi),ia=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getName=function(){return"candle"},b.prototype.createMainWidget=function(S){return new Ua(S,this)},b.prototype.createSeparatorWidget=function(){return null},b}(na),so=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getAxisStyles=function(S){return S.xAxis},b.prototype.createAxisLine=function(S,E){var A=E.axisLine.size/2;return{coordinates:[{x:0,y:A},{x:S.width,y:A}]}},b.prototype.createTickLines=function(S,E,A){var O=A.tickLine,R=A.axisLine.size;return S.map(function(V){return{coordinates:[{x:V.coord,y:0},{x:V.coord,y:R+O.length}]}})},b.prototype.createTickTexts=function(S,E,A){var O=A.tickText,R=A.axisLine.size,V=A.tickLine.length;return S.map(function($){return{x:$.coord,y:R+V+O.marginStart,text:$.text,align:"center",baseline:"top"}})},b}(La),ji=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},b.prototype.coordinateToPointValueFlag=function(){return!1},b.prototype.getCompleteOverlays=function(S){return S.getInstances()},b.prototype.getProgressOverlay=function(S){return S.instance},b.prototype.getDefaultFigures=function(S,E,A,O,R,V,$,Q,ot,xt){var Ft,zt=[];if(S.needDefaultXAxisFigure&&S.id===((Ft=xt.instance)===null||Ft===void 0?void 0:Ft.id)){var ne=Number.MAX_SAFE_INTEGER,se=Number.MIN_SAFE_INTEGER;E.forEach(function(we,N){ne=Math.min(ne,we.x),se=Math.max(se,we.x);var st=S.points[N];if(st.timestamp!==void 0){var dt=V.formatDate(R,st.timestamp,"YYYY-MM-DD HH:mm",H.FormatDateType.Crosshair);zt.push({type:"text",attrs:{x:we.x,y:0,text:dt,align:"center"},ignoreEvent:!0})}}),E.length>1&&zt.unshift({type:"rect",attrs:{x:ne,y:0,width:se-ne,height:A.height},ignoreEvent:!0})}return zt},b.prototype.getFigures=function(S,E,A,O,R,V,$,Q,ot,xt){var Ft,zt;return(zt=(Ft=S.createXAxisFigures)===null||Ft===void 0?void 0:Ft.call(S,{overlay:S,coordinates:E,bounding:A,barSpace:O,precision:R,thousandsSeparator:V,dateTimeFormat:$,defaultStyles:Q,xAxis:ot,yAxis:xt}))!==null&&zt!==void 0?zt:[]},b}(Kn),lo=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.compare=function(S){return S.kLineData!==void 0&&S.dataIndex===S.realDataIndex},b.prototype.getDirectionStyles=function(S){return S.vertical},b.prototype.getText=function(S,E){var A,O=(A=S.kLineData)===null||A===void 0?void 0:A.timestamp;return E.getCustomApi().formatDate(E.getTimeScaleStore().getDateTimeFormat(),O,"YYYY-MM-DD HH:mm",H.FormatDateType.Crosshair)},b.prototype.getTextAttrs=function(S,E,A,O,R,V){var $,Q=A.realX,ot="center";return 0>Q-E/2-V.paddingLeft?($=0,ot="left"):Q+E/2+V.paddingRight>O.width?($=O.width,ot="right"):$=Q,{x:$,y:0,text:S,align:ot,baseline:"top"}},b}(Si),Wa=function(P){function b(S,E){var A=P.call(this,S,E)||this;return A._xAxisView=new so(A),A._overlayXAxisView=new ji(A),A._crosshairVerticalLabelView=new lo(A),A.getContainer().style.cursor="ew-resize",A.addChild(A._overlayXAxisView),A}return Qt(b,P),b.prototype.getName=function(){return pn},b.prototype.updateMain=function(S){this._xAxisView.draw(S)},b.prototype.updateOverlay=function(S){this._overlayXAxisView.draw(S),this._crosshairVerticalLabelView.draw(S)},b}(yi),Oa=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.calcExtremum=function(){var S=this.getParent().getChart().getChartStore().getTimeScaleStore().getVisibleRange(),E=S.from,A=S.to,O=A-1,R=A-E;return{min:E,max:O,range:R,realMin:E,realMax:O,realRange:R}},b.prototype.optimalTicks=function(S){var E,A,O=this.getParent().getChart(),R=O.getChartStore(),V=R.getCustomApi().formatDate,$=[],Q=S.length,ot=R.getDataList();if(Q>0){var xt=R.getTimeScaleStore().getDateTimeFormat(),Ft=O.getStyles().xAxis.tickText,zt=ee("00-00 00:00",Ft.size,Ft.weight,Ft.family),ne=this.convertToPixel(parseInt(S[0].value,10)),se=1;if(Q>1){var we=this.convertToPixel(parseInt(S[1].value,10)),N=Math.abs(we-ne);zt>N&&(se=Math.ceil(zt/N))}for(var st=0;Q>st;st+=se){var dt=parseInt(S[st].value,10),Lt=ot[dt].timestamp,ae=V(xt,Lt,"HH:mm",H.FormatDateType.XAxis);st!==0&&(ae=(E=this._optimalTickLabel(V,xt,Lt,ot[parseInt(S[st-se].value,10)].timestamp))!==null&&E!==void 0?E:ae);var G=this.convertToPixel(dt);$.push({text:ae,coord:G,value:Lt})}if($.length===1)$[0].text=V(xt,$[0].value,"YYYY-MM-DD HH:mm",H.FormatDateType.XAxis);else{var ht=$[0].value,kt=$[1].value;if($[2]!==void 0){var Nt=$[2].text;/^[0-9]{2}-[0-9]{2}$/.test(Nt)?$[0].text=V(xt,ht,"MM-DD",H.FormatDateType.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(Nt)?$[0].text=V(xt,ht,"YYYY-MM",H.FormatDateType.XAxis):/^[0-9]{4}$/.test(Nt)&&($[0].text=V(xt,ht,"YYYY",H.FormatDateType.XAxis))}else $[0].text=(A=this._optimalTickLabel(V,xt,ht,kt))!==null&&A!==void 0?A:$[0].text}}return $},b.prototype._optimalTickLabel=function(S,E,A,O){var R=S(E,A,"YYYY",H.FormatDateType.XAxis),V=S(E,A,"YYYY-MM",H.FormatDateType.XAxis),$=S(E,A,"MM-DD",H.FormatDateType.XAxis);return R!==S(E,O,"YYYY",H.FormatDateType.XAxis)?R:V!==S(E,O,"YYYY-MM",H.FormatDateType.XAxis)?V:$!==S(E,O,"MM-DD",H.FormatDateType.XAxis)?$:null},b.prototype.getAutoSize=function(){var S=this.getParent().getChart().getStyles(),E=S.xAxis,A=E.size;if(A!=="auto")return A;var O=S.crosshair,R=0;E.show&&(E.axisLine.show&&(R+=E.axisLine.size),E.tickLine.show&&(R+=E.tickLine.length),E.tickText.show&&(R+=E.tickText.marginStart+E.tickText.marginEnd+E.tickText.size));var V=0;return O.show&&O.vertical.show&&O.vertical.text.show&&(V+=O.vertical.text.paddingTop+O.vertical.text.paddingBottom+2*O.vertical.text.borderSize+O.vertical.text.size),Math.max(R,V)},b.prototype.convertTimestampFromPixel=function(S){var E=this.getParent().getChart().getChartStore().getTimeScaleStore(),A=E.coordinateToDataIndex(S);return E.dataIndexToTimestamp(A)},b.prototype.convertTimestampToPixel=function(S){var E=this.getParent().getChart().getChartStore().getTimeScaleStore(),A=E.timestampToDataIndex(S);return E.dataIndexToCoordinate(A)},b.prototype.convertFromPixel=function(S){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(S)},b.prototype.convertToPixel=function(S){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(S)},b}(qn),Ya=function(P){function b(){return P!==null&&P.apply(this,arguments)||this}return Qt(b,P),b.prototype.getName=function(){return"xAxis"},b.prototype.createAxisComponent=function(){return new Oa(this)},b.prototype.createMainWidget=function(S){return new Wa(S,this)},b}(gi);function Ci(){var P;return typeof window!="undefined"&&((P=window.navigator.userAgent.toLowerCase().indexOf("firefox"))!==null&&P!==void 0?P:-1)>-1}function En(){return typeof window!="undefined"&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var sn,Jn=function(){function P(b,S,E){var A=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!En(),this._onFirefoxOutsideMouseUp=function(O){A._mouseUpHandler(O)},this._onMobileSafariDoubleClick=function(O){A._firesTouchEvents(O)?(++A._tapCount,A._tapTimeoutId!==null&&A._tapCount>1&&(30>A._mouseTouchMoveWithDownInfo(A._getCoordinate(O),A._tapCoordinate).manhattanDistance&&!A._cancelTap&&A._processEvent(A._makeCompatEvent(O),A._handler.doubleTapEvent),A._resetTapTimeout())):(++A._clickCount,A._clickTimeoutId!==null&&A._clickCount>1&&(5>A._mouseTouchMoveWithDownInfo(A._getCoordinate(O),A._clickCoordinate).manhattanDistance&&!A._cancelClick&&A._processEvent(A._makeCompatEvent(O),A._handler.mouseDoubleClickEvent),A._resetClickTimeout()))},this._target=b,this._handler=S,this._options=E,this._init()}return P.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},P.prototype._mouseEnterHandler=function(b){var S,E,A,O=this;(S=this._unsubscribeMousemove)===null||S===void 0||S.call(this),(E=this._unsubscribeMouseWheel)===null||E===void 0||E.call(this),(A=this._unsubscribeContextMenu)===null||A===void 0||A.call(this);var R=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){O._target.removeEventListener("mousemove",R)},this._target.addEventListener("mousemove",R);var V=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){O._target.removeEventListener("wheel",V)},this._target.addEventListener("wheel",V,{passive:!1});var $=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){O._target.removeEventListener("contextmenu",$)},this._target.addEventListener("contextmenu",$,{passive:!1}),this._firesTouchEvents(b)||(this._processEvent(this._makeCompatEvent(b),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},P.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0}},P.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0}},P.prototype._mouseMoveHandler=function(b){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(b)||(this._processEvent(this._makeCompatEvent(b),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},P.prototype._mouseWheelHandler=function(b){if(Math.abs(b.deltaX)>Math.abs(b.deltaY)){if(this._handler.mouseWheelHortEvent===void 0||(this._preventDefault(b),Math.abs(b.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(b),-b.deltaX)}else{if(this._handler.mouseWheelVertEvent===void 0)return;var S=-b.deltaY/100;if(S===0)return;switch(this._preventDefault(b),b.deltaMode){case b.DOM_DELTA_PAGE:S*=120;break;case b.DOM_DELTA_LINE:S*=32}if(S!==0){var E=Math.sign(S)*Math.min(1,Math.abs(S));this._handler.mouseWheelVertEvent(this._makeCompatEvent(b),E)}}},P.prototype._contextMenuHandler=function(b){this._preventDefault(b)},P.prototype._touchMoveHandler=function(b){var S=this._touchWithId(b.changedTouches,this._activeTouchId);if(S!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(b),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var E=this._mouseTouchMoveWithDownInfo(this._getCoordinate(S),this._touchMoveStartCoordinate),A=E.yOffset;if(this._touchMoveExceededManhattanDistance||E.manhattanDistance>=5){if(!this._touchMoveExceededManhattanDistance){var O=.5*E.xOffset,R=A>=O&&!this._options.treatVertDragAsPageScroll(),V=O>A&&!this._options.treatHorzDragAsPageScroll();R||V||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(b,S),this._handler.touchMoveEvent)}}},P.prototype._mouseMoveWithDownHandler=function(b){b.button===0&&(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(b),this._mouseMoveStartCoordinate).manhattanDistance||(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(b),this._handler.pressedMouseMoveEvent))},P.prototype._mouseTouchMoveWithDownInfo=function(b,S){var E=Math.abs(S.x-b.x),A=Math.abs(S.y-b.y);return{xOffset:E,yOffset:A,manhattanDistance:E+A}},P.prototype._touchEndHandler=function(b){var S=this._touchWithId(b.changedTouches,this._activeTouchId);if(S===null&&b.touches.length===0&&(S=b.changedTouches[0]),S!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(b),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var E=this._makeCompatEvent(b,S);this._processEvent(E,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(30>this._mouseTouchMoveWithDownInfo(this._getCoordinate(S),this._tapCoordinate).manhattanDistance&&!this._cancelTap&&this._processEvent(E,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(E,this._handler.tapEvent),this._handler.tapEvent!==void 0&&this._preventDefault(b)),this._tapCount===0&&this._preventDefault(b),b.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(b))}},P.prototype._mouseUpHandler=function(b){if(b.button===0){var S=this._makeCompatEvent(b);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),Ci()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(b)||(this._processEvent(S,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(b),this._clickCoordinate).manhattanDistance&&!this._cancelClick&&this._processEvent(S,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(S,this._handler.mouseClickEvent))}},P.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},P.prototype._touchStartHandler=function(b){if(this._activeTouchId===null){var S=b.changedTouches[0];this._activeTouchId=S.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(b);var E=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(S),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var A=this._touchMoveHandler.bind(this),O=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){E.removeEventListener("touchmove",A),E.removeEventListener("touchend",O)},E.addEventListener("touchmove",A,{passive:!1}),E.addEventListener("touchend",O,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,b),500),this._processEvent(this._makeCompatEvent(b,S),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(S))}},P.prototype._mouseDownHandler=function(b){if(b.button===2)return this._preventDefault(b),void this._processEvent(this._makeCompatEvent(b),this._handler.mouseRightClickEvent);if(b.button===0){var S=this._target.ownerDocument.documentElement;Ci()&&S.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(b),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var E=this._mouseMoveWithDownHandler.bind(this),A=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){S.removeEventListener("mousemove",E),S.removeEventListener("mouseup",A)},S.addEventListener("mousemove",E),S.addEventListener("mouseup",A),this._mousePressed=!0,this._firesTouchEvents(b)||(this._processEvent(this._makeCompatEvent(b),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(b)))}},P.prototype._init=function(){var b=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var S=this._target.ownerDocument,E=function(A){b._handler.mouseDownOutsideEvent!=null&&(A.composed&&b._target.contains(A.composedPath()[0])||A.target!==null&&b._target.contains(A.target)||b._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){S.removeEventListener("touchstart",E)},this._unsubscribeOutsideMouseEvents=function(){S.removeEventListener("mousedown",E)},S.addEventListener("mousedown",E),S.addEventListener("touchstart",E,{passive:!0}),En()&&(this._unsubscribeMobileSafariEvents=function(){b._target.removeEventListener("dblclick",b._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(A){if(A.button===1)return A.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},P.prototype._initPinch=function(){var b=this;this._handler.pinchStartEvent===void 0&&this._handler.pinchEvent===void 0&&this._handler.pinchEndEvent===void 0||(this._target.addEventListener("touchstart",function(S){return b._checkPinchState(S.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(S){if(S.touches.length===2&&b._startPinchMiddleCoordinate!==null&&b._handler.pinchEvent!==void 0){var E=b._getTouchDistance(S.touches[0],S.touches[1])/b._startPinchDistance;b._handler.pinchEvent(Ot(Ot({},b._startPinchMiddleCoordinate),{pageX:0,pageY:0}),E),b._preventDefault(S)}},{passive:!1}),this._target.addEventListener("touchend",function(S){b._checkPinchState(S.touches)}))},P.prototype._checkPinchState=function(b){b.length===1&&(this._pinchPrevented=!1),b.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(b)},P.prototype._startPinch=function(b){var S,E=(S=this._target.getBoundingClientRect())!==null&&S!==void 0?S:{left:0,top:0};this._startPinchMiddleCoordinate={x:(b[0].clientX-E.left+(b[1].clientX-E.left))/2,y:(b[0].clientY-E.top+(b[1].clientY-E.top))/2},this._startPinchDistance=this._getTouchDistance(b[0],b[1]),this._handler.pinchStartEvent!==void 0&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},P.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,this._handler.pinchEndEvent!==void 0&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},P.prototype._mouseLeaveHandler=function(b){var S,E,A;(S=this._unsubscribeMousemove)===null||S===void 0||S.call(this),(E=this._unsubscribeMouseWheel)===null||E===void 0||E.call(this),(A=this._unsubscribeContextMenu)===null||A===void 0||A.call(this),this._firesTouchEvents(b)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(b),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!En())},P.prototype._longTapHandler=function(b){var S=this._touchWithId(b.touches,this._activeTouchId);S!==null&&(this._processEvent(this._makeCompatEvent(b,S),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},P.prototype._firesTouchEvents=function(b){var S;return((S=b.sourceCapabilities)===null||S===void 0?void 0:S.firesTouchEvents)!==void 0?b.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(b)<this._lastTouchEventTimeStamp+500},P.prototype._processEvent=function(b,S){S==null||S.call(this._handler,b)},P.prototype._makeCompatEvent=function(b,S){var E,A=this,O=S!=null?S:b,R=(E=this._target.getBoundingClientRect())!==null&&E!==void 0?E:{left:0,top:0};return{x:O.clientX-R.left,y:O.clientY-R.top,pageX:O.pageX,pageY:O.pageY,isTouch:!b.type.startsWith("mouse")&&b.type!=="contextmenu"&&b.type!=="click",preventDefault:function(){b.type!=="touchstart"&&A._preventDefault(b)}}},P.prototype._getTouchDistance=function(b,S){var E=b.clientX-S.clientX,A=b.clientY-S.clientY;return Math.sqrt(E*E+A*A)},P.prototype._preventDefault=function(b){b.cancelable&&b.preventDefault()},P.prototype._getCoordinate=function(b){return{x:b.pageX,y:b.pageY}},P.prototype._eventTimeStamp=function(b){var S;return(S=b.timeStamp)!==null&&S!==void 0?S:performance.now()},P.prototype._touchWithId=function(b,S){for(var E=0;b.length>E;++E)if(b[E].identifier===S)return b[E];return null},P}(),ba=function(){function P(b,S){var E=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(A){if(A.shiftKey)switch(A.code){case"Equal":E._chart.getChartStore().getTimeScaleStore().zoom(.5);break;case"Minus":E._chart.getChartStore().getTimeScaleStore().zoom(-.5);break;case"ArrowLeft":(O=E._chart.getChartStore().getTimeScaleStore()).startScroll(),O.scroll(-3*O.getBarSpace().bar);break;case"ArrowRight":var O;(O=E._chart.getChartStore().getTimeScaleStore()).startScroll(),O.scroll(3*O.getBarSpace().bar)}},this._container=b,this._chart=S,this._event=new Jn(b,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),b.addEventListener("keydown",this._boundKeyBoardDownEvent)}return P.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},P.prototype.pinchEvent=function(b,S){var E=this._findWidgetByEvent(b),A=E.pane,O=E.widget;if((A==null?void 0:A.getId())!==jr&&(O==null?void 0:O.getName())===dn){var R=this._makeWidgetEvent(b,O),V=5*(S-this._pinchScale);return this._pinchScale=S,this._chart.getChartStore().getTimeScaleStore().zoom(V,{x:R.x,y:R.y}),!0}return!1},P.prototype.mouseWheelHortEvent=function(b,S){var E=this._chart.getChartStore().getTimeScaleStore();return E.startScroll(),E.scroll(S),!0},P.prototype.mouseWheelVertEvent=function(b,S){var E,A,O=this._findWidgetByEvent(b).widget,R=(E=b.isTouch)!==null&&E!==void 0&&E,V=this._makeWidgetEvent(b,O),$=null,Q=O==null?void 0:O.getName();if(R)if(Q===dn||Q===pn)$={x:V.x,y:V.y};else{var ot=(A=this._chart.getPaneById(Yr))===null||A===void 0?void 0:A.getBounding();$={x:ot.width/2,y:ot.height/2}}else Q===dn&&($={x:V.x,y:V.y});return $!==null&&(this._chart.getChartStore().getTimeScaleStore().zoom(S,{x:V.x,y:V.y}),!0)},P.prototype.mouseDownEvent=function(b){var S,E,A=this._findWidgetByEvent(b),O=A.pane,R=A.widget;if(this._mouseDownWidget=R,R!==null){var V=this._makeWidgetEvent(b,R);switch(R.getName()){case hn:return R.dispatchEvent("mouseDownEvent",V);case dn:var $=(S=O==null?void 0:O.getAxisComponent().getExtremum())!==null&&S!==void 0?S:null;return this._prevYAxisExtremum=$===null?$:Ot({},$),this._startScrollCoordinate={x:V.x,y:V.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),R.dispatchEvent("mouseDownEvent",V);case pn:return(Q=R.dispatchEvent("mouseDownEvent",V))&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:V.x,y:V.y},this._xAxisStartScaleDistance=V.pageX,Q;case Xr:var Q;return(Q=R.dispatchEvent("mouseDownEvent",V))&&this._chart.updatePane(1),$=(E=O==null?void 0:O.getAxisComponent().getExtremum())!==null&&E!==void 0?E:null,this._prevYAxisExtremum=$===null?$:Ot({},$),this._yAxisStartScaleDistance=V.pageY,Q}}return!1},P.prototype.mouseMoveEvent=function(b){var S,E,A,O=this._findWidgetByEvent(b),R=O.pane,V=O.widget,$=this._makeWidgetEvent(b,V);if(((S=this._mouseMoveTriggerWidgetInfo.pane)===null||S===void 0?void 0:S.getId())===(R==null?void 0:R.getId())&&((E=this._mouseMoveTriggerWidgetInfo.widget)===null||E===void 0?void 0:E.getName())===(V==null?void 0:V.getName())||(V==null||V.dispatchEvent("mouseEnterEvent",$),(A=this._mouseMoveTriggerWidgetInfo.widget)===null||A===void 0||A.dispatchEvent("mouseLeaveEvent",$),this._mouseMoveTriggerWidgetInfo={pane:R,widget:V}),V!==null)switch(V.getName()){case dn:var Q=V.dispatchEvent("mouseMoveEvent",$),ot=this._chart.getChartStore(),xt={x:$.x,y:$.y,paneId:R==null?void 0:R.getId()};return Q&&ot.getTooltipStore().getActiveIcon()!==null&&(xt=void 0,V!==null&&(V.getContainer().style.cursor="pointer")),this._chart.getChartStore().getTooltipStore().setCrosshair(xt),Q;case hn:case pn:case Xr:return Q=V.dispatchEvent("mouseMoveEvent",$),this._chart.getChartStore().getTooltipStore().setCrosshair(),Q}return!1},P.prototype.pressedMouseMoveEvent=function(b){var S,E,A,O,R;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===hn)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",b);var V=this._findWidgetByEvent(b),$=V.pane,Q=V.widget;if(Q!==null&&((S=this._mouseDownWidget)===null||S===void 0?void 0:S.getPane().getId())===($==null?void 0:$.getId())&&((E=this._mouseDownWidget)===null||E===void 0?void 0:E.getName())===Q.getName()){var ot=this._makeWidgetEvent(b,Q);switch(Q.getName()){case dn:var xt=Q.getBounding();if(!(ae=Q.dispatchEvent("pressedMouseMoveEvent",ot))&&this._startScrollCoordinate!==null){var Ft=$==null?void 0:$.getAxisComponent();if(this._prevYAxisExtremum!==null&&!Ft.getAutoCalcTickFlag()&&Ft.getScrollZoomEnabled()){var zt=this._prevYAxisExtremum,ne=zt.min,se=zt.max+(kt=(G=zt.range)*(ht=((A=Ft==null?void 0:Ft.isReverse())!==null&&A!==void 0&&A?this._startScrollCoordinate.y-ot.y:ot.y-this._startScrollCoordinate.y)/xt.height)),we=Ft.convertToRealValue(Ee=ne+kt),N=Ft.convertToRealValue(se);Ft.setExtremum({min:Ee,max:se,range:se-Ee,realMin:we,realMax:N,realRange:N-we})}var st=ot.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(st)}return this._chart.getChartStore().getTooltipStore().setCrosshair({x:ot.x,y:ot.y,paneId:$==null?void 0:$.getId()}),ae;case pn:if(ae=Q.dispatchEvent("pressedMouseMoveEvent",ot))this._chart.updatePane(1);else{var dt=$==null?void 0:$.getAxisComponent();if((O=dt==null?void 0:dt.getScrollZoomEnabled())===null||O===void 0||O){var Lt=10*((ht=this._xAxisStartScaleDistance/ot.pageX)-this._xAxisScale);this._xAxisScale=ht,this._chart.getChartStore().getTimeScaleStore().zoom(Lt,(R=this._xAxisStartScaleCoordinate)!==null&&R!==void 0?R:void 0)}}return ae;case Xr:var ae;if(ae=Q.dispatchEvent("pressedMouseMoveEvent",ot))this._chart.updatePane(1);else if(Ft=$==null?void 0:$.getAxisComponent(),this._prevYAxisExtremum!==null&&Ft.getScrollZoomEnabled()){var G,ht,kt,Nt=this._prevYAxisExtremum,he=(G=Nt.range)*(ht=ot.pageY/this._yAxisStartScaleDistance),Ee=(ne=Nt.min)-(kt=(he-G)/2),Ge=(se=Nt.max+kt,$==null?void 0:$.getAxisComponent());we=Ge.convertToRealValue(Ee),N=Ge.convertToRealValue(se),Ge.setExtremum({min:Ee,max:se,range:he,realMin:we,realMax:N,realRange:N-we}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}return ae}}return!1},P.prototype.mouseUpEvent=function(b){var S=this._findWidgetByEvent(b).widget,E=!1;if(S!==null){var A=this._makeWidgetEvent(b,S);switch(S.getName()){case dn:case hn:case pn:case Xr:E=S.dispatchEvent("mouseUpEvent",A)}E&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,E},P.prototype.mouseClickEvent=function(b){var S=this._findWidgetByEvent(b).widget;if(S!==null){var E=this._makeWidgetEvent(b,S);return S.dispatchEvent("mouseClickEvent",E)}return!1},P.prototype.mouseRightClickEvent=function(b){var S=this._findWidgetByEvent(b).widget,E=!1;if(S!==null){var A=this._makeWidgetEvent(b,S);switch(S.getName()){case dn:case pn:case Xr:E=S.dispatchEvent("mouseRightClickEvent",A)}E&&this._chart.updatePane(1)}return!1},P.prototype.mouseDoubleClickEvent=function(b){var S=this._findWidgetByEvent(b),E=S.pane,A=S.widget;if(A!==null)switch(A.getName()){case dn:var O=this._makeWidgetEvent(b,A);return A.dispatchEvent("mouseDoubleClickEvent",O);case Xr:var R=E==null?void 0:E.getAxisComponent();if(!R.getAutoCalcTickFlag())return R.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0}return!1},P.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getTooltipStore().setCrosshair(),!0},P.prototype.touchStartEvent=function(b){var S=this._findWidgetByEvent(b),E=S.pane,A=S.widget;if(A!==null){var O=this._makeWidgetEvent(b,A);switch(A.getName()){case dn:var R=this._chart.getChartStore(),V=R.getTooltipStore();if(A.dispatchEvent("mouseDownEvent",O))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,V.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._flingScrollRequestId!==null&&(wr(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:O.x,y:O.y},R.getTimeScaleStore().startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var $=O.x-this._touchCoordinate.x,Q=O.y-this._touchCoordinate.y;10>Math.sqrt($*$+Q*Q)?(this._touchCoordinate={x:O.x,y:O.y},V.setCrosshair({x:O.x,y:O.y,paneId:E==null?void 0:E.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,V.setCrosshair())}return!0;case pn:case Xr:var ot=A.dispatchEvent("mouseDownEvent",O);return ot&&this._chart.updatePane(1),ot}}return!1},P.prototype.touchMoveEvent=function(b){var S,E,A,O=this._findWidgetByEvent(b),R=O.pane,V=O.widget;if(V!==null){var $=this._makeWidgetEvent(b,V),Q=V.getName(),ot=this._chart.getChartStore(),xt=ot.getTooltipStore();switch(Q){case dn:if(V.dispatchEvent("pressedMouseMoveEvent",$))return(S=$.preventDefault)===null||S===void 0||S.call($),xt.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(E=$.preventDefault)===null||E===void 0||E.call($),xt.setCrosshair({x:$.x,y:$.y,paneId:R==null?void 0:R.getId()});else if(this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-$.x)>this._startScrollCoordinate.y-$.y){var Ft=$.x-this._startScrollCoordinate.x;ot.getTimeScaleStore().scroll(Ft)}return!0;case pn:case Xr:var zt=V.dispatchEvent("pressedMouseMoveEvent",$);return zt&&((A=$.preventDefault)===null||A===void 0||A.call($),this._chart.updatePane(1)),zt}}return!1},P.prototype.touchEndEvent=function(b){var S=this,E=this._findWidgetByEvent(b).widget;if(E!==null){var A=this._makeWidgetEvent(b,E);switch(E.getName()){case dn:if(E.dispatchEvent("mouseUpEvent",A),this._startScrollCoordinate!==null){var O=new Date().getTime()-this._flingStartTime,R=(A.x-this._startScrollCoordinate.x)/(O>0?O:1)*20;if(200>O&&Math.abs(R)>0){var V=this._chart.getChartStore().getTimeScaleStore(),$=function(){S._flingScrollRequestId=Zi(function(){V.startScroll(),V.scroll(R),1>Math.abs(R*=.975)?S._flingScrollRequestId!==null&&(wr(S._flingScrollRequestId),S._flingScrollRequestId=null):$()})};$()}}return!0;case pn:case Xr:E.dispatchEvent("mouseUpEvent",A)&&this._chart.updatePane(1)}}return!1},P.prototype.tapEvent=function(b){var S=this._findWidgetByEvent(b),E=S.pane,A=S.widget,O=!1;if(A!==null){var R=this._makeWidgetEvent(b,A),V=A.dispatchEvent("mouseClickEvent",R);if(A.getName()===dn){var $=this._makeWidgetEvent(b,A),Q=this._chart.getChartStore().getTooltipStore();V?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,Q.setCrosshair(void 0,!0),O=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:$.x,y:$.y},Q.setCrosshair({x:$.x,y:$.y,paneId:E==null?void 0:E.getId()},!0),O=!0),this._touchCancelCrosshair=!1)}(O||V)&&this._chart.updatePane(1)}return O},P.prototype.doubleTapEvent=function(b){return this.mouseDoubleClickEvent(b)},P.prototype.longTapEvent=function(b){var S=this._findWidgetByEvent(b),E=S.pane,A=S.widget;if(A!==null&&A.getName()===dn){var O=this._makeWidgetEvent(b,A);return this._touchCoordinate={x:O.x,y:O.y},this._chart.getChartStore().getTooltipStore().setCrosshair({x:O.x,y:O.y,paneId:E==null?void 0:E.getId()}),!0}return!1},P.prototype._findWidgetByEvent=function(b){var S,E,A=this._chart.getAllPanes(),O=b.x,R=b.y,V=null;try{for(var $=et(A),Q=$.next();!Q.done;Q=$.next()){var ot=vt(Q.value,2)[1],xt=ot.getBounding();if(!(xt.left>O||O>xt.left+xt.width||xt.top>R||R>xt.top+xt.height)){V=ot;break}}}catch(dt){S={error:dt}}finally{try{Q&&!Q.done&&(E=$.return)&&E.call($)}finally{if(S)throw S.error}}V===null&&(V=this._chart.getPaneById(jr));var Ft=null;if(V!==null){var zt=V.getSeparatorWidget();if(zt!==null){var ne=zt.getBounding();ne.left>O||O>ne.left+ne.width||ne.top>R||R>ne.top+7||(Ft=zt)}if(Ft===null){var se=V.getMainWidget(),we=se.getBounding();we.left>O||O>we.left+we.width||we.top>R||R>we.top+we.height||(Ft=se)}if(Ft===null){var N=V.getYAxisWidget();if(N!==null){var st=N.getBounding();st.left>O||O>st.left+st.width||st.top>R||R>st.top+st.height||(Ft=N)}}}return{pane:V,widget:Ft}},P.prototype._makeWidgetEvent=function(b,S){var E,A,O,R=(E=S==null?void 0:S.getBounding())!==null&&E!==void 0?E:null;return Ot(Ot({},b),{x:b.x-((A=R==null?void 0:R.left)!==null&&A!==void 0?A:0),y:b.y-((O=R==null?void 0:R.top)!==null&&O!==void 0?O:0)})},P.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},P}();H.DomPosition=void 0,(sn=H.DomPosition||(H.DomPosition={})).Root="root",sn.Main="main",sn.YAxis="yAxis";var Bi=function(){function P(b,S){this._panes=new Map,this._initContainer(b),this._chartEvent=new ba(this._chartContainer,this),this._chartStore=new ra(this,S),this._xAxisPane=new Ya(this._chartContainer,this,jr),this._panes.set(Yr,new ia(this._chartContainer,this,Yr)),this.adjustPaneViewport(!0,!0,!0)}return P.prototype._initContainer=function(b){this._container=b,this._chartContainer=It("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,b.appendChild(this._chartContainer)},P.prototype._measurePaneHeight=function(){var b,S=this._container.offsetHeight,E=this._xAxisPane.getAxisComponent().getAutoSize(),A=S-E;0>A&&(A=0);var O=0;this._panes.forEach(function($){if($.getId()!==Yr){var Q=$.getBounding().height,ot=$.getOptions().minHeight;ot>Q&&(Q=ot),O+Q>A?Q=Math.max(A-(O=A),0):O+=Q,$.setBounding({height:Q})}});var R=A-O;(b=this._panes.get(Yr))===null||b===void 0||b.setBounding({height:R});var V=0;this._panes.forEach(function($){$.setBounding({top:V}),V+=$.getBounding().height}),this._xAxisPane.setBounding({height:E,top:V})},P.prototype._measurePaneWidth=function(){var b=this._chartStore.getStyles().yAxis,S=b.position===H.YAxisPosition.Left,E=!b.inside,A=this._container.offsetWidth,O=0,R=Number.MIN_SAFE_INTEGER,V=0,$=0;this._panes.forEach(function(Ft){R=Math.max(R,Ft.getAxisComponent().getAutoSize())}),R>A&&(R=A),E?(O=A-R,S?(V=0,$=R):(V=A-R,$=0)):(O=A,$=0,V=S?0:A-R),this._chartStore.getTimeScaleStore().setTotalBarSpace(O);var Q={width:A},ot={width:O,left:$},xt={width:R,left:V};this._panes.forEach(function(Ft){Ft.setBounding(Q,ot,xt)}),this._xAxisPane.setBounding(Q,ot,xt)},P.prototype._setPaneOptions=function(b,S){var E,A,O=this._panes.get((E=b==null?void 0:b.id)!==null&&E!==void 0?E:""),R=!1;if(O!==void 0){var V=S;if(b.id!==Yr&&b.height!==void 0&&b.height>0){var $=Math.max((A=b.minHeight)!==null&&A!==void 0?A:O.getOptions().minHeight,0);O.setBounding({height:Math.max($,b.height)}),V=!0,R=!0}O.setOptions(b),V&&this.adjustPaneViewport(R,!0,!0,!0,!0)}},P.prototype.getContainer=function(){return this._container},P.prototype.getChartStore=function(){return this._chartStore},P.prototype.getAllPanes=function(){return this._panes},P.prototype.adjustPaneViewport=function(b,S,E,A,O){b&&this._measurePaneHeight();var R=S,V=O!=null&&O;(A!=null&&A||V)&&this._panes.forEach(function($){var Q=$.getAxisComponent().buildTicks(V);R||(R=Q)}),R&&this._measurePaneWidth(),E!=null&&E&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},P.prototype.updatePane=function(b,S){var E;S!==void 0?(E=this.getPaneById(S))===null||E===void 0||E.update(b):(this._xAxisPane.update(b),this._panes.forEach(function(A){A.update(b)}))},P.prototype.getPaneById=function(b){var S;return b===jr?this._xAxisPane:(S=this._panes.get(b))!==null&&S!==void 0?S:null},P.prototype.crosshairChange=function(b){var S=this,E=this._chartStore.getActionStore();if(E.has(H.ActionType.OnCrosshairChange)){var A={};this._panes.forEach(function(O,R){var V={};S._chartStore.getIndicatorStore().getInstances(R).forEach(function($){var Q,ot=$.result;V[$.name]=ot[(Q=b.dataIndex)!==null&&Q!==void 0?Q:ot.length-1]}),A[R]=V}),b.paneId!==void 0&&E.execute(H.ActionType.OnCrosshairChange,Ot(Ot({},b),{indicatorData:A}))}},P.prototype.getDom=function(b,S){var E,A;if(b===void 0)return this._chartContainer;var O=this.getPaneById(b);if(O!==null)switch(S!=null?S:H.DomPosition.Root){case H.DomPosition.Root:return O.getContainer();case H.DomPosition.Main:return O.getMainWidget().getContainer();case H.DomPosition.YAxis:return(A=(E=O.getYAxisWidget())===null||E===void 0?void 0:E.getContainer())!==null&&A!==void 0?A:null}return null},P.prototype.getSize=function(b,S){var E,A;if(b===void 0)return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};var O=this.getPaneById(b);if(O!==null)switch(S!=null?S:H.DomPosition.Root){case H.DomPosition.Root:return O.getBounding();case H.DomPosition.Main:return O.getMainWidget().getBounding();case H.DomPosition.YAxis:return(A=(E=O.getYAxisWidget())===null||E===void 0?void 0:E.getBounding())!==null&&A!==void 0?A:null}return null},P.prototype.setStyles=function(b){var S,E,A;this._chartStore.setOptions({styles:b}),((S=(A=ce(b)?ea(b):b)==null?void 0:A.yAxis)===null||S===void 0?void 0:S.type)!==void 0&&((E=this.getPaneById(Yr))===null||E===void 0||E.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)},P.prototype.getStyles=function(){return this._chartStore.getStyles()},P.prototype.setLocale=function(b){this._chartStore.setOptions({locale:b}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},P.prototype.getLocale=function(){return this._chartStore.getLocale()},P.prototype.setCustomApi=function(b){this._chartStore.setOptions({customApi:b}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},P.prototype.setPriceVolumePrecision=function(b,S){this._chartStore.setPrecision({price:b,volume:S})},P.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},P.prototype.setTimezone=function(b){this._chartStore.setOptions({timezone:b}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},P.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},P.prototype.setOffsetRightDistance=function(b){this._chartStore.getTimeScaleStore().setOffsetRightDistance(b,!0)},P.prototype.getOffsetRightDistance=function(){return this._chartStore.getTimeScaleStore().getOffsetRightDistance()},P.prototype.setLeftMinVisibleBarCount=function(b){b>0&&this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(b))},P.prototype.setRightMinVisibleBarCount=function(b){b>0&&this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(b))},P.prototype.setBarSpace=function(b){this._chartStore.getTimeScaleStore().setBarSpace(b)},P.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},P.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},P.prototype.clearData=function(){this._chartStore.clear()},P.prototype.getDataList=function(){return this._chartStore.getDataList()},P.prototype.applyNewData=function(b,S,E){this._chartStore.clear(),b.length===0?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(b,S,E)},P.prototype.applyMoreData=function(b,S,E){var A=this;this._chartStore.addData(b,0,S),b.length>0&&this._chartStore.getIndicatorStore().calcInstance().then(function(O){A.adjustPaneViewport(!1,!0,!0,!0),E==null||E()}).catch(function(O){})},P.prototype.updateData=function(b,S){var E=this,A=this._chartStore.getDataList(),O=A.length,R=b.timestamp,V=Z(A[O-1],"timestamp",0);if(R>=V){var $=O;R===V&&($=O-1),this._chartStore.addData(b,$),this._chartStore.getIndicatorStore().calcInstance().then(function(Q){E.adjustPaneViewport(!1,!0,!0,!0),S==null||S()}).catch(function(Q){})}},P.prototype.loadMore=function(b){this._chartStore.getTimeScaleStore().setLoadMoreCallback(b)},P.prototype.createIndicator=function(b,S,E,A){var O,R,V,$=this,Q=ce(b)?{name:b}:b;if(_e(Q.name)===null)return null;if(jt(E)&&ce(E==null?void 0:E.id)&&this._panes.has(E.id))V=E.id,this._chartStore.getIndicatorStore().addInstance(Q,V,S!=null&&S).then(function(zt){var ne,se;$._setPaneOptions(E,(se=(ne=$._panes.get(V))===null||ne===void 0?void 0:ne.getAxisComponent().buildTicks(!0))!==null&&se!==void 0&&se)}).catch(function(zt){});else{V=(O=E==null?void 0:E.id)!==null&&O!==void 0?O:Tt($n);var ot=Array.from(this._panes.values()).pop(),xt=new na(this._chartContainer,this,V,ot);ot.setBottomPane(xt);var Ft=(R=E==null?void 0:E.height)!==null&&R!==void 0?R:100;xt.setBounding({height:Ft}),jt(E)&&xt.setOptions(E),this._panes.set(V,xt),this._chartStore.getIndicatorStore().addInstance(Q,V,S!=null&&S).finally(function(){$.adjustPaneViewport(!0,!0,!0,!0,!0),A==null||A()})}return V},P.prototype.overrideIndicator=function(b,S,E){var A=this;this._chartStore.getIndicatorStore().override(b,S!=null?S:null).then(function(O){var R=vt(O,2),V=R[1];(R[0]||V)&&(A.adjustPaneViewport(!1,V,!0,V),E==null||E())}).catch(function(){})},P.prototype.getIndicatorByPaneId=function(b,S){return this._chartStore.getIndicatorStore().getInstanceByPaneId(b,S)},P.prototype.removeIndicator=function(b,S){var E=this._chartStore.getIndicatorStore();if(E.removeInstance(b,S)){var A=!1;if(b!==Yr&&!E.hasInstances(b)){var O=this._panes.get(b);if(O!==void 0){A=!0;var R=O.getTopPane(),V=O.getBottomPane();V==null||V.setTopPane(R),R==null||R.setBottomPane(V),O==null||O.destroy(),this._panes.delete(b)}}this.adjustPaneViewport(A,!0,!0,!0,!0)}},P.prototype.createOverlay=function(b,S){var E=[];ce(b)?E=[{name:b}]:q(b)?E=b.map(function(R){return ce(R)?{name:R}:R}):E=[b];var A=!0;S!==void 0&&this.getPaneById(S)!==null||(S=Yr,A=!1);var O=this._chartStore.getOverlayStore().addInstances(E,S,A);return q(b)?O:O[0]},P.prototype.getOverlayById=function(b){return this._chartStore.getOverlayStore().getInstanceById(b)},P.prototype.overrideOverlay=function(b){this._chartStore.getOverlayStore().override(b)},P.prototype.removeOverlay=function(b){var S;b!==void 0&&(S=ce(b)?{id:b}:b),this._chartStore.getOverlayStore().removeInstance(S)},P.prototype.setPaneOptions=function(b){this._setPaneOptions(b,!1)},P.prototype.setZoomEnabled=function(b){this._chartStore.getTimeScaleStore().setZoomEnabled(b)},P.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},P.prototype.setScrollEnabled=function(b){this._chartStore.getTimeScaleStore().setScrollEnabled(b)},P.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},P.prototype.scrollByDistance=function(b,S){var E=S===void 0||0>S?0:S,A=this._chartStore.getTimeScaleStore();if(E>0){A.startScroll();var O=new Date().getTime(),R=function(){var V=(new Date().getTime()-O)/E,$=V>=1;A.scroll($?b:b*V),$||requestAnimationFrame(R)};R()}else A.startScroll(),A.scroll(b)},P.prototype.scrollToRealTime=function(b){var S=this._chartStore.getTimeScaleStore(),E=S.getBarSpace().bar,A=S.getOffsetRightBarCount()-S.getInitialOffsetRightDistance()/E;this.scrollByDistance(A*E,b)},P.prototype.scrollToDataIndex=function(b,S){var E=this._chartStore.getTimeScaleStore(),A=(E.getOffsetRightBarCount()+(this.getDataList().length-1-b))*E.getBarSpace().bar;this.scrollByDistance(A,S)},P.prototype.scrollToTimestamp=function(b,S){var E=at(this.getDataList(),"timestamp",b);this.scrollToDataIndex(E,S)},P.prototype.zoomAtCoordinate=function(b,S,E){var A=E===void 0||0>E?0:E,O=this._chartStore.getTimeScaleStore();if(A>0){var R=O.getBarSpace().bar,V=R*b-R,$=new Date().getTime(),Q=function(){var ot=(new Date().getTime()-$)/A,xt=ot>=1;O.zoom((xt?V:V*ot)/R,S),xt||requestAnimationFrame(Q)};Q()}else O.zoom(b,S)},P.prototype.zoomAtDataIndex=function(b,S,E){var A=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(S);this.zoomAtCoordinate(b,{x:A,y:0},E)},P.prototype.zoomAtTimestamp=function(b,S,E){var A=at(this.getDataList(),"timestamp",S);this.zoomAtDataIndex(b,A,E)},P.prototype.convertToPixel=function(b,S){var E,A=S.paneId,O=A===void 0?Yr:A,R=S.absolute,V=R!==void 0&&R,$=[];if(O!==jr){var Q=this.getPaneById(O);if(Q!==null){var ot=this._chartStore.getTimeScaleStore(),xt=Q.getBounding(),Ft=[].concat(b),zt=this._xAxisPane.getAxisComponent(),ne=Q.getAxisComponent();$=Ft.map(function(se){var we={},N=se.dataIndex;if(se.timestamp!==void 0&&(N=ot.timestampToDataIndex(se.timestamp)),N!==void 0&&(we.x=zt==null?void 0:zt.convertToPixel(N)),se.value!==void 0){var st=ne==null?void 0:ne.convertToPixel(se.value);we.y=V?xt.top+st:st}return we})}}return q(b)?$:(E=$[0])!==null&&E!==void 0?E:{}},P.prototype.convertFromPixel=function(b,S){var E,A=S.paneId,O=A===void 0?Yr:A,R=S.absolute,V=R!==void 0&&R,$=[];if(O!==jr){var Q=this.getPaneById(O);if(Q!==null){var ot=this._chartStore.getTimeScaleStore(),xt=Q.getBounding(),Ft=[].concat(b),zt=this._xAxisPane.getAxisComponent(),ne=Q.getAxisComponent();$=Ft.map(function(se){var we,N={};if(se.x!==void 0){var st=zt.convertFromPixel(se.x);N.dataIndex=st,N.timestamp=(we=ot.dataIndexToTimestamp(st))!==null&&we!==void 0?we:void 0}return se.y!==void 0&&(N.value=ne.convertFromPixel(V?se.y-xt.top:se.y)),N})}}return q(b)?$:(E=$[0])!==null&&E!==void 0?E:{}},P.prototype.executeAction=function(b,S){var E;if(b===H.ActionType.OnCrosshairChange){var A=Ot({},S);A.paneId=(E=A.paneId)!==null&&E!==void 0?E:Yr,this._chartStore.getTooltipStore().setCrosshair(A)}},P.prototype.subscribeAction=function(b,S){this._chartStore.getActionStore().subscribe(b,S)},P.prototype.unsubscribeAction=function(b,S){this._chartStore.getActionStore().unsubscribe(b,S)},P.prototype.getConvertPictureUrl=function(b,S,E){var A=this._chartContainer.offsetWidth,O=this._chartContainer.offsetHeight,R=It("canvas",{width:"".concat(A,"px"),height:"".concat(O,"px"),boxSizing:"border-box"}),V=R.getContext("2d"),$=ft(R);R.width=A*$,R.height=O*$,V.scale($,$),V.fillStyle=E!=null?E:"#FFFFFF",V.fillRect(0,0,A,O);var Q=b!=null&&b;this._panes.forEach(function(xt){var Ft=xt.getBounding();V.drawImage(xt.getImage(Q),0,Ft.top,A,Ft.height)});var ot=this._xAxisPane.getBounding();return V.drawImage(this._xAxisPane.getImage(Q),0,ot.top,A,ot.height),R.toDataURL("image/".concat(S!=null?S:"jpeg"))},P.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},P.prototype.destroy=function(){this._chartEvent.destroy(),this._panes.forEach(function(b){b.destroy()}),this._panes.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer)},P}(),Rn=new Map,us=1,uo={clone:St,merge:Pt,isString:ce,isNumber:le,isValid:jt,isObject:re,isArray:q,isFunction:j,isBoolean:fe,formatValue:Z,formatPrecision:ct,formatBigNumber:ue,formatDate:wt,formatThousands:ve,calcTextWidth:ee,getLinearSlopeIntercept:gr,getLinearYFromSlopeIntercept:fr,getLinearYFromCoordinates:cr,checkCoordinateOnArc:Er,checkCoordinateOnCircle:mi,checkCoordinateOnLine:ur,checkCoordinateOnPolygon:Gn,checkCoordinateOnRect:qt,checkCoordinateOnText:Oe,drawArc:nn,drawCircle:xi,drawLine:Tr,drawPolygon:Bn,drawRect:mt,drawText:tr,drawRectText:ir};H.dispose=function(P){var b,S,E;if(P instanceof Bi)E=P.id;else{var A=void 0;E=(b=(A=ce(P)?document.getElementById(P):P)==null?void 0:A.getAttribute("k-line-chart-id"))!==null&&b!==void 0?b:null}E!==null&&((S=Rn.get(E))===null||S===void 0||S.destroy(),Rn.delete(E))},H.getFigureClass=function(P){var b;return(b=on[P])!==null&&b!==void 0?b:null},H.getOverlayClass=function(P){var b;return(b=Tn[P])!==null&&b!==void 0?b:null},H.getSupportedFigures=function(){return Object.keys(on)},H.getSupportedIndicators=function(){return Object.keys($t)},H.getSupportedLocales=function(){return Object.keys(ya)},H.getSupportedOverlays=function(){return Object.keys(Tn)},H.init=function(P,b){var S;if((S=ce(P)?document.getElementById(P):P)===null)return null;var E=Rn.get(S.id);if(E!==void 0)return E;var A="k_line_chart_".concat(us++);return(E=new Bi(S,b)).id=A,S.setAttribute("k-line-chart-id",A),Rn.set(A,E),E},H.registerFigure=function(P){on[P.name]=qe.extend(P)},H.registerIndicator=function(P){$t[P.name]=He.extend(P)},H.registerLocale=function(P,b){ya[P]=Ot(Ot({},ya[P]),b)},H.registerOverlay=function(P){Tn[P.name]=Ze.extend(P)},H.registerStyles=function(P,b){Xi[P]=b},H.utils=uo,H.version=function(){return"9.5.4"}})},30821:function(sr,Ue,H){"use strict";sr.exports=H(96270)},73807:function(sr){"use strict";var Ue=sr.exports;sr.exports.isNumber=function(H){return typeof H=="number"},sr.exports.findMin=function(H){if(H.length===0)return 1/0;for(var Pt=H[0],St=1;St<H.length;St++)Pt=Math.min(Pt,H[St]);return Pt},sr.exports.findMax=function(H){if(H.length===0)return-1/0;for(var Pt=H[0],St=1;St<H.length;St++)Pt=Math.max(Pt,H[St]);return Pt},sr.exports.findMinMulti=function(H){for(var Pt=Ue.findMin(H[0]),St=1;St<H.length;St++)Pt=Math.min(Pt,Ue.findMin(H[St]));return Pt},sr.exports.findMaxMulti=function(H){for(var Pt=Ue.findMax(H[0]),St=1;St<H.length;St++)Pt=Math.max(Pt,Ue.findMax(H[St]));return Pt},sr.exports.inside=function(H,Pt,St){return H<=St&&St<=Pt}},53843:function(sr,Ue,H){"use strict";var Pt=50,St=2,q=Math.log(2),j=sr.exports,re=H(73807);function le(fe){return 1-Math.abs(fe)}sr.exports.getUnifiedMinMax=function(fe,ce){return j.getUnifiedMinMaxMulti([fe],ce)},sr.exports.getUnifiedMinMaxMulti=function(fe,ce){ce=ce||{};var Pe=!1,de=!1,Te=re.isNumber(ce.width)?ce.width:St,I=re.isNumber(ce.size)?ce.size:Pt,m=re.isNumber(ce.min)?ce.min:(Pe=!0,re.findMinMulti(fe)),Bt=re.isNumber(ce.max)?ce.max:(de=!0,re.findMaxMulti(fe)),Et=Bt-m,Vt=Et/(I-1);return Pe&&(m=m-2*Te*Vt),de&&(Bt=Bt+2*Te*Vt),{min:m,max:Bt}},sr.exports.create=function(fe,ce){if(ce=ce||{},!fe||fe.length===0)return[];var Pe=re.isNumber(ce.size)?ce.size:Pt,de=re.isNumber(ce.width)?ce.width:St,Te=j.getUnifiedMinMax(fe,{size:Pe,width:de,min:ce.min,max:ce.max}),I=Te.min,m=Te.max,Bt=m-I,Et=Bt/(Pe-1);if(Bt===0)return[{x:I,y:1}];for(var Vt=[],Rt=0;Rt<Pe;Rt++)Vt.push({x:I+Rt*Et,y:0});var Ct=function(Ht){return Math.floor((Ht-I)/Et)},lt=jt(le,de),J=lt[de],Z=lt[de-1]-lt[de-2],wt=0;fe.forEach(function(Ht){var Qt=Ct(Ht);if(!(Qt+de<0||Qt-de>=Vt.length)){var ge=Math.max(Qt-de,0),Ot=Qt,oe=Math.min(Qt+de,Vt.length-1),ie=ge-(Qt-de),et=Qt+de-oe,vt=lt[-de-1+ie]||0,me=lt[-de-1+et]||0,Ae=J/(J-vt-me);ie>0&&(wt+=Ae*(ie-1)*Z);var ye=Math.max(0,Qt-de+1);re.inside(0,Vt.length-1,ye)&&(Vt[ye].y+=Ae*1*Z),re.inside(0,Vt.length-1,Ot+1)&&(Vt[Ot+1].y-=Ae*2*Z),re.inside(0,Vt.length-1,oe+1)&&(Vt[oe+1].y+=Ae*1*Z)}});var ct=wt,ue=0,ve=0;return Vt.forEach(function(Ht){ue+=Ht.y,ct+=ue,Ht.y=ct,ve+=ct}),ve>0&&Vt.forEach(function(Ht){Ht.y/=ve}),Vt};function jt(fe,ce){for(var Pe={},de=0,Te=-ce;Te<=ce;Te++)de+=fe(Te/ce),Pe[Te]=de;return Pe}sr.exports.getExpectedValueFromPdf=function(fe){if(!(!fe||fe.length===0)){var ce=0;return fe.forEach(function(Pe){ce+=Pe.x*Pe.y}),ce}},sr.exports.getXWithLeftTailArea=function(fe,ce){if(!(!fe||fe.length===0)){for(var Pe=0,de=0,Te=0;Te<fe.length&&(de=Te,Pe+=fe[Te].y,!(Pe>=ce));Te++);return fe[de].x}},sr.exports.getPerplexity=function(fe){if(!(!fe||fe.length===0)){var ce=0;return fe.forEach(function(Pe){var de=Math.log(Pe.y);isFinite(de)&&(ce+=Pe.y*de)}),ce=-ce/q,Math.pow(2,ce)}}},55168:function(sr,Ue){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.SizeSensorId=Ue.SensorTabIndex=Ue.SensorClassName=void 0;var H="size-sensor-id";Ue.SizeSensorId=H;var Pt="size-sensor-object";Ue.SensorClassName=Pt;var St="-1";Ue.SensorTabIndex=St},12177:function(sr,Ue){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var H=function(St){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,j=null;return function(){for(var re=this,le=arguments.length,jt=new Array(le),fe=0;fe<le;fe++)jt[fe]=arguments[fe];clearTimeout(j),j=setTimeout(function(){St.apply(re,jt)},q)}};Ue.default=H},15378:function(sr,Ue){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var H=1,Pt=function(){return"".concat(H++)};Ue.default=Pt},18587:function(sr,Ue,H){"use strict";var Pt;Pt={value:!0},Pt=Pt=Ue.ak=void 0;var St=H(12955),q=function(jt,fe){var ce=(0,St.getSensor)(jt);return ce.bind(fe),function(){ce.unbind(fe)}};Ue.ak=q;var j=function(jt){var fe=(0,St.getSensor)(jt);(0,St.removeSensor)(fe)};Pt=j;var re="1.0.2";Pt=re},12955:function(sr,Ue,H){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.removeSensor=Ue.getSensor=Ue.Sensors=void 0;var Pt=j(H(15378)),St=H(82578),q=H(55168);function j(ce){return ce&&ce.__esModule?ce:{default:ce}}var re={};Ue.Sensors=re;function le(ce){ce&&re[ce]&&delete re[ce]}var jt=function(Pe){var de=Pe.getAttribute(q.SizeSensorId);if(de&&re[de])return re[de];var Te=(0,Pt.default)();Pe.setAttribute(q.SizeSensorId,Te);var I=(0,St.createSensor)(Pe,function(){return le(Te)});return re[Te]=I,I};Ue.getSensor=jt;var fe=function(Pe){var de=Pe.element.getAttribute(q.SizeSensorId);Pe.destroy(),le(de)};Ue.removeSensor=fe},82578:function(sr,Ue,H){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.createSensor=void 0;var Pt=H(27643),St=H(31743),q=typeof ResizeObserver!="undefined"?St.createSensor:Pt.createSensor;Ue.createSensor=q},27643:function(sr,Ue,H){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.createSensor=void 0;var Pt=q(H(12177)),St=H(55168);function q(re){return re&&re.__esModule?re:{default:re}}var j=function(le,jt){var fe=void 0,ce=[],Pe=function(){getComputedStyle(le).position==="static"&&(le.style.position="relative");var Et=document.createElement("object");return Et.onload=function(){Et.contentDocument.defaultView.addEventListener("resize",de),de()},Et.style.display="block",Et.style.position="absolute",Et.style.top="0",Et.style.left="0",Et.style.height="100%",Et.style.width="100%",Et.style.overflow="hidden",Et.style.pointerEvents="none",Et.style.zIndex="-1",Et.style.opacity="0",Et.setAttribute("class",St.SensorClassName),Et.setAttribute("tabindex",St.SensorTabIndex),Et.type="text/html",le.appendChild(Et),Et.data="about:blank",Et},de=(0,Pt.default)(function(){ce.forEach(function(Bt){Bt(le)})}),Te=function(Et){fe||(fe=Pe()),ce.indexOf(Et)===-1&&ce.push(Et)},I=function(){fe&&fe.parentNode&&(fe.contentDocument&&fe.contentDocument.defaultView.removeEventListener("resize",de),fe.parentNode.removeChild(fe),le.removeAttribute(St.SizeSensorId),fe=void 0,ce=[],jt&&jt())},m=function(Et){var Vt=ce.indexOf(Et);Vt!==-1&&ce.splice(Vt,1),ce.length===0&&fe&&I()};return{element:le,bind:Te,destroy:I,unbind:m}};Ue.createSensor=j},31743:function(sr,Ue,H){"use strict";Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.createSensor=void 0;var Pt=H(55168),St=q(H(12177));function q(re){return re&&re.__esModule?re:{default:re}}var j=function(le,jt){var fe=void 0,ce=[],Pe=(0,St.default)(function(){ce.forEach(function(Bt){Bt(le)})}),de=function(){var Et=new ResizeObserver(Pe);return Et.observe(le),Pe(),Et},Te=function(Et){fe||(fe=de()),ce.indexOf(Et)===-1&&ce.push(Et)},I=function(){fe.disconnect(),ce=[],fe=void 0,le.removeAttribute(Pt.SizeSensorId),jt&&jt()},m=function(Et){var Vt=ce.indexOf(Et);Vt!==-1&&ce.splice(Vt,1),ce.length===0&&fe&&I()};return{element:le,bind:Te,destroy:I,unbind:m}};Ue.createSensor=j},96695:function(sr,Ue,H){var Pt=H(96263);function St(q,j){var re=typeof Symbol!="undefined"&&q[Symbol.iterator]||q["@@iterator"];if(!re){if(Array.isArray(q)||(re=Pt(q))||j&&q&&typeof q.length=="number"){re&&(q=re);var le=0,jt=function(){};return{s:jt,n:function(){return le>=q.length?{done:!0}:{done:!1,value:q[le++]}},e:function(Te){throw Te},f:jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe=!0,ce=!1,Pe;return{s:function(){re=re.call(q)},n:function(){var Te=re.next();return fe=Te.done,Te},e:function(Te){ce=!0,Pe=Te},f:function(){try{!fe&&re.return!=null&&re.return()}finally{if(ce)throw Pe}}}}sr.exports=St,sr.exports.__esModule=!0,sr.exports.default=sr.exports},46069:function(sr,Ue,H){"use strict";H.d(Ue,{fC:function(){return Z}});var Pt=H(87462),St=H(67294),q=H(28771),j=H(25360),re=H(36206),le=H(77342),jt=H(57898),fe=H(7546),ce=H(29115),Pe=H(75320);const de="Checkbox",[Te,I]=(0,j.b)(de),[m,Bt]=Te(de),Et=(0,St.forwardRef)((ct,ue)=>{const Jt=ct,{__scopeCheckbox:ve,name:Ht,checked:Qt,defaultChecked:ge,required:Ot,disabled:oe,value:ie="on",onCheckedChange:et}=Jt,vt=Js(Jt,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange"]),[me,Ae]=(0,St.useState)(null),ye=(0,q.e)(ue,ee=>Ae(ee)),be=(0,St.useRef)(!1),ut=me?!!me.closest("form"):!0,[Tt=!1,It]=(0,le.T)({prop:Qt,defaultProp:ge,onChange:et}),ft=(0,St.useRef)(Tt);return(0,St.useEffect)(()=>{const ee=me==null?void 0:me.form;if(ee){const at=()=>It(ft.current);return ee.addEventListener("reset",at),()=>ee.removeEventListener("reset",at)}},[me,It]),(0,St.createElement)(m,{scope:ve,state:Tt,disabled:oe},(0,St.createElement)(Pe.WV.button,(0,Pt.Z)({type:"button",role:"checkbox","aria-checked":lt(Tt)?"mixed":Tt,"aria-required":Ot,"data-state":J(Tt),"data-disabled":oe?"":void 0,disabled:oe,value:ie},vt,{ref:ye,onKeyDown:(0,re.M)(ct.onKeyDown,ee=>{ee.key==="Enter"&&ee.preventDefault()}),onClick:(0,re.M)(ct.onClick,ee=>{It(at=>lt(at)?!0:!at),ut&&(be.current=ee.isPropagationStopped(),be.current||ee.stopPropagation())})})),ut&&(0,St.createElement)(Ct,{control:me,bubbles:!be.current,name:Ht,value:ie,checked:Tt,required:Ot,disabled:oe,style:{transform:"translateX(-100%)"}}))}),Vt="CheckboxIndicator",Rt=(0,St.forwardRef)((ct,ue)=>{const Ot=ct,{__scopeCheckbox:ve,forceMount:Ht}=Ot,Qt=Js(Ot,["__scopeCheckbox","forceMount"]),ge=Bt(Vt,ve);return(0,St.createElement)(ce.z,{present:Ht||lt(ge.state)||ge.state===!0},(0,St.createElement)(Pe.WV.span,(0,Pt.Z)({"data-state":J(ge.state),"data-disabled":ge.disabled?"":void 0},Qt,{ref:ue,style:Jl({pointerEvents:"none"},ct.style)})))}),Ct=ct=>{const ie=ct,{control:ue,checked:ve,bubbles:Ht=!0}=ie,Qt=Js(ie,["control","checked","bubbles"]),ge=(0,St.useRef)(null),Ot=(0,jt.D)(ve),oe=(0,fe.t)(ue);return(0,St.useEffect)(()=>{const et=ge.current,vt=window.HTMLInputElement.prototype,Ae=Object.getOwnPropertyDescriptor(vt,"checked").set;if(Ot!==ve&&Ae){const ye=new Event("click",{bubbles:Ht});et.indeterminate=lt(ve),Ae.call(et,lt(ve)?!1:ve),et.dispatchEvent(ye)}},[Ot,ve,Ht]),(0,St.createElement)("input",(0,Pt.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:lt(ve)?!1:ve},Qt,{tabIndex:-1,ref:ge,style:E0(Jl(Jl({},ct.style),oe),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function lt(ct){return ct==="indeterminate"}function J(ct){return lt(ct)?"indeterminate":ct?"checked":"unchecked"}const Z=Et,wt=null},60761:function(sr,Ue,H){"use strict";H.d(Ue,{bU:function(){return J},fC:function(){return lt}});var Pt=H(87462),St=H(67294),q=H(36206),j=H(28771),re=H(25360),le=H(77342),jt=H(57898),fe=H(7546),ce=H(75320);const Pe="Switch",[de,Te]=(0,re.b)(Pe),[I,m]=de(Pe),Bt=(0,St.forwardRef)((Z,wt)=>{const Tt=Z,{__scopeSwitch:ct,name:ue,checked:ve,defaultChecked:Ht,required:Qt,disabled:ge,value:Ot="on",onCheckedChange:oe}=Tt,ie=Js(Tt,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange"]),[et,vt]=(0,St.useState)(null),me=(0,j.e)(wt,It=>vt(It)),Ae=(0,St.useRef)(!1),ye=et?!!et.closest("form"):!0,[be=!1,ut]=(0,le.T)({prop:ve,defaultProp:Ht,onChange:oe});return(0,St.createElement)(I,{scope:ct,checked:be,disabled:ge},(0,St.createElement)(ce.WV.button,(0,Pt.Z)({type:"button",role:"switch","aria-checked":be,"aria-required":Qt,"data-state":Ct(be),"data-disabled":ge?"":void 0,disabled:ge,value:Ot},ie,{ref:me,onClick:(0,q.M)(Z.onClick,It=>{ut(ft=>!ft),ye&&(Ae.current=It.isPropagationStopped(),Ae.current||It.stopPropagation())})})),ye&&(0,St.createElement)(Rt,{control:et,bubbles:!Ae.current,name:ue,value:Ot,checked:be,required:Qt,disabled:ge,style:{transform:"translateX(-100%)"}}))}),Et="SwitchThumb",Vt=(0,St.forwardRef)((Z,wt)=>{const Ht=Z,{__scopeSwitch:ct}=Ht,ue=Js(Ht,["__scopeSwitch"]),ve=m(Et,ct);return(0,St.createElement)(ce.WV.span,(0,Pt.Z)({"data-state":Ct(ve.checked),"data-disabled":ve.disabled?"":void 0},ue,{ref:wt}))}),Rt=Z=>{const Ot=Z,{control:wt,checked:ct,bubbles:ue=!0}=Ot,ve=Js(Ot,["control","checked","bubbles"]),Ht=(0,St.useRef)(null),Qt=(0,jt.D)(ct),ge=(0,fe.t)(wt);return(0,St.useEffect)(()=>{const oe=Ht.current,ie=window.HTMLInputElement.prototype,vt=Object.getOwnPropertyDescriptor(ie,"checked").set;if(Qt!==ct&&vt){const me=new Event("click",{bubbles:ue});vt.call(oe,ct),oe.dispatchEvent(me)}},[Qt,ct,ue]),(0,St.createElement)("input",(0,Pt.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:ct},ve,{tabIndex:-1,ref:Ht,style:E0(Jl(Jl({},Z.style),ge),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function Ct(Z){return Z?"checked":"unchecked"}const lt=Bt,J=Vt},57898:function(sr,Ue,H){"use strict";H.d(Ue,{D:function(){return St}});var Pt=H(67294);function St(q){const j=(0,Pt.useRef)({value:q,previous:q});return(0,Pt.useMemo)(()=>(j.current.value!==q&&(j.current.previous=j.current.value,j.current.value=q),j.current.previous),[q])}},7546:function(sr,Ue,H){"use strict";H.d(Ue,{t:function(){return q}});var Pt=H(67294),St=H(9981);function q(j){const[re,le]=(0,Pt.useState)(void 0);return(0,St.b)(()=>{if(j){le({width:j.offsetWidth,height:j.offsetHeight});const jt=new ResizeObserver(fe=>{if(!Array.isArray(fe)||!fe.length)return;const ce=fe[0];let Pe,de;if("borderBoxSize"in ce){const Te=ce.borderBoxSize,I=Array.isArray(Te)?Te[0]:Te;Pe=I.inlineSize,de=I.blockSize}else Pe=j.offsetWidth,de=j.offsetHeight;le({width:Pe,height:de})});return jt.observe(j,{box:"border-box"}),()=>jt.unobserve(j)}else le(void 0)},[j]),re}}}]);
}());